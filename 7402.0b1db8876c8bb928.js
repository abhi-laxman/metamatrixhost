"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[7402],{45021:(Ue,ee,f)=>{f.r(ee),f.d(ee,{getRampStops:()=>Ve,getReferenceSizeSymbol:()=>le,realWorldMaxSize:()=>N,realWorldMinSize:()=>H});var I,r,C=f(10467),ne=f(68677),h=f(91515),ue=(f(5922),f(77806));function F(r){return"CIMVectorMarker"===r?.type?r.markerGraphics?.[0]:void 0}function te(r){return"CIMPolygonSymbol"===r?.symbol?.type?r.symbol.symbolLayers?.[0]:void 0}function ye(r,l){"CIMVectorMarker"===r?.type&&null!=l&&(r.size=l)}function fe(r,l){const o=F(r);o&&null!=l&&(o.geometry=function B(r){switch(r){case"circle":return{rings:[[[8.5,.2],[7.06,.33],[5.66,.7],[4.35,1.31],[3.16,2.14],[2.14,3.16],[1.31,4.35],[.7,5.66],[.33,7.06],[.2,8.5],[.33,9.94],[.7,11.34],[1.31,12.65],[2.14,13.84],[3.16,14.86],[4.35,15.69],[5.66,16.3],[7.06,16.67],[8.5,16.8],[9.94,16.67],[11.34,16.3],[12.65,15.69],[13.84,14.86],[14.86,13.84],[15.69,12.65],[16.3,11.34],[16.67,9.94],[16.8,8.5],[16.67,7.06],[16.3,5.66],[15.69,4.35],[14.86,3.16],[13.84,2.14],[12.65,1.31],[11.34,.7],[9.94,.33],[8.5,.2]]]};case"square":return{rings:[[[.5,.5],[.5,16.5],[16.5,16.5],[16.5,.5],[.5,.5]]]};case"diamond":return{rings:[[[8.5,.5],[.2,8.5],[8.5,16.5],[16.5,8.5],[8.5,.5]]]};case"hexagon-pointy":return{rings:[[[15.86,12.75],[15.86,4.25],[8.5,0],[1.14,4.25],[1.14,12.75],[8.5,17],[15.86,12.75]]]};case"hexagon-flat":return{rings:[[[12.75,15.86],[17,8.5],[12.75,1.14],[4.25,1.14],[0,8.5],[4.25,15.86],[12.75,15.86]]]}}}(l))}function pe(r,l){const o=te(F(r));o&&null!=l&&(o.color=l.toArray())}function ve(r,l,o){const a=te(F(r));a&&null!=l&&o&&(a.colorLocked=l)}f(8042),f(81279),f(65374),(r=I||(I={})).OuterRing="reference-size-outer-ring",r.InnerDot="reference-size-inner-dot";var Se=f(55417),ge=f(46602),he=f(76926),re=f(94048),T=f(83393),G=f(76882),xe=(f(60421),f(67722));const N=30,H=12,j=24,ie=[255,255,255],W=[200,200,200],P=[128,128,128],ze=20,be=5;function Ve(r,l,o,a,s,u,c){return X.apply(this,arguments)}function X(){return X=(0,C.A)(function*(r,l,o,a,s,u,c){const m=l.legendOptions,d=m?.customValues,p=c||(yield function Le(r,l){return Y.apply(this,arguments)}(r,o)),v=l.stops,M=v&&v.length>1;if(!p||!d&&!(null!=l.minSize&&null!=l.maxSize||M&&!l.target))return;const S=(0,T.$d)(p);let g=!1,y=null,k=null;y=S&&!M?(0,h.LI)([l.minDataValue,l.maxDataValue]):d??(yield function Ae(r,l,o,a){return J.apply(this,arguments)}(l,p,a,s?.type));const A=r?.authoringInfo,O="univariate-color-size"===A?.type,w=O&&"above-and-below"===A?.univariateTheme,E=!!(0,G.getReferenceSizeAuthoringInfoVisualVariable)(r);if(!y&&M&&(y=v.map($=>$.value),g=v.some($=>!!$.label),"flow"===r.type&&(y=(0,h.LI)(y)),g&&(k=v.map($=>$.label))),S&&null!=y&&y?.length>2&&!w&&(y=[y[0],y[y.length-1]]),!y)return null;O&&5!==y?.length&&(y=se({minSize:y[0],maxSize:y[y.length-1]}));const Z=S?function De(r,l){const o=r?.authoringInfo,a="univariate-color-size"===o?.type;let s=[H,N];if(a){const u=l[0],c=l[l.length-1],m=H,d=N;s=l.map(p=>m+(p-u)/(c-u)*(d-m))}return a&&"below"===o?.univariateTheme&&s.reverse(),s}(r,y):null,R=(0,T.k_)(p),L=g?null:function Pe(r,l){const o=r.length-1;return r.map((a,s)=>(0,G.createStopLabel)(a,s,o,l))}(y,u);return(yield Promise.all(y.map(function(){var $=(0,C.A)(function*(q,U){const _=S?Z[U]:yield V(l,p,q,a,s?.type);return{value:q,symbol:!E||"class-breaks"!==r.type&&"unique-value"!==r.type?Ee(w&&"class-breaks"===r.type?Re(r,U):p,_):le(r,_,l.maxSize,o)??p,label:g?k[U]:L[U],size:E?j:_,outlineSize:R}});return function(q,U){return $.apply(this,arguments)}}()))).reverse()}),X.apply(this,arguments)}function le(r,l,o,a){const s="class-breaks"===r.type,u=s?r.classBreakInfos?.[0]?.symbol?.clone():r.uniqueValueInfos?.[0]?.symbol?.clone();return u&&"type"in u&&"cim"===u.type?(function de(r,l){const{outerRingSize:o,innerDotSize:a,type:s,color:u,colorLocked:c,primitiveOverrides:m}=l,d="CIMPolygonSymbol"===r.data.symbol?.type?r.data.symbol.symbolLayers:null;if(2===d?.length)for(const p of d){const v=p.primitiveName===I.OuterRing;ye(p,v?o:a),fe(p,s),pe(p,u),ve(p,c,v)}null!=o&&null!=a&&(r.data.primitiveOverrides=null),void 0!==m&&(r.data.primitiveOverrides=(0,ue.o8)(m))}(u,{color:a??(s?null:new ne.A(W)),innerDotSize:l*(j/o)||1,outerRingSize:j}),u):null}function Re(r,l){const o=r.classBreakInfos,a=o.length,s=a<2||!(l>=2)?o[0].symbol.clone():o[a-1].symbol.clone();return r.visualVariables?.some(c=>"color"===c.type)&&(s.type.includes("3d")?oe(s):ae(s)),s}function Y(){return Y=(0,C.A)(function*(r,l){if("flow"===r.type)return(0,G.getSymbolForFlowRenderer)(r,l);if("pie-chart"===r.type)return new ge.A({color:null,outline:r.outline?.width?r.outline:new Se.A});let o=null,a=null;if("simple"===r.type)o=r.symbol;else if("class-breaks"===r.type){const s=r.classBreakInfos;o=s&&s[0]&&s[0].symbol,a=s.length>1}else if("unique-value"===r.type){const s=r.uniqueValueInfos;o=s?.[0]?.symbol,a=null!=s&&s.length>1}return!o||function ke(r){return(0,re.wk)(r)?r.symbolLayers?.some(l=>"fill"===l?.type)??!1:r?.type.includes("fill")??!1}(o)?null:(o=o.clone(),(l||a)&&(o.type.includes("3d")?oe(o):ae(o)),o)}),Y.apply(this,arguments)}function oe(r){r.symbolLayers.forEach("line-3d"===r.type?l=>{l.material={color:P}}:l=>{"icon"!==l.type||l.resource?.href?l.material={color:W}:(l.material={color:ie},l.outline={color:P,size:1.5})})}function ae(r){const l=(0,xe.g4)();"cim"===r.type?(0,he.Fe)(r,new ne.A(W)):r.type.includes("line")?r.color=P:(r.color=l?P:ie,"simple-marker"===r.type&&(r.outline?"#ffffff"===r.outline?.color?.toHex()&&(r.outline.color=P):r.outline={color:P,width:1.5}))}function J(){return J=(0,C.A)(function*(r,l,o,a){const s=(yield Promise.resolve().then(f.bind(f,77522))).getSizeRangeAtScale(r,o,a),u=s&&se(s);if(!s||!u)return;let c=u.map(m=>function Oe(r,l,o){const a=o.minSize,s=o.maxSize,u=l.minDataValue,c=l.maxDataValue;let m;return m=r<=a?u:r>=s?c:(r-a)/(s-a)*(c-u)+u,m}(m,r,s));c=(0,h.LI)(c);for(let m=1;m<c.length-1;m++){const d=yield we(r,l,c[m],c[m-1],o,a);d&&(c[m]=d[0],u[m]=d[1])}return c}),J.apply(this,arguments)}function se(r){const l=r.minSize,a=be,s=(r.maxSize-l)/(a-1),u=[];for(let c=0;c<a;c++)u.push(l+s*c);return u}function we(r,l,o,a,s,u){return K.apply(this,arguments)}function K(){return K=(0,C.A)(function*(r,l,o,a,s,u){const c=yield V(r,l,o,s,u),m=yield V(r,l,a,s,u),d=(0,h.lc)(o),v=ze;let b=d.integer,x=null,z=null;o>0&&o<1&&(x=10**d.fractional,b=(0,h.lc)(o*=x).integer);for(let M=b-1;M>=0;M--){const D=10**M;let S=Math.floor(o/D)*D,g=Math.ceil(o/D)*D;null!=x&&(S/=x,g/=x);let y=(S+g)/2;[,y]=(0,h.LI)([S,y,g],{indexes:[1]});const k=yield V(r,l,S,s,u),A=yield V(r,l,g,s,u),O=yield V(r,l,y,s,u),w=(0,h.u5)(c,k,m,null),E=(0,h.u5)(c,A,m,null),Z=(0,h.u5)(c,O,m,null);let R=w.previous<=v,L=E.previous<=v;if(R&&L&&(w.previous<=E.previous?(R=!0,L=!1):(L=!0,R=!1)),R?z=[S,k]:L?z=[g,A]:Z.previous<=v&&(z=[y,O]),z)break}return z}),K.apply(this,arguments)}function V(r,l,o,a,s){return Q.apply(this,arguments)}function Q(){return Q=(0,C.A)(function*(r,l,o,a,s){const{getSize:u}=yield Promise.resolve().then(f.bind(f,77522));return u(r,o,{scale:a,view:s,shape:"simple-marker"===l.type?l.style:null})}),Q.apply(this,arguments)}function Ee(r,l){const o=r.clone();if((0,re.wk)(o))(0,T.$d)(o)||o.symbolLayers.forEach(a=>{"fill"!==a.type&&(a.size=l)});else if(function Ie(r){return"esri.symbols.SimpleMarkerSymbol"===r.declaredClass}(o))o.size=l;else if(function Me(r){return"esri.symbols.PictureMarkerSymbol"===r.declaredClass}(o)){const a=o.width,s=o.height;o.height=l,o.width=l*(a/s)}else!function $e(r){return"esri.symbols.SimpleLineSymbol"===r.declaredClass}(o)?function Ce(r){return"esri.symbols.TextSymbol"===r.declaredClass}(o)&&o.font&&(o.font.size=l):o.width=l;return o}}}]);