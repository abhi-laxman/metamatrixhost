"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2010,3293,3723,5674,6041,5885],{93293:(F,V,a)=>{a.d(V,{c:()=>S,g:()=>c});var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}},93723:(F,V,a)=>{a.r(V),a.d(V,{hydratedAdapter:()=>g});var S=a(28067),c=a(21870),d=a(1749),G=a(55861),v=a(93615);const g={convertToGEGeometry:function w(f,s){if(null==s)return null;let M="cache"in s?s.cache._geVersion:void 0;return null==M&&(M=f.convertJSONToGeometry(s),"cache"in s&&(s.cache._geVersion=M)),M},exportPoint:function U(f,s,M){const P=f.hasZ(s),T=f.hasM(s),p=new d.A({x:f.getPointX(s),y:f.getPointY(s),spatialReference:M});return P&&(p.z=f.getPointZ(s)),T&&(p.m=f.getPointM(s)),p.cache._geVersion=s,p},exportPolygon:function D(f,s,M){const P=new G.A({rings:f.exportPaths(s),hasZ:f.hasZ(s),hasM:f.hasM(s),spatialReference:M});return P.cache._geVersion=s,P},exportPolyline:function z(f,s,M){const P=new v.A({paths:f.exportPaths(s),hasZ:f.hasZ(s),hasM:f.hasM(s),spatialReference:M});return P.cache._geVersion=s,P},exportMultipoint:function C(f,s,M){const P=new c.A({hasZ:f.hasZ(s),hasM:f.hasM(s),points:f.exportPoints(s),spatialReference:M});return P.cache._geVersion=s,P},exportExtent:function j(f,s,M){const P=f.hasZ(s),T=f.hasM(s),p=new S.A({xmin:f.getXMin(s),ymin:f.getYMin(s),xmax:f.getXMax(s),ymax:f.getYMax(s),spatialReference:M});if(P){const y=f.getZExtent(s);p.zmin=y.vmin,p.zmax=y.vmax}if(T){const y=f.getMExtent(s);p.mmin=y.vmin,p.mmax=y.vmax}return p.cache._geVersion=s,p}}},46041:(F,V,a)=>{a.r(V),a.d(V,{buffer:()=>se,changeDefaultSpatialReferenceTolerance:()=>ue,clearDefaultSpatialReferenceTolerance:()=>q,clip:()=>U,contains:()=>z,convexHull:()=>X,crosses:()=>C,cut:()=>D,densify:()=>le,difference:()=>$,disjoint:()=>T,distance:()=>j,equals:()=>f,extendedSpatialReferenceInfo:()=>w,flipHorizontal:()=>H,flipVertical:()=>de,generalize:()=>_,geodesicArea:()=>J,geodesicBuffer:()=>ie,geodesicDensify:()=>ce,geodesicLength:()=>Q,intersect:()=>K,intersectLinesToPoints:()=>pe,intersects:()=>s,isSimple:()=>R,nearestCoordinate:()=>N,nearestVertex:()=>oe,nearestVertices:()=>ae,offset:()=>re,overlaps:()=>p,planarArea:()=>he,planarLength:()=>fe,relate:()=>y,rotate:()=>I,simplify:()=>ee,symmetricDifference:()=>te,touches:()=>M,union:()=>ne,within:()=>P});var S=a(55739),c=a(29020),d=a(53930),G=a(32034),v=a(93723);function g(e){const n=Array.isArray(e)?e[0].spatialReference:e.spatialReference;return n?(0,S.PZ)(G.A,n):G.A.WGS84}function w(e){return d.G.extendedSpatialReferenceInfo(e)}function U(e,n){return(0,c.f)(e),d.G.clip(v.hydratedAdapter,g(e),e,n)}function D(e,n){return(0,c.f)(e),d.G.cut(v.hydratedAdapter,g(e),e,n)}function z(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.contains(v.hydratedAdapter,g(e),e,n)}function C(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.crosses(v.hydratedAdapter,g(e),e,n)}function j(e,n,r){return(0,c.f)(e),(0,c.f)(n),d.G.distance(v.hydratedAdapter,g(e),e,n,r)}function f(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.equals(v.hydratedAdapter,g(e),e,n)}function s(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.intersects(v.hydratedAdapter,g(e),e,n)}function M(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.touches(v.hydratedAdapter,g(e),e,n)}function P(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.within(v.hydratedAdapter,g(e),e,n)}function T(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.disjoint(v.hydratedAdapter,g(e),e,n)}function p(e,n){return(0,c.f)(e),(0,c.f)(n),d.G.overlaps(v.hydratedAdapter,g(e),e,n)}function y(e,n,r){return(0,c.f)(e),(0,c.f)(n),d.G.relate(v.hydratedAdapter,g(e),e,n,r)}function R(e){return(0,c.f)(e),d.G.isSimple(v.hydratedAdapter,g(e),e)}function ee(e){return(0,c.f)(e),d.G.simplify(v.hydratedAdapter,g(e),e)}function X(e,n=!1){return d.G.convexHull(v.hydratedAdapter,g(e),e,n)}function $(e,n){return(0,c.f)(n),d.G.difference(v.hydratedAdapter,g(e),e,n)}function te(e,n){return(0,c.f)(n),d.G.symmetricDifference(v.hydratedAdapter,g(e),e,n)}function K(e,n){return(0,c.f)(n),d.G.intersect(v.hydratedAdapter,g(e),e,n)}function ne(e){return d.G.union(v.hydratedAdapter,g(e),e)}function re(e,n,r,t,i,o){return d.G.offset(v.hydratedAdapter,g(e),e,n,r,t,i,o)}function se(e,n,r,t=!1){return d.G.buffer(v.hydratedAdapter,g(e),e,n,r,t)}function ie(e,n,r,t,i,o){return d.G.geodesicBuffer(v.hydratedAdapter,g(e),e,n,r,t,i,o)}function N(e,n,r=!0){return(0,c.f)(e),d.G.nearestCoordinate(v.hydratedAdapter,g(e),e,n,r)}function oe(e,n){return(0,c.f)(e),d.G.nearestVertex(v.hydratedAdapter,g(e),e,n)}function ae(e,n,r,t){return(0,c.f)(e),d.G.nearestVertices(v.hydratedAdapter,g(e),e,n,r,t)}function Z(e){return"xmin"in e?"center"in e?e.center:null:"x"in e?e:"extent"in e?e.extent?.center??null:null}function I(e,n,r){if(null==e)throw new B;const t=e.spatialReference;if(null==(r=r??Z(e)))throw new B;const i=e.constructor.fromJSON(d.G.rotate(e,n,r));return i.spatialReference=t,i}function H(e,n){if(null==e)throw new B;const r=e.spatialReference;if(null==(n=n??Z(e)))throw new B;const t=e.constructor.fromJSON(d.G.flipHorizontal(e,n));return t.spatialReference=r,t}function de(e,n){if(null==e)throw new B;const r=e.spatialReference;if(null==(n=n??Z(e)))throw new B;const t=e.constructor.fromJSON(d.G.flipVertical(e,n));return t.spatialReference=r,t}function _(e,n,r,t){return(0,c.f)(e),d.G.generalize(v.hydratedAdapter,g(e),e,n,r,t)}function le(e,n,r){return(0,c.f)(e),d.G.densify(v.hydratedAdapter,g(e),e,n,r)}function ce(e,n,r,t=0){return(0,c.f)(e),d.G.geodesicDensify(v.hydratedAdapter,g(e),e,n,r,t)}function he(e,n){return(0,c.f)(e),d.G.planarArea(v.hydratedAdapter,g(e),e,n)}function fe(e,n){return(0,c.f)(e),d.G.planarLength(v.hydratedAdapter,g(e),e,n)}function J(e,n,r){return(0,c.f)(e),d.G.geodesicArea(v.hydratedAdapter,g(e),e,n,r)}function Q(e,n,r){return(0,c.f)(e),d.G.geodesicLength(v.hydratedAdapter,g(e),e,n,r)}function pe(e,n){return d.G.intersectLinesToPoints(v.hydratedAdapter,g(e),e,n)}function ue(e,n){d.G.changeDefaultSpatialReferenceTolerance(e,n)}function q(e){d.G.clearDefaultSpatialReferenceTolerance(e)}class B extends Error{constructor(){super("Illegal Argument Exception")}}},28790:(F,V,a)=>{a.r(V),a.d(V,{SelfSnappingEngine:()=>e});var S=a(10467),c=a(8189),d=a(98877),G=a(31178),v=a(85211),D=(a(3248),a(35150),a(40707),a(76576)),z=a(73596),C=a(81142),j=a(25866),f=a(73812),s=a(29280),M=a(82663),P=a(83953),T=a(56083),p=a(3548),y=a(84586);class R{constructor(r,t){this.view=r,this.options=t,this.squaredShortLineThreshold=T.N.shortLineThreshold*T.N.shortLineThreshold}snap(r,t){return null!=t.vertexHandle?"vertex"!==t.vertexHandle.type?[]:this.snapExistingVertex(r,t):this.snapNewVertex(r,t)}edgeExceedsShortLineThreshold(r,t){return this.exceedsShortLineThreshold((0,s.Lp)(r.leftVertex.pos,this.view,t),(0,s.Lp)(r.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(r,t,{spatialReference:i}){return 0===this.squaredShortLineThreshold||(0,p.pM)((0,y.j)(t,i,f.qt,this.view),(0,y.j)(r,i,f.qt,this.view))>this.squaredShortLineThreshold}isVertical(r,t,{spatialReference:i}){const o=(0,M.GA)(i);return(0,P.Io)((0,s.Xz)(r),(0,s.Xz)(t))*o<T.N.verticalLineThresholdMeters}squaredProximityThreshold(r){return"touch"===r?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:r,touchSensitivityMultiplier:t}=this.options,i=r*t;return i*i}}var ee=a(27279),X=a(12724),$=a(99033),te=a(62415),K=a(24872);class ne extends R{snapNewVertex(r,t){const i=t.editGeometryOperations.data.components[0],o=i.edges.length,l=[];if(o<1)return l;const{spatialReference:h}=t,x=(0,y.j)(r,h,f.qt,this.view),{view:u}=this,E=i.edges[o-1];let m=E;do{if(this.edgeExceedsShortLineThreshold(m,t)){const L=(0,p.is)(m,u,t);this._processCandidateProposal(L.left,L.right,r,x,t,l)}m=m.leftVertex.leftEdge}while(m&&m!==E);return l}snapExistingVertex(r,t){const i=[],o=t.vertexHandle,l=o.component;if(l.edges.length<2)return i;const{view:h}=this,{spatialReference:x}=t,u=(0,y.j)(r,x,f.qt,h),E=o.leftEdge,m=o.rightEdge;E&&m&&this.edgeExceedsShortLineThreshold(E,t)&&this.edgeExceedsShortLineThreshold(m,t)&&this._processCandidateProposal((0,s.Lp)(E.leftVertex.pos,h,t),(0,s.Lp)(m.rightVertex.pos,h,t),r,u,t,i);const L=l.edges[0];let A=L;do{if(A!==o.leftEdge&&A!==o.rightEdge&&this.edgeExceedsShortLineThreshold(A,t)){const O=(0,p.is)(A,h,t);this._processCandidateProposal(O.left,O.right,r,u,t,i)}A=A.rightVertex.rightEdge}while(A&&A!==L);return i}_processCandidateProposal(r,t,i,o,l,h){const{spatialReference:x,pointer:u}=l,E=(0,j.vt)();!function re(n,r,t,i,o){(function se(n,r,t,i,{spatialReference:o}){const l=(0,X.IP)(r,t,o,o);if(null==l)return!1;const h=(0,X.IP)(t,i,o,o);if(null==h)return!1;const x=(0,$.n3)(t,i,o);if(null==x)return!1;const u=Math.abs(z.wf.shortestSignedDiff(l,h))>Math.PI/2?z.uC.normalize(l+Math.PI):l;return(0,X.rT)(n,t,o,(0,C.l3)(x,"meters"),(0,C.Wq)(u,"radians","geographic"),"geodesic"),n[2]=i[2],!0})(n,r,t,i,o)||function ie(n,r,t,i){(0,te.Yv)(r,{start:t,end:i,type:K.Vv.LINE},n),n[2]=r[2]}(n,i,r,t)}(E,r,t,i,l);const m=(0,s.de)((0,s._7)(E));(0,p.pM)(o,(0,y.j)(m,x,f.qt,this.view))<this.squaredProximityThreshold(u)&&h.push(new ee.o({lineStart:r,lineEnd:t,targetPoint:m,isDraped:"on-the-ground"===l.elevationInfo?.mode}))}}var N=a(45475),oe=a(34518);class ae extends R{snapNewVertex(r,t){const i=t.editGeometryOperations.data.components[0],o=i.edges.length,l=i.vertices.length,h=[];if(o<2)return h;const{view:x}=this,u=(0,y.j)(r,t.spatialReference,f.qt,x),E=(0,s.Lp)(i.vertices[l-1].pos,x,t),m=(0,s.Lp)(i.vertices[0].pos,x,t),L=i.edges[o-1];let A=L;do{if(this.edgeExceedsShortLineThreshold(A,t)){const O=(0,p.is)(A,x,t);this._checkEdgeForParallelLines(O,E,r,u,t,h),this._checkEdgeForParallelLines(O,m,r,u,t,h)}A=A.leftVertex.leftEdge}while(A&&A!==L);return h}snapExistingVertex(r,t){const i=[],o=t.vertexHandle,l=o.component;if(l.edges.length<3)return i;const{view:h}=this,x=(0,y.j)(r,t.spatialReference,f.qt,h),u=o.leftEdge,E=o.rightEdge,m=l.vertices[0],L=(0,s.Lp)(m.pos,h,t),O=l.vertices[l.vertices.length-1],Y=(0,s.Lp)(O.pos,h,t),b=l.edges[0];let W=b;do{if(W!==u&&W!==E&&this.edgeExceedsShortLineThreshold(W,t)){const k=(0,p.is)(W,h,t);u&&this._checkEdgeForParallelLines(k,(0,s.Lp)(u.leftVertex.pos,h,t),r,x,t,i),E&&this._checkEdgeForParallelLines(k,(0,s.Lp)(E.rightVertex.pos,h,t),r,x,t,i),o===m?this._checkEdgeForParallelLines(k,Y,r,x,t,i):o===O&&this._checkEdgeForParallelLines(k,L,r,x,t,i)}W=W.rightVertex.rightEdge}while(W&&W!==b);return i}_checkEdgeForParallelLines(r,t,i,o,l,h){const x=r.left,u=r.right;if((0,K.fg)(I,(0,s.Xz)(t),(0,s.Xz)(x),(0,s.Xz)(u)),(0,P.hG)(I,(0,s.Xz)(t))<T.N.parallelLineThreshold)return;(0,K.fg)(I,(0,s.Xz)(i),(0,s.Xz)(x),(0,s.Xz)(u),(0,s.Xz)(t));const{spatialReference:E,pointer:m}=l,L=(0,s.de)((0,s.fA)(I[0],I[1],i[2]));if((0,p.pM)(o,(0,y.j)(L,E,f.qt,this.view))<this.squaredProximityThreshold(m)){if(this.isVertical(L,t,l)||this.isVertical(x,u,l)||function Z(n,r){const t=n.left,i=n.right;for(const o of r)if((0,K.fg)(I,(0,s.Xz)(i),(0,s.Xz)(o.constraint.start),(0,s.Xz)(o.constraint.end),(0,s.Xz)(t)),(0,P.hG)(I,(0,s.Xz)(i))<T.N.parallelLineThreshold)return o.addReferenceLine(n),!0;return!1}(r,h))return;h.push(new oe.B({referenceLine:r,lineStart:t,targetPoint:L,isDraped:"on-the-ground"===l.elevationInfo?.mode}))}}}const I=(0,N.vt)();var H=a(28714),de=a(79765),_=a(34958);class le extends R{snapNewVertex(r,t){const i=t.editGeometryOperations.data.components[0],o=[];if(i.vertices.length<2)return o;const{view:l}=this,h=(0,y.j)(r,t.spatialReference,f.qt,l),x=i.vertices.at(-1);this._checkForSnappingCandidate(_._b.LastVertex,o,x.leftEdge,x,x.leftEdge.leftVertex,r,h,t);const u=i.vertices[0];return this._checkForSnappingCandidate(_._b.FirstVertex,o,u.rightEdge,u,u.rightEdge.rightVertex,r,h,t),o}snapExistingVertex(r,t){const i=[],o=t.vertexHandle;if(o.component.vertices.length<3)return i;const{view:l}=this,h=(0,y.j)(r,t.spatialReference,f.qt,l),x=o.leftEdge,u=o.rightEdge;if(x?.leftVertex.leftEdge){const E=x.leftVertex.leftEdge;this._checkForSnappingCandidate(_._b.ExistingEdge,i,E,E.rightVertex,E.leftVertex,r,h,t)}if(u?.rightVertex.rightEdge){const E=u.rightVertex.rightEdge;this._checkForSnappingCandidate(_._b.ExistingEdge,i,E,E.leftVertex,E.rightVertex,r,h,t)}return i}_checkForSnappingCandidate(r,t,i,o,l,h,x,u){if(!this.edgeExceedsShortLineThreshold(i,u))return;const E=this.view,m=(0,s.Lp)(o.pos,E,u),L=(0,s.Lp)(l.pos,E,u);(function ce(n,r,t,i,o){(function he(n,r,t,i,{spatialReference:o}){const l=(0,X.IP)(r,t,o,o);if(null==l)return!1;const h=(0,X.IP)(t,i,o,o);if(null==h)return!1;const x=Math.sign(z.uC.shortestSignedDiff(l,h))*Math.PI*.5,u=(0,C.Wq)(l+x,"radians","geographic"),E=(0,j.vt)(),m=(0,$.n3)(t,i,o);return null!=m&&((0,X.rT)(E,t,o,(0,C.l3)(m,"meters"),u,"geodesic"),(0,H.d)(n,E,t),!0)})(n,r,t,i,o)||function fe(n,r,t){const i=(0,P.Re)(J,(0,s.Xz)(t),(0,s.Xz)(r));(0,H.i)(n,i[1],-i[0],0)}(n,r,t)})(Q,L,m,h,u),this._checkForSnappingCandidateAlongProjectedRay(r,t,L,m,Q,h,x,u)}_checkForSnappingCandidateAlongProjectedRay(r,t,i,o,l,h,x,u){const{spatialReference:E,pointer:m}=u,L=(0,P.Re)(J,(0,s.Xz)(h),(0,s.Xz)(o)),A=(0,P.Om)(l,L)/(0,P.m3)(l),O=(0,P.Ln)(J,(0,s.Xz)(o),l,A),Y=(0,s.de)((0,s.fA)(O[0],O[1],h[2]));if((0,p.pM)(x,(0,y.j)(Y,E,f.qt,this.view))>this.squaredProximityThreshold(m)||this.isVertical(Y,o,u)||this.isVertical(o,i,u))return;const b=(0,H.b)((0,j.vt)(),o,l,Math.sign(A));t.push(new _.HJ({targetPoint:Y,constraint:new de.FX(o,(0,s._7)(b)),previousVertex:i,otherVertex:o,otherVertexType:_.pn.CENTER,selfSnappingType:r,isDraped:"on-the-ground"===u.elevationInfo?.mode}))}}const J=(0,N.vt)(),Q=(0,j.vt)();var pe=a(37154);class ue extends R{snapNewVertex(r,t){const i=t.editGeometryOperations.data.components[0],o=[],l=i.vertices.length;if("polygon"!==t.editGeometryOperations.data.type||l<2)return o;const{view:h}=this,u=i.vertices[l-1],E=(0,s.Lp)(i.vertices[0].pos,h,t),m=(0,s.Lp)(u.pos,h,t);return this._processCandidateProposal(E,m,r,t,o),o}snapExistingVertex(r,t){const i=[],o=t.vertexHandle,l=o.component;if(l.edges.length<2||"polyline"===t.editGeometryOperations.data.type&&(0===o.index||o.index===l.vertices.length-1))return i;const{view:h}=this,x=(0,s.Lp)(o.leftEdge.leftVertex.pos,h,t),u=(0,s.Lp)(o.rightEdge.rightVertex.pos,h,t);return this._processCandidateProposal(x,u,r,t,i),i}_processCandidateProposal(r,t,i,o,l){if(!this.exceedsShortLineThreshold(r,t,o))return;const h=(0,P.Cc)(q,(0,s.Xz)(r),(0,s.Xz)(t),.5),x=.5*(0,P.Io)((0,s.Xz)(r),(0,s.Xz)(t)),u=(0,K.Dh)(q,(0,s.Xz)(i),h,x),E=(0,s.de)((0,s.fA)(u[0],u[1],i[2])),{spatialReference:m,pointer:L}=o,A=(0,y.j)(i,m,f.qt,this.view);if((0,p.pM)(A,(0,y.j)(E,m,f.qt,this.view))<this.squaredProximityThreshold(L)){if(this.isVertical(r,E,o)||this.isVertical(E,t,o))return;l.push(new pe.R({targetPoint:E,point1:r,point2:t,isDraped:"on-the-ground"===o.elevationInfo?.mode}))}}}const q=(0,N.vt)();var B=a(26161);let e=class extends d.A{constructor(n){super(n),this.updating=!1,this._snappers=new G.A,this._domain=B.n.SELF}initialize(){this._snappers.push(new ae(this.view,this.options),new ne(this.view,this.options),new le(this.view,this.options),new ue(this.view,this.options))}set options(n){this._set("options",n);for(const r of this._snappers)r.options=n}fetchCandidates(n,r,t){var i=this;return(0,S.A)(function*(){if(!(r&i._domain&&i.options.effectiveSelfEnabled))return[];const o=[];for(const l of i._snappers.items)for(const h of l.snap(n,t))o.push(h);return(0,p.xX)(n,o),o})()}};(0,c._)([(0,v.MZ)({readOnly:!0})],e.prototype,"updating",void 0),(0,c._)([(0,v.MZ)({constructOnly:!0})],e.prototype,"view",void 0),(0,c._)([(0,v.MZ)()],e.prototype,"options",null),e=(0,c._)([(0,D.$)("esri.views.interactive.snapping.SelfSnappingEngine")],e)},99033:(F,V,a)=>{a.d(V,{Og:()=>U,mh:()=>w,n3:()=>D});var S=a(81142),c=a(25866),d=a(46041),G=a(79283),v=a(58701),g=a(38289);function w(p){const{spatialReference:y}=p;return(0,g.M0)(y,j,f,p)}function U(p,y){if(!(0,v.aI)(p.spatialReference,y.spatialReference))return null;const{spatialReference:R}=p;return P[0]=p.x,P[1]=p.y,P[2]=p.hasZ?p.z:0,T[0]=y.x,T[1]=y.y,T[2]=y.hasZ?y.z:0,D(P,T,R)}function D(p,y,R){return(0,g.M0)(R,z,C,p,y,R)}function z(p,y,R){return(0,S.d_)((0,G._3)(M,p,y,R).distance,"meters")}function C(p,y,R){return(0,S.d_)((0,d.geodesicLength)(function s(p,y,R){return{type:"polyline",spatialReference:R,paths:[[[...p],[...y]]]}}(p,y,R),"meters"),"meters")}function j(p){return(0,S.d_)((0,G.l1)([p],"meters")[0],"meters")}function f(p){return(0,S.d_)((0,d.geodesicLength)(p,"meters"),"meters")}const M=new G.Zj,P=(0,c.vt)(),T=(0,c.vt)()},38289:(F,V,a)=>{a.d(V,{M0:()=>G,yF:()=>d});var S=a(79283),c=a(58701);function d(g){return(0,S.TT)(g)||(0,c.K8)(g)}function G(g,w,U,...D){return(0,S.TT)(g)?w.apply(void 0,D):(0,c.K8)(g)?U.apply(void 0,D):null}}}]);