"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[6245,9557],{53781:(ne,k,m)=>{m.d(k,{a:()=>$,b:()=>y,c:()=>V,d:()=>a,e:()=>Q,f:()=>E,g:()=>N,h:()=>j,j:()=>c,l:()=>q,n:()=>w,s:()=>R,t:()=>W});var F=m(85952);function V(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function R(e,t,i,v,D){return e[0]=t,e[1]=i,e[2]=v,e[3]=D,e}function N(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e}function M(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e}function O(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e[3]=t[3]*i[3],e}function g(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e[3]=t[3]/i[3],e}function y(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e}function n(e,t){const i=t[0]-e[0],v=t[1]-e[1],D=t[2]-e[2],L=t[3]-e[3];return Math.sqrt(i*i+v*v+D*D+L*L)}function a(e,t){const i=t[0]-e[0],v=t[1]-e[1],D=t[2]-e[2],L=t[3]-e[3];return i*i+v*v+D*D+L*L}function c(e){const t=e[0],i=e[1],v=e[2],D=e[3];return Math.sqrt(t*t+i*i+v*v+D*D)}function E(e){const t=e[0],i=e[1],v=e[2],D=e[3];return t*t+i*i+v*v+D*D}function w(e,t){const i=t[0],v=t[1],D=t[2],L=t[3];let U=i*i+v*v+D*D+L*L;return U>0&&(U=1/Math.sqrt(U),e[0]=i*U,e[1]=v*U,e[2]=D*U,e[3]=L*U),e}function j(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function q(e,t,i,v){const D=t[0],L=t[1],U=t[2],J=t[3];return e[0]=D+v*(i[0]-D),e[1]=L+v*(i[1]-L),e[2]=U+v*(i[2]-U),e[3]=J+v*(i[3]-J),e}function W(e,t,i){const v=t[0],D=t[1],L=t[2],U=t[3];return e[0]=i[0]*v+i[4]*D+i[8]*L+i[12]*U,e[1]=i[1]*v+i[5]*D+i[9]*L+i[13]*U,e[2]=i[2]*v+i[6]*D+i[10]*L+i[14]*U,e[3]=i[3]*v+i[7]*D+i[11]*L+i[15]*U,e}function $(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function Q(e,t){const i=e[0],v=e[1],D=e[2],L=e[3],U=t[0],J=t[1],X=t[2],ee=t[3],S=(0,F.FD)();return Math.abs(i-U)<=S*Math.max(1,Math.abs(i),Math.abs(U))&&Math.abs(v-J)<=S*Math.max(1,Math.abs(v),Math.abs(J))&&Math.abs(D-X)<=S*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(L-ee)<=S*Math.max(1,Math.abs(L),Math.abs(ee))}Object.freeze(Object.defineProperty({__proto__:null,add:N,ceil:function l(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:V,copyVec3:function I(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:n,distance:n,div:g,divide:g,dot:j,equals:Q,exactEquals:$,floor:function u(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function _(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:c,length:c,lerp:q,max:function h(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e[3]=Math.max(t[3],i[3]),e},min:function p(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e[3]=Math.min(t[3],i[3]),e},mul:O,multiply:O,negate:function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:w,random:function Z(e,t=1){const i=F.Ov;let v,D,L,U,J,X;do{v=2*i()-1,D=2*i()-1,J=v*v+D*D}while(J>=1);do{L=2*i()-1,U=2*i()-1,X=L*L+U*U}while(X>=1);const ee=Math.sqrt((1-J)/X);return e[0]=t*v,e[1]=t*D,e[2]=t*L*ee,e[3]=t*U*ee,e},round:function o(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:y,scaleAndAdd:function T(e,t,i,v){return e[0]=t[0]+i[0]*v,e[1]=t[1]+i[1]*v,e[2]=t[2]+i[2]*v,e[3]=t[3]+i[3]*v,e},set:R,sqrDist:a,sqrLen:E,squaredDistance:a,squaredLength:E,str:function G(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:M,subtract:M,transformMat4:W,transformQuat:function B(e,t,i){const v=t[0],D=t[1],L=t[2],U=i[0],J=i[1],X=i[2],ee=i[3],S=ee*v+J*L-X*D,d=ee*D+X*v-U*L,r=ee*L+U*D-J*v,s=-U*v-J*D-X*L;return e[0]=S*ee+s*-U+d*-X-r*-J,e[1]=d*ee+s*-J+r*-U-S*-X,e[2]=r*ee+s*-X+S*-J-d*-U,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},28250:(ne,k,m)=>{function F(u){return null!=N(u)||null!=R(u)}function V(u){return M.test(u)}function I(u){return N(u)??R(u)}function R(u){const p=new Date(u);return function O(u,p){if(Number.isNaN(u.getTime()))return!1;let h=!0;if(l&&/\d+\W*$/.test(p)){const o=p.match(/[a-zA-Z]{2,}/);if(o){let y=!1,T=0;for(;!y&&T<=o.length;)y=!g.test(o[T]),T++;h=!y}}return h}(p,u)?Number.isNaN(p.getTime())?null:p.getTime()-6e4*p.getTimezoneOffset():null}function N(u){const p=M.exec(u);if(!p?.groups)return null;const h=p.groups,o=+h.year,y=+h.month-1,T=+h.day,n=+(h.hours??"0"),a=+(h.minutes??"0"),c=+(h.seconds??"0");if(n>23||a>59||c>59)return null;const E=h.ms??"0",f=E?+E.padEnd(3,"0").slice(0,3):0;let _;return _=h.isUTC||!h.offsetSign?Date.UTC(o,y,T,n,a,c,f):6e4*("+"===h.offsetSign?-1:1)*(60*+h.offsetHours+ +h.offsetMinutes)+Date.UTC(o,y,T,n,a,c,f),Number.isNaN(_)?null:_}m.d(k,{Br:()=>V,Cq:()=>F,_U:()=>I});const M=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,g=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,l=!Number.isNaN(new Date("technology 10").getTime())},89141:(ne,k,m)=>{function F(){return[0,0,0,0]}function V(f){return[f[0],f[1],f[2],f[3]]}function I(f,_,w,j){return[f,_,w,j]}function R(f,_,w,j){return[f,_,w,j]}function N(f,_=[0,0,0,0]){const w=Math.min(4,f.length);for(let j=0;j<w;++j)_[j]=f[j];return _}function g(){return I(1,1,1,1)}function l(){return I(1,0,0,0)}function u(){return I(0,1,0,0)}function p(){return I(0,0,1,0)}function h(){return I(0,0,0,1)}m.d(k,{CN:()=>R,Un:()=>y,ci:()=>N,fA:()=>I,o8:()=>V,uY:()=>o,vt:()=>F});const o=[0,0,0,0],y=g(),T=l(),n=u(),a=p(),c=h();Object.freeze(Object.defineProperty({__proto__:null,ONES:y,UNIT_W:c,UNIT_X:T,UNIT_Y:n,UNIT_Z:a,ZEROS:o,clone:V,create:F,createView:function M(f,_){return new Float64Array(f,_,4)},freeze:R,fromArray:N,fromValues:I,ones:g,unitW:h,unitX:l,unitY:u,unitZ:p,zeros:function O(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},11445:(ne,k,m)=>{m.d(k,{Qf:()=>g,Qh:()=>N,RS:()=>I,ez:()=>p,i5:()=>h,lM:()=>R,qK:()=>u});var F=m(79139);const I=16;function R(o){if(!o)return 0;let y=u;for(const T in o)o.hasOwnProperty(T)&&(y+=O(o[T],!1));return y}function N(o){if(!o)return 0;if("number"==typeof o[0])return g(o);if(Array.isArray(o))return function M(o){const y=o.length;if(0===y||"number"==typeof o[0])return l(o,8);let T=p;for(let n=0;n<y;n++)T+=O(o[n]);return T}(o);let y=u;for(const T in o)o.hasOwnProperty(T)&&(y+=O(o[T]));return y}function O(o,y=!0){switch(typeof o){case"object":return y?N(o):u;case"string":return function V(o){return 32+o.length}(o);case"number":return I;case"boolean":return 4;default:return 8}}function g(...o){return o.reduce((y,T)=>y+(T?(0,F.iu)(T)?T.byteLength+h:Array.isArray(T)?l(T,I):0:0),0)}function l(o,y){return p+o.length*y}const u=32,p=16,h=145},85775:(ne,k,m)=>{m.d(k,{B:()=>u,GP:()=>N,qg:()=>p});var F=m(1119),V=m(88996);const I={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],no:[",","\xa0"],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function R(n=(0,V.JK)()){let a=(n=n.toLowerCase())in I;if(!a){const _=n.split("-");_.length>1&&_[0]in I&&(n=_[0],a=!0),a||(n="en")}const[c,E,f="#,##0.###"]=I[n];return{decimal:c,group:E,pattern:f}}function N(n,a){const c=R((a={...a}).locale);a.customs=c;const E=a.pattern||c.pattern;return isNaN(n)||Math.abs(n)===1/0?null:function O(n,a,c){const E=(c=c||{}).customs.group,f=c.customs.decimal,_=a.split(";"),w=_[0];if((a=_[n<0?1:0]||"-"+w).includes("%"))n*=100;else if(a.includes("\u2030"))n*=1e3;else{if(a.includes("\xa4"))throw new Error("currency notation not supported");if(a.includes("E"))throw new Error("exponential notation not supported")}const j=M,q=w.match(j);if(!q)throw new Error("unable to find a number expression in pattern: "+a);return!1===c.fractional&&(c.places=0),a.replace(j,function g(n,a,c){!0===(c=c||{}).places&&(c.places=0),c.places===1/0&&(c.places=6);const E=a.split("."),f="string"==typeof c.places&&c.places.indexOf(",");let _=c.places;f?_=c.places.slice(f+1):+_>=0||(_=(E[1]||[]).length),c.round<0||(n=Number(n.toFixed(Number(_))));const w=String(Math.abs(n)).split("."),j=w[1]||"";if(E[1]||c.places){f&&(c.places=c.places.slice(0,Math.max(0,f)));const Q=void 0!==c.places?c.places:E[1]&&E[1].lastIndexOf("0")+1;+Q>j.length&&(w[1]=j.padEnd(Number(Q),"0")),+_<j.length&&(w[1]=j.slice(0,Math.max(0,Number(_))))}else w[1]&&w.pop();const q=E[0].replace(",","");let Z=q.indexOf("0");-1!==Z&&(Z=q.length-Z,Z>w[0].length&&(w[0]=w[0].padStart(Z,"0")),q.includes("#")||(w[0]=w[0].slice(-Z)));let W,B,G=E[0].lastIndexOf(",");if(-1!==G){W=E[0].length-G-1;const Q=E[0].slice(0,G);G=Q.lastIndexOf(","),-1!==G&&(B=Q.length-G-1)}const $=[];for(let Q=w[0];Q;){const re=Q.length-W;$.push(re>0?Q.slice(Math.max(0,re)):Q),Q=re>0?Q.slice(0,re):"",B&&(W=B,B=void 0)}return w[0]=$.reverse().join(c.group||","),w.join(c.decimal||".")}(n,q[0],{decimal:f,group:E,places:c.places,round:c.round}))}(n,E,a)}const M=/[#0,]*[#0](?:\.0*#*)?/;function u(n){const a=R((n=n||{}).locale),c=n.pattern||a.pattern,E=a.group,f=a.decimal;let _=1;if(c.includes("%"))_/=100;else if(c.includes("\u2030"))_/=1e3;else if(c.includes("\xa4"))throw new Error("currency notation not supported");const w=c.split(";");return 1===w.length&&w.push("-"+w[0]),{regexp:y(w,q=>(q="(?:"+(0,F.Cj)(q,".")+")").replace(M,Z=>{const W={signed:!1,separator:n.strict?E:[E,""],fractional:n.fractional,decimal:f,exponent:!1},B=Z.split(".");let G=n.places;1===B.length&&1!==_&&(B[1]="###"),1===B.length||0===G?W.fractional=!1:(void 0===G&&(G=n.pattern?B[1].lastIndexOf("0")+1:1/0),G&&null==n.fractional&&(W.fractional=!0),!n.places&&+G<B[1].length&&(G+=","+B[1].length),W.places=G);const $=B[0].split(",");return $.length>1&&(W.groupSize=$.pop().length,$.length>1&&(W.groupSize2=$.pop().length)),"("+function h(n){"places"in(n=n||{})||(n.places=1/0),"string"!=typeof n.decimal&&(n.decimal="."),"fractional"in n&&!String(n.places).startsWith("0")||(n.fractional=[!0,!1]),"exponent"in n||(n.exponent=[!0,!1]),"eSigned"in n||(n.eSigned=[!0,!1]);const a=o(n),c=y(n.fractional,f=>{let _="";return f&&0!==n.places&&(_="\\"+n.decimal,n.places===1/0?_="(?:"+_+"\\d+)?":_+="\\d{"+n.places+"}"),_},!0);let E=a+c;return c&&(E="(?:(?:"+E+")|(?:"+c+"))"),E+y(n.exponent,f=>f?"([eE]"+o({signed:n.eSigned})+")":"")}(W)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:E,decimal:f,factor:_}}function p(n,a){const c=u(a),E=new RegExp("^"+c.regexp+"$").exec(n);if(!E)return NaN;let f=E[1];if(!E[1]){if(!E[2])return NaN;f=E[2],c.factor*=-1}return f=f.replaceAll(new RegExp("["+c.group+"\\s\\xa0]","g"),"").replace(c.decimal,"."),Number(f)*c.factor}function o(n){return"signed"in(n=n||{})||(n.signed=[!0,!1]),"separator"in n?"groupSize"in n||(n.groupSize=3):n.separator="",y(n.signed,a=>a?"[-+]":"",!0)+y(n.separator,a=>{if(!a)return"(?:\\d+)";" "===(a=(0,F.Cj)(a))?a="\\s":"\xa0"===a&&(a="\\s\\xa0");const c=n.groupSize,E=n.groupSize2;if(E){const f="(?:0|[1-9]\\d{0,"+(E-1)+"}(?:["+a+"]\\d{"+E+"})*["+a+"]\\d{"+c+"})";return c-E>0?"(?:"+f+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":f}return"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*)"},!0)}const y=(n,a,c)=>{if(!Array.isArray(n))return a(n);const E=[];for(let f=0;f<n.length;f++)E.push(a(n[f]));return T(E.join("|"),!!c)},T=(n,a)=>"("+(a?"?:":"")+n+")"},42086:(ne,k,m)=>{m.d(k,{N3:()=>N,Om:()=>R});var F=m(11445),V=m(27999),I=m(13682);class R{constructor(g=null,l={},u,p,h=0){this.geometry=g,this.attributes=l,this.centroid=u,this.objectId=p,this.displayId=h}static fromJSON(g){const l=g.geometry?I.A.fromJSON(g.geometry):null,u=g.centroid?I.A.fromJSON(g.centroid):null;return new R(l,g.attributes,u,g.objectId)}weakClone(){const g=new R(this.geometry,this.attributes,this.centroid,this.objectId);return g.displayId=this.displayId,g}clone(){const g=this.geometry?.clone(),l=new R(g,{...this.attributes},this.centroid?.clone(),this.objectId);return l.displayId=this.displayId,l}ensureCentroid(g){return this.centroid??=(0,V.Q)(new I.A,this.geometry,g.hasZ,g.hasM),this.centroid}get usedMemory(){return 128+(0,F.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function N(O){return!!O.geometry?.coords?.length}},61808:(ne,k,m)=>{m.d(k,{A:()=>F});class F{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const I=new F;return I.objectIdFieldName=this.objectIdFieldName,I.globalIdFieldName=this.globalIdFieldName,I.geohashFieldName=this.geohashFieldName,I.geometryProperties=this.geometryProperties,I.geometryType=this.geometryType,I.spatialReference=this.spatialReference,I.hasZ=this.hasZ,I.hasM=this.hasM,I.features=this.features,I.fields=this.fields,I.transform=this.transform,I.exceededTransferLimit=this.exceededTransferLimit,I.uniqueIdField=this.uniqueIdField,I.queryGeometry=this.queryGeometry,I.queryGeometryType=this.queryGeometryType,I}}},13682:(ne,k,m)=>{m.d(k,{A:()=>I});var F=m(11445);class I{constructor(N=[],M=[]){this.lengths=N??[],this.coords=M??[]}static fromJSON(N){return new I(N.lengths,N.coords)}static fromRect(N){const[M,O,g,l]=N,u=g-M,p=l-O;return new I([5],[M,O,u,0,0,p,-u,0,0,-p])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((N,M)=>N+M)}get usedMemory(){return 64+(0,F.Qf)(this.lengths,this.coords)}area(){let N=0,M=0;if(!this.lengths.length)return 0;for(let O=0;O<this.lengths.length;O++){const g=this.lengths[O];if(g<3)continue;let l=this.coords[2*M],u=this.coords[2*M+1];for(let p=1;p<g;p+=1){const h=this.coords[2*(p+M)],o=this.coords[2*(p+M)+1];N+=-.5*(h-l)*(o+u),l=h,u=o}M+=g}return N}forEachVertex(N){let M=0;this.lengths.length||N(this.coords[0],this.coords[1]);for(let O=0;O<this.lengths.length;O++){const g=this.lengths[O];for(let l=0;l<g;l++)N(this.coords[2*(l+M)],this.coords[2*(l+M)+1]);M+=g}}deltaDecode(){const N=this.clone(),{coords:M,lengths:O}=N;let g=0;for(const l of O){for(let u=1;u<l;u++)M[2*(g+u)]+=M[2*(g+u)-2],M[2*(g+u)+1]+=M[2*(g+u)-1];g+=l}return N}clone(N){if(0===this.lengths.length)return new I([],[this.coords[0],this.coords[1]]);const M=2*(0===this.lengths.length?1:this.lengths.reduce((g,l)=>g+l)),O=this.coords.slice(0,M);return N?(N.set(O),new I(this.lengths,N)):new I(Array.from(this.lengths),Array.from(O))}}},27999:(ne,k,m)=>{function F(l,u){return l?u?4:3:u?3:2}function V(l,u,p,h){if(!u?.lengths.length)return null;l.lengths.length&&(l.lengths.length=0),l.coords.length&&(l.coords.length=0);const o=l.coords,y=[],T=p?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:n,coords:a}=u,c=F(p,h);let E=0;for(const f of n){const _=I(T,a,E,f,p,h);_&&y.push(_),E+=f*c}if(y.sort((f,_)=>{let w=f[2]-_[2];return 0===w&&p&&(w=f[4]-_[4]),w}),y.length){let f=6*y[0][2];o[0]=y[0][0]/f,o[1]=y[0][1]/f,p&&(f=6*y[0][4],o[2]=0!==f?y[0][3]/f:0),(o[0]<T[0]||o[0]>T[1]||o[1]<T[2]||o[1]>T[3]||p&&(o[2]<T[4]||o[2]>T[5]))&&(o.length=0)}if(!o.length){const f=u.lengths[0]?function R(l,u,p,h,o){const y=F(h,o);let T=u,n=u+y,a=0,c=0,E=0,f=0;for(let _=0,w=p-1;_<w;_++,T+=y,n+=y){const j=l[T],q=l[T+1],Z=l[T+2],W=l[n],B=l[n+1],G=l[n+2],$=h?M(j,q,Z,W,B,G):N(j,q,W,B);if($)if(a+=$,h){const Q=g(j,q,Z,W,B,G);c+=$*Q[0],E+=$*Q[1],f+=$*Q[2]}else{const Q=O(j,q,W,B);c+=$*Q[0],E+=$*Q[1]}}return a>0?h?[c/a,E/a,f/a]:[c/a,E/a]:p>0?h?[l[u],l[u+1],l[u+2]]:[l[u],l[u+1]]:null}(a,0,n[0],p,h):null;if(!f)return null;o[0]=f[0],o[1]=f[1],p&&f.length>2&&(o[2]=f[2])}return l}function I(l,u,p,h,o,y){const T=F(o,y);let n=p,a=p+T,c=0,E=0,f=0,_=0,w=0;for(let q=0,Z=h-1;q<Z;q++,n+=T,a+=T){const W=u[n],B=u[n+1],G=u[n+2],$=u[a],Q=u[a+1],re=u[a+2];let oe=W*Q-$*B;_+=oe,c+=(W+$)*oe,E+=(B+Q)*oe,o&&(oe=W*re-$*G,f+=(G+re)*oe,w+=oe),W<l[0]&&(l[0]=W),W>l[1]&&(l[1]=W),B<l[2]&&(l[2]=B),B>l[3]&&(l[3]=B),o&&(G<l[4]&&(l[4]=G),G>l[5]&&(l[5]=G))}if(_>0&&(_*=-1),w>0&&(w*=-1),!_)return null;const j=[c,E,.5*_];return o&&(j[3]=f,j[4]=.5*w),j}function N(l,u,p,h){const o=p-l,y=h-u;return Math.sqrt(o*o+y*y)}function M(l,u,p,h,o,y){const T=h-l,n=o-u,a=y-p;return Math.sqrt(T*T+n*n+a*a)}function O(l,u,p,h){return[l+.5*(p-l),u+.5*(h-u)]}function g(l,u,p,h,o,y){return[l+.5*(h-l),u+.5*(o-u),p+.5*(y-p)]}m.d(k,{Q:()=>V})},39424:(ne,k,m)=>{m.r(k),m.d(k,{default:()=>X});var F=m(10467),V=m(89563),I=m(89447),R=m(28250),N=m(5922),M=m(35150),O=m(56492),g=m(45272),l=m(13970),u=m(32034),p=m(79915),h=m(58701),o=m(55039),y=m(42086),T=m(13682),n=m(17256),a=m(64373),c=m(88840),E=m(47960),f=m(85775),_=m(86300),w=m(48865);const j=/^\s*"([\S\s]*)"\s*$/,q=/""/g,Z="\n",W=[","," ",";","|","\t"];function*B(S,d,r){let s=0;for(;s<=S.length;){const x=S.indexOf(d,s),b=S.slice(s,x>-1?x:void 0);s+=b.length+d.length,r&&!b.trim()||(yield b)}}function G(S){const d=S.includes("\r\n")?"\r\n":Z;return B(S,d,!0)}function $(S,d){return B(S,d,!1)}function*re(S,d,r,s=(()=>Object.create(null))){const x=G(S);x.next();let b="",C="",z=0,P=s(),Y=0;e:for(const le of x){const te=$(le,r);for(const se of te)if(b+=C+se,C="",z+=fe(se),z%2==0){if(z>0){const ue=j.exec(b);if(!ue){P=s(),Y=0,b="",z=0;continue e}P[d[Y]]=ue[1].replaceAll(q,'"'),Y++}else P[d[Y]]=b,Y++;b="",z=0}else C=r;0===z?(yield P,P=s(),Y=0):C=Z}}function oe(S,d){const r=ce(S,d).filter(x=>null!=x),s=r.map(x=>(0,_.rS)(x));for(let x=s.length-1;x>=0;x--)s[x]||(s.splice(x,1),r.splice(x,1));return{names:s,aliases:r}}function ce(S,d){if(!S?.length)return[];const r=[];let s="",x="",b=0;const C=$(S,d);for(const z of C)if(s+=x+z,x="",b+=fe(z),b%2==0){if(b>0){const P=j.exec(s);P&&r.push(P[1].replaceAll(q,'"'))}else r.push(s);s="",b=0}else x=d;return r}function fe(S){let d=0,r=0;for(r=S.indexOf('"',r);r>=0;)d++,r=S.indexOf('"',r+1);return d}function pe(S){if(!S.length)return"string";const d=/[^+\-.,0-9]/;return S.map(r=>{if(""!==r){if(!d.test(r)){let s=de(r);if(!isNaN(s))return/[.,]/.test(r)||!Number.isInteger(s)||s>214783647||s<-214783648?"double":"integer";if(r.includes("E")&&(s=Number(r),!Number.isNaN(s)||r.includes(",")&&(r=r.replace(",","."),s=Number(r),!Number.isNaN(s))))return"double"}return(0,R.Cq)(r)?"date":"string"}}).reduce((r,s)=>void 0===r?s:void 0===s?r:r===s?s:"string"===r||"string"===s?"string":"double"===r||"double"===s?"double":void 0)}const de=function(){const S=(0,f.B)(),d=new RegExp("^"+S.regexp+"$"),r=new RegExp("["+S.group+"\\s\\xa0]","g"),s=S.factor;return x=>{const b=d.exec(x);if(S.factor=s,!b)return NaN;let C=b[1];if(!b[1]){if(!b[2])return NaN;C=b[2],S.factor*=-1}return C=C.replace(r,"").replace(S.decimal,"."),+C*S.factor}}();var e=m(89962),t=m(73258),i=m(68778),v=m(20543);const D=(0,e.F0)("esriGeometryPoint"),L=["csv"],U=[0,0];class J{constructor(d,r){this.x=d,this.y=r}}class X{constructor(){var d=this;this._queryEngine=null,this._snapshotFeatures=function(){var r=(0,F.A)(function*(s){const x=yield d._fetch(s);return d._createFeatures(x)});return function(s){return r.apply(this,arguments)}}()}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}load(d,r={}){var s=this;return(0,F.A)(function*(){s._loadOptions=d;const[x]=yield Promise.all([s._fetch(r.signal),s._checkProjection(d?.parsingOptions?.spatialReference)]),b=function ee(S,d){const r=d.parsingOptions||{},s={delimiter:r.delimiter,layerDefinition:null,locationInfo:{latitudeFieldName:r.latitudeField,longitudeFieldName:r.longitudeField}},x=s.layerDefinition={name:(0,g.e7)(d.url,L)||"csv",dateFieldsTimeReference:{timeZoneIANA:v.n$},drawingInfo:D,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:r.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:r.spatialReference||{wkid:4326}}},b=G(S),C=b.next().value?.trim(),z=b.next().value?.trim();if(!C)throw new N.A("csv-layer:empty-csv","CSV is empty",{csv:S});const{delimiter:P,locationInfo:Y}=function Q(S,d,r){S=S.trim(),d=d?.trim();const s=[],x=Array.from(new Set([r?.delimiter,...W])).filter(C=>null!=C);for(const C of x){const z=ce(S,C).length,P=ce(d,C).length??z;z>1&&s.push({weight:Math.min(z,P),delimiter:C})}const b=s.sort(({weight:C},{weight:z})=>z-C).map(({delimiter:C})=>C);for(const C of b){const z=oe(S,C).names,P=(0,w.i_)(z,r?.longitudeField,r?.latitudeField);if(P.longitudeFieldName&&P.latitudeFieldName)return{delimiter:C,locationInfo:P}}return{delimiter:b[0],locationInfo:null}}(C,z,r);if(!P)throw new N.A("csv-layer:invalid-delimiter","Unable to detect the delimiter from CSV",{firstLine:C,secondLine:z,parsingOptions:r});if(!Y)throw new N.A("csv-layer:location-fields-not-found","Unable to identify latitude and longitude fields from the CSV file",{firstLine:C,secondLine:z,parsingOptions:r});s.locationInfo=Y,s.delimiter=P;const{names:le,aliases:te}=oe(C,P),se=function he(S,d,r,s,x){const b=[],C=re(S,r,d),z=[];for(const P of C){if(10===z.length)break;z.push(P)}for(let P=0;P<r.length;P++){const Y=r[P],le=s[P];if(Y===x.longitudeFieldName||Y===x.latitudeFieldName)b.push({name:Y,type:"esriFieldTypeDouble",alias:le});else{let te;switch(pe(z.map(se=>se[Y]))){case"integer":te="esriFieldTypeInteger";break;case"double":te="esriFieldTypeDouble";break;case"date":te="esriFieldTypeDate";break;default:te="esriFieldTypeString"}b.push({name:Y,type:te,alias:le,length:(0,_._b)(te)})}}return b}(S,s.delimiter,le,te,s.locationInfo);if(r.fields?.length){const K=new t.A(r.fields);for(const A of se){const ie=K.get(A.name);ie&&Object.assign(A,ie)}}if(!se.some(K=>"esriFieldTypeOID"===K.type&&(x.objectIdField=K.name,!0))){const K={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1};x.objectIdField=K.name,se.unshift(K)}x.fields=se;const ue=new t.A(x.fields);if(s.locationInfo&&(s.locationInfo.latitudeFieldName=ue.get(s.locationInfo.latitudeFieldName).name,s.locationInfo.longitudeFieldName=ue.get(s.locationInfo.longitudeFieldName).name),x.timeInfo){const K=x.timeInfo;if(K.startTimeField){const A=ue.get(K.startTimeField);A?(K.startTimeField=A.name,A.type="esriFieldTypeDate"):K.startTimeField=null}if(K.endTimeField){const A=ue.get(K.endTimeField);A?(K.endTimeField=A.name,A.type="esriFieldTypeDate"):K.endTimeField=null}if(K.trackIdField){const A=ue.get(K.trackIdField);K.trackIdField=A?A.name:null}K.startTimeField||K.endTimeField||(x.timeInfo=null)}return s}(x,d);s._locationInfo=b.locationInfo,s._delimiter=b.delimiter,s._queryEngine=s._createQueryEngine(b);const C=yield s._createFeatures(x);s._queryEngine.featureStore.addMany(C);const{fullExtent:z,timeExtent:P}=yield s._queryEngine.fetchRecomputedExtents();if(b.layerDefinition.extent=z,P){const{start:Y,end:le}=P;b.layerDefinition.timeInfo.timeExtent=[Y,le]}return b})()}applyEdits(){return(0,F.A)(function*(){throw new N.A("csv-layer:editing-not-supported","applyEdits() is not supported on CSVLayer")})()}queryFeatures(d={},r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQuery(d,r.signal)})()}queryFeatureCount(d={},r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForCount(d,r.signal)})()}queryObjectIds(d={},r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),(yield s._queryEngine.executeQueryForIds(d,r.signal)).filter(i.Et)})()}queryExtent(d={},r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeQueryForExtent(d,r.signal)})()}querySnapping(d,r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),(0,n.J)(s._queryEngine,d,r.signal)})()}queryAttributeBins(d,r={}){var s=this;return(0,F.A)(function*(){return yield s._waitSnapshotComplete(),s._queryEngine.executeAttributeBinsQuery(d,r.signal)})()}refresh(d){var r=this;return(0,F.A)(function*(){r._loadOptions.customParameters=d,r._snapshotTask?.abort(),r._snapshotTask=(0,I.UT)(r._snapshotFeatures),r._snapshotTask.promise.then(b=>{r._queryEngine.featureStore.clear(),b&&r._queryEngine.featureStore.addMany(b)},b=>{r._queryEngine.featureStore.clear(),(0,O.zf)(b)||M.A.getLogger("esri.layers.CSVLayer").error(new N.A("csv-layer:refresh","An error occurred during refresh",{error:b}))}),yield r._waitSnapshotComplete();const{fullExtent:s,timeExtent:x}=yield r._queryEngine.fetchRecomputedExtents();return{extent:s,timeExtent:x}})()}_waitSnapshotComplete(){var d=this;return(0,F.A)(function*(){if(d._snapshotTask&&!d._snapshotTask.finished){try{yield d._snapshotTask.promise}catch{}return d._waitSnapshotComplete()}})()}_fetch(d){var r=this;return(0,F.A)(function*(){const{url:s,customParameters:x}=r._loadOptions;if(!s)throw new N.A("csv-layer:invalid-source","url not defined");const b=(0,g.An)(s);return(yield(0,V.A)(b.path,{query:{...b.query,...x},responseType:"text",signal:d})).data})()}_createQueryEngine(d){const{objectIdField:r,fields:s,extent:x,timeInfo:b}=d.layerDefinition,C=new a.A({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});return new E.do({fieldsIndex:t.A.fromLayerJSON({fields:s,dateFieldsTimeReference:{timeZoneIANA:v.n$}}),geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:b,objectIdField:r,spatialReference:x.spatialReference||{wkid:4326},featureStore:C})}_createFeatures(d){var r=this;return(0,F.A)(function*(){const{latitudeFieldName:s,longitudeFieldName:x}=r._locationInfo,{objectIdField:b,fieldsIndex:C,spatialReference:z}=r._queryEngine;let P=[];const Y=[],le=C.fields.filter(A=>A.name!==b).map(A=>A.name);let te=0;const se={};for(const A of C.fields)if("esriFieldTypeOID"!==A.type&&"esriFieldTypeGlobalID"!==A.type){const ie=(0,_.lD)(A);void 0!==ie&&(se[A.name]=ie)}const ue=re(d,le,r._delimiter,(0,e.Vx)(se,b));for(const A of ue){const ie=r._parseCoordinateValue(A[s]),ae=r._parseCoordinateValue(A[x]);if(null!=ae&&null!=ie&&!isNaN(ie)&&!isNaN(ae)){A[s]=ie,A[x]=ae;for(const H in A)if(H!==s&&H!==x)if(C.isDateField(H))A[H]=(0,R._U)(A[H]);else if(C.isNumericField(H)){const ge=de(A[H]);A[H]=isNaN(ge)?null:ge}else null!=A[H]&&(A[H]=JSON.parse(JSON.stringify(A[H])));A[b]=te,te++,P.push(new J(ae,ie)),Y.push(A)}}if(!(0,h.aI)({wkid:4326},z))if((0,h.K8)(z))for(const A of P)[A.x,A.y]=(0,o.je)(A.x,A.y,U);else P=(0,l.projectMany)(p.g,P,u.A.WGS84,z,null,null);const K=[];for(let A=0;A<P.length;A++){const{x:ie,y:ae}=P[A],H=Y[A];H[b]=A+1,K.push(new y.Om(new T.A([],[ie,ae]),H,null,H[b]))}return K})()}_parseCoordinateValue(d){if(null==d||""===d)return null;let r=de(d);return(isNaN(r)||Math.abs(r)>181)&&(r=parseFloat(d)),r}_checkProjection(d){return(0,F.A)(function*(){try{yield(0,c.Nk)(h.KK,d)}catch{throw new N.A("csv-layer:projection-not-supported","Projection not supported")}})()}}},89962:(ne,k,m)=>{m.d(k,{F0:()=>N,Vx:()=>g,e2:()=>u,f:()=>p});var F=m(3248),V=m(77806),I=m(78200),R=m(48254);function N(h){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===h||"esriGeometryMultipoint"===h?R.Cb:"esriGeometryPolyline"===h?R.yM:R.WR}}}const M=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let O=1;function g(h,o){if((0,F.A)("esri-csp-restrictions"))return()=>({[o]:null,...h});try{let y=`this${l(o)} = null;`;for(const n in h)y+=`this${l(n)} = ${JSON.stringify(h[n])};`;const T=new Function(`\n      return class AttributesClass$${O++} {\n        constructor() {\n          ${y};\n        }\n      }\n    `)();return()=>new T}catch{return()=>({[o]:null,...h})}}function l(h){return M.test(h)?`.${h}`:`["${h}"]`}function u(h={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,V.o8)(h)}}]}function p(h,o){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:h},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:o,supportsDelete:o,supportsEditing:o,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:o,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:I.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:I.P,editing:{supportsGeometryUpdate:o,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},48865:(ne,k,m)=>{m.d(k,{i_:()=>V});var F=m(86300);function V(N,M,O){M=(0,F.rS)(M)?.toLowerCase(),O=(0,F.rS)(O)?.toLowerCase();const g=N.map(p=>p.toLowerCase()),l=M?N[g.indexOf(M)]:null,u=O?N[g.indexOf(O)]:null;return{longitudeFieldName:l||N[g.indexOf(R.find(p=>g.includes(p)))],latitudeFieldName:u||N[g.indexOf(I.find(p=>g.includes(p)))]}}const I=["lat","lat83","latitude","latitude83","latdecdeg","lat_dd","y","ycenter","point_y"],R=["lon","lng","lng83","long","long83","longitude","longitude83","longdecdeg","long_dd","x","xcenter","point_x"]},48254:(ne,k,m)=>{m.d(k,{Cb:()=>I,HW:()=>g,JR:()=>V,JZ:()=>M,WR:()=>N,b6:()=>l,fT:()=>F,nC:()=>O,yM:()=>R});const F=[252,146,31,255],V=[153,153,153,255],I={type:"esriSMS",style:"esriSMSCircle",size:6,color:F,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},R={type:"esriSLS",style:"esriSLSSolid",width:.75,color:F},N={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},M={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},O={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},g={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},l={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);