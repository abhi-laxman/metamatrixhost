"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[4792],{55144:(K,b,r)=>{r.d(b,{T:()=>d,d:()=>T});const d={Base64:0,Hex:1,String:2,Raw:3},A=8,p=(1<<A)-1;function v(o,a){const t=(65535&o)+(65535&a);return(o>>16)+(a>>16)+(t>>16)<<16|65535&t}function h(o,a,t,s,e,i){return v(function O(o,a){return o<<a|o>>>32-a}(v(v(a,o),v(s,i)),e),t)}function M(o,a,t,s,e,i,n){return h(a&t|~a&s,o,a,e,i,n)}function y(o,a,t,s,e,i,n){return h(a&s|t&~s,o,a,e,i,n)}function D(o,a,t,s,e,i,n){return h(a^t^s,o,a,e,i,n)}function P(o,a,t,s,e,i,n){return h(t^(a|~s),o,a,e,i,n)}function T(o,a=d.Hex){const t=a||d.Base64,s=function S(o,a){o[a>>5]|=128<<a%32,o[14+(a+64>>>9<<4)]=a;let t=1732584193,s=-271733879,e=-1732584194,i=271733878;for(let n=0;n<o.length;n+=16){const U=t,B=s,F=e,E=i;t=M(t,s,e,i,o[n],7,-680876936),i=M(i,t,s,e,o[n+1],12,-389564586),e=M(e,i,t,s,o[n+2],17,606105819),s=M(s,e,i,t,o[n+3],22,-1044525330),t=M(t,s,e,i,o[n+4],7,-176418897),i=M(i,t,s,e,o[n+5],12,1200080426),e=M(e,i,t,s,o[n+6],17,-1473231341),s=M(s,e,i,t,o[n+7],22,-45705983),t=M(t,s,e,i,o[n+8],7,1770035416),i=M(i,t,s,e,o[n+9],12,-1958414417),e=M(e,i,t,s,o[n+10],17,-42063),s=M(s,e,i,t,o[n+11],22,-1990404162),t=M(t,s,e,i,o[n+12],7,1804603682),i=M(i,t,s,e,o[n+13],12,-40341101),e=M(e,i,t,s,o[n+14],17,-1502002290),s=M(s,e,i,t,o[n+15],22,1236535329),t=y(t,s,e,i,o[n+1],5,-165796510),i=y(i,t,s,e,o[n+6],9,-1069501632),e=y(e,i,t,s,o[n+11],14,643717713),s=y(s,e,i,t,o[n],20,-373897302),t=y(t,s,e,i,o[n+5],5,-701558691),i=y(i,t,s,e,o[n+10],9,38016083),e=y(e,i,t,s,o[n+15],14,-660478335),s=y(s,e,i,t,o[n+4],20,-405537848),t=y(t,s,e,i,o[n+9],5,568446438),i=y(i,t,s,e,o[n+14],9,-1019803690),e=y(e,i,t,s,o[n+3],14,-187363961),s=y(s,e,i,t,o[n+8],20,1163531501),t=y(t,s,e,i,o[n+13],5,-1444681467),i=y(i,t,s,e,o[n+2],9,-51403784),e=y(e,i,t,s,o[n+7],14,1735328473),s=y(s,e,i,t,o[n+12],20,-1926607734),t=D(t,s,e,i,o[n+5],4,-378558),i=D(i,t,s,e,o[n+8],11,-2022574463),e=D(e,i,t,s,o[n+11],16,1839030562),s=D(s,e,i,t,o[n+14],23,-35309556),t=D(t,s,e,i,o[n+1],4,-1530992060),i=D(i,t,s,e,o[n+4],11,1272893353),e=D(e,i,t,s,o[n+7],16,-155497632),s=D(s,e,i,t,o[n+10],23,-1094730640),t=D(t,s,e,i,o[n+13],4,681279174),i=D(i,t,s,e,o[n],11,-358537222),e=D(e,i,t,s,o[n+3],16,-722521979),s=D(s,e,i,t,o[n+6],23,76029189),t=D(t,s,e,i,o[n+9],4,-640364487),i=D(i,t,s,e,o[n+12],11,-421815835),e=D(e,i,t,s,o[n+15],16,530742520),s=D(s,e,i,t,o[n+2],23,-995338651),t=P(t,s,e,i,o[n],6,-198630844),i=P(i,t,s,e,o[n+7],10,1126891415),e=P(e,i,t,s,o[n+14],15,-1416354905),s=P(s,e,i,t,o[n+5],21,-57434055),t=P(t,s,e,i,o[n+12],6,1700485571),i=P(i,t,s,e,o[n+3],10,-1894986606),e=P(e,i,t,s,o[n+10],15,-1051523),s=P(s,e,i,t,o[n+1],21,-2054922799),t=P(t,s,e,i,o[n+8],6,1873313359),i=P(i,t,s,e,o[n+15],10,-30611744),e=P(e,i,t,s,o[n+6],15,-1560198380),s=P(s,e,i,t,o[n+13],21,1309151649),t=P(t,s,e,i,o[n+4],6,-145523070),i=P(i,t,s,e,o[n+11],10,-1120210379),e=P(e,i,t,s,o[n+2],15,718787259),s=P(s,e,i,t,o[n+9],21,-343485551),t=v(t,U),s=v(s,B),e=v(e,F),i=v(i,E)}return[t,s,e,i]}(function g(o){const a=[];for(let t=0,s=o.length*A;t<s;t+=A)a[t>>5]|=(o.charCodeAt(t/A)&p)<<t%32;return a}(o),o.length*A);switch(t){case d.Raw:return s;case d.Hex:return function R(o){const a="0123456789abcdef",t=[];for(let s=0,e=4*o.length;s<e;s++)t.push(a.charAt(o[s>>2]>>s%4*8+4&15)+a.charAt(o[s>>2]>>s%4*8&15));return t.join("")}(s);case d.String:return function x(o){const a=[];for(let t=0,s=32*o.length;t<s;t+=A)a.push(String.fromCharCode(o[t>>5]>>>t%32&p));return a.join("")}(s);case d.Base64:return function u(o){const s=[];for(let e=0,i=4*o.length;e<i;e+=3){const n=(o[e>>2]>>e%4*8&255)<<16|(o[e+1>>2]>>(e+1)%4*8&255)<<8|o[e+2>>2]>>(e+2)%4*8&255;for(let U=0;U<4;U++)s.push(8*e+6*U>32*o.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-U)&63))}return s.join("")}(s)}}},31446:(K,b,r)=>{r.d(b,{F:()=>h,Y:()=>O});var d=r(8189),A=r(85211),x=(r(3248),r(35150),r(40707),r(76576));const u={write:{allowNull:!0}},O={type:r(66722).A,json:{origins:{"web-map":u,"portal-item":u}}},h=M=>{let y=class extends M{constructor(){super(...arguments),this.featureEffect=null}};return(0,d._)([(0,A.MZ)(O)],y.prototype,"featureEffect",void 0),y=(0,d._)([(0,x.$)("esri.layers.mixins.FeatureEffectLayer")],y),y}},25263:(K,b,r)=>{r.d(b,{J:()=>F});var d=r(8189),A=r(48900),p=r(85211),v=r(3248),g=r(35150),R=(r(40707),r(76576)),u=r(2052),O=r(14236),h=r(73747),M=r(84495),y=r(8042),D=r(5922),P=r(55144),S=r(40695),T=r(71314),o=r(46602);v.A.add("esri-cluster-arcade-enabled",!0);const t=(0,v.A)("esri-cluster-arcade-enabled"),s=new Set(["simple-line","simple-fill","picture-fill"]);function e(E,c){let l=c.clone();if(!i(l))return l;if(c.symbols.some(_=>s.has(_.type))&&(l=new h.A({symbol:new o.A})),l.authoringInfo||(l.authoringInfo=new T.A),l.authoringInfo.isAutoGenerated=!0,"visualVariables"in l){const _=(l.visualVariables||[]).filter(f=>"$view.scale"!==f.valueExpression);_.forEach(f=>{"rotation"===f.type?f.field?f.field=B(E,f.field,"avg_angle","number"):f.valueExpression&&(f.field=U(E,f.valueExpression,"avg_angle","number"),f.valueExpression=null):f.normalizationField?(f.field=B(E,f.field,"avg_norm","number",f.normalizationField),f.normalizationField=null):f.field?f.field=B(E,f.field,"avg","number"):f.valueExpression&&(f.field=U(E,f.valueExpression,"avg","number"),f.valueExpression=null)}),l.visualVariables=_}switch(l.type){case"simple":break;case"pie-chart":for(const _ of l.attributes)_.field?_.field=B(E,_.field,"sum","number"):_.valueExpression&&(_.field=U(E,_.valueExpression,"sum","number"),_.valueExpression=null);break;case"unique-value":l.field?l.field=B(E,l.field,"mode","string"):l.valueExpression&&(l.field=U(E,l.valueExpression,"mode","string"),l.valueExpression=null);break;case"class-breaks":l.normalizationField?(l.field=B(E,l.field,"avg_norm","number",l.normalizationField),l.normalizationField=null):l.field?l.field=B(E,l.field,"avg","number"):l.valueExpression&&(l.field=U(E,l.valueExpression,"avg","number"),l.valueExpression=null)}return l}const i=E=>{const c=l=>g.A.getLogger("esri.views.2d.layers.support.clusterUtils").error(new D.A("Unsupported-renderer",l,{renderer:E}));if(!E)return!1;switch(E.type){case"unique-value":if(E.field2||E.field3)return c("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(E.normalizationField){const l=E.normalizationType;if("field"!==l)return c(`FeatureReductionCluster does not support a normalizationType of ${l}`),!1}break;case"simple":case"pie-chart":break;default:return c(`FeatureReductionCluster does not support renderers of type ${E.type}`),!1}if(!t){if("valueExpression"in E&&E.valueExpression)return c("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in E&&E.visualVariables||[]).some(l=>!(!("valueExpression"in l)||!l.valueExpression)))return c("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function U(E,c,l,_){const f=(0,P.d)(c),I="mode"===l?`cluster_type_${f}`:"sum"===l?`cluster_sum_${f}`:`cluster_avg_${f}`;return E.some(m=>m.name===I)||E.push(new u.A({name:I,isAutoGenerated:!0,onStatisticExpression:new S.A({expression:c,returnType:_}),statisticType:l})),I}function B(E,c,l,_,f){if("cluster_count"===c||E.some(m=>m.name===c))return c;const I=function n(E,c,l){switch(E){case"sum":return`cluster_sum_${c}`;case"avg":case"avg_angle":return`cluster_avg_${c}`;case"mode":return`cluster_type_${c}`;case"avg_norm":{const _=l,f="field",I=c.toLowerCase()+",norm:"+f+","+_.toLowerCase();return"cluster_avg_"+(0,P.d)(I)}}}(l,c,f);return E.some(m=>m.name===I)||E.push(new u.A("avg_norm"===l?{name:I,isAutoGenerated:!0,onStatisticExpression:new S.A({expression:`$feature.${c} / $feature.${f}`,returnType:_}),statisticType:"avg"}:{name:I,isAutoGenerated:!0,onStatisticField:c,statisticType:l})),I}const F=E=>{let c=class extends E{constructor(...l){super(...l),this.addHandles((0,A.wB)(()=>this.renderer,()=>{if(this.featureReduction){const _=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",_)}},A.OH))}set featureReduction(l){const _=this._normalizeFeatureReduction(l);this._set("featureReduction",_)}set renderer(l){}_withClusterVariable(l,_,f){const I=l.clone();return"visualVariables"in I&&(I.visualVariables||(I.visualVariables=[]),I.visualVariables.some(m=>"size"===m.type)||I.visualVariables.push(new M.A({field:"cluster_count",stops:[new y.A({value:1}),new y.A({useMinValue:!0,size:_}),new y.A({useMaxValue:!0,size:f})]}))),I}_normalizeFeatureReduction(l){if("cluster"!==l?.type)return l;const _=l.clone(),f=[new u.A({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],I=(_.fields??[]).filter(W=>!W.isAutoGenerated),m=l.renderer&&!l.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:L,clusterMaxSize:C}=_;if(m){_.fields=[...f,...I];const W=this._withClusterVariable(_.renderer,L,C);return _.effectiveFeatureRenderer=W,_.effectiveClusterRenderer=W,_}if(l.symbol){if(_.fields=[...f,...I],_.renderer=null,!this.renderer)return _.effectiveFeatureRenderer=null,_.effectiveClusterRenderer=null,_;const W=e(f,this.renderer),Z=this._withClusterVariable(W,L,C),z=new h.A({symbol:l.symbol,visualVariables:"visualVariables"in Z&&Z.visualVariables?Z.visualVariables:[]});return _.fields=[...f,...I],_.effectiveFeatureRenderer=Z,_.effectiveClusterRenderer=z,_}if(!this.renderer)return l;const j=e(f,this.renderer);_.fields=[...f,...I],_.renderer=j;const w=this._withClusterVariable(j,L,C);return _.effectiveFeatureRenderer=w,_.effectiveClusterRenderer=w,_}};return(0,d._)([(0,p.MZ)(O.d)],c.prototype,"featureReduction",null),c=(0,d._)([(0,R.$)("esri.layers.mixins.FeatureReductionLayer")],c),c}},2052:(K,b,r)=>{r.d(b,{A:()=>M});var O,d=r(8189),A=r(71065),p=r(77806),v=r(85211),R=(r(3248),r(35150),r(76576)),u=r(40695);let h=O=class extends A.A{constructor(y){super(y),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new O({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,p.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,d._)([(0,v.MZ)({type:Boolean,json:{write:!0}})],h.prototype,"isAutoGenerated",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],h.prototype,"name",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],h.prototype,"alias",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],h.prototype,"onStatisticField",void 0),(0,d._)([(0,v.MZ)({type:u.A,json:{write:!0}})],h.prototype,"onStatisticExpression",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],h.prototype,"statisticType",void 0),h=O=(0,d._)([(0,R.$)("esri.layers.support.AggregateField")],h);const M=h},40695:(K,b,r)=>{r.d(b,{A:()=>h});var d=r(8189),A=r(90660),p=r(71065),v=r(85211),u=(r(3248),r(35150),r(40707),r(76576));let O=class extends(A.A.ClonableMixin(p.A)){constructor(M){super(M),this.expression=null,this.title=null,this.returnType=null}};(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],O.prototype,"expression",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],O.prototype,"title",void 0),(0,d._)([(0,v.MZ)({type:String,json:{write:!0}})],O.prototype,"returnType",void 0),O=(0,d._)([(0,u.$)("esri.layers.support.ExpressionInfo")],O);const h=O},66722:(K,b,r)=>{r.d(b,{A:()=>o});var y,d=r(8189),A=r(5922),p=r(71065),v=r(89221),g=r(85211),O=(r(3248),r(35150),r(40707),r(76576)),h=r(72211),M=r(95877);const D={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},P={read:{reader:h.LF},write:{writer:h.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},S={name:"showExcludedLabels",default:!0};let T=y=class extends p.A{constructor(a){super(a),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(a,t){const s=super.write(a,t);if(t?.origin){if(s.filter){const e=Object.keys(s.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new A.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in s)return t.messages?.push(new A.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return s}clone(){return new y({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,d._)([(0,g.MZ)({type:M.A,json:{write:{allowNull:!0,writer(a,t,s,e){const i=a?.write({},e);i&&0!==Object.keys(i).length?(0,v.sM)(s,i,t):(0,v.sM)(s,null,t)}}}})],T.prototype,"filter",void 0),(0,d._)([(0,g.MZ)({json:{read:h.LF,write:{writer:h.M9,allowNull:!0},origins:{"web-map":D,"portal-item":D}}})],T.prototype,"includedEffect",void 0),(0,d._)([(0,g.MZ)({json:{read:h.LF,write:{writer:h.M9,allowNull:!0},origins:{"web-map":P,"portal-item":P}}})],T.prototype,"excludedEffect",void 0),(0,d._)([(0,g.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":S,"portal-item":S}}})],T.prototype,"excludedLabelsVisible",void 0),T=y=(0,d._)([(0,O.$)("esri.layers.support.FeatureEffect")],T);const o=T},95877:(K,b,r)=>{r.d(b,{A:()=>T});var y,d=r(8189),A=r(49976),p=r(71065),v=r(77806),g=r(85211),u=(r(3248),r(35150),r(76576)),O=r(6434),h=r(87086),M=r(17181);const D=new A.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),P=new A.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let S=y=class extends p.A{constructor(o){super(o),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(o={}){const{where:a,geometry:t,spatialRelationship:s,timeExtent:e,objectIds:i,units:n,distance:U}=this;return new h.A({geometry:(0,v.o8)(t),objectIds:(0,v.o8)(i),spatialRelationship:s,timeExtent:(0,v.o8)(e),where:a,units:n,distance:U,...o})}clone(){const{where:o,geometry:a,spatialRelationship:t,timeExtent:s,objectIds:e,units:i,distance:n}=this;return new y({geometry:(0,v.o8)(a),objectIds:(0,v.o8)(e),spatialRelationship:t,timeExtent:(0,v.o8)(s),where:o,units:i,distance:n})}};(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],S.prototype,"where",void 0),(0,d._)([(0,g.MZ)({types:O.yR,json:{write:!0}})],S.prototype,"geometry",void 0),(0,d._)([(0,g.MZ)({type:D.apiValues,json:{name:"spatialRel",read:{reader:D.read},write:{allowNull:!1,writer:D.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],S.prototype,"spatialRelationship",void 0),(0,d._)([(0,g.MZ)({type:Number,json:{write:{overridePolicy(o){return{enabled:null!=o&&null!=this.geometry}}}}})],S.prototype,"distance",void 0),(0,d._)([(0,g.MZ)({type:[Number],json:{write:!0}})],S.prototype,"objectIds",void 0),(0,d._)([(0,g.MZ)({type:P.apiValues,json:{read:P.read,write:{writer:P.write,overridePolicy(o){return{enabled:null!=o&&null!=this.geometry}}}}})],S.prototype,"units",void 0),(0,d._)([(0,g.MZ)({type:M.A,json:{write:!0}})],S.prototype,"timeExtent",void 0),S=y=(0,d._)([(0,u.$)("esri.layers.support.FeatureFilter")],S);const T=S},27378:(K,b,r)=>{r.d(b,{c:()=>u});var d=r(8189),A=r(71065),p=r(85211),R=(r(3248),r(35150),r(40707),r(76576));let u=class extends A.A{constructor(){super(...arguments),this.type=null}};(0,d._)([(0,p.MZ)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],u.prototype,"type",void 0),u=(0,d._)([(0,R.$)("esri.layers.support.FeatureReduction")],u)},71906:(K,b,r)=>{r.d(b,{A:()=>h});var u,d=r(8189),A=r(85211),x=(r(3248),r(35150),r(40707),r(76576)),R=r(27378);let O=u=class extends R.c{constructor(M){super(M),this.type="selection"}clone(){return new u}};(0,d._)([(0,A.MZ)({type:["selection"]})],O.prototype,"type",void 0),O=u=(0,d._)([(0,x.$)("esri.layers.support.FeatureReductionSelection")],O);const h=O},14236:(K,b,r)=>{r.d(b,{d:()=>I});var s,d=r(50501),A=r(27378),p=r(8189),v=r(92165),g=r(77806),x=r(89221),R=r(67685),u=r(85211),O=r(55739),h=r(15463),M=r(17221),y=r(76576),D=r(50305),P=r(2052),S=r(22329),T=r(47516),o=r(54947),a=r(85718),t=r(31595);let e=s=class extends A.c{constructor(m){super(m),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,R.cr)("12px"),this.fields=[],this.renderer=null}writeFields(m,L,C){const j=m.filter(w=>"avg_angle"!==w.statisticType).map(w=>w.toJSON());(0,x.sM)(C,j,L)}readRenderer(m,L,C){const j=L.drawingInfo?.renderer;return j?(0,a.L)(j,L,C)??void 0:(0,T.PD)(L,C)}clone(){return new s({fields:(0,g.o8)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,g.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,g.o8)(this.popupTemplate),renderer:(0,g.o8)(this.renderer),binType:(0,g.o8)(this.binType),size:this.size})}};(0,p._)([(0,h.e)({binning:"binning"})],e.prototype,"type",void 0),(0,p._)([(0,h.e)({geohash:"geohash",square:"square"}),(0,u.MZ)({type:["geohash","square"]})],e.prototype,"binType",void 0),(0,p._)([(0,u.MZ)({type:Number,json:{write:!0}})],e.prototype,"fixedBinLevel",void 0),(0,p._)([(0,u.MZ)({type:[o.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.prototype,"labelingInfo",void 0),(0,p._)([(0,u.MZ)(S.kF)],e.prototype,"labelsVisible",void 0),(0,p._)([(0,u.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.prototype,"maxScale",void 0),(0,p._)([(0,u.MZ)(S.M6)],e.prototype,"popupEnabled",void 0),(0,p._)([(0,u.MZ)({type:v.A,json:{name:"popupInfo",write:!0}})],e.prototype,"popupTemplate",void 0),(0,p._)([(0,u.MZ)({cast:m=>"auto"===m?m:(0,O.GB)((0,R.cr)(m))})],e.prototype,"size",void 0),(0,p._)([(0,u.MZ)({type:[P.A],json:{write:!0}})],e.prototype,"fields",void 0),(0,p._)([(0,D.K)("fields")],e.prototype,"writeFields",null),(0,p._)([(0,u.MZ)({types:t.Hg,json:{write:{target:"drawingInfo.renderer"}}})],e.prototype,"renderer",void 0),(0,p._)([(0,M.w)("renderer",["drawingInfo.renderer"])],e.prototype,"readRenderer",null),e=s=(0,p._)([(0,y.$)("esri.layers.support.FeatureReductionBinning")],e);const i=e;var F,n=r(71065),U=r(73747),B=r(94048);function E(m){return"simple"===m.type&&!m.visualVariables?.length}let c=F=class extends n.A{constructor(m){super(m),this.type="cluster",this.clusterRadius=(0,R.cr)("80px"),this.clusterMinSize=(0,R.cr)("12px"),this.clusterMaxSize=(0,R.cr)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(m,L,C){const j=L.drawingInfo?.renderer;return j?.authoringInfo?.isAutoGenerated?null:j?E(j)?null:(0,a.L)(j,L,C)??void 0:(0,T.PD)(L,C)}readSymbol(m,L,C){const j=L.drawingInfo?.renderer;return j?.authoringInfo?.isAutoGenerated?null:j&&E(j)?(0,a.L)(j,L,C)?.symbol:null}writeSymbol(m,L,C,j){const w=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||w){const W=new U.A({symbol:m});L.drawingInfo={renderer:W.write({},j)}}}writeFields(m,L,C){const j=m.filter(w=>"avg_angle"!==w.statisticType).map(w=>w.toJSON());(0,x.sM)(C,j,L)}readFields(m,L,C){return m.filter(j=>!j.isAutoGenerated).map(j=>P.A.fromJSON(j))}clone(){return new F({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,g.o8)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,g.o8)(this.fields),maxScale:this.maxScale,renderer:(0,g.o8)(this.renderer),symbol:(0,g.o8)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,g.o8)(this.popupTemplate)})}};(0,p._)([(0,u.MZ)({type:["cluster"],readOnly:!0,json:{write:!0}})],c.prototype,"type",void 0),(0,p._)([(0,u.MZ)({cast:m=>"auto"===m?m:(0,O.GB)((0,R.cr)(m)),json:{write:!0}})],c.prototype,"clusterRadius",void 0),(0,p._)([(0,u.MZ)({type:Number,cast:R.cr,json:{write:!0}})],c.prototype,"clusterMinSize",void 0),(0,p._)([(0,u.MZ)({type:Number,cast:R.cr,json:{write:!0}})],c.prototype,"clusterMaxSize",void 0),(0,p._)([(0,u.MZ)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],c.prototype,"maxScale",void 0),(0,p._)([(0,u.MZ)(S.M6)],c.prototype,"popupEnabled",void 0),(0,p._)([(0,u.MZ)({type:v.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],c.prototype,"popupTemplate",void 0),(0,p._)([(0,u.MZ)({types:t.Hg,json:{write:{target:"drawingInfo.renderer"}}})],c.prototype,"renderer",void 0),(0,p._)([(0,M.w)("renderer",["drawingInfo.renderer"])],c.prototype,"readRenderer",null),(0,p._)([(0,u.MZ)({types:B.q8})],c.prototype,"symbol",void 0),(0,p._)([(0,M.w)("symbol",["drawingInfo.renderer"])],c.prototype,"readSymbol",null),(0,p._)([(0,D.K)("symbol")],c.prototype,"writeSymbol",null),(0,p._)([(0,u.MZ)({type:[o.A],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],c.prototype,"labelingInfo",void 0),(0,p._)([(0,u.MZ)(S.kF)],c.prototype,"labelsVisible",void 0),(0,p._)([(0,u.MZ)({type:[P.A],json:{write:!0}})],c.prototype,"fields",void 0),(0,p._)([(0,D.K)("fields")],c.prototype,"writeFields",null),(0,p._)([(0,M.w)("fields")],c.prototype,"readFields",null),c=F=(0,p._)([(0,y.$)("esri.layers.support.FeatureReductionCluster")],c);const l=c;var _=r(71906);const f={key:"type",base:A.c,typeMap:{cluster:l,binning:i}},I={types:{key:"type",base:A.c,typeMap:{selection:_.A,cluster:l,binning:i}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:f},"portal-item":{types:f},"web-scene":{types:{key:"type",base:A.c,typeMap:{selection:_.A}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:d.K}}}}}},85718:(K,b,r)=>{r.d(b,{L:()=>x,r:()=>v});var d=r(96996),A=r(71224),p=r(31595);function v(R,u){return x(R,null,u)}const g=(0,A.C)({types:p.Hg});function x(R,u,O){return R?R&&(R.styleName||R.styleUrl)&&"uniqueValue"!==R.type?(O?.messages&&O.messages.push(new d.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+R.type+"'",{definition:R,context:O})),null):g(R,u,O):null}}}]);