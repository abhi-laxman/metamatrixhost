"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2076],{58405:($,j,t)=>{t.d(j,{B:()=>l,R:()=>u});var a=t(33568);class u extends a.R{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let h=this.width(),y=this.height(),P=h,g=y,v=P/Math.abs(h),D=g/Math.abs(y);if((0,a.k)(P)&&(0,a.k)(g)){let A=Math.min(P,g)/2,O=(0,a.l)(this.get("cornerRadiusTL",8),A),T=(0,a.l)(this.get("cornerRadiusTR",8),A),_=(0,a.l)(this.get("cornerRadiusBR",8),A),S=(0,a.l)(this.get("cornerRadiusBL",8),A),I=Math.min(Math.abs(P/2),Math.abs(g/2));O=(0,a.f)(O,0,I),T=(0,a.f)(T,0,I),_=(0,a.f)(_,0,I),S=(0,a.f)(S,0,I);const m=this._display;m.moveTo(O*v,0),m.lineTo(P-T*v,0),T>0&&m.arcTo(P,0,P,T*D,T),m.lineTo(P,g-_*D),_>0&&m.arcTo(P,g,P-_*v,g,_),m.lineTo(S*v,g),S>0&&m.arcTo(0,g,0,g-S*D,S),m.lineTo(0,O*D),O>0&&m.arcTo(0,0,O*v,0,O),m.closePath()}}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.R.classNames.concat([u.className])});class l extends a.g{_afterNew(){this._settings.themeTags=(0,a.m)(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",u.new(this._root,{themeTags:(0,a.m)(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const h=this._prevSettings.icon,y=this.get("icon");y!==h&&(this._disposeProperty("icon"),h&&h.dispose(),y&&this.children.push(y),this._prevSettings.icon=y)}if(this.isDirty("label")){const h=this._prevSettings.label,y=this.get("label");y!==h&&(this._disposeProperty("label"),h&&h.dispose(),y&&this.children.push(y),this._prevSettings.label=y)}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.g.classNames.concat([l.className])})},47402:($,j,t)=>{t.d(j,{D:()=>d,m:()=>g,s:()=>S,w:()=>_});var a=t(8189),u=t(62257),l=t(95944),x=t(3037),h=t(33165),y=t(87571),P=t(7085);function g(){return{outPoint:new h.P,index:-1,t:Number.NaN}}function v(E,C,f){return{outPoint:E.clone(),index:C,t:f}}function D(E,C,f,e){E.outPoint.assign(C),E.index=f,E.t=e}function A(E,C){E.outPoint.assign(C.outPoint),E.index=C.index,E.t=C.t}function O(E,C,f,e){E.index=f,E.t=e,C.queryCoord2D(E.t,E.outPoint)}function T(E,C){const f=g();A(f,E),A(E,C),A(C,f)}function _(E,C,f,e,p,M){if(E.getGeometryType()===u.G.enumPolygon){for(;e.nextPath();)if(e.hasNextSegment()){const R=e.nextSegment();if(0!==(0,x.i)(E,R.getEndXY(),0))return D(p,R.getEndXY(),-1,Number.NaN),D(M,R.getEndXY(),-1,Number.NaN),!0}e.resetToFirstPath()}if(C.getGeometryType()===u.G.enumPolygon){for(;f.nextPath();)if(f.hasNextSegment()){const R=f.nextSegment();if(0!==(0,x.i)(C,R.getEndXY(),0))return D(p,R.getEndXY(),-1,Number.NaN),D(M,R.getEndXY(),-1,Number.NaN),!0}f.resetToFirstPath()}return!1}function S(E){const C=E.getPathCount(),f=(0,h.d)(E.getSegmentCount(),0);let e=0;for(let p=0;p<C;++p){const M=e+E.getSegmentCountPath(p);for(let R=e,B=E.getPathStart(p);R<M;++R,++B)f[R]=B;e=M}return(0,l.s)(E.getPointCount(),f),f}function I(E,C){return!!Number.isNaN(C)||E<=C}function m(E){const C=new l.a;return C.addEnvelope(E,!1),C}class d{constructor(C,f){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=f,this.m_maxSqrDistance=C*C,this.m_maxDistance=C,this.m_bIsNearCalc=!1,this.m_maxDistance=Number.isNaN(this.m_maxDistance)?Number.POSITIVE_INFINITY:C,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(C,f,e,p){if((C.getGeometryType()!==P.P.type||f.getGeometryType()!==P.P.type)&&(this.m_env2DgeometryA=new y.J,this.m_env2DgeometryB=new y.J,C.queryEnvelope(this.m_env2DgeometryA),f.queryEnvelope(this.m_env2DgeometryB),!I(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const M=v(new h.P,(0,h.j)(),Number.NaN),R=v(new h.P,(0,h.j)(),Number.NaN),B=this._ExecuteBruteForce(C,f,M,R);return I(B,this.m_maxDistance)?(null!==e&&A(e,M),null!==p&&A(p,R),B):Number.POSITIVE_INFINITY}isNear(C,f){if(this.m_bIsNearCalc=!0,C.isEmpty()||f.isEmpty())return!1;if(C===f)return!0;let e=!0;if(C.getGeometryType()!==P.P.type&&C.getGeometryType()!==P.E.type||f.getGeometryType()!==P.P.type&&f.getGeometryType()!==P.E.type||(e=!1),e){if(this.m_env2DgeometryA=new y.J,this.m_env2DgeometryB=new y.J,C.queryEnvelope(this.m_env2DgeometryA),f.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const p=v(new h.P,(0,h.j)(),Number.NaN),M=v(new h.P,(0,h.j)(),Number.NaN);return this._ExecuteBruteForce(C,f,p,M)<=this.m_maxDistance}progress_(C=!1){}_ExecuteBruteForce(C,f,e,p){switch(C.getGeometryType()){case u.G.enumPoint:return this.distancePointGeometry(C,f,e,p);case u.G.enumMultiPoint:return this.distanceMultipointGeometry(C,f,e,p);case u.G.enumEnvelope:return this.distanceEnvelopeGeometry(C,f,e,p);case u.G.enumPolyline:case u.G.enumPolygon:return this.distanceMultipathGeometry(C,f,e,p);default:return Number.NaN}}distancePointGeometry(C,f,e,p){switch(f.getGeometryType()){case u.G.enumPoint:return this.distancePointPoint(C,f,e,p);case u.G.enumMultiPoint:return this.distancePointMultipoint(C,f,e,p);case u.G.enumPolyline:case u.G.enumPolygon:return this.distancePointMultipath(C,f,e,p);case u.G.enumEnvelope:return this.distancePointEnvelope(C,f,e,p);default:return Number.NaN}}distancePointPoint(C,f,e,p){const M=C.getXY(),R=f.getXY();return D(e,M,0,0),D(p,R,0,0),Math.sqrt(h.P.sqrDistance(M,R))}distancePointMultipoint(C,f,e,p){const M=C.getXY();let R=this.m_maxSqrDistance,B=R,G=!1;const U=f.getPointCount(),K=new h.P;for(let W=0;W<U;++W)if(f.queryXY(W,K),B=h.P.sqrDistance(M,K),this.m_bIsNearCalc){if(B<=R)return 0}else if(!(B>R)&&(!G&&B===R||B<R)&&(R=B,D(e,M,0,0),D(p,K,W,0),G=!0,0===R))return 0;return G?Math.sqrt(R):Number.POSITIVE_INFINITY}distancePointMultipath(C,f,e,p){const M=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),R=C.getXY();if(!M&&f.getGeometryType()===u.G.enumPolygon&&0!==(0,x.i)(f,R,0))return D(e,R,0,0),D(p,R,-1,Number.NaN),0;f.getImpl().getAccelerators();let B=this.m_maxSqrDistance,G=B,U=-1;const K=new y.J,W=f.querySegmentIterator();let N=!1;for(;W.nextPath();)for(;W.hasNextSegment();){const L=W.nextSegment();L.queryEnvelope(K);const b=K.sqrDistance(R);if(b>B||!this.m_bIsNearCalc&&N&&b===B)continue;U=L.getClosestCoordinate(R,!1);const z=L.getCoord2D(U);if(G=h.P.sqrDistance(R,z),this.m_bIsNearCalc){if(G<=B)return 0}else if(!(G>B)&&(!N||G<B)&&(B=G,D(e,R,0,0),D(p,z,W.getStartPointIndex(),U),N=!0,0===B))return 0}return N?Math.sqrt(B):Number.POSITIVE_INFINITY}distancePointEnvelope(C,f,e,p){const M=C.getXY();D(e,M,0,0),D(p,M,-1,Number.NaN);const R=f.asEnvelope2D();return R.contains(M)?0:Math.sqrt(R.sqrDistance(M,p.outPoint))}distanceMultipointGeometry(C,f,e,p){switch(f.getGeometryType()){case u.G.enumPoint:{this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const M=this.distancePointMultipoint(f,C,p,e);return this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),M}case u.G.enumMultiPoint:return this.distanceMultipointMultipoint(C,f,e,p,1,1);case u.G.enumPolyline:case u.G.enumPolygon:return this.distanceMultipointMultipath(C,f,e,p);case u.G.enumEnvelope:return this.distanceMultipointMultipath(C,m(f),e,p);default:return Number.NaN}}distanceMultipointMultipoint(C,f,e,p,M,R){const B={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===M&&1===R){const q=Math.trunc((0,h.c)(Math.sqrt(C.getPointCount())+1,1,(0,h.i)())),et=Math.trunc((0,h.c)(Math.sqrt(f.getPointCount())+1,1,(0,h.i)()));if((q>=4||et>=4)&&this.distanceMultipointMultipoint(C,f,e,p,q,et)<=this.m_maxSqrDistance)return 0}let G=this.m_maxSqrDistance;const U=[C],K=[f],W=this.swapGeometriesIfBGtA(U,K);W&&(this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),R=(0,h.b)(M,M=R),T(e,p)),(0,a.b)(B,(0,h.h)(()=>{T(e,p),this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!W),!1);const N=U[0].getImpl(),L=K[0].getImpl(),b=N.getPointCount(),z=L.getPointCount(),F=z>1;let Z=!1;const V=new h.P,J=new h.P;for(let q=0;q<b;q+=M){if(N.queryXY(q,V),F){const et=this.m_env2DgeometryB.sqrDistance(V);if(this.m_bIsNearCalc){if(et>G)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(V)<=G)return 0}else if(et>=G)continue}for(let et=0;et<z;et+=R){L.queryXY(et,J);const nt=h.P.sqrDistance(V,J);if(this.m_bIsNearCalc){if(nt<=G)return 0}else if(!(nt>G||Z&&nt===G)&&(!Z||nt<G)&&(D(e,V,q,0),D(p,J,et,0),Z=!0,G=nt,0===G))return Z?Math.sqrt(G):Number.POSITIVE_INFINITY}}return Z?Math.sqrt(G):Number.POSITIVE_INFINITY}catch(G){B.error=G,B.hasError=!0}finally{(0,a.c)(B)}}distanceMultipointMultipath(C,f,e,p){let M=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&f.getGeometryType()===u.G.enumPolygon;const R=f.querySegmentIterator();R.stripAttributes();const B=new y.J,G=new h.P;let U=this.m_maxSqrDistance;const K=C.getImpl(),W=K.getPointCount(),N=W>1;let L=!1;for(;R.nextPath();)for(;R.hasNextSegment();){const b=R.nextSegment();if(b.queryLooseEnvelope(B),N){const z=B.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(z>U)continue}else if(z>U||L&&z===U)continue}for(let z=0;z<W;z++){if(K.queryXY(z,G),M&&0!==(0,x.i)(f,G,0))return D(e,G,-1,Number.NaN),D(p,G,z,0),0;{const J=B.sqrDistance(G);if(this.m_bIsNearCalc){if(J>U)continue}else if(J>U)continue}const F=b.getClosestCoordinate(G,!1),Z=b.getCoord2D(F);G.subThis(Z);const V=G.sqrLength();if(this.m_bIsNearCalc){if(V<=U)return 0}else if(!(V>U)&&(!L||V<U)&&(U=V,D(e,K.getXY(z),z,0),D(p,Z,R.getStartPointIndex(),F),L=!0,0===U))return 0}M=!1}return L?Math.sqrt(U):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(C,f,e,p){switch(f.getGeometryType()){case u.G.enumPoint:return this.distancePointEnvelope(f,C,p,e);case u.G.enumMultiPoint:{this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const M=this.distanceMultipointMultipath(f,m(C),p,e);return this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),M}case u.G.enumPolyline:case u.G.enumPolygon:return this.distanceMultipathMultipath(m(C),f,e,p);case u.G.enumEnvelope:return this.distanceEnvelopeEnvelope(C,f,e,p);default:return Number.NaN}}distanceEnvelopeEnvelope(C,f,e,p){e.t=Number.NaN,e.index=-1,p.t=Number.NaN,p.index=-1;const M=C.asEnvelope2D(),R=f.asEnvelope2D();return Math.sqrt(M.sqrDistanceEnvelope(R,e.outPoint,p.outPoint))}distanceMultipathGeometry(C,f,e,p){switch(f.getGeometryType()){case u.G.enumPoint:{this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const M=this.distancePointMultipath(f,C,p,e);return this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),M}case u.G.enumMultiPoint:{this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const M=this.distanceMultipointMultipath(f,C,p,e);return this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),M}case u.G.enumPolyline:case u.G.enumPolygon:return this.distanceMultipathMultipath(C,f,e,p);case u.G.enumEnvelope:return this.distanceMultipathMultipath(C,m(f),e,p);default:return Number.NaN}}distanceMultipathMultipath(C,f,e,p){const M={stack:[],error:void 0,hasError:!1};try{const R=[C],B=[f],G=this.swapGeometriesIfAGtB(R,B);G&&(this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),T(e,p)),(0,a.b)(M,(0,h.h)(()=>{T(e,p),this.m_env2DgeometryB=(0,h.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!G),!1);const U=R[0],K=B[0],W=U.querySegmentIterator();W.stripAttributes();const N=K.querySegmentIterator();if(N.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const nt=Math.trunc((0,h.c)(Math.sqrt(U.getPointCount())+1,1,(0,h.i)())),st=Math.trunc((0,h.c)(Math.sqrt(U.getPointCount())+1,1,(0,h.i)()));if(this.distanceMultipointMultipoint(U,K,e,p,nt,st)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const nt=g(),st=g();if(_(U,K,W,N,nt,st))return A(e,nt),A(p,st),0}const L=S(U),b=[],z=new l.S,F=new y.J,Z=new y.J,V=new y.J;let J=this.m_maxSqrDistance,q=!0,et=!1;for(let nt=0,st=L.length;nt<st;++nt){U.querySegment(L[nt],z,!0);const H=z.get();if(H.queryEnvelope(F),!(F.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>J)){if(this.m_bIsNearCalc&&F.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=J)return 0;for(;N.nextPath();){if(this.progress_(),q)K.queryPathEnvelope(N.getPathIndex(),V),b[N.getPathIndex()]=V.clone();else if(F.sqrDistanceEnvelope(b[N.getPathIndex()],null,null)>J)continue;for(;N.hasNextSegment();){const Q=N.nextSegment();if(Q.queryEnvelope(Z),F.sqrDistanceEnvelope(Z,null,null)<=J){const k=!F.isIntersecting(Z),w=[0],Y=[0];let X=H.distance(Q,k,w,Y);if(X*=X,this.m_bIsNearCalc&&X<=this.m_maxSqrDistance)return 0;if(X<J||X===J&&L[nt]<e.index){if(et=!0,O(e,H,L[nt],w[0]),O(p,Q,N.getStartPointIndex(),Y[0]),0===X)return 0;J=X}}}}N.resetToFirstPath(),q=!1}}return et?Math.sqrt(J):Number.POSITIVE_INFINITY}catch(R){M.error=R,M.hasError=!0}finally{(0,a.c)(M)}}swapGeometriesIfAGtB(C,f){return(0,u.v)(C[0])>(0,u.v)(f[0])&&(f[0]=(0,h.b)(C[0],C[0]=f[0]),!0)}swapGeometriesIfBGtA(C,f){return this.swapGeometriesIfAGtB(f,C)}}},61501:($,j,t)=>{t.d(j,{O:()=>u});var a=t(3037);class u extends a.d{getOperatorType(){return 6}execute(x,h,y,P){return(0,a.r)(x,h,y,16,P)}}},36656:($,j,t)=>{t.r(j),t.d(j,{OperatorGeodeticDensifyByLength:()=>x,OperatorGeodeticDensifyCursor:()=>h});var a=t(1469),u=t(62257),l=t(3037);class x{getOperatorType(){return 10310}supportsCurves(){return!0}accelerateGeometry(P,g,v){return!1}canAccelerateGeometry(P){return!1}executeMany(P,g,v,D,A){return new h(P,v,D,g,-1,-1,A)}execute(P,g,v,D,A){const O=new a.S([P]),T=this.executeMany(O,g,v,D,A).next();return T||(0,u.c)("null output"),T}}class h extends a.G{constructor(P,g,v,D,A,O,T){super(),this.m_progressTracker=T,O>0&&(0,u.b)(""),4!==v&&A>0&&(0,u.b)(""),g||(0,u.t)(""),0===g.getCoordinateSystemType()&&(0,u.t)(""),D>0||A>0||(0,u.t)(""),this.m_index=-1,this.m_inputGeoms=P,this.m_spatialReference=g,this.m_curveType=v,this.m_maxLengthMeters=D,this.m_maxDeviationMeters=A,this.m_maxAngle=O}next(){{let P;for(;P=this.m_inputGeoms.next();)return(0,u.d)(P),this.m_index=this.m_inputGeoms.getGeometryID(),this.geodeticDensify(P);return null}}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}geodeticDensify(P){return(0,l.u)(P,this.m_spatialReference,this.m_curveType,this.m_maxLengthMeters,this.m_maxDeviationMeters,this.m_progressTracker)}}},98831:($,j,t)=>{t.d(j,{O:()=>u});var a=t(3037);class u extends a.d{getOperatorType(){return 4}execute(x,h,y,P){return!(0,a.r)(x,h,y,4,P)}}},55325:($,j,t)=>{t.d(j,{O:()=>u});var a=t(3037);class u extends a.d{getOperatorType(){return 9}execute(x,h,y,P){return(0,a.r)(x,h,y,32,P)}}},80775:($,j,t)=>{t.d(j,{O:()=>T});var a=t(62257),u=t(3037),l=t(95944),x=t(33165),h=t(7085),y=t(87571),P=t(9279),g=t(83875);function v(){return{m_pGcs:new x.P,m_xyz:new h.h,m_factor:Number.NaN,m_geoLength:Number.NaN,setValues:D,setLength:A,assign:O}}function D(I,m,d,E){this.m_factor=I,this.m_pGcs.assign(m),this.m_xyz.assign(E),this.m_geoLength=d}function A(I){this.m_geoLength=I}function O(I){this.m_pGcs.assign(I.m_pGcs),this.m_xyz.assign(I.m_xyz),this.m_factor=I.m_factor,this.m_geoLength=I.m_geoLength}class T{getOperatorType(){return 10315}supportsCurves(){return!0}accelerateGeometry(m,d,E){return!1}canAccelerateGeometry(m){return!1}_ExecuteShapePreservingLength(m,d,E,C,f){if(m.hasNonLinearSegments()&&(m=(new P.O).execute(m,0,d.getTolerance(0),0,f)),d.isPannable()){let e=90,p=-90;if(1===E.getUnit().getUnitToBaseFactor()&&(e*=Math.PI/180,p*=Math.PI/180),2===d.getCoordinateSystemType()){let R=null;const B=[0,0,0,0];R=d.getPECoordSys(),B[0]=0,B[1]=e,B[2]=0,B[3]=p,u.Z.geogToProj(R,2,B),e=B[1],p=B[3]}const M=new y.J;m.queryEnvelope(M),M.ymin=p,M.ymax=e,m=(new g.O).execute(m,M,d,f)}else{const e=d.getPCSHorizon();(m=(new u.f).execute(m,e,d,f))===e&&(m=m.clone())}return m.isEmpty()?0:this._ExecuteIterativeApproach(m,d,E,C,1,f)}_ExecuteIterativeApproach(m,d,E,C,f,e){const p=(0,u.G)();E.querySpheroidData(p);const M=p.majorSemiAxis,R=p.e2,B=E.getUnit().getUnitToBaseFactor(),U=(0,x.p)(v,40),K=(0,x.d)(40,Number.NaN),W=v(),N=v();let L;const b=[0,0,0,0],z=d.getPECoordSys(),F=new x.P,Z=new x.P,V=new x.P,J=new x.P,q=new x.P;let et=0;const nt=m.querySegmentIterator();for(;nt.nextPath();)for(;nt.hasNextSegment();){const st=nt.nextSegment();F.assign(st.getStartXY()),Z.assign(st.getEndXY()),2===d.getCoordinateSystemType()?(b[0]=F.x,b[1]=F.y,b[2]=Z.x,b[3]=Z.y,u.Z.projToGeog(z,2,b),V.x=b[0]*B,V.y=b[1]*B,J.x=b[2]*B,J.y=b[3]*B):(V.setCoordsPoint2D(F),J.setCoordsPoint2D(Z),V.scale(B),J.scale(B));const H=new h.h,Q=new h.h;_(M,R,V,H),_(M,R,J,Q);let k=S(M,H,Q);W.setValues(0,V,Number.NaN,H),N.setValues(1,J,k,Q),L=f,U[0].assign(N),K[0]=f;let w=0;for(;;){w>128&&(0,a.c)("iterations exceeded");const Y=.5*(W.m_factor+N.m_factor),X=st.getCoord2D(Y);2===d.getCoordinateSystemType()?(b[0]=X.x,b[1]=X.y,u.Z.projToGeog(z,1,b),q.x=b[0]*B,q.y=b[1]*B):(q.setCoordsPoint2D(X),q.scale(B)),V.setCoordsPoint2D(W.m_pGcs),J.setCoordsPoint2D(N.m_pGcs);const tt=new h.h;_(M,R,q,tt);const ot=S(M,W.m_xyz,tt),rt=S(M,N.m_xyz,tt);k=N.m_geoLength,Number.isNaN(k)&&(k=S(M,W.m_xyz,N.m_xyz));const it=ot+rt,at=L===f&&it>=20&&Math.abs(it-k)>1e-8*(k+it);if(w+2<40&&(at||Math.abs(it-k)>0&&L>0))N.setLength(rt),U[w].assign(N),N.setValues(Y,q,ot,tt),U[++w].assign(N),at?(L=f,K[w]=f):(L--,K[w-1]=L,K[w]=L);else{if(et+=it,0===w)break;W.assign(N),N.assign(U[--w]),L=K[w]}}}return et}execute(m,d,E){if(d&&0!==d.getCoordinateSystemType()||(0,a.t)(""),m.isEmpty()||m.getDimension()<1)return 0;let C=null;const f=d.getGCS();f!==d&&(C=(0,u.p)(d,f,null));const e=m.getGeometryType();if(e===a.G.enumEnvelope){const p=new l.a;return p.addEnvelope(m,!1),this._ExecuteShapePreservingLength(p,d,f,C,E)}if((0,a.f)(e)){const p=new l.P;return p.addSegment(m,!0),this._ExecuteShapePreservingLength(p,d,f,C,E)}return this._ExecuteShapePreservingLength(m,d,f,C,E)}}function _(I,m,d,E){E.assign((0,u.Q)(I,m,d))}function S(I,m,d){const E=I,C=new h.h;C.setSub(m,d);const f=C.length();return 2*E*Math.asin(f/(2*E))}},20589:($,j,t)=>{t.d(j,{O:()=>u});var a=t(3037);class u extends a.d{getOperatorType(){return 5}execute(x,h,y,P){return(0,a.r)(x,h,y,8,P)}}},62290:($,j,t)=>{t.d(j,{O:()=>u});var a=t(3037);class u extends a.d{getOperatorType(){return 7}execute(x,h,y,P){return(0,a.r)(x,h,y,2,P)}}},54626:($,j,t)=>{t.d(j,{T:()=>l});var a=t(33568);class u extends a.e{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let h=this.width(),y=this.height();if(h>0&&y>0){let P=this.get("cornerRadius",8);P=(0,a.f)(P,0,Math.min(h/2,y/2));let g=this.get("pointerX",0),v=this.get("pointerY",0),D=this.get("pointerBaseWidth",15)/2,A=0,O=0,T=0,_=(g-A)*(y-O)-(v-O)*(h-A),S=(g-T)*(0-y)-(v-y)*(h-T);const I=this._display;if(I.moveTo(P,0),_>0&&S>0){let m=Math.round((0,a.f)(g,P+D,h-D-P));v=(0,a.f)(v,-1/0,0),I.lineTo(m-D,0),I.lineTo(g,v),I.lineTo(m+D,0)}if(I.lineTo(h-P,0),I.arcTo(h,0,h,P,P),_>0&&S<0){let m=Math.round((0,a.f)(v,P+D,y-D-P));g=(0,a.f)(g,h,1/0),I.lineTo(h,P),I.lineTo(h,Math.max(m-D,P)),I.lineTo(g,v),I.lineTo(h,m+D)}if(I.lineTo(h,y-P),I.arcTo(h,y,h-P,y,P),_<0&&S<0){let m=Math.round((0,a.f)(g,P+D,h-D-P));v=(0,a.f)(v,y,1/0),I.lineTo(h-P,y),I.lineTo(m+D,y),I.lineTo(g,v),I.lineTo(m-D,y)}if(I.lineTo(P,y),I.arcTo(0,y,0,y-P,P),_<0&&S>0){let m=Math.round((0,a.f)(v,P+D,y-P-D));g=(0,a.f)(g,-1/0,0),I.lineTo(0,y-P),I.lineTo(0,m+D),I.lineTo(g,v),I.lineTo(0,Math.max(m-D,P))}I.lineTo(0,P),I.arcTo(0,0,P,0,P),I.closePath()}}}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.e.classNames.concat([u.className])});class l extends a.g{constructor(h,y,P,g=[]){super(h,y,P,g),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=(0,a.m)(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>u.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(a.L.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",h=>{h&&(this._disposers.push((0,a.h)(h,"pointerover",y=>{this._htmlContentHovered=!0})),this._disposers.push((0,a.h)(h,"pointerout",y=>{this._htmlContentHovered=!1})))})),this.on("visible",h=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",h=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),(0,a.r)(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML")),null!=this.get("labelAriaLabel")&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const h=this.get("background");this._keepHoverDp=new a.M([h.events.on("pointerover",y=>{let P=this.get("tooltipTarget");P&&(P.parent&&P.parent.getPrivate("tooltipTarget")==P&&(P=P.parent),P.hover())}),h.events.on("pointerout",y=>{let P=this.get("tooltipTarget");P&&(P.parent&&P.parent.getPrivate("tooltipTarget")==P&&(P=P.parent),this._htmlContentHovered||P.unhover())})]),this.label.onPrivate("htmlElement",y=>{this._keepHoverDp&&y&&this._keepHoverDp.disposers.push((0,a.h)(y,"pointerleave",P=>{const g=this.root._renderer.getEvent(P);h.events.dispatch("pointerout",{type:"pointerout",originalEvent:g.event,point:g.point,simulated:!1,target:h})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let h=this.get("tooltipTarget");const y=this.get("background");let P,g;h&&y&&(P=h.get("fill"),g=h.get("stroke"),null==P&&(P=g),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=P&&y.set("fill",P),this._fillDp=h.on("fill",v=>{null!=v&&(y.set("fill",v),this._updateTextColor(v))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=P&&y.set("stroke",P),this._strokeDp=h.on("fill",v=>{null!=v&&y.set("stroke",v)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=P&&this.label.set("fill",P),this._labelDp=h.on("fill",v=>{null!=v&&this.label.set("fill",v)}),this._disposers.push(this._labelDp))),this._updateTextColor(P)}_updateTextColor(h){this.get("autoTextColor")&&(null==h&&(h=this.get("background").get("fill")),null==h&&(h=this._root.interfaceColors.get("background")),h instanceof a.C&&this.label.set("fill",a.C.alternative(h,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(h){super._setDataItem(h),this.label._setDataItem(h)}_updateBackground(){super.updateBackground();const h=this._root.container;if(h){let y=.5,P=.5,g=this.get("centerX");g instanceof a.P&&(y=g.value);let v=this.get("centerY");v instanceof a.P&&(P=v.value);let D=h.width(),A=h.height(),O=this.parent,T=0,_=0;if(O){T=O.x(),_=O.y();const N=O.get("layerMargin");N&&(T+=N.left||0,_+=N.top||0,D+=(N.left||0)+(N.right||0),A+=(N.top||0)+(N.bottom||0))}const S=this.get("bounds",{left:-T,top:-_,right:D-T,bottom:A-_});this._updateBounds();let I=this.width(),m=this.height();0===I&&(I=this._w),0===m&&(m=this._h);let d=this.get("pointTo",{x:D/2,y:A/2}),E=d.x,C=d.y,f=this.get("pointerOrientation"),e=this.get("background"),p=0,M=0,R=0;e instanceof u&&(p=e.get("pointerLength",0),M=e.get("strokeWidth",0)/2,R=M,e.set("width",I),e.set("height",m));let B=0,G=0,U=S.right-S.left,K=S.bottom-S.top;"horizontal"==f||"left"==f||"right"==f?(M=0,"horizontal"==f?E>S.left+U/2?(E-=I*(1-y)+p,R*=-1):E+=I*y+p:"left"==f?E+=I*(1-y)+p:(E-=I*y+p,R*=-1)):(R=0,"vertical"==f?C>S.top+m/2+p?C-=m*(1-P)+p:(C+=m*P+p,M*=-1):"down"==f?C-=m*(1-P)+p:(C+=m*P+p,M*=-1)),E=(0,a.f)(E,S.left+I*y,S.left+U-I*(1-y))+R,C=(0,a.f)(C,S.top+m*P,S.top+K-m*(1-P))-M,B=d.x-E+I*y+R,G=d.y-C+m*P-M,this._fx=E,this._fy=C;const W=this.get("animationDuration",0);if(W>0&&this.get("visible")&&this.get("opacity")>.1){const N=this.get("animationEasing");this.animate({key:"x",to:E,duration:W,easing:N}),this.animate({key:"y",to:C,duration:W,easing:N})}else this.set("x",E),this.set("y",C);e instanceof u&&(e.set("pointerX",B),e.set("pointerY",G)),I>0&&(this._w=I),m>0&&(this._h=m)}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.g.classNames.concat([l.className])})},3020:($,j,t)=>{t.d(j,{a:()=>h,e:()=>l,s:()=>x});var a=t(82663),u=t(90669);function l(y,P={}){const{unit:g}=P;let v=(0,u.fromGeometry)(y).calculateArea2D();if(v&&g){const D=(0,u.getSpatialReference)(y);if(D.isGeographic)throw new Error("Unable to convert from an angular area unit to a linear area unit.");const A=(0,a.B5)(D);A!==g&&(A?v=(0,a.oU)(v,A,g):(v=Math.sqrt(v),v*=(0,a.GA)(D),v**=2,v=(0,a.oU)(v,"square-meters",g)))}return v}const x=!0,h=Object.freeze(Object.defineProperty({__proto__:null,execute:l,supportsCurves:x},Symbol.toStringTag,{value:"Module"}))},84969:($,j,t)=>{t.d(j,{c:()=>P,e:()=>h,s:()=>y});var a=t(23226),u=t(90669);const x=new class l{getOperatorType(){return 10205}accelerateGeometry(v,D,A){return!1}canAccelerateGeometry(v){return!1}supportsCurves(){return!0}execute(v,D){return(0,a.c)(v)}};function h(g){const v=x.execute((0,u.fromGeometry)(g),null);return(0,u.toPoint)(v,(0,u.getSpatialReference)(g))}const y=x.supportsCurves(),P=Object.freeze(Object.defineProperty({__proto__:null,execute:h,supportsCurves:y},Symbol.toStringTag,{value:"Module"}))},27523:($,j,t)=>{t.d(j,{a:()=>x,c:()=>y,e:()=>l,s:()=>h});var a=t(82523),u=t(90669);function l(P,g){const v=(0,u.getSpatialReference)(P),D=(0,u.fromExtent)(g).asEnvelope2D();return(0,u.toGeometry)((0,a.g7)((0,u.fromGeometry)(P),D,(0,u.fromSpatialReference)(v)),v)}function x(P,g){const v=P.map(u.fromGeometry),D=(0,u.getSpatialReference)(P),A=(0,u.fromExtent)(g).asEnvelope2D();return(0,a.zo)(v,A,(0,u.fromSpatialReference)(D)).map(O=>(0,u.toGeometry)(O,D))}const h=(0,a.fz)(),y=Object.freeze(Object.defineProperty({__proto__:null,execute:l,executeMany:x,supportsCurves:h},Symbol.toStringTag,{value:"Module"}))},44989:($,j,t)=>{t.d(j,{c:()=>y,e:()=>x,s:()=>h});var a=t(89952),u=t(31122),l=t(90669);function x(P,g){const v=(0,l.getSpatialReference)(P);return(0,u.g)((0,l.fromGeometry)(P),(0,l.fromPolyline)(g),(0,l.fromSpatialReference)(v)).map(D=>(0,l.toGeometry)(D,v)).filter(a.Ru)}const h=(0,u.f)(),y=Object.freeze(Object.defineProperty({__proto__:null,execute:x,supportsCurves:h},Symbol.toStringTag,{value:"Module"}))},11583:($,j,t)=>{t.d(j,{a:()=>P,d:()=>v,e:()=>y,s:()=>g});var a=t(89952),u=t(69287),l=t(82663),x=t(94583),h=t(90669);function y(D,A,O={}){let{maxAngleInDegrees:T=0,maxDeviation:_=0,unit:S}=O;const I=(0,h.getSpatialReference)(D);return S&&(A=(0,l.UW)(A,S,I),_&&(_=(0,l.UW)(_,S,I))),(0,h.toGeometry)((0,x.g7)((0,h.fromGeometry)(D),A,_,(0,u.kU)(T)),I)}function P(D,A,O={}){let{maxAngleInDegrees:T=0,maxDeviation:_=0,unit:S}=O;const I=D.map(h.fromGeometry),m=(0,h.getSpatialReference)(D);return S&&(A=(0,l.UW)(A,S,m),_&&(_=(0,l.UW)(_,S,m))),(0,x.zo)(I,A,_,(0,u.kU)(T)).map(d=>(0,h.toGeometry)(d,m)).filter(a.Ru)}const g=(0,x.fz)(),v=Object.freeze(Object.defineProperty({__proto__:null,execute:y,executeMany:P,supportsCurves:g},Symbol.toStringTag,{value:"Module"}))},77922:($,j,t)=>{t.d(j,{a:()=>x,d:()=>y,e:()=>l,s:()=>h});var a=t(77490),u=t(90669);function l(P,g){const v=(0,u.getSpatialReference)(P);return(0,u.toGeometry)((0,a.g7)((0,u.fromGeometry)(P),(0,u.fromGeometry)(g),(0,u.fromSpatialReference)(v)),v)}function x(P,g){const v=P.map(u.fromGeometry),D=(0,u.getSpatialReference)(P);return(0,a.zo)(v,(0,u.fromGeometry)(g),(0,u.fromSpatialReference)(D)).map(A=>(0,u.toGeometry)(A,D))}const h=(0,a.fz)(),y=Object.freeze(Object.defineProperty({__proto__:null,execute:l,executeMany:x,supportsCurves:h},Symbol.toStringTag,{value:"Module"}))},91418:($,j,t)=>{t.d(j,{d:()=>v,e:()=>P,s:()=>g});var a=t(62257),u=t(47402),l=t(82663),x=t(90669);const y=new class h{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(A,O,T){return!1}canAccelerateGeometry(A){return!1}execute(A,O,T){return this.executeEx(A,O,T,null,null,Number.NaN)}executeEx(A,O,T,_,S,I){if(A.isEmpty()||O.isEmpty())return Number.NaN;(0,a.d)(A),(0,a.d)(O);const m=A,d=O;Number.isNaN(I)&&(I=Number.POSITIVE_INFINITY);const E=new u.D(I,T).calculate(m,d,_,S);return Number.isFinite(E)?E:Number.NaN}};function P(D,A,O={}){const{unit:T}=O;let _=y.execute((0,x.fromGeometry)(D),(0,x.fromGeometry)(A),null);if(_&&T){const S=(0,x.getSpatialReference)(D);_=(0,l.PQ)(_,S,T)}return _}const g=y.supportsCurves(),v=Object.freeze(Object.defineProperty({__proto__:null,execute:P,supportsCurves:g},Symbol.toStringTag,{value:"Module"}))},91668:($,j,t)=>{t.d(j,{a:()=>h,b:()=>y,e:()=>g,s:()=>P});var a=t(3037),u=t(90669);const x=new class l extends a.d{getOperatorType(){return 2}execute(D,A,O,T){return(0,a.r)(D,A,O,3,T)}};function h(v){const D=(0,u.getSpatialReference)(v);return x.accelerateGeometry((0,u.fromGeometry)(v),(0,u.fromSpatialReference)(D),1)}function y(v,D){return x.execute((0,u.fromGeometry)(v),(0,u.fromGeometry)(D),(0,u.fromSpatialReference)(v.spatialReference),null)}const P=x.supportsCurves(),g=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:h,execute:y,supportsCurves:P},Symbol.toStringTag,{value:"Module"}))},1163:($,j,t)=>{t.d(j,{a:()=>y,e:()=>h,g:()=>g,s:()=>P});var a=t(89952),u=t(82663),l=t(5635),x=t(90669);function h(v,D,A={}){const{removeDegenerateParts:O=!1,unit:T}=A,_=(0,x.getSpatialReference)(v);return T&&(D=(0,u.UW)(D,T,_)),(0,x.toGeometry)((0,l.g7)((0,x.fromGeometry)(v),D,O),_)}function y(v,D,A={}){const{removeDegenerateParts:O=!1,unit:T}=A,_=v.map(x.fromGeometry),S=(0,x.getSpatialReference)(v);return T&&(D=(0,u.UW)(D,T,S)),(0,l.zo)(_,D,O).map(I=>(0,x.toGeometry)(I,S)).filter(a.Ru)}const P=(0,l.fz)(),g=Object.freeze(Object.defineProperty({__proto__:null,execute:h,executeMany:y,supportsCurves:P},Symbol.toStringTag,{value:"Module"}))},63606:($,j,t)=>{t.d(j,{e:()=>O,g:()=>T,i:()=>v,l:()=>D,s:()=>g});var a=t(10467),u=t(82663),l=t(85366),x=t(66768);let h,y,P,g;function v(){return!!h&&(0,l.s1)()}function D(){return A.apply(this,arguments)}function A(){return(A=(0,a.A)(function*(){if(!v()){const[_]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(4931),t.e(1742)]).then(t.bind(t,90669)),(0,l.Hh)()]);h=_.fromGeometry,y=_.fromSpatialReference,P=_.getSpatialReference,g=(0,l.fz)()}})).apply(this,arguments)}function O(_,S={}){const{curveType:I="geodesic",unit:m}=S,d=P(_);let E=(0,l.g7)(h(_),y(d),x.O[I]);return E&&m&&(E=(0,u.oU)(E,"square-meters",m)),E}const T=Object.freeze(Object.defineProperty({__proto__:null,execute:O,isLoaded:v,load:D,get supportsCurves(){return g}},Symbol.toStringTag,{value:"Module"}))},88709:($,j,t)=>{t.d(j,{a:()=>_,e:()=>T,g:()=>S,i:()=>D,l:()=>A,s:()=>v});var a=t(10467),u=t(82663),l=t(89981),x=t(66768);let h,y,P,g,v;function D(){return!!h&&(0,l.s1)()}function A(){return O.apply(this,arguments)}function O(){return(O=(0,a.A)(function*(){if(!D()){const[I]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(4931),t.e(669)]).then(t.bind(t,90669)),(0,l.Hh)()]);h=I.fromGeometry,y=I.fromSpatialReference,P=I.getSpatialReference,g=I.toGeometry,v=(0,l.fz)()}})).apply(this,arguments)}function T(I,m,d={}){const{curveType:E="geodesic",unit:C}=d;C&&(m=(0,u.oU)(m,C,"meters"));const f=P(I);return g((0,l.g7)(h(I),m,y(f),x.O[E]),f)}function _(I,m,d={}){const{curveType:E="geodesic",unit:C}=d;C&&(m=(0,u.oU)(m,C,"meters"));const f=I.map(h),e=P(I);return(0,l.zo)(f,m,y(e),x.O[E]).map(p=>g(p,e))}const S=Object.freeze(Object.defineProperty({__proto__:null,execute:T,executeMany:_,isLoaded:D,load:A,get supportsCurves(){return v}},Symbol.toStringTag,{value:"Module"}))},46799:($,j,t)=>{t.d(j,{e:()=>O,g:()=>T,i:()=>v,l:()=>D,s:()=>g});var a=t(10467),u=t(82663),l=t(64599),x=t(66768);let h,y,P,g;function v(){return!!h&&(0,l.s1)()}function D(){return A.apply(this,arguments)}function A(){return(A=(0,a.A)(function*(){if(!v()){const[_]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(4931),t.e(1742)]).then(t.bind(t,90669)),(0,l.Hh)()]);h=_.fromGeometry,y=_.fromSpatialReference,P=_.getSpatialReference,g=(0,l.fz)()}})).apply(this,arguments)}function O(_,S={}){const{curveType:I="geodesic",unit:m}=S,d=P(_);let E=(0,l.g7)(h(_),y(d),x.O[I]);return E&&m&&(E=(0,u.oU)(E,"meters",m)),E}const T=Object.freeze(Object.defineProperty({__proto__:null,execute:O,isLoaded:v,load:D,get supportsCurves(){return g}},Symbol.toStringTag,{value:"Module"}))},92713:($,j,t)=>{t.d(j,{A:()=>U,B:()=>K,C:()=>W,D:()=>N,E:()=>L,F:()=>b,G:()=>z,H:()=>F,I:()=>Z,J:()=>V,K:()=>J,L:()=>q,M:()=>et,N:()=>nt,a:()=>h,b:()=>y,c:()=>x,d:()=>P,e:()=>l,f:()=>g,g:()=>st,h:()=>v,i:()=>D,j:()=>T,k:()=>I,l:()=>d,m:()=>E,n:()=>C,o:()=>_,p:()=>f,q:()=>p,r:()=>S,s:()=>m,t:()=>A,u:()=>e,v:()=>M,w:()=>O,x:()=>R,y:()=>B,z:()=>G});var a=t(53930),u=t(79915);function l(H){return a.G.extendedSpatialReferenceInfo(H)}function x(H,Q,k){return a.G.clip(u.g,H,Q,k)}function h(H,Q,k){return a.G.cut(u.g,H,Q,k)}function y(H,Q,k){return a.G.contains(u.g,H,Q,k)}function P(H,Q,k){return a.G.crosses(u.g,H,Q,k)}function g(H,Q,k,w){return a.G.distance(u.g,H,Q,k,w)}function v(H,Q,k){return a.G.equals(u.g,H,Q,k)}function D(H,Q,k){return a.G.intersects(u.g,H,Q,k)}function A(H,Q,k){return a.G.touches(u.g,H,Q,k)}function O(H,Q,k){return a.G.within(u.g,H,Q,k)}function T(H,Q,k){return a.G.disjoint(u.g,H,Q,k)}function _(H,Q,k){return a.G.overlaps(u.g,H,Q,k)}function S(H,Q,k,w){return a.G.relate(u.g,H,Q,k,w)}function I(H,Q){return a.G.isSimple(u.g,H,Q)}function m(H,Q){return a.G.simplify(u.g,H,Q)}function d(H,Q,k=!1){return a.G.convexHull(u.g,H,Q,k)}function E(H,Q,k){return a.G.difference(u.g,H,Q,k)}function C(H,Q,k){return a.G.symmetricDifference(u.g,H,Q,k)}function f(H,Q,k){return a.G.intersect(u.g,H,Q,k)}function e(H,Q,k=null){return a.G.union(u.g,H,Q,k)}function p(H,Q,k,w,Y,X,tt){return a.G.offset(u.g,H,Q,k,w,Y,X,tt)}function M(H,Q,k,w,Y=!1){return a.G.buffer(u.g,H,Q,k,w,Y)}function R(H,Q,k,w,Y,X,tt){return a.G.geodesicBuffer(u.g,H,Q,k,w,Y,X,tt)}function B(H,Q,k,w=!0){return a.G.nearestCoordinate(u.g,H,Q,k,w)}function G(H,Q,k){return a.G.nearestVertex(u.g,H,Q,k)}function U(H,Q,k,w,Y){return a.G.nearestVertices(u.g,H,Q,k,w,Y)}function K(H,Q,k,w){if(null==Q||null==w)throw new Error("Illegal Argument Exception");const Y=a.G.rotate(Q,k,w);return Y.spatialReference=H,Y}function W(H,Q,k){if(null==Q||null==k)throw new Error("Illegal Argument Exception");const w=a.G.flipHorizontal(Q,k);return w.spatialReference=H,w}function N(H,Q,k){if(null==Q||null==k)throw new Error("Illegal Argument Exception");const w=a.G.flipVertical(Q,k);return w.spatialReference=H,w}function L(H,Q,k,w,Y){return a.G.generalize(u.g,H,Q,k,w,Y)}function b(H,Q,k,w){return a.G.densify(u.g,H,Q,k,w)}function z(H,Q,k,w,Y=0){return a.G.geodesicDensify(u.g,H,Q,k,w,Y)}function F(H,Q,k){return a.G.planarArea(u.g,H,Q,k)}function Z(H,Q,k){return a.G.planarLength(u.g,H,Q,k)}function V(H,Q,k,w){return a.G.geodesicArea(u.g,H,Q,k,w)}function J(H,Q,k,w){return a.G.geodesicLength(u.g,H,Q,k,w)}function q(H,Q,k){return null==Q||null==k?[]:a.G.intersectLinesToPoints(u.g,H,Q,k)}function et(H,Q){a.G.changeDefaultSpatialReferenceTolerance(H,Q)}function nt(H){a.G.clearDefaultSpatialReferenceTolerance(H)}const st=Object.freeze(Object.defineProperty({__proto__:null,buffer:M,changeDefaultSpatialReferenceTolerance:et,clearDefaultSpatialReferenceTolerance:nt,clip:x,contains:y,convexHull:d,crosses:P,cut:h,densify:b,difference:E,disjoint:T,distance:g,equals:v,extendedSpatialReferenceInfo:l,flipHorizontal:W,flipVertical:N,generalize:L,geodesicArea:V,geodesicBuffer:R,geodesicDensify:z,geodesicLength:J,intersect:f,intersectLinesToPoints:q,intersects:D,isSimple:I,nearestCoordinate:B,nearestVertex:G,nearestVertices:U,offset:p,overlaps:_,planarArea:F,planarLength:Z,relate:S,rotate:K,simplify:m,symmetricDifference:C,touches:A,union:e,within:O},Symbol.toStringTag,{value:"Module"}))},48860:($,j,t)=>{t.d(j,{a:()=>P,b:()=>g,g:()=>y,p:()=>D,s:()=>v});var a=t(40813),u=t(82663),l=t(90669),x=t(61325);const h=new a.O;function y(A,O,T={}){const{calculateLeftRightSide:_=!1,testPolygonInterior:S=!0,unit:I}=T,m=h.getNearestCoordinate((0,l.fromGeometry)(A),(0,l.fromPoint)(O).getXY(),S,_);if(I&&m.m_distance){const d=(0,l.getSpatialReference)(A);m.m_distance=(0,u.PQ)(m.m_distance,d,I)}return(0,x.C)(m,A,_)}function P(A,O,T={}){const{unit:_}=T,S=h.getNearestVertex((0,l.fromGeometry)(A),(0,l.fromPoint)(O).getXY());if(_&&S.m_distance){const I=(0,l.getSpatialReference)(A);S.m_distance=(0,u.PQ)(S.m_distance,I,_)}return(0,x.C)(S,A)}function g(A,O,T,_,S={}){const{unit:I}=S,m=(0,l.getSpatialReference)(A);return I&&T&&(T=(0,u.UW)(T,I,m)),h.getNearestVertices((0,l.fromGeometry)(A),(0,l.fromPoint)(O).getXY(),T,_).map(d=>(I&&d.m_distance&&(d.m_distance=(0,u.PQ)(d.m_distance,m,I)),(0,x.C)(d,A)))}const v=h.supportsCurves(),D=Object.freeze(Object.defineProperty({__proto__:null,getNearestCoordinate:y,getNearestVertex:P,getNearestVertices:g,supportsCurves:v},Symbol.toStringTag,{value:"Module"}))},38408:($,j,t)=>{t.d(j,{a:()=>h,e:()=>y,i:()=>P,r:()=>v,s:()=>g});var a=t(3037),u=t(90669);const x=new class l{supportsCurves(){return!0}getOperatorType(){return 1}execute(A,O,T,_,S){return(0,a.ad)(A,O,T,_,S)}isValidDE9IM(A){return 0===(0,a.ae)(A)}accelerateGeometry(A,O,T){return(0,a.af)(A,O,T)}canAccelerateGeometry(A){return(0,a.ag)(A)}};function h(D){const A=(0,u.getSpatialReference)(D);return x.accelerateGeometry((0,u.fromGeometry)(D),(0,u.fromSpatialReference)(A),1)}function y(D,A,O){return x.execute((0,u.fromGeometry)(D),(0,u.fromGeometry)(A),(0,u.fromSpatialReference)(D.spatialReference),O,null)}function P(D){return x.isValidDE9IM(D)}const g=x.supportsCurves(),v=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:h,execute:y,isValidDE9IM:P,supportsCurves:g},Symbol.toStringTag,{value:"Module"}))},10301:($,j,t)=>{t.d(j,{a:()=>h,b:()=>y,e:()=>x,s:()=>P});var a=t(89952),u=t(74149),l=t(90669);function x(g,v){const D=(0,l.getSpatialReference)(g);return(0,l.toGeometry)((0,u.g7)((0,l.fromGeometry)(g),(0,l.fromGeometry)(v),(0,l.fromSpatialReference)(D)),D)}function h(g,v){const D=g.map(l.fromGeometry),A=(0,l.getSpatialReference)(g);return(0,u.zo)(D,(0,l.fromGeometry)(v),(0,l.fromSpatialReference)(A)).map(O=>(0,l.toGeometry)(O,A)).filter(a.Ru)}const y=(0,u.fz)(),P=Object.freeze(Object.defineProperty({__proto__:null,execute:x,executeMany:h,supportsCurves:y},Symbol.toStringTag,{value:"Module"}))},25968:($,j,t)=>{t.d(j,{P:()=>A});var a=t(5922),u=t(55144),l=t(99305),x=t(45272),h=t(43085),y=t(2716),P=t(26514),g=t(85211),v=t(20368),D=t(88135);function A(f){const e=f?.origins??[void 0];return(p,M)=>{const R=function O(f,e,p){if("resource"===f?.type)return function T(f,e,p){const M=(0,y.z4)(e,p);return{type:String,read:(R,B,G)=>{const U=(0,D.r)(R,B,G);return M.type===String?U:"function"==typeof M.type?new M.type({url:U}):void 0},write:{isRequired:M.json?.write?.isRequired,writer(R,B,G,U){if(!U?.resources)return"string"==typeof R?void(B[G]=(0,D.t)(R,U)):void(B[G]=R.write({},U));const K=function E(f){return null==f?null:"string"==typeof f?f:f.url}(R),W=(0,D.t)(K,{...U,verifyItemRelativeUrls:U?.verifyItemRelativeUrls?{writtenUrls:U.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},D.M.NO),N=M.type!==String&&(!(0,l.H)(this)||U?.origin&&this.originIdOf(p)>(0,P.aB)(U.origin)),L={object:this,propertyName:p,value:R,targetUrl:W,dest:B,targetPropertyName:G,context:U,params:f};U?.portalItem&&W&&!(0,x.oP)(W)?N&&f?.contentAddressed?_(L):N?function S(f){const{context:e,targetUrl:p,params:M,value:R,dest:B,targetPropertyName:G}=f;if(!e.portalItem)return;const U=e.portalItem.resourceFromPath(p),K=d(R,p,e),W=(0,v.n)(K),N=(0,x.Zo)(U.path),L=M?.compress??!1;W===N?(e.resources&&m({...f,resource:U,content:K,compress:L,updates:e.resources.toUpdate}),B[G]=p):_(f)}(L):function I({context:f,targetUrl:e,dest:p,targetPropertyName:M}){f.portalItem&&f.resources&&(f.resources.toKeep.push({resource:f.portalItem.resourceFromPath(e),compress:!1}),p[M]=e)}(L):U?.portalItem&&(null==W||null!=(0,D.i)(W)||(0,x.w8)(W)||N)?_(L):B[G]=W}}}}(f,e,p);switch(f?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:M,write:R}=D.b;return{read:M,write:R}}}}(f,p,M);for(const B of e){const G=(0,g.rM)(p,B,M);for(const U in R)G[U]=R[U]}}}function _(f){const{targetUrl:e,params:p,value:M,context:R,dest:B,targetPropertyName:G}=f;if(!R.portalItem)return;const U=(0,D.p)(e),K=d(M,e,R);if(p?.contentAddressed&&"json"!==K.type)return void R.messages?.push(new a.A("persistable:contentAddressingUnsupported",`Property "${G}" is trying to serializing a resource with content of type ${K.type} with content addressing. Content addressing is only supported for json resources.`,{content:K}));const W=p?.contentAddressed&&"json"===K.type?(0,u.d)(K.jsonString):U?.filename??(0,h.lk)(),N=(0,x.fj)(p?.prefix??U?.prefix,W),L=`${N}.${(0,v.n)(K)}`;if(p?.contentAddressed&&R.resources&&"json"===K.type){const F=R.resources.toKeep.find(({resource:Z})=>Z.path===L)??R.resources.toAdd.find(({resource:Z})=>Z.path===L);if(F)return void(B[G]=F.resource.itemRelativeUrl)}const b=R.portalItem.resourceFromPath(L);(0,x.w8)(e)&&R.resources&&R.resources.pendingOperations.push((0,x.tk)(e).then(F=>{b.path=`${N}.${(0,v.n)({type:"blob",blob:F})}`,B[G]=b.itemRelativeUrl}).catch(()=>{}));const z=p?.compress??!1;R.resources&&m({...f,resource:b,content:K,compress:z,updates:R.resources.toAdd}),B[G]=b.itemRelativeUrl}function m({object:f,propertyName:e,updates:p,resource:M,content:R,compress:B}){p.push({resource:M,content:R,compress:B,finish:U=>{!function C(f,e,p){"string"==typeof f[e]?f[e]=p.url:f[e].url=p.url}(f,e,U)}})}function d(f,e,p){return"string"==typeof f?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(f.toJSON(p))}}},10249:($,j,t)=>{t.d(j,{O:()=>A,W:()=>D});var a=t(31610),u=t(32954),l=t(83953),x=t(28714);const y=(0,t(25866).vt)(),P=(0,u.vt)(),g=(0,u.vt)(),v=(0,u.vt)();function D(T,_,S){return(0,x.i)(y,_[0],_[1],1),(0,x.q)(y,y,(0,a.mg)(P,S)),0===y[2]?(0,l.hZ)(T,y[0],y[1]):(0,l.hZ)(T,y[0]/y[2],y[1]/y[2])}function A(T,_,S){return O(g,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]),O(v,S[0],S[1],S[2],S[3],S[4],S[5],S[6],S[7]),(0,a.lw)(T,(0,a.KC)(g,g),v),0!==T[8]&&(T[0]/=T[8],T[1]/=T[8],T[2]/=T[8],T[3]/=T[8],T[4]/=T[8],T[5]/=T[8],T[6]/=T[8],T[7]/=T[8],T[8]/=T[8]),T}function O(T,_,S,I,m,d,E,C,f){(0,a.hZ)(T,_,I,d,S,m,E,1,1,1),(0,x.i)(y,C,f,1),(0,a.KC)(P,T);const[e,p,M]=(0,x.q)(y,y,(0,a.mg)(P,P));return(0,a.hZ)(P,e,0,0,0,p,0,0,0,M),(0,a.lw)(T,P,T)}},94542:($,j,t)=>{t.d(j,{B:()=>y});var a=t(89952),u=t(17715),l=t(35150),x=t(56492),h=t(19284);class y{constructor(g,v,D,A,O={}){this._mainMethod=v,this._transferLists=D,this._listeners=[],this._promise=(0,h.ho)(g,{...O,schedule:A}).then(T=>{if(void 0===this._thread){this._thread=T,this._promise=null,O.hasInitialize&&this.broadcast({},"initialize");for(const _ of this._listeners)this._connectListener(_)}else T.close()}),this._promise.catch(T=>l.A.getLogger("esri.core.workers.WorkerHandle").error(`Failed to initialize ${g} worker: ${T}`))}on(g,v){const D={removed:!1,eventName:g,callback:v,threadHandle:null};return this._listeners.push(D),this._connectListener(D),(0,u.hA)(()=>{D.removed=!0,(0,a.TF)(this._listeners,D),this._thread&&null!=D.threadHandle&&D.threadHandle.remove()})}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(g,v){return this.invokeMethod(this._mainMethod,g,v)}invokeMethod(g,v,D){if(this._thread){const A=this._transferLists[g],O=A?A(v):[];return this._thread.invoke(g,v,{transferList:O,signal:D})}return this._promise?this._promise.then(()=>((0,x.Te)(D),this.invokeMethod(g,v,D))):Promise.reject(null)}broadcast(g,v){return this._thread?Promise.all(this._thread.broadcast(v,g)).then(()=>{}):this._promise?this._promise.then(()=>this.broadcast(g,v)):Promise.reject()}get promise(){return this._promise}_connectListener(g){this._thread&&this._thread.on(g.eventName,g.callback).then(v=>{g.removed||(g.threadHandle=v)})}}},27815:($,j,t)=>{t.r(j),t.d(j,{buffer:()=>l.v,changeDefaultSpatialReferenceTolerance:()=>l.M,clearDefaultSpatialReferenceTolerance:()=>l.N,clip:()=>l.c,contains:()=>l.b,convexHull:()=>l.l,crosses:()=>l.d,cut:()=>l.a,densify:()=>l.F,difference:()=>l.m,disjoint:()=>l.j,distance:()=>l.f,equals:()=>l.h,extendedSpatialReferenceInfo:()=>l.e,flipHorizontal:()=>l.C,flipVertical:()=>l.D,generalize:()=>l.E,geodesicArea:()=>l.J,geodesicBuffer:()=>l.x,geodesicDensify:()=>l.G,geodesicLength:()=>l.K,intersect:()=>l.p,intersectLinesToPoints:()=>l.L,intersects:()=>l.i,isSimple:()=>l.k,nearestCoordinate:()=>l.y,nearestVertex:()=>l.z,nearestVertices:()=>l.A,offset:()=>l.q,overlaps:()=>l.o,planarArea:()=>l.H,planarLength:()=>l.I,relate:()=>l.r,rotate:()=>l.B,simplify:()=>l.s,symmetricDifference:()=>l.n,touches:()=>l.t,union:()=>l.u,within:()=>l.w}),t(53930),t(79915);var l=t(92713)},36073:($,j,t)=>{t.r(j),t.d(j,{execute:()=>A,executeMany:()=>O,supportsCurves:()=>T});var a=t(89952),u=t(1469),l=t(62257);class h extends u.G{constructor(S,I,m){super(),this.m_index=-1,this.m_transformation=I.clone(),this.m_inputGeometryCursor=S}next(){let S;if(S=this.m_inputGeometryCursor.next()){(0,l.d)(S),this.m_index=this.m_inputGeometryCursor.getGeometryID();const I=S.clone();return I.applyTransformation(this.m_transformation),I}return null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}const y=new class x{getOperatorType(){return 10303}supportsCurves(){return!0}accelerateGeometry(S,I,m){return!1}canAccelerateGeometry(S){return!1}executeMany(S,I,m){return new h(S,I,m)}execute(S,I,m){const d=S.clone();return d.applyTransformation(I),d}};var D=t(90669);function A(_,S){const I=(0,D.getSpatialReference)(_);return(0,D.toGeometry)(function P(_,S){return y.execute(_,S,null)}((0,D.fromGeometry)(_),S.transform),I)}function O(_,S){const I=_.map(D.fromGeometry),m=(0,D.getSpatialReference)(_);return function g(_,S){const I=y.executeMany(new u.S(_),S,null);return Array.from(I)}(I,S.transform).map(d=>(0,D.toGeometry)(d,m)).filter(a.Ru)}const T=function v(){return y.supportsCurves()}()},82523:($,j,t)=>{t.d(j,{fz:()=>y,g7:()=>x,zo:()=>h});var a=t(1469);const l=new(t(83875).O);function x(P,g,v){return l.execute(P,g,v,null)}function h(P,g,v){const D=l.executeMany(new a.S(P),g,v,null);return Array.from(D)}function y(){return l.supportsCurves()}},89113:($,j,t)=>{t.d(j,{fz:()=>I,g7:()=>O,qT:()=>_,zo:()=>T});var a=t(1469),u=t(62257),l=t(7085),x=t(95944),h=t(87571);class P extends a.G{constructor(d,E,C){super(),E||(0,u.t)(""),this.m_progressTracker=C,this.m_index=-1,this.m_bMerge=d,this.m_bDone=!1,this.m_inputGeometryCursor=E}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}next(){if(this.m_bMerge){if(!this.m_bDone){const d=g(this.m_inputGeometryCursor);return this.m_bDone=!0,d}return null}if(!this.m_bDone){const d=this.m_inputGeometryCursor.next();if(null!==d)return(0,u.l)(d),(0,u.d)(d),this.m_index=this.m_inputGeometryCursor.getGeometryID(),v(d);this.m_bDone=!0}return null}}function g(m,d){const E=new x.C;let C;for(;C=m.next();)(0,u.l)(C),(0,u.d)(C),E.addGeometry(C);return E.getBoundingGeometry()}function v(m,d){if(m||(0,u.t)(""),(0,u.l)(m),(0,u.d)(m),m.isEmpty())return m.createInstance();const E=m.getGeometryType();if((0,u.f)(E)){const C=m;if(C.getStartXY().equals(C.getEndXY())){const f=new l.P;return C.queryStart(f),f}{const f=new l.P,e=new x.P({vd:m.getDescription()});return C.queryStart(f),e.startPathPoint(f),C.queryEnd(f),e.lineToPoint(f),e}}if(E===u.G.enumEnvelope){const C=m,f=new h.J;if(C.queryEnvelope(f),f.xmin===f.xmax&&f.ymin===f.ymax){const e=new l.P;return C.queryCornerByVal(0,e),e}if(f.xmin===f.xmax||f.ymin===f.ymax){const e=new l.P,p=new x.P({vd:m.getDescription()});return C.queryCornerByVal(0,e),p.startPathPoint(e),C.queryCornerByVal(1,e),p.lineToPoint(e),p}{const e=new x.a({vd:m.getDescription()});return e.addEnvelope(C,!1),e}}if(E===u.G.enumGeometryCollection)return g((0,x.g)(m,-1));if(D(m)){if(E===u.G.enumMultiPoint){const C=m,f=new l.P;return C.getPointByVal(0,f),f}return m}return(0,x.f)(m)}function D(m,d){if((0,u.l)(m),(0,u.d)(m),m.isEmpty())return!0;const E=m.getGeometryType();if(E===u.G.enumPoint)return!0;if(E===u.G.enumEnvelope){const f=m;return f.getXMin()!==f.getXMax()&&f.getYMin()!==f.getYMax()}if((0,u.f)(E)){const f=m;return!f.getStartXY().equals(f.getEndXY())}if(E===u.G.enumMultiPoint)return 1===m.getPointCount();if(E===u.G.enumPolyline){const f=m;return 1===f.getPathCount()&&2===f.getPointCount()&&!f.getXY(0).equals(f.getXY(1))}if(E===u.G.enumGeometryCollection){const f=m;return 1===f.getGeometryCount()&&D(f.getGeometry(0))}const C=m;return!(1!==C.getPathCount()||C.getPointCount()<3)&&(0,x.i)(C,0)}const A=new class y{getOperatorType(){return 10102}supportsCurves(){return!1}accelerateGeometry(d,E,C){return!1}canAccelerateGeometry(d){return!1}executeMany(d,E,C){return new P(E,d,C)}execute(d,E){return v(d)}isConvex(d,E){if((0,u.l)(d),(0,u.d)(d),d.isEmpty())return!0;const C=d.getGeometryType();if(C===u.G.enumPoint)return!0;if(C===u.G.enumEnvelope){const e=d;return e.getXMin()!==e.getXMax()&&e.getYMin()!==e.getYMax()}if((0,u.f)(C)){const e=d;return!e.getStartXY().equals(e.getEndXY())}if(C===u.G.enumMultiPoint)return 1===d.getPointCount();if(C===u.G.enumPolyline){const e=d;return 1===e.getPathCount()&&2===e.getPointCount()&&!e.getXY(0).equals(e.getXY(1))}if(C===u.G.enumGeometryCollection){const e=d;return 1===e.getGeometryCount()&&this.isConvex(e.getGeometry(0),E)}const f=d;return!(1!==f.getPathCount()||f.getPointCount()<3)&&(0,x.i)(f,0)}constructOrientedMinimumBoundingBox(d,E,C,f,e){(0,x.e)(d,E,C,f,e)}};function O(m){return A.execute(m,null)}function T(m,d){const E=A.executeMany(new a.S(m),d,null);return Array.from(E)}function _(m){return A.isConvex(m,null)}function I(){return A.supportsCurves()}},31122:($,j,t)=>{t.d(j,{g:()=>T,f:()=>_});var a=t(1469),u=t(62257),l=t(95944),x=t(7085),h=t(3037),y=h.C;function P(S,I){return{m_geometry:S,m_side:I}}class A extends a.G{constructor(I,m,d,E,C){super(),this.m_cutIndex=-1,this.m_cuts=[],this.m_progressTracker=C,this.m_cuttee=m.clone(),this.m_cutter=new l.P({copy:d}),this.m_bConsiderTouch=I;const f=(0,x.g)(m,d);this.m_tolerance=(0,x.a)(E,f,!0)}next(){return-1===this.m_cutIndex&&this.generateCuts(),++this.m_cutIndex<this.m_cuts.length?this.m_cuts[this.m_cutIndex]:null}getGeometryID(){return this.m_cutIndex}tock(){return!0}getRank(){return 1}generateCuts(){switch(this.m_cuttee.getGeometryType()){case u.G.enumPolyline:this.generatePolylineCuts();break;case u.G.enumPolygon:this.generatePolygonCuts()}}generatePolylineCuts(){const I=new l.P,m=new l.P,d=new l.P;this.m_cuts.length=0,this.m_cuts.push(I),this.m_cuts.push(m);const E=[];!function g(S,I,m,d,E,C){if(I.isEmpty()){const p=P(I,0);return void E.push(p)}if(m.isEmpty()){const p=P(I,0);return void E.push(p)}const f=[],e=new l.E;{const p=e.createGeometryUserIndex(),M=e.addGeometry(I),R=e.addGeometry(m),B=new h.T(C);let G=0,U=null;if(e.hasCurves()){U=new y;const K=e.getEnvelope2D(C);G=(0,h.s)(d.total());const W=(0,h.k)(d.total(),K);(0,h.l)(e,W,d.total(),12e3,U,null,C)}e.dbgVerifyCurves(),B.setEditShapeCrackAndCluster(e,d),B.cut(S,p,M,R,f);for(const K of f){null!==U&&U.stitchCurves(e,K,G,!1);const W=P(e.getGeometry(K),(0,h.m)(e.getGeometryUserIndex(K,p)));E.push(W)}null!==U&&U.clearStitcher(e)}}(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,E,this.m_progressTracker);for(let C=0;C<E.length;C++){const f=E[C];1===f.m_side?I.add(f.m_geometry,!1):2===f.m_side||4===f.m_side?m.add(f.m_geometry,!1):3===f.m_side?this.m_cuts.push(f.m_geometry):0===f.m_side?d.add(f.m_geometry,!1):(0,u.c)("")}d.isEmpty()||I.isEmpty()&&m.isEmpty()&&!(this.m_cuts.length>=3)||this.m_cuts.push(d),I.isEmpty()&&m.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}generatePolygonCuts(){const I=new l.a,m=new l.a,d=new l.a;this.m_cuts.length=0,this.m_cuts.push(I),this.m_cuts.push(m);const E=[];!function v(S,I,m,d,E,C){if(I.isEmpty()){const p=P(I,0);return void E.push(p)}if(m.isEmpty()){const p=P(I,0);return void E.push(p)}const f=[],e=new l.E;{const p=e.createGeometryUserIndex(),M=e.addGeometry(I),R=e.addGeometry(m),B=new h.T(C);let G=0,U=null;if(e.hasCurves()){U=new y;const b=e.getEnvelope2D(C);G=(0,h.s)(d.total());const z=(0,h.k)(d.total(),b);(0,h.l)(e,z,d.total(),12e3,U,null,C)}e.dbgVerifyCurves(),B.setEditShapeCrackAndCluster(e,d),B.cut(!1,p,M,R,f),null!==U&&U.stitchCurves(e,l.n,G,!0);let K=e.getGeometry(M);const W=new l.a,N=new l.a,L=[];for(let b=0;b<f.length;b++){let z=null;{const F=new l.E,Z=F.addGeometry(K),V=F.addGeometry(e.getGeometry(f[b]));if(F.hasCurves()){const et=F.getEnvelope2D(C);G=(0,h.s)(d.total());const nt=(0,h.k)(d.total(),et);(0,h.l)(F,nt,d.total(),12e3,U,null,C)}B.setEditShapeCrackAndCluster(F,d);const J=B.intersection(Z,V);if(null!==U&&U.stitchCurves(F,l.n,G,!0),z=F.getGeometry(J),z.isEmpty())continue;const q=e.getGeometryUserIndex(f[b],p);2===q?W.add(z,!1):1===q?N.add(z,!1):L.push(z)}{const F=new l.E,Z=F.addGeometry(K),V=F.addGeometry(e.getGeometry(f[b]));if(F.hasCurves()){const q=F.getEnvelope2D(C);G=(0,h.s)(d.total());const et=(0,h.k)(d.total(),q);(0,h.l)(F,et,d.total(),12e3,U,null,C)}B.setEditShapeCrackAndCluster(F,d);const J=B.difference(Z,V);null!==U&&U.stitchCurves(F,l.n,G,!0),K=F.getGeometry(J)}}if(!K.isEmpty()&&f.length>0&&L.push(K),W.isEmpty()&&N.isEmpty())return;if(!W.isEmpty()){const b=P(W,1);E.push(b)}if(!N.isEmpty()){const b=P(N,2);E.push(b)}for(let b=0,z=L.length;b<z;++b){const F=P(L[b],3);E.push(F)}}}(0,this.m_cuttee,this.m_cutter,this.m_tolerance,E,this.m_progressTracker);for(let C=0;C<E.length;C++){const f=E[C];1===f.m_side?I.add(f.m_geometry,!1):2===f.m_side?m.add(f.m_geometry,!1):3===f.m_side?this.m_cuts.push(f.m_geometry):0===f.m_side?d.add(f.m_geometry,!1):(0,u.c)("")}(0,u.g)(d.isEmpty()||1===E.length),I.isEmpty()&&m.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}}const O=new class D{getOperatorType(){return 10005}accelerateGeometry(I,m,d){return!1}canAccelerateGeometry(I){return!1}supportsCurves(){return!0}execute(I,m,d,E,C){return new A(I,m,d,E,C)}};function T(S,I,m){const d=O.execute(!0,S,I,m,null);return Array.from(d)}function _(){return O.supportsCurves()}},94583:($,j,t)=>{t.d(j,{fz:()=>y,g7:()=>x,zo:()=>h});var a=t(1469);const l=new(t(9279).O);function x(P,g,v,D){return l.execute(P,g,v,D,null)}function h(P,g,v,D){const A=l.executeMany(new a.S(P),g,v,D,null);return Array.from(A)}function y(){return l.supportsCurves()}},77490:($,j,t)=>{t.d(j,{fz:()=>A,g7:()=>v,zo:()=>D});var a=t(1469),l=(t(62257),t(3037));t(33165),t(95944),t(87571),t(7085);const g=new l.e;function v(O,T,_){return g.execute(O,T,_,null)}function D(O,T,_){const S=g.executeMany(new a.S(O),new a.S([T]),_,null);return Array.from(S)}function A(){return g.supportsCurves()}},5635:($,j,t)=>{t.d(j,{fz:()=>y,g7:()=>x,zo:()=>h});var a=t(1469);const l=new(t(89675).O);function x(P,g,v){return l.execute(P,g,v,null)}function h(P,g,v){const D=l.executeMany(new a.S(P),g,v,null);return Array.from(D)}function y(){return l.supportsCurves()}},31036:($,j,t)=>{t.d(j,{Hh:()=>y,fz:()=>D,g7:()=>g,s1:()=>h,zo:()=>v});var a=t(10467),u=t(1469),l=t(33658);let x;function h(){return!!x&&(0,l.i)()}function y(){return P.apply(this,arguments)}function P(){return(P=(0,a.A)(function*(){if(!h()){const[A,O]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(2020)]).then(t.bind(t,22020)),Promise.all([t.e(3558),t.e(3037)]).then(t.bind(t,3037)).then(T=>T.aG).then(({injectPe:T})=>T),(0,l.l)()]);x=new A.OperatorGeodesicBuffer,O(l.p)}})).apply(this,arguments)}function g(A,O,T,_,S){return x.execute(A,O,T,_,S,!1,null)}function v(A,O,T,_,S,I){const m=x.executeMany(new u.S(A),O,T,_,S,!1,I,null);return Array.from(m)}function D(){return x.supportsCurves()}},85366:($,j,t)=>{t.d(j,{Hh:()=>h,fz:()=>g,g7:()=>P,s1:()=>x});var a=t(10467),u=t(33658);let l;function x(){return!!l&&(0,u.i)()}function h(){return y.apply(this,arguments)}function y(){return(y=(0,a.A)(function*(){if(!x()){const[v,D]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(2076),t.e(3414)]).then(t.bind(t,83414)),Promise.all([t.e(3558),t.e(3037),t.e(1469)]).then(t.bind(t,3037)).then(A=>A.aG).then(({injectPe:A})=>A),(0,u.l)()]);l=new v.OperatorGeodeticArea,D(u.p)}})).apply(this,arguments)}function P(v,D,A){return l.execute(v,D,A,null)}function g(){return l.supportsCurves()}},89981:($,j,t)=>{t.d(j,{Hh:()=>y,fz:()=>D,g7:()=>g,s1:()=>h,zo:()=>v});var a=t(10467),u=t(1469),l=t(33658);let x;function h(){return!!x&&(0,l.i)()}function y(){return P.apply(this,arguments)}function P(){return(P=(0,a.A)(function*(){if(!h()){const[A,O]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(2076)]).then(t.bind(t,36656)),Promise.all([t.e(3558),t.e(3037)]).then(t.bind(t,3037)).then(T=>T.aG).then(({injectPe:T})=>T),(0,l.l)()]);x=new A.OperatorGeodeticDensifyByLength,O(l.p)}})).apply(this,arguments)}function g(A,O,T,_){return x.execute(A,O,T,_,null)}function v(A,O,T,_){const S=x.executeMany(new u.S(A),O,T,_,null);return Array.from(S)}function D(){return x.supportsCurves()}},64599:($,j,t)=>{t.d(j,{Hh:()=>h,fz:()=>g,g7:()=>P,s1:()=>x});var a=t(10467),u=t(33658);let l;function x(){return!!l&&(0,u.i)()}function h(){return y.apply(this,arguments)}function y(){return(y=(0,a.A)(function*(){if(!x()){const[v,D]=yield Promise.all([Promise.all([t.e(3558),t.e(3037),t.e(2076),t.e(819)]).then(t.bind(t,44719)),Promise.all([t.e(3558),t.e(3037),t.e(1469)]).then(t.bind(t,3037)).then(A=>A.aG).then(({injectPe:A})=>A),(0,u.l)()]);l=new v.OperatorGeodeticLength,D(u.p)}})).apply(this,arguments)}function P(v,D,A){return l.execute(v,D,A,null)}function g(){return l.supportsCurves()}},24140:($,j,t)=>{t.d(j,{Sg:()=>P,fz:()=>D,g7:()=>g,zo:()=>v});var a=t(1469),l=(t(62257),t(3037));t(95944),t(7085);const y=new l.f;function P(A,O){return y.accelerateGeometry(A,O,1)}function g(A,O,T){return y.execute(A,O,T,null)}function v(A,O,T,_){const S=y.executeMany(new a.S(A),new a.S([O]),T,null,_);return Array.from(S)}function D(){return y.supportsCurves()}},19894:($,j,t)=>{t.d(j,{fz:()=>C,g7:()=>d,zo:()=>E});var a=t(1469),u=t(7085),l=t(62257),x=t(95944),h=t(33165);const P=1.4142135623730951,g=.017453292519943295,v=256,A=1024;class O{static construct(e,p,M){const R=new O;return R.x=e.x,R.y=e.y,R.m_next=-1,R.m_prev=-1,R.z=p,R.m=M,R.type=0,R}clone(){const e=new O;return e.x=this.x,e.y=this.y,e.m_next=this.m_next,e.m_prev=this.m_prev,e.z=this.z,e.m=this.m,e.type=this.type,e}asPoint2D(){return new h.P(this.x,this.y)}}class _{constructor(e){this.m_distance=-1,this.m_tolerance=-1,this.m_miterLimit=10,this.m_joins=0,this.m_progressCounter=0,this.m_bUseZ=!1,this.m_bUseM=!1,this.m_srcPts=[],this.m_srcPtCount=0,this.m_offsetPts=[],this.m_offsetPtCount=0,this.m_a1=0,this.m_a2=0,this.m_progressTracker=e}constructOffset(){const e=this.m_inputGeometry.getGeometryType();if(e===l.G.enumLine)return this.offsetLine();if(e===l.G.enumEnvelope)return this.offsetEnvelope();if((0,l.f)(e)){const p=new x.P;return p.addSegment(this.m_inputGeometry,!0),this.m_inputGeometry=p,this.constructOffset()}if(e===l.G.enumPolyline){const p=new x.P;return this.offsetMultiPath(p),p}if(e===l.G.enumPolygon){const p=new x.a;return this.offsetMultiPath(p),p}(0,l.b)("")}offsetLine(){const e=this.m_inputGeometry,p=e.getStartXY(),M=e.getEndXY(),R=new h.P;R.setSub(M,p),R.normalize(),R.leftPerpendicularThis(),R.scale(this.m_distance),p.addThis(R),M.addThis(R);const B=e.clone();return B.setStartXY(p),B.setEndXY(M),B}offsetEnvelope(){const e=this.m_inputGeometry;if(this.m_distance>0&&2!==this.m_joins){const M=new x.a;return M.addEnvelope(e,!1),this.m_inputGeometry=M,this.constructOffset()}const p=e.clone();return p.inflateCoords(this.m_distance,this.m_distance),p}progress(){}static buildPoint(e,p,M,R){R.x=e.x+p*Math.cos(M),R.y=e.y+p*Math.sin(M),R.type=e.type,R.z=e.z,R.m=e.m,R.m_next=-1,R.m_prev=-1}addPoint(e){this.m_offsetPts.push(e.clone()),this.m_offsetPtCount++}addPointEx(e,p){if(0===this.m_offsetPtCount)return void this.addPoint(e);const M=this.m_srcPtCount,R=this.m_srcPts[0===p?M-1:p-1],B=this.m_srcPts[p],G=_.dotSign(R,B,this.m_offsetPts[this.m_offsetPtCount-1],e);if(G>0)this.addPoint(e);else if(G<0)if(_.dotSign(R,B,B,this.m_offsetPts[this.m_offsetPtCount-1])>0){const U=new O;let K;K=0===p?M-2:1===p?M-1:p-2;const W=this.m_srcPts[K],N=Math.atan2(R.y-W.y,R.x-W.x);if(_.buildPoint(R,this.m_distance,N-h.l,U),this.m_offsetPts[this.m_offsetPtCount-1]=U,1===this.m_joins||2===this.m_joins){U.x=.5*(U.x+R.x),U.y=.5*(U.y+R.y),this.addPoint(U),_.buildPoint(R,this.m_distance,this.m_a1+h.l,U);const L=U.clone();L.x=.5*(L.x+R.x),L.y=.5*(L.y+R.y),L.type|=v,this.addPoint(L),this.addPoint(U)}else _.buildPoint(R,this.m_distance,this.m_a1+h.l,U),U.type|=v,this.addPoint(U);this.addPointEx(e,p)}else{const U=new O;if(_.buildPoint(B,this.m_distance,this.m_a1+h.l,U),this.addPoint(U),1===this.m_joins||2===this.m_joins){U.x=.5*(U.x+B.x),U.y=.5*(U.y+B.y),this.addPoint(U),_.buildPoint(B,this.m_distance,this.m_a2-h.l,U);const K=U.clone();K.x=.5*(K.x+B.x),K.y=.5*(K.y+B.y),K.type|=v,this.addPoint(K),this.addPoint(U)}else _.buildPoint(B,this.m_distance,this.m_a2-h.l,U),U.type|=v,this.addPoint(U)}}buildOffset(){const e=new O,p=this.m_srcPtCount;this.m_offsetPtCount=0;const M=.5*this.m_tolerance;let R=0,B=0;for(let G=0;G<p;G++){const U=this.m_srcPts[G],K=0===G?this.m_srcPts[p-1]:this.m_srcPts[G-1],W=G===p-1?this.m_srcPts[0]:this.m_srcPts[G+1];let N,L,b=0;{const V=W.x-U.x,J=W.y-U.y;N=Math.atan2(K.y-U.y,K.x-U.x),L=Math.atan2(J,V),this.m_a1=N,this.m_a2=L,0===G&&(R=N,B=L),b=h.P.orientationRobust(U.asPoint2D(),K.asPoint2D(),W.asPoint2D())}const z=L;if(L<N&&(L+=h.k),b*this.m_distance>0)if(1===this.m_joins||2===this.m_joins){_.buildPoint(U,this.m_distance,N+h.l,e),this.addPoint(e);const F=.001;e.x=U.x+(e.x-U.x)*F,e.y=U.y+(e.y-U.y)*F,this.addPoint(e),_.buildPoint(U,this.m_distance,L-h.l,e);const Z=e.clone();Z.x=U.x+(Z.x-U.x)*F,Z.y=U.y+(Z.y-U.y)*F,Z.type|=v,this.addPoint(Z),this.addPoint(e)}else{const F=.5*(L-N),Z=0===F?this.m_distance:this.m_distance/Math.abs(Math.sin(F));_.buildPoint(U,Z,.5*(N+L),e),this.addPointEx(e,G)}else if(512&U.type){const F=1-M/Math.abs(this.m_distance);let Z=1,V=this.m_distance<0?-Math.PI:Math.PI;if(F>-1&&F<1){let et=2*Math.acos(F);et<g&&(et=g),Z=Math.trunc(Math.PI/et+1.5),Z>1&&(V/=Z)}Z<=1&&(Z=2,V/=2);let J=N+h.l;_.buildPoint(U,this.m_distance,J,e),0===G&&(e.type|=A),this.addPointEx(e,G);const q=this.m_distance/Math.cos(V/2);for(J+=V/2,_.buildPoint(U,q,J,e),e.type|=A,this.addPoint(e);--Z>0;)J+=V,_.buildPoint(U,q,J,e),e.type|=A,this.addPoint(e);_.buildPoint(U,this.m_distance,L-h.l,e),e.type|=A,this.addPoint(e)}else if(1!==this.m_joins)if(0!==this.m_joins)if(2!==this.m_joins){let F;if(L=z,this.m_distance>0?(L>N&&(L-=h.k),F=N-L<h.l):(L<N&&(L+=h.k),F=L-N<h.l),F){const Z=this.m_distance*P;let V;V=Z<0?N+.25*Math.PI:N+3*Math.PI*.25,_.buildPoint(U,Z,V,e),this.addPointEx(e,G),V=Z<0?L-.25*Math.PI:L-3*Math.PI*.25,_.buildPoint(U,Z,V,e),this.addPoint(e)}else{const V=this.m_distance/Math.abs(Math.sin(.5*(L-N)));L<N&&(L+=h.k),_.buildPoint(U,V,(N+L)/2,e),this.addPointEx(e,G)}}else{const F=K.x-U.x,Z=K.y-U.y,V=W.x-U.x,J=W.y-U.y,q=(F*V+Z*J)/Math.sqrt(F*F+Z*Z)/Math.sqrt(V*V+J*J);if(q>1-1e-8){_.buildPoint(U,P*this.m_distance,L-.25*Math.PI,e),this.addPointEx(e,G),_.buildPoint(U,P*this.m_distance,L+.25*Math.PI,e),this.addPoint(e);continue}const et=Math.abs(this.m_distance/Math.sin(.5*Math.acos(q))),nt=Math.abs(this.m_miterLimit*this.m_distance);if(et>nt){const k=this.m_distance/Math.abs(Math.sin(.5*(L-N)));_.buildPoint(U,k,.5*(N+L),e);const w=h.P.construct(e.x,e.y),Y=h.P.construct(U.x,U.y),X=new h.P;X.setSub(w,Y);const tt=new h.P;tt.setScaleAdd(nt/X.length(),X,Y);const ot=Math.sqrt(et*et-this.m_distance*this.m_distance),rt=(et-nt)*Math.abs(this.m_distance)/ot;this.m_distance>0?X.leftPerpendicularThis():X.rightPerpendicularThis(),X.scale(rt/X.length());const it=new h.P;it.setAdd(tt,X);const at=new h.P;at.setSub(tt,X),e.x=it.x,e.y=it.y,this.addPointEx(e,G),e.x=at.x,e.y=at.y,this.addPoint(e);continue}const H=this.m_distance/Math.abs(Math.sin(.5*(L-N)));_.buildPoint(U,H,.5*(N+L),e),this.addPointEx(e,G)}else{const F=1-M/Math.abs(this.m_distance);let Z=1,V=L-h.l-(N+h.l);if(F>-1&&F<1){let et=2*Math.acos(F);et<g&&(et=g),Z=Math.trunc(Math.abs(V)/et+1.5),Z>1&&(V/=Z)}const J=this.m_distance/Math.cos(.5*V);let q=N+h.l+.5*V;for(_.buildPoint(U,J,q,e),this.addPointEx(e,G);--Z>0;)q+=V,_.buildPoint(U,J,q,e),this.addPoint(e)}else _.buildPoint(U,this.m_distance,N+h.l,e),this.addPointEx(e,G),_.buildPoint(U,this.m_distance,L-h.l,e),this.addPoint(e)}return this.m_a1=R,this.m_a2=B,this.addPointEx(this.m_offsetPts[0],0),this.m_offsetPts[0]=this.m_offsetPts[this.m_offsetPtCount-1].clone(),this.removeBadSegsFast()}removeBadSegsFast(){let e=!1;for(let M=0;M<this.m_offsetPtCount;M++){const R=this.m_offsetPts[M];R.m_next=M+1,R.m_prev=M-1}this.m_offsetPts[0].m_prev=this.m_offsetPtCount-2,this.m_offsetPts[this.m_offsetPtCount-2].m_next=0;let p=0;for(let M=0;M<this.m_offsetPtCount;M++)if(this.m_offsetPts[p].type&v){const R=this.deleteClosedSeg(p);if(-1===R){e=!0;break}p=R}else p=this.m_offsetPts[p].m_next;return!e&&(this.compressOffsetArray(p),!0)}deleteClosedSeg(e){const p=this.m_offsetPtCount-1;let M,R,B=e;for(let G=1;G<=p-2;G++){B=this.m_offsetPts[B].m_next,M=B,R=e;for(let U=1;U<=G;U++){if(R=this.m_offsetPts[R].m_prev,!(this.m_offsetPts[R].type&v||this.m_offsetPts[M].type&v)){const K=this.handleClosedIntersection(R,M);if(-1!==K)return K}M=this.m_offsetPts[M].m_prev}}return-1}handleClosedIntersection(e,p){const M=this.m_offsetPts[this.m_offsetPts[e].m_prev],R=this.m_offsetPts[e],B=this.m_offsetPts[this.m_offsetPts[p].m_prev],G=this.m_offsetPts[p];if(!this.sectGraphicRect(M,R,B,G))return-1;const U=function T(){return{pt:new O,bAtExistingPt:!1}}();if(((R.x-M.x)*(G.y-B.y)-(R.y-M.y)*(G.x-B.x))*this.m_distance<0&&this.findIntersection(M,R,B,G,U)&&!U.bAtExistingPt){const W=Math.sqrt((R.x-M.x)*(R.x-M.x)+(R.y-M.y)*(R.y-M.y)),N=(R.x-M.x)/W,L=(R.y-M.y)/W,b=Math.sqrt((G.x-B.x)*(G.x-B.x)+(G.y-B.y)*(G.y-B.y)),z=(G.x-B.x)/b,F=(G.y-B.y)/b;let Z=!1;const V=U.pt.clone();V.x+=1e-8*(N+z),V.y+=1e-8*(L+F);let J=B,q=U.pt,et=this.m_offsetPts[e].m_prev;for(;q.y>V.y!=J.y>V.y&&V.x<(J.x-q.x)*(V.y-q.y)/(J.y-q.y)+q.x&&(Z=!Z),J=q,et=this.m_offsetPts[et].m_next,et!==p;)q=this.m_offsetPts[et];if(Z)return-1;const nt=this.m_offsetPts[e].m_prev;return U.pt.type=R.type,U.pt.m_next=p,U.pt.m_prev=nt,this.m_offsetPts[e]=U.pt,this.m_offsetPts[p].m_prev=e,p}return-1}sectGraphicRect(e,p,M,R){return Math.max(e.x,p.x)>=Math.min(M.x,R.x)&&Math.max(M.x,R.x)>=Math.min(e.x,p.x)&&Math.max(e.y,p.y)>=Math.min(M.y,R.y)&&Math.max(M.y,R.y)>=Math.min(e.y,p.y)}findIntersection(e,p,M,R,B){let G,U,K,W;return B.bAtExistingPt=!1,G=(p.y-e.y)*(R.x-M.x)-(p.x-e.x)*(R.y-M.y),U=(M.y-e.y)*(p.x-e.x)-(M.x-e.x)*(p.y-e.y),K=0===G?2:U/G,K>=0&&K<=1&&(W=K,G=(R.y-M.y)*(p.x-e.x)-(R.x-M.x)*(p.y-e.y),U=(e.y-M.y)*(R.x-M.x)-(e.x-M.x)*(R.y-M.y),K=0===G?2:U/G,K>=0&&K<=1)&&(B.pt.x=e.x+K*(p.x-e.x),B.pt.y=e.y+K*(p.y-e.y),this.m_bUseZ&&(B.pt.z=M.z+W*(R.z-M.z)),this.m_bUseM&&(B.pt.m=M.m+W*(R.m-M.m)),0!==W&&1!==W||0!==K&&1!==K||(B.bAtExistingPt=!0),!((0===W||1===W)&&K>0&&K<1||(0===K||1===K)&&W>0&&W<1))}compressOffsetArray(e){for(;this.m_offsetPts[e].m_prev<e;)e=this.m_offsetPts[e].m_prev;let p=0,M=e;do{const R=this.m_offsetPts[M].clone();this.m_offsetPts[p]=R,M=R.m_next,p++}while(M!==e);this.m_offsetPts[p]=this.m_offsetPts[0].clone(),this.m_offsetPtCount=p+1}addPart(e,p){if(!(p<2))for(let M=0;M<p;M++){const R=this.m_offsetPts[e+M];if(M?this.m_bUseZ?this.m_resultPath.lineTo3DCoords(R.x,R.y,R.z):this.m_resultPath.lineToCoords(R.x,R.y):this.m_bUseZ?this.m_resultPath.startPath3DCoords(R.x,R.y,R.z):this.m_resultPath.startPathCoords(R.x,R.y),this.m_bUseM){const B=this.m_resultPath.getPointCount()-1;this.m_resultPath.setAttribute(2,B,0,R.m)}}}offsetMultiPath(e){const p=(0,x.d)(this.m_inputGeometry,0,this.m_tolerance,0,this.m_progressTracker,12e3),M=p.querySegmentIterator();M.resetToFirstPath();let R=-1;for(;M.nextPath();)R++,this.offsetPath(p,R,e)}offsetPath(e,p,M){let R=e.getPathStart(p),B=e.getPathEnd(p);if(this.m_resultPath=M,e.isClosedPath(p)){const G=e.getXY(R);for(;B>R&&e.getXY(B-1).equals(G);)B--;if(B-R>=2){this.m_srcPtCount=B-R,this.m_srcPts.length=this.m_srcPtCount;for(let U=R;U<B;U++)this.progress(),this.m_srcPts[U-R]=O.construct(e.getXY(U),this.m_bUseZ?e.getAttributeAsDbl(1,U,0):0,this.m_bUseM?e.getAttributeAsDbl(2,U,0):0);this.buildOffset()&&this.addPart(0,this.m_offsetPtCount-1)}}else{const G=e.getXY(R);for(;R<B-1&&e.getXY(R+1).equals(G);)R++;const U=e.getXY(B-1);for(;R<B-1&&e.getXY(B-2).equals(U);)B--;if(B-R>=2){this.m_srcPtCount=2*(B-R)-2,this.m_srcPts.length=this.m_srcPtCount;let K=O.construct(G,this.m_bUseZ?e.getAttributeAsDbl(1,R,0):0,this.m_bUseM?e.getAttributeAsDbl(2,R,0):0);K.type|=1536,this.m_srcPts[0]=K;let W=1,N=this.m_srcPtCount-1;for(let L=R+1;L<B-1;L++,W++,N--)this.progress(),K=O.construct(e.getXY(L),this.m_bUseZ?e.getAttributeAsDbl(1,L,0):0,this.m_bUseM?e.getAttributeAsDbl(2,L,0):0),this.m_srcPts[W]=K.clone(),K.type|=A,this.m_srcPts[N]=K.clone();if(K=O.construct(e.getXY(B-1),this.m_bUseZ?e.getAttributeAsDbl(1,B-1,0):0,this.m_bUseM?e.getAttributeAsDbl(2,B-1,0):0),K.type|=512,this.m_srcPts[W]=K.clone(),this.buildOffset())if(this.m_offsetPts.length>=2){let L=-1,b=-1,z=!!(this.m_offsetPts[this.m_offsetPtCount-1].type&A);z||(L=0);for(let F=1;F<this.m_offsetPtCount;F++){this.progress();const Z=!!(this.m_offsetPts[F].type&A);Z?z||(b=F-1,b-L+1>1&&this.addPart(L,b-L+1)):z&&(L=F-1),z=Z}z||(b=this.m_offsetPtCount-1,b-L+1>1&&this.addPart(L,b-L+1))}else{const b=this.m_offsetPtCount-1;b-0>=1&&this.addPart(0,b-0+1)}}}this.m_srcPts.length=0,this.m_srcPtCount=0,this.m_offsetPts.length=0,this.m_offsetPtCount=0}static dotSign(e,p,M,R){const W=(0,h.t)(p.x-e.x,p.y-e.y,R.x-M.x,R.y-M.y);return(0,h.e)(W)}}class I extends a.G{constructor(e,p,M,R,B,G,U){super(),this.m_progressTracker=U,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=p,this.m_distance=M,this.m_joins=R,this.m_miterLimit=B,this.m_flattenError=G}tock(){return!0}getRank(){return 1}next(){if(!this.m_inputGeoms)return null;let e;for(;e=this.m_inputGeoms.next();)return this.m_index=this.m_inputGeoms.getGeometryID(),this.offset(e);return null}getGeometryID(){return this.m_index}offset(e){let p;return(0,l.d)(e),p=this.m_flattenError<=0?(0,u.b)(this.m_spatialReference,e,!0).total():this.m_flattenError,function y(f,e,p,M,R,B){if(null===f&&(0,l.t)(""),f.getDimension()<1&&(0,l.t)(""),R>0||(0,l.t)(""),(0,l.d)(f),0===e||f.isEmpty())return f;const G=new _(B);return G.m_bUseZ=f.hasAttribute(1),G.m_bUseM=f.hasAttribute(2),G.m_inputGeometry=f,G.m_distance=e,G.m_tolerance=R,G.m_joins=p,G.m_miterLimit=M>1?M:1,G.m_progressCounter=0,G.constructOffset()}(e,this.m_distance,this.m_joins,this.m_miterLimit,p,this.m_progressTracker)}}const m=new class S{getOperatorType(){return 10108}accelerateGeometry(e,p,M){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}executeMany(e,p,M,R,B,G,U){return new I(e,p,M,R,B,G,U)}execute(e,p,M,R,B,G,U){return new I(null,p,M,R,B,G,U).offset(e)}};function d(f,e,p,M,R,B){return m.execute(f,e,p,M,R,B,null)}function E(f,e,p,M,R,B){const G=m.executeMany(new a.S(f),e,p,M,R,B,null);return Array.from(G)}function C(){return m.supportsCurves()}},90366:($,j,t)=>{t.d(j,{Pg:()=>v,fz:()=>D,g7:()=>P,zo:()=>g});var a=t(1469),x=(t(62257),t(95944),t(3037));t(7085);const y=new x.g;function P(A,O,T){return y.execute(A,O,T,null)}function g(A,O,T){const _=y.executeMany(new a.S(A),O,T,null);return Array.from(_)}function v(A,O,T){return y.isSimpleAsFeature(A,O,T,null,null)}function D(){return y.supportsCurves()}},74149:($,j,t)=>{t.d(j,{fz:()=>I,g7:()=>_,zo:()=>S});var a=t(1469),u=t(62257),l=t(33165),x=t(95944),h=t(87571),y=t(7085),P=t(3037);function A(m,d,E,C){const f=m.getImpl().getAttributeStreamRef(0),e=m.getPointCount(),p=d.getXY(),M=m.createInstance(),R=(0,y.d)(E),B=new h.J;if(m.queryEnvelope(B),B.inflateCoords(R,R),B.contains(p)){const G=R*R;let U=!1;const K=(0,l.d)(e,!1);for(let W=0;W<e;W++){const N=f.read(2*W),L=f.read(2*W+1),b=N-p.x,z=L-p.y;b*b+z*z<=G&&(U=!0,K[W]=!0)}if(U)for(let W=0;W<e;W++)K[W]||M.addPoints(m,W,W+1);else M.addPoints(m,0,e),M.add(d)}else M.addPoints(m,0,e),M.add(d);return M}class O extends a.G{constructor(d,E,C,f){super(),this.m_progressTracker=f,this.m_index=-1,this.m_inputGeoms=d,this.m_spatialReference=C,this.m_rightGeom=E.next(),this.m_bEmpty=!this.m_rightGeom,(0,u.d)(this.m_rightGeom)}tock(){return!0}getRank(){return 1}next(){if(this.m_bEmpty)return null;const d=this.m_inputGeoms.next();return d?((0,u.d)(d),this.m_index=this.m_inputGeoms.getGeometryID(),function v(m,d,E,C){const f=m.getDimension(),e=d.getDimension();if(f!==e)return f>e?m:d;if(m.isEmpty())return d;if(d.isEmpty())return m;const p=new h.J,M=new h.J,R=new h.J;m.queryEnvelope(p),d.queryEnvelope(M),R.setCoords({env2D:p}),R.mergeEnvelope2D(M);const B=(0,y.a)(E,R,!0),G=m.getGeometryType(),U=d.getGeometryType();return G===u.G.enumPoint&&U===u.G.enumPoint?function D(m,d,E,C){const f=(0,y.d)(E),e=f*f,p=m.getXY(),M=d.getXY(),R=new x.M({vd:m.getDescription()});return l.P.sqrDistance(p,M)>e&&(R.add(m),R.add(d)),R}(m,d,B):G===u.G.enumPoint&&U===u.G.enumMultiPoint?A(d,m,B):G===u.G.enumMultiPoint&&U===u.G.enumPoint?A(m,d,B):(0,P.ai)(m,d,E,C)}(d,this.m_rightGeom,this.m_spatialReference,this.m_progressTracker)):null}getGeometryID(){return this.m_index}}const T=new class g{getOperatorType(){return 10003}supportsCurves(){return!0}accelerateGeometry(d,E,C){return!1}canAccelerateGeometry(d){return!1}executeMany(d,E,C,f){return new O(d,E,C,f)}execute(d,E,C,f){const e=new a.S([d]),p=new a.S([E]),M=this.executeMany(e,p,C,f).next();return M||(0,u.c)("null output"),M}};function _(m,d,E){return T.execute(m,d,E,null)}function S(m,d,E){const C=T.executeMany(new a.S(m),new a.S([d]),E,null);return Array.from(C)}function I(){return T.supportsCurves()}},74474:($,j,t)=>{t.d(j,{fz:()=>A,g7:()=>v,zo:()=>D});var a=t(1469),y=(t(62257),t(33165),t(95944),t(87571),t(3037));t(7085);const g=new y.h;function v(O,T,_){return g.execute(O,T,_,null)}function D(O,T){return g.executeMany(new a.S(O),T,null).next()}function A(){return g.supportsCurves()}},79580:($,j,t)=>{t.r(j),t.d(j,{default:()=>y});var a=t(33165),u=t(23558),l=t(69287);const x={uniform:0,conformal:1,rigid:2,"rigid-motion":3,general:4},h=P=>P.map(g=>new a.P(g.x,g.y));class y{constructor(){this.transform=new u.T}calculateErrors(g,v){const D=g.length,A=v.length;if(D!==A)throw new Error(`The input length (${D}) is not the same as output length (${A})`);const O=[];return{rms:this.transform.calculateErrors(D,h(g),h(v),O),errorsOut:O}}flipX(g,v){return this.transform.flipX(g,v),this}flipY(g,v){return this.transform.flipY(g,v),this}initializeFromControlPoints(g,v,D,A){const O=v.length,T=D.length;if(O!==T)throw new Error(`The input length (${O}) is not the same as output length (${T})`);this.transform.initializeFromControlPoints(x[g],O,h(v),h(D),A?.transform)}isIdentity(){return this.transform.isIdentity()}rotate(g,v,D){const A=(0,l.kU)(g);return null!=v&&null!=D?this.transform.rotateAngleAbout(A,new a.P(v,D)):this.transform.rotateAngle(A),this}scale(g,v){return this.transform.scale(g,v),this}setIdentity(){this.transform.setIdentity()}setSwapCoordinates(){return this.transform.setSwapCoordinates(),this}shear(g,v){return this.transform.shear(g,v),this}shift(g,v){return this.transform.shiftCoords(g,v),this}}},66768:($,j,t)=>{t.d(j,{O:()=>a});const a={geodesic:0,loxodrome:1,"great-elliptic":2,"normal-section":3,"shape-preserving":4}},61325:($,j,t)=>{t.d(j,{C:()=>u});var a=t(90669);function u(l,x,h=!1){return{coordinate:(0,a.toPoint)(l.m_coordinate,(0,a.getSpatialReference)(x)),distance:l.m_distance,isEmpty:l.isEmpty(),...h&&{isRightSide:l.m_bRightSide},vertexIndex:l.m_vertexIndex}}},22178:($,j,t)=>{t.r(j),t.d(j,{projectMeshVertexPositions:()=>h});var a=t(23234),u=t(38352),l=t(58701),x=t(12738);function h(y,P){const g=(0,x.UR)(y,u.A.absolute);if(!g)return null;let v=g.position;return(0,l.aI)(y.spatialReference,P)||(v=new Float64Array(g.position.length),(0,a.projectBuffer)(g.position,y.spatialReference,0,v,P,0))?v:null}},48600:($,j,t)=>{var a,u,l,x,h,y,P,g,v,D,A,O,T,_,S,d;t.d(j,{Pl:()=>I,Qg:()=>S,vE:()=>m}),(d=a||(a={})).U8="U8",d.I8="I8",d.U16="U16",d.I16="I16",d.U32="U32",d.I32="I32",d.F32="F32",d.F64="F64",d.Utf8String="Utf8String",d.NotSet="NotSet",function(d){d.Png="Png",d.Jpeg="Jpeg",d.Dds="Dds",d.Raw="Raw",d.Dxt1="Dxt1",d.Dxt5="Dxt5",d.Bc7="Bc7",d.Basis="Basis",d.Etc1="Etc1",d.Etc2="Etc2",d.Astc="Astc",d.Pvrtc="Pvrtc",d.NotSet="NotSet"}(u||(u={})),function(d){d.Position="Position",d.Normal="Normal",d.TexCoord="TexCoord",d.Color="Color",d.Tangent="Tangent",d.FeatureIndex="FeatureIndex",d.UvRegion="UvRegion",d.FeatureVariable="FeatureVariable",d.NotSet="NotSet"}(l||(l={})),function(d){d.Opaque="Opaque",d.Mask="Mask",d.Blend="Blend"}(x||(x={})),function(d){d.None="None",d.Mask="Mask",d.Alpha="Alpha",d.PreMultAlpha="PreMultAlpha",d.NotSet="NotSet"}(h||(h={})),function(d){d.Points="Points",d.Lines="Lines",d.LineStrip="LineStrip",d.Triangles="Triangles",d.TriangleStrip="TriangleStrip",d.NotSet="NotSet"}(y||(y={})),function(d){d.None="None",d.WrapXBit="WrapXBit",d.WrapYBit="WrapYBit",d.WrapXy="WrapXy",d.NotSet="NotSet"}(P||(P={})),function(d){d.Linear="Linear",d.Nearest="Nearest",d.NotSet="NotSet"}(g||(g={})),function(d){d.Linear="Linear",d.Nearest="Nearest",d.NearestMipmapNearest="NearestMipmapNearest",d.LinearMipmapNearest="LinearMipmapNearest",d.NearestMipmapLinear="NearestMipmapLinear",d.LinearMipmapLinear="LinearMipmapLinear",d.NotSet="NotSet"}(v||(v={})),function(d){d.FeatureId="FeatureId",d.GlobalUid="GlobalUid",d.UnspecifiedDateTime="UnspecifiedDateTime",d.EcmaIso8601DateTime="EcmaIso8601DateTime",d.EcmaIso8601DateOnly="EcmaIso8601DateOnly",d.TimeOnly="TimeOnly",d.TimeStamp="TimeStamp",d.ColorRgb="ColorRgb",d.ColorRgba="ColorRgba",d.Unrecognized="Unrecognized",d.NotSet="NotSet"}(D||(D={})),function(d){d.Texture="Texture",d.VertexAtrb="VertexAtrb",d.Implicit="Implicit",d.NotSet="NotSet"}(A||(A={})),function(d){d.Front="Front",d.Back="Back",d.None="None",d.NotSet="NotSet"}(O||(O={})),function(d){d.Pbr="Pbr",d.Unlit="Unlit"}(T||(T={})),function(d){d.Rgb8="Rgb8",d.Rgba8="Rgba8",d.R8="R8",d.Bgr8="Bgr8",d.Bgra8="Bgra8",d.Rg8="Rg8",d.Ga8="Ga8",d.Etc1="Etc1",d.Etc2="Etc2",d.Dxt1="Dxt1",d.Dxt5="Dxt5",d.Bc7="Bc7",d.NotSet="NotSet"}(_||(_={})),function(d){d[d.Succeeded=0]="Succeeded",d[d.Failed=1]="Failed",d[d.MissingInputs=2]="MissingInputs"}(S||(S={}));const I=-1,m=-2},42605:($,j,t)=>{t.r(j),t.d(j,{default:()=>T});var a=t(8189),u=t(5922),l=t(39693),x=t(3804),h=t(85211),v=(t(3248),t(35150),t(40707),t(76576)),D=t(95478),A=t(85551);let O=class extends((0,A.A)((0,l.P)(D.A))){constructor(_){super(_),this.resourceInfo=null,this.persistenceEnabled=!0,this.type="unsupported"}initialize(){this.addResolvingPromise(new Promise((_,S)=>{(0,x._)(()=>{const I=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let m="Unsupported layer type";I&&(m+=" "+I),S(new u.A("layer:unsupported-layer-type",m,{layerType:I}))})}))}read(_,S){const I={resourceInfo:_};null!=_.id&&(I.id=_.id),null!=_.title&&(I.title=_.title),super.read(I,S)}write(_,S){return Object.assign(_||{},this.resourceInfo,{id:this.id})}};(0,a._)([(0,h.MZ)({readOnly:!0})],O.prototype,"resourceInfo",void 0),(0,a._)([(0,h.MZ)({type:["show","hide"]})],O.prototype,"listMode",void 0),(0,a._)([(0,h.MZ)({type:Boolean,readOnly:!1})],O.prototype,"persistenceEnabled",void 0),(0,a._)([(0,h.MZ)({json:{read:!1},readOnly:!0,value:"unsupported"})],O.prototype,"type",void 0),O=(0,a._)([(0,v.$)("esri.layers.UnsupportedLayer")],O);const T=O},18056:($,j,t)=>{t.d(j,{H:()=>u,L:()=>a});const a=1;function u(l,x){let h=0;for(const y of x){const P=y.attributes?.[l];"number"==typeof P&&isFinite(P)&&(h=Math.max(h,P))}return h}},41377:($,j,t)=>{t.d(j,{$1:()=>P,H2:()=>A,MT:()=>O,VP:()=>T,WF:()=>g,Wt:()=>x,XQ:()=>_,hK:()=>D,nS:()=>v,uh:()=>h,xY:()=>y});var a=t(5922);const u="upload-assets",l=()=>new Error;class x extends a.A{constructor(){super(`${u}:unsupported`,"Layer does not support asset uploads.",l())}}class h extends a.A{constructor(){super(`${u}:no-glb-support`,"Layer does not support glb.",l())}}class y extends a.A{constructor(){super(`${u}:no-supported-source`,"No supported external source found",l())}}class P extends a.A{constructor(){super(`${u}:not-base-64`,"Expected gltf data in base64 format after conversion.",l())}}class g extends a.A{constructor(){super(`${u}:unable-to-prepare-options`,"Unable to prepare uploadAsset request options.",l())}}class v extends a.A{constructor(I,m){super(`${u}:bad-response`,`Bad response. Uploaded ${I} items and received ${m} results.`,l())}}class D extends a.A{constructor(I,m){super(`${u}-layer:upload-failed`,`Failed to upload mesh file ${I}. Error code: ${m?.code??"-1"}. Error message: ${m?.messages??"unknown"}`,l())}}class A extends a.A{constructor(I){super(`${u}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${I}, but it does not list it in its supported formats.`,l())}}class O extends a.A{constructor(){super(`${u}:convert3D-failed`,"convert3D failed.")}}class T extends a.A{constructor(){super("invalid-input:no-model","No supported model found")}}class _ extends a.A{constructor(){super("invalid-input:multiple-models","Multiple supported models found")}}},73474:($,j,t)=>{t.d(j,{f:()=>O});var a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(17221)),P=t(76576),g=t(32034),v=t(11333),D=t(56773),A=t(77677);const O=T=>{let _=class extends T{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(S,I){return null!=I.minLOD&&null!=I.maxLOD?S:0}readMaxScale(S,I){return null!=I.minLOD&&null!=I.maxLOD?S:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(S,I,m){const d=I.capabilities?.includes("Tilemap");let{minLOD:E,maxLOD:C,minScale:f,maxScale:e}=I;if(null==E&&null==C&&(0!==f||0!==e)){const p=M=>Math.round(1e4*M)/1e4;f=p(f||I.tileInfo.lods[0].scale),e=p(e||I.tileInfo.lods[I.tileInfo.lods.length-1].scale);for(const M of I.tileInfo.lods){const R=p(M.scale);E=R>=f?M.level:E,C=R>=e?M.level:C}}if(d)return new A.d({layer:this,minLOD:E,maxLOD:C});if(I.tileInfo){const p=new v.A;return p.read(I.tileInfo,m),new D.A(p,E,C)}return null}};return(0,a._)([(0,u.MZ)({json:{read:{source:"copyrightText"}}})],_.prototype,"copyright",void 0),(0,a._)([(0,u.MZ)()],_.prototype,"minScale",void 0),(0,a._)([(0,y.w)("service","minScale")],_.prototype,"readMinScale",null),(0,a._)([(0,u.MZ)()],_.prototype,"maxScale",void 0),(0,a._)([(0,y.w)("service","maxScale")],_.prototype,"readMaxScale",null),(0,a._)([(0,u.MZ)({type:g.A})],_.prototype,"spatialReference",void 0),(0,a._)([(0,u.MZ)({readOnly:!0})],_.prototype,"supportsBlankTile",null),(0,a._)([(0,u.MZ)({type:v.A})],_.prototype,"tileInfo",void 0),(0,a._)([(0,u.MZ)()],_.prototype,"tilemapCache",void 0),(0,a._)([(0,y.w)("service","tilemapCache",["capabilities","tileInfo"])],_.prototype,"readTilemapCache",null),(0,a._)([(0,u.MZ)()],_.prototype,"version",void 0),_=(0,a._)([(0,P.$)("esri.layers.mixins.ArcGISCachedService")],_),_}},29252:($,j,t)=>{t.d(j,{H:()=>_});var a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(76576)),P=t(90660),g=t(71065),v=t(55739),D=t(15463),A=t(28919);let O=class extends(P.A.ClonableMixin(g.A)){constructor(S){super(S),this.name=void 0,this.method="none",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};(0,a._)([(0,u.MZ)({type:String,json:{write:{isRequired:!0}}})],O.prototype,"name",void 0),(0,a._)([(0,u.MZ)({type:["raster-function-template","variable","none"],json:{write:{isRequired:!0}}}),(0,D.e)({rasterFunctionTemplate:"raster-function-template",variable:"variable",none:"none"})],O.prototype,"method",void 0),(0,a._)([(0,u.MZ)({type:String,json:{write:{isRequired:!0}}})],O.prototype,"value",void 0),(0,a._)([(0,u.MZ)({type:[v.jz],json:{write:{isRequired:!0}}})],O.prototype,"bandIds",void 0),(0,a._)([(0,u.MZ)({types:A.uy,json:{write:!0,origins:{"web-scene":{types:A.Gj,write:{overridePolicy:S=>({enabled:S&&"vector-field"!==S.type&&"flow"!==S.type})}}}}})],O.prototype,"renderer",void 0),O=(0,a._)([(0,y.$)("esri.renderers.support.RasterPresetRenderer")],O);const T=O,_=S=>{let I=class extends S{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return(0,a._)([(0,u.MZ)({type:String,json:{name:"layerDefinition.activePresetRendererName",write:{allowNull:!0}}})],I.prototype,"activePresetRendererName",void 0),(0,a._)([(0,u.MZ)({type:[T],json:{name:"layerDefinition.presetRenderers",write:!0}})],I.prototype,"presetRenderers",void 0),I=(0,a._)([(0,y.$)("esri.layers.mixins.RasterPresetRendererMixin")],I),I}},32282:($,j,t)=>{t.d(j,{m:()=>u});const a=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function u(l){return null!=l&&a.some(([x,h])=>l>=x&&l<=h)}},2277:($,j,t)=>{t.d(j,{r:()=>v});var a=t(8189),u=t(98877),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576));const g={visible:"visibleSublayers"};let v=class extends u.A{constructor(D){super(D),this.scale=0}set layer(D){this._get("layer")!==D&&(this._set("layer",D),this.removeHandles("layer"),D&&this.addHandles([D.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),D.on("wms-sublayer-update",A=>this.notifyChange(g[A.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:D})=>D).map(({name:D})=>D).join()}get version(){this.commitProperty("layers");const D=this.layer;return D&&D.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:D,scale:A}=this,O=D?.sublayers,T=[],_=S=>{const{minScale:I,maxScale:m,sublayers:d,visible:E}=S;E&&(0===A||(0===I||A<=I)&&(0===m||A>=m))&&(d?d.forEach(_):T.push(S))};return O?.forEach(_),T}toJSON(){const{layer:D,layers:A}=this,{imageFormat:O,imageTransparency:T,version:_}=D;return{format:O,request:"GetMap",service:"WMS",styles:"",transparent:T?"TRUE":"FALSE",version:_,layers:A}}};(0,a._)([(0,l.MZ)()],v.prototype,"layer",null),(0,a._)([(0,l.MZ)({readOnly:!0})],v.prototype,"layers",null),(0,a._)([(0,l.MZ)({type:Number})],v.prototype,"scale",void 0),(0,a._)([(0,l.MZ)({readOnly:!0})],v.prototype,"version",null),(0,a._)([(0,l.MZ)({readOnly:!0})],v.prototype,"visibleSublayers",null),v=(0,a._)([(0,P.$)("esri.layers.support.ExportWMSImageParameters")],v)},10581:($,j,t)=>{t.d(j,{L0:()=>d,Ot:()=>_,W4:()=>v,uV:()=>O});var a=t(8189),u=t(71065),l=t(85211),P=(t(3248),t(35150),t(40707),t(15463)),g=t(76576);let v=class extends u.A{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,a._)([(0,l.MZ)({type:Number})],v.prototype,"nodesPerPage",void 0),(0,a._)([(0,l.MZ)({type:Number})],v.prototype,"rootIndex",void 0),(0,a._)([(0,l.MZ)({type:String})],v.prototype,"lodSelectionMetricType",void 0),v=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],v);let D=class extends u.A{constructor(){super(...arguments),this.factor=1}};(0,a._)([(0,l.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],D.prototype,"id",void 0),(0,a._)([(0,l.MZ)({type:Number})],D.prototype,"factor",void 0),D=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],D);let A=class extends u.A{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,a._)([(0,l.MZ)({type:[Number]})],A.prototype,"baseColorFactor",void 0),(0,a._)([(0,l.MZ)({type:D})],A.prototype,"baseColorTexture",void 0),(0,a._)([(0,l.MZ)({type:D})],A.prototype,"metallicRoughnessTexture",void 0),(0,a._)([(0,l.MZ)({type:Number})],A.prototype,"metallicFactor",void 0),(0,a._)([(0,l.MZ)({type:Number})],A.prototype,"roughnessFactor",void 0),A=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],A);let O=class extends u.A{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,a._)([(0,P.e)({opaque:"opaque",mask:"mask",blend:"blend"})],O.prototype,"alphaMode",void 0),(0,a._)([(0,l.MZ)({type:Number})],O.prototype,"alphaCutoff",void 0),(0,a._)([(0,l.MZ)({type:Boolean})],O.prototype,"doubleSided",void 0),(0,a._)([(0,P.e)({none:"none",back:"back",front:"front"})],O.prototype,"cullFace",void 0),(0,a._)([(0,l.MZ)({type:D})],O.prototype,"normalTexture",void 0),(0,a._)([(0,l.MZ)({type:D})],O.prototype,"occlusionTexture",void 0),(0,a._)([(0,l.MZ)({type:D})],O.prototype,"emissiveTexture",void 0),(0,a._)([(0,l.MZ)({type:[Number]})],O.prototype,"emissiveFactor",void 0),(0,a._)([(0,l.MZ)({type:A})],O.prototype,"pbrMetallicRoughness",void 0),O=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],O);let T=class extends u.A{};(0,a._)([(0,l.MZ)({type:String,json:{read:{source:["name","index"],reader:(E,C)=>E??`${C.index}`}}})],T.prototype,"name",void 0),(0,a._)([(0,P.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],T.prototype,"format",void 0),T=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],T);let _=class extends u.A{constructor(){super(...arguments),this.atlas=!1}};(0,a._)([(0,l.MZ)({type:[T]})],_.prototype,"formats",void 0),(0,a._)([(0,l.MZ)({type:Boolean})],_.prototype,"atlas",void 0),_=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],_);let S=class extends u.A{};(0,a._)([(0,P.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],S.prototype,"type",void 0),(0,a._)([(0,l.MZ)({type:Number})],S.prototype,"component",void 0),S=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],S);let I=class extends u.A{};(0,a._)([(0,P.e)({draco:"draco"})],I.prototype,"encoding",void 0),(0,a._)([(0,l.MZ)({type:[String]})],I.prototype,"attributes",void 0),I=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],I);let m=class extends u.A{constructor(){super(...arguments),this.offset=0}};(0,a._)([(0,l.MZ)({type:Number})],m.prototype,"offset",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"position",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"normal",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"uv0",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"color",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"uvRegion",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"featureId",void 0),(0,a._)([(0,l.MZ)({type:S})],m.prototype,"faceRange",void 0),(0,a._)([(0,l.MZ)({type:I})],m.prototype,"compressedAttributes",void 0),m=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],m);let d=class extends u.A{};(0,a._)([(0,P.e)({triangle:"triangle"})],d.prototype,"topology",void 0),(0,a._)([(0,l.MZ)()],d.prototype,"geometryBuffers",void 0),d=(0,a._)([(0,g.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],d)},28:($,j,t)=>{t.d(j,{_:()=>O});var a=t(8189),u=t(98877),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576)),g=t(55861),v=t(13970),D=t(51995),A=t(15584);let O=class extends u.A{constructor(T){super(T)}get bounds(){const T=this.coords;return null==T?.extent?null:(0,D.VY)(T.extent)}get coords(){const T=this.element.georeference?.coords;return(0,v.projectOrLoad)(T,this.spatialReference).geometry}get normalizedCoords(){return g.A.fromJSON((0,A.jZ)(this.coords))}get normalizedBounds(){const T=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=T?(0,D.VY)(T):null}};(0,a._)([(0,l.MZ)()],O.prototype,"spatialReference",void 0),(0,a._)([(0,l.MZ)()],O.prototype,"element",void 0),(0,a._)([(0,l.MZ)()],O.prototype,"bounds",null),(0,a._)([(0,l.MZ)()],O.prototype,"coords",null),(0,a._)([(0,l.MZ)()],O.prototype,"normalizedCoords",null),(0,a._)([(0,l.MZ)()],O.prototype,"normalizedBounds",null),O=(0,a._)([(0,P.$)("esri.layers.support.MediaElementView")],O)},43470:($,j,t)=>{t.d(j,{A:()=>D});var a=t(8189),u=t(90660),l=t(71065),x=t(85211),g=(t(3248),t(35150),t(40707),t(76576));let v=class extends(u.A.ClonableMixin(l.A)){constructor(A){super(A),this.frame=null,this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"frame",void 0),(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"frameCenter",void 0),(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"frameOutline",void 0),(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"lineOfSight",void 0),(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"sensorLocation",void 0),(0,a._)([(0,x.MZ)({type:Boolean})],v.prototype,"sensorTrail",void 0),v=(0,a._)([(0,g.$)("esri.layers.support.TelemetryDisplay")],v);const D=v},56773:($,j,t)=>{t.d(j,{A:()=>x});var a=t(10467),u=t(5922),l=t(56492);class x{constructor(y,P=0,g=y.lods[y.lods.length-1].level){this.tileInfo=y,this.minLOD=P,this.maxLOD=g,y.lodAt(P)||(this.minLOD=y.lods[0].level),y.lodAt(g)||(this.maxLOD=y.lods[y.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(y,P,g){const v=this.tileInfo?.lodAt(y);return!v||y<this.minLOD||y>this.maxLOD?"unavailable":v.cols&&v.rows?g>=v.cols[0]&&g<=v.cols[1]&&P>=v.rows[0]&&P<=v.rows[1]?"unknown":"unavailable":"unknown"}fetchAvailability(y,P,g,v){var D=this;return(0,a.A)(function*(){yield(0,l.NO)(v);const A=D.getAvailability(y,P,g);if("unavailable"===A)throw new u.A("tile-map:tile-unavailable","Tile is not available",{level:y,row:P,col:g});return A})()}fetchAvailabilityUpsample(y,P,g,v,D){var A=this;return(0,a.A)(function*(){yield(0,l.NO)(D),v.level=y,v.row=P,v.col=g;const O=A.tileInfo;return O.updateTileInfo(v),A.fetchAvailability(y,P,g,D).catch(T=>{if((0,l.zf)(T))throw T;if(O.upsampleTile(v))return A.fetchAvailabilityUpsample(v.level,v.row,v.col,v,D);throw T})})()}}},86537:($,j,t)=>{t.d(j,{L:()=>v});var a=t(10467),u=t(77469),l=t(89563),x=t(5922),h=t(56492),y=t(68438),P=t(73874),g=t(46577);function v(f,e){return D.apply(this,arguments)}function D(){return D=(0,a.A)(function*(f,e){const p=(0,y.qg)(f);if(!p)throw new x.A("invalid-url","Invalid scene service url");const M={...e,sceneServerUrl:p.url.path,layerId:p.sublayer??void 0};if(M.sceneLayerItem??=(yield function A(f){return O.apply(this,arguments)}(M)),null==M.sceneLayerItem)return m(M.sceneServerUrl.replace("/SceneServer","/FeatureServer"),M);const R=yield function E(f){return C.apply(this,arguments)}(M);if(!R?.url)throw new x.A("related-service-not-found","Could not find feature service through portal item relationship");M.featureServiceItem=R;const B=yield m(R.url,M);return B.portalItem=R,B}),D.apply(this,arguments)}function O(){return O=(0,a.A)(function*(f){const e=(yield T(f)).serviceItemId;if(!e)return null;const p=new g.default({id:e,apiKey:f.apiKey}),M=yield function S(f){return I.apply(this,arguments)}(f);null!=M&&(p.portal=new P.A({url:M}));try{return yield p.load({signal:f.signal})}catch(R){return(0,h.QP)(R),null}}),O.apply(this,arguments)}function T(f){return _.apply(this,arguments)}function _(){return(_=(0,a.A)(function*(f){if(f.rootDocument)return f.rootDocument;const e={query:{f:"json",...f.customParameters,token:f.apiKey},responseType:"json",signal:f.signal};try{const p=yield(0,l.A)(f.sceneServerUrl,e);f.rootDocument=p.data}catch{f.rootDocument={}}return f.rootDocument})).apply(this,arguments)}function I(){return(I=(0,a.A)(function*(f){const e=u.id?.findServerInfo(f.sceneServerUrl);if(e?.owningSystemUrl)return e.owningSystemUrl;const p=f.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const M=(yield(0,l.A)(p,{query:{f:"json"},responseType:"json",signal:f.signal})).data.owningSystemUrl;if(M)return M}catch(M){(0,h.QP)(M)}return null})).apply(this,arguments)}function m(f,e){return d.apply(this,arguments)}function d(){return(d=(0,a.A)(function*(f,e){const p=(0,y.qg)(f);if(!p)throw new x.A("invalid-feature-service-url","Invalid feature service url");const M=p.url.path,R=e.layerId;if(null==R)return{serverUrl:M};const B=T(e),G=e.featureServiceItem?yield e.featureServiceItem.fetchData("json"):null,U=(G?.layers?.[0]||G?.tables?.[0])?.customParameters,K=F=>{const Z={query:{f:"json",...U},responseType:"json",authMode:F,signal:e.signal};return(0,l.A)(M,Z)},W=K("anonymous").catch(()=>K("no-prompt")),[N,L]=yield Promise.all([W,B]),b=L?.layers,z=N.data&&N.data.layers;if(!Array.isArray(z))throw new Error("expected layers array");if(Array.isArray(b)){for(let F=0;F<Math.min(b.length,z.length);F++)if(b[F].id===R)return{serverUrl:M,layerId:z[F].id}}else if(null!=R&&R<z.length)return{serverUrl:M,layerId:z[R].id};throw new Error("could not find matching associated sublayer")})).apply(this,arguments)}function C(){return(C=(0,a.A)(function*({sceneLayerItem:f,signal:e}){if(!f)return null;try{const p=(yield f.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:e})).find(R=>"Feature Service"===R.type)||null;if(!p)return null;const M=new g.default({portal:p.portal,id:p.id});return yield M.load(),M}catch(p){return(0,h.QP)(p),null}})).apply(this,arguments)}},23154:($,j,t)=>{t.d(j,{K:()=>O,Q:()=>x});var a=t(10467),u=t(56151);const l=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);function x(T,_){return h.apply(this,arguments)}function h(){return(h=(0,a.A)(function*(T,_){const{loadContext:S,...I}=_||{},m=S?yield S.fetchServiceMetadata(T,I):yield(0,u.V)(T,I);A(m),g(m);const d={serviceJSON:m};if((m.currentVersion??0)<10.5)return d;const E=`${T}/layers`,C=S?yield S.fetchServiceMetadata(E,I):yield(0,u.V)(E,I);return A(C),g(C),d.layersJSON={layers:C.layers,tables:C.tables},d})).apply(this,arguments)}function y(T){const{type:_}=T;return!!_&&l.has(_)}function P(T){return"Table"===T.type}function g(T){T.layers=T.layers?.filter(y),T.tables=T.tables?.filter(P)}function v(T){T.type||="Feature Layer"}function D(T){T.type||="Table"}function A(T){T.layers?.forEach(v),T.tables?.forEach(D)}function O(T){switch(T){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},64833:($,j,t)=>{t.d(j,{S:()=>u});var a=t(10467);const u={BingMapsLayer:(l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6767)]).then(t.bind(t,16767))).default}),function(){return l.apply(this,arguments)}),BuildingSceneLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4057),t.e(680),t.e(5940),t.e(7269),t.e(7284),t.e(3069),t.e(7965),t.e(9130),t.e(2076),t.e(7496)]).then(t.bind(t,13305))).default});return function(){return l.apply(this,arguments)}}(),CSVLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4057),t.e(680),t.e(5940),t.e(572)]).then(t.bind(t,34015))).default});return function(){return l.apply(this,arguments)}}(),CatalogLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4057),t.e(9377),t.e(8304),t.e(680),t.e(5931),t.e(8294),t.e(370),t.e(8860)]).then(t.bind(t,78512))).default});return function(){return l.apply(this,arguments)}}(),DimensionLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(4511)]).then(t.bind(t,94511))).default});return function(){return l.apply(this,arguments)}}(),ElevationLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(9750),t.e(7677),t.e(2076),t.e(8147)]).then(t.bind(t,98147))).default});return function(){return l.apply(this,arguments)}}(),FeatureLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4057),t.e(680),t.e(5940),t.e(6322)]).then(t.bind(t,35940))).default});return function(){return l.apply(this,arguments)}}(),GeoJSONLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(4792),t.e(4057),t.e(9767)]).then(t.bind(t,88474))).default});return function(){return l.apply(this,arguments)}}(),GeoRSSLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6337)]).then(t.bind(t,66337))).default});return function(){return l.apply(this,arguments)}}(),GroupLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6323),t.e(2429)]).then(t.bind(t,82429))).default});return function(){return l.apply(this,arguments)}}(),ImageryLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(9750),t.e(8304),t.e(9642),t.e(2758),t.e(3900),t.e(2076),t.e(598)]).then(t.bind(t,23006))).default});return function(){return l.apply(this,arguments)}}(),ImageryTileLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(9750),t.e(9642),t.e(18),t.e(2758),t.e(7677),t.e(126),t.e(3900),t.e(5065),t.e(2076),t.e(2907)]).then(t.bind(t,92907))).default});return function(){return l.apply(this,arguments)}}(),IntegratedMesh3DTilesLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(9750),t.e(1912)]).then(t.bind(t,41912))).default});return function(){return l.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(9750),t.e(3069),t.e(2076),t.e(5821)]).then(t.bind(t,12138))).default});return function(){return l.apply(this,arguments)}}(),KMLLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(6147),t.e(9946)]).then(t.bind(t,27160))).default});return function(){return l.apply(this,arguments)}}(),KnowledgeGraphLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(812),t.e(4792),t.e(1329),t.e(9377),t.e(7960),t.e(6565),t.e(4965),t.e(8253),t.e(916)]).then(t.bind(t,20916))).default});return function(){return l.apply(this,arguments)}}(),LineOfSightLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(7269),t.e(556),t.e(2076),t.e(2210)]).then(t.bind(t,46188))).default});return function(){return l.apply(this,arguments)}}(),LinkChartLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(812),t.e(4792),t.e(1329),t.e(9377),t.e(7960),t.e(6565),t.e(4965),t.e(8253),t.e(345)]).then(t.bind(t,60345))).default});return function(){return l.apply(this,arguments)}}(),MapImageLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4057),t.e(8304),t.e(5931),t.e(2704),t.e(3271),t.e(4558)]).then(t.bind(t,39425))).default});return function(){return l.apply(this,arguments)}}(),MapNotesLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4057),t.e(680),t.e(5940),t.e(2076),t.e(2226)]).then(t.bind(t,72921))).default});return function(){return l.apply(this,arguments)}}(),MediaLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(2076),t.e(3073)]).then(t.bind(t,92072))).default});return function(){return l.apply(this,arguments)}}(),OGCFeatureLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(4792),t.e(4057),t.e(9130),t.e(5225),t.e(1039)]).then(t.bind(t,64368))).default});return function(){return l.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(5090),t.e(4717)]).then(t.bind(t,94717))).default});return function(){return l.apply(this,arguments)}}(),OrientedImageryLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4057),t.e(680),t.e(5940),t.e(9795),t.e(5204)]).then(t.bind(t,77775))).default});return function(){return l.apply(this,arguments)}}(),PointCloudLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(9750),t.e(3069),t.e(2076),t.e(2205)]).then(t.bind(t,1852))).default});return function(){return l.apply(this,arguments)}}(),RouteLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(6565),t.e(709),t.e(9729)]).then(t.bind(t,99488))).default});return function(){return l.apply(this,arguments)}}(),SceneLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(7269),t.e(7284),t.e(3069),t.e(7965),t.e(9130),t.e(2076),t.e(5013)]).then(t.bind(t,33136))).default});return function(){return l.apply(this,arguments)}}(),StreamLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4792),t.e(4707)]).then(t.bind(t,19373))).default});return function(){return l.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1196),t.e(9750),t.e(4057),t.e(680),t.e(7829)]).then(t.bind(t,46062))).default});return function(){return l.apply(this,arguments)}}(),TileLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(1732),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(9750),t.e(4057),t.e(8304),t.e(5931),t.e(7677),t.e(2704),t.e(2076),t.e(5495)]).then(t.bind(t,40460))).default});return function(){return l.apply(this,arguments)}}(),UnknownLayer:function(){var l=(0,a.A)(function*(){return(yield t.e(482).then(t.bind(t,30482))).default});return function(){return l.apply(this,arguments)}}(),UnsupportedLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(2076),t.e(7451)]).then(t.bind(t,42605))).default});return function(){return l.apply(this,arguments)}}(),VectorTileLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(9750),t.e(7677),t.e(6517),t.e(2076),t.e(2931)]).then(t.bind(t,90769))).default});return function(){return l.apply(this,arguments)}}(),VideoLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(2648),t.e(2076),t.e(3906)]).then(t.bind(t,95749))).default});return function(){return l.apply(this,arguments)}}(),ViewshedLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(7269),t.e(556),t.e(1573)]).then(t.bind(t,31573))).default});return function(){return l.apply(this,arguments)}}(),VoxelLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(3325),t.e(9750),t.e(3069),t.e(2076),t.e(4698)]).then(t.bind(t,18203))).default});return function(){return l.apply(this,arguments)}}(),WCSLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(9642),t.e(18),t.e(2758),t.e(126),t.e(3900),t.e(5065),t.e(2076),t.e(5735)]).then(t.bind(t,98897))).default});return function(){return l.apply(this,arguments)}}(),WFSLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(6160),t.e(2253),t.e(3318),t.e(1595),t.e(1196),t.e(4792),t.e(3650),t.e(3769)]).then(t.bind(t,3723))).default});return function(){return l.apply(this,arguments)}}(),WMSLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(2076),t.e(2138)]).then(t.bind(t,52138))).default});return function(){return l.apply(this,arguments)}}(),WMTSLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(5090),t.e(2076),t.e(7438)]).then(t.bind(t,67438))).default});return function(){return l.apply(this,arguments)}}(),WebTileLayer:function(){var l=(0,a.A)(function*(){return(yield Promise.all([t.e(9845),t.e(3325),t.e(5090)]).then(t.bind(t,75090))).default});return function(){return l.apply(this,arguments)}}()};var l},3158:($,j,t)=>{t.d(j,{Z:()=>l});var a=t(82663),u=t(36812);function l(x){const h=1/(0,a.GA)(x,1);return 1!==h?new u.A({scale:[h,h,h]}):void 0}},55490:($,j,t)=>{t.d(j,{A:()=>v});var a=t(8189),u=t(71065),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576));let g=class extends u.A{get affectsPixelSize(){return!1}forwardTransform(D){return D}inverseTransform(D){return D}};(0,a._)([(0,l.MZ)()],g.prototype,"affectsPixelSize",null),(0,a._)([(0,l.MZ)({json:{write:!0}})],g.prototype,"spatialReference",void 0),g=(0,a._)([(0,P.$)("esri.layers.support.rasterTransforms.BaseRasterTransform")],g);const v=g},39181:($,j,t)=>{t.d(j,{A:()=>A});var v,a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(15463)),P=t(76576),g=t(55490);let D=v=class extends g.A{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(O){return"point"===(O=O.clone()).type?(O.x>180+this.tolerance&&(O.x-=360),O):(O.xmin>=180-this.tolerance?(O.xmax-=360,O.xmin-=360):O.xmax>180+this.tolerance&&(O.xmin=-180,O.xmax=180),O)}inverseTransform(O){return"point"===(O=O.clone()).type?(O.x<-this.tolerance&&(O.x+=360),O):(O.xmin<-this.tolerance&&(O.xmin+=360,O.xmax+=360),O)}clone(){return new v({tolerance:this.tolerance})}};(0,a._)([(0,y.e)({GCSShiftXform:"gcs-shift"})],D.prototype,"type",void 0),(0,a._)([(0,u.MZ)()],D.prototype,"tolerance",void 0),D=v=(0,a._)([(0,P.$)("esri.layers.support.rasterTransforms.GCSShiftTransform")],D);const A=D},47168:($,j,t)=>{t.d(j,{A:()=>d});var T,a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(15463)),P=t(17221),g=t(76576),v=t(50305),D=t(28067),A=t(1749),O=t(55490);function _(E,C,f){const{x:e,y:p}=C;if(f<2)return{x:E[0]+e*E[2]+p*E[4],y:E[1]+e*E[3]+p*E[5]};if(2===f){const N=e*e,L=p*p,b=e*p;return{x:E[0]+e*E[2]+p*E[4]+N*E[6]+b*E[8]+L*E[10],y:E[1]+e*E[3]+p*E[5]+N*E[7]+b*E[9]+L*E[11]}}const M=e*e,R=p*p,B=e*p,G=M*e,U=M*p,K=e*R,W=p*R;return{x:E[0]+e*E[2]+p*E[4]+M*E[6]+B*E[8]+R*E[10]+G*E[12]+U*E[14]+K*E[16]+W*E[18],y:E[1]+e*E[3]+p*E[5]+M*E[7]+B*E[9]+R*E[11]+G*E[13]+U*E[15]+K*E[17]+W*E[19]}}function S(E,C,f){const{xmin:e,ymin:p,xmax:M,ymax:R,spatialReference:B}=C;let G=[];if(f<2)G.push({x:e,y:R}),G.push({x:M,y:R}),G.push({x:e,y:p}),G.push({x:M,y:p});else{let W=10;for(let N=0;N<W;N++)G.push({x:e,y:p+(R-p)*N/(W-1)}),G.push({x:M,y:p+(R-p)*N/(W-1)});W=8;for(let N=1;N<=W;N++)G.push({x:e+(M-e)*N/W,y:p}),G.push({x:e+(M-e)*N/W,y:R})}G=G.map(W=>_(E,W,f));const U=G.map(W=>W.x),K=G.map(W=>W.y);return new D.A({xmin:Math.min.apply(null,U),xmax:Math.max.apply(null,U),ymin:Math.min.apply(null,K),ymax:Math.max.apply(null,K),spatialReference:B})}let m=T=class extends O.A{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(E,C){const{coeffX:f,coeffY:e}=C;if(!f?.length||!e?.length||f.length!==e.length)return null;const p=[];for(let M=0;M<f.length;M++)p.push(f[M]),p.push(e[M]);return p}writeForwardCoefficients(E,C,f){const e=[],p=[];for(let M=0;M<E?.length;M++)M%2==0?e.push(E[M]):p.push(E[M]);C.coeffX=e,C.coeffY=p}get inverseCoefficients(){let E=this._get("inverseCoefficients");const C=this._get("forwardCoefficients");return!E&&C&&this.polynomialOrder<2&&(E=function I(E){const[C,f,e,p,M,R]=E,B=e*R-M*p,G=M*p-e*R;return[(M*f-C*R)/B,(e*f-C*p)/G,R/B,p/G,-M/B,-e/G]}(C)),E}set inverseCoefficients(E){this._set("inverseCoefficients",E)}readInverseCoefficients(E,C){const{inverseCoeffX:f,inverseCoeffY:e}=C;if(!f?.length||!e?.length||f.length!==e.length)return null;const p=[];for(let M=0;M<f.length;M++)p.push(f[M]),p.push(e[M]);return p}writeInverseCoefficients(E,C,f){const e=[],p=[];for(let M=0;M<E?.length;M++)M%2==0?e.push(E[M]):p.push(E[M]);C.inverseCoeffX=e,C.inverseCoeffY=p}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(E){if("point"===E.type){const C=_(this.forwardCoefficients,E,this.polynomialOrder);return new A.A({x:C.x,y:C.y,spatialReference:E.spatialReference})}return S(this.forwardCoefficients,E,this.polynomialOrder)}inverseTransform(E){if("point"===E.type){const C=_(this.inverseCoefficients,E,this.polynomialOrder);return new A.A({x:C.x,y:C.y,spatialReference:E.spatialReference})}return S(this.inverseCoefficients,E,this.polynomialOrder)}clone(){return new T({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};(0,a._)([(0,u.MZ)({json:{write:!0}})],m.prototype,"polynomialOrder",void 0),(0,a._)([(0,u.MZ)()],m.prototype,"forwardCoefficients",void 0),(0,a._)([(0,P.w)("forwardCoefficients",["coeffX","coeffY"])],m.prototype,"readForwardCoefficients",null),(0,a._)([(0,v.K)("forwardCoefficients")],m.prototype,"writeForwardCoefficients",null),(0,a._)([(0,u.MZ)({json:{write:!0}})],m.prototype,"inverseCoefficients",null),(0,a._)([(0,P.w)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],m.prototype,"readInverseCoefficients",null),(0,a._)([(0,v.K)("inverseCoefficients")],m.prototype,"writeInverseCoefficients",null),(0,a._)([(0,u.MZ)()],m.prototype,"affectsPixelSize",null),(0,a._)([(0,y.e)({PolynomialXform:"polynomial"})],m.prototype,"type",void 0),m=T=(0,a._)([(0,g.$)("esri.layers.support.rasterTransforms.PolynomialTransform")],m);const d=m},62200:($,j,t)=>{t.d(j,{a:()=>u,h:()=>l});var a=t(90261);function u(){return new Promise(h=>t.e(9748).then(t.bind(t,29748)).then(y=>y.l).then(({default:y})=>{const P=y({locateFile:x,onRuntimeInitialized:()=>h(P)})})).catch(h=>{throw h})}function l(){return new Promise(h=>t.e(215).then(t.bind(t,50215)).then(y=>y.l).then(({default:y})=>{const P=y({locateFile:x,onRuntimeInitialized:()=>h(P)})})).catch(h=>{throw h})}function x(h){return(0,a.s)(`esri/libs/lyr3d/${h}`)}},65385:($,j,t)=>{t.r(j),t.d(j,{getGeometryServiceURL:()=>P,projectGeometry:()=>v});var a=t(10467),u=t(23098),l=t(5922),x=t(73874),h=t(66456),y=t(77436);function P(){return g.apply(this,arguments)}function g(){return(g=(0,a.A)(function*(A=null,O){if(u.A.geometryServiceUrl)return u.A.geometryServiceUrl;if(!A)throw new l.A("internal:geometry-service-url-not-configured");let T;T="portal"in A?A.portal||x.A.getDefault():A,yield T.load({signal:O});const _=T.helperServices?.geometry?.url;if(!_)throw new l.A("internal:geometry-service-url-not-configured");return _})).apply(this,arguments)}function v(A,O){return D.apply(this,arguments)}function D(){return(D=(0,a.A)(function*(A,O,T=null,_){const S=yield P(T,_),I=new y.A({geometries:[A],outSpatialReference:O}),m=yield(0,h.C)(S,I,{signal:_});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new l.A("internal:geometry-service-projection-failed")})).apply(this,arguments)}},20368:($,j,t)=>{t.d(j,{n:()=>u});var a=t(45272);function u(v){return h[function l(v){return"json"===v.type?"application/json":"blob"===v.type?v.blob.type:function x(v){const D=(0,a.Zo)(v);return g[D]||y}(v.url)}(v)]||P}const h={},y="text/plain",P=h[y],g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const v in g)h[g[v]]=v},49873:($,j,t)=>{t.d(j,{A:()=>d});var T,a=t(8189),u=t(77806),l=t(85211),y=(t(3248),t(35150),t(15463)),P=t(76576),g=t(63115),v=t(23005),D=t(68677),A=t(71065),O=t(55739);let _=T=class extends A.A{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new T({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,u.o8)(this.color)})}};(0,a._)([(0,l.MZ)({type:String,json:{write:!0}})],_.prototype,"description",void 0),(0,a._)([(0,l.MZ)({type:String,json:{write:!0}})],_.prototype,"label",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue",isRequired:!0}}})],_.prototype,"minValue",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue",isRequired:!0}}})],_.prototype,"maxValue",void 0),(0,a._)([(0,l.MZ)({type:D.A,json:{type:[O.jz],write:{isRequired:!0}}})],_.prototype,"color",void 0),_=T=(0,a._)([(0,P.$)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],_);const S=_;var I;let m=I=class extends g.A{constructor(E){super(E),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new I({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,u.o8)(this.colorClassBreakInfos),legendOptions:(0,u.o8)(this.legendOptions)})}};(0,a._)([(0,y.e)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],m.prototype,"type",void 0),(0,a._)([(0,l.MZ)({json:{write:{isRequired:!0}},type:String})],m.prototype,"field",void 0),(0,a._)([(0,l.MZ)({type:v.A,json:{write:!0}})],m.prototype,"legendOptions",void 0),(0,a._)([(0,l.MZ)({type:g.A.fieldTransformTypeKebabDict.apiValues,json:{type:g.A.fieldTransformTypeKebabDict.jsonValues,read:g.A.fieldTransformTypeKebabDict.read,write:g.A.fieldTransformTypeKebabDict.write}})],m.prototype,"fieldTransformType",void 0),(0,a._)([(0,l.MZ)({type:[S],json:{write:{isRequired:!0}}})],m.prototype,"colorClassBreakInfos",void 0),m=I=(0,a._)([(0,P.$)("esri.renderers.PointCloudClassBreaksRenderer")],m);const d=m},63115:($,j,t)=>{t.d(j,{A:()=>B});var D,a=t(8189),u=t(49976),l=t(71065),x=t(77806),h=t(85211),g=(t(3248),t(35150),t(76576));t(40707);let A=D=class extends l.A{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new D({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,a._)([(0,h.MZ)({type:String,json:{write:{isRequired:!0}}})],A.prototype,"field",void 0),(0,a._)([(0,h.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],A.prototype,"minValue",void 0),(0,a._)([(0,h.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],A.prototype,"maxValue",void 0),A=D=(0,a._)([(0,g.$)("esri.renderers.support.pointCloud.ColorModulation")],A);const O=A,T=new u.J({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let _=class extends l.A{};(0,a._)([(0,h.MZ)({type:T.apiValues,readOnly:!0,nonNullable:!0,json:{type:T.jsonValues,read:!1,write:{writer:T.write,isRequired:!0}}})],_.prototype,"type",void 0),_=(0,a._)([(0,g.$)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],_);const S=_;var m,I=t(15463);let d=m=class extends S{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new m({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,a._)([(0,I.e)({pointCloudFixedSizeAlgorithm:"fixed-size"})],d.prototype,"type",void 0),(0,a._)([(0,h.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],d.prototype,"size",void 0),(0,a._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"useRealWorldSymbolSizes",void 0),d=m=(0,a._)([(0,g.$)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],d);const E=d;var C;let f=C=class extends S{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new C({scaleFactor:this.scaleFactor})}};(0,a._)([(0,I.e)({pointCloudSplatAlgorithm:"splat"})],f.prototype,"type",void 0),(0,a._)([(0,h.MZ)({type:Number,value:1,nonNullable:!0,json:{write:{isRequired:!0}}})],f.prototype,"scaleFactor",void 0),f=C=(0,a._)([(0,g.$)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],f);const p={key:"type",base:S,typeMap:{"fixed-size":E,splat:f}},M=(0,u.O)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let R=class extends l.A{constructor(G){super(G),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,x.o8)(this.pointSizeAlgorithm),colorModulation:(0,x.o8)(this.colorModulation),pointsPerInch:(0,x.o8)(this.pointsPerInch)}}};(0,a._)([(0,h.MZ)({type:M.apiValues,readOnly:!0,nonNullable:!0,json:{type:M.jsonValues,read:!1,write:{writer:M.write,isRequired:!0}}})],R.prototype,"type",void 0),(0,a._)([(0,h.MZ)({types:p,json:{write:!0}})],R.prototype,"pointSizeAlgorithm",void 0),(0,a._)([(0,h.MZ)({type:O,json:{write:!0}})],R.prototype,"colorModulation",void 0),(0,a._)([(0,h.MZ)({json:{write:!0},nonNullable:!0,type:Number})],R.prototype,"pointsPerInch",void 0),R=(0,a._)([(0,g.$)("esri.renderers.PointCloudRenderer")],R),(R||(R={})).fieldTransformTypeKebabDict=new u.J({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const B=R},87862:($,j,t)=>{t.d(j,{A:()=>T});var A,a=t(8189),u=t(77806),l=t(85211),y=(t(3248),t(35150),t(15463)),P=t(76576),g=t(63115),v=t(23005),D=t(5236);let O=A=class extends g.A{constructor(_){super(_),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new A({...this.cloneProperties(),field:(0,u.o8)(this.field),fieldTransformType:(0,u.o8)(this.fieldTransformType),stops:(0,u.o8)(this.stops),legendOptions:(0,u.o8)(this.legendOptions)})}};(0,a._)([(0,y.e)({pointCloudStretchRenderer:"point-cloud-stretch"})],O.prototype,"type",void 0),(0,a._)([(0,l.MZ)({json:{write:{isRequired:!0}},type:String})],O.prototype,"field",void 0),(0,a._)([(0,l.MZ)({type:v.A,json:{write:!0}})],O.prototype,"legendOptions",void 0),(0,a._)([(0,l.MZ)({type:g.A.fieldTransformTypeKebabDict.apiValues,json:{type:g.A.fieldTransformTypeKebabDict.jsonValues,read:g.A.fieldTransformTypeKebabDict.read,write:g.A.fieldTransformTypeKebabDict.write}})],O.prototype,"fieldTransformType",void 0),(0,a._)([(0,l.MZ)({type:[D.A],json:{write:{isRequired:!0}}})],O.prototype,"stops",void 0),O=A=(0,a._)([(0,P.$)("esri.renderers.PointCloudStretchRenderer")],O);const T=O},87701:($,j,t)=>{t.d(j,{A:()=>d});var T,a=t(8189),u=t(77806),l=t(85211),y=(t(3248),t(35150),t(15463)),P=t(76576),g=t(63115),v=t(23005),D=t(68677),A=t(71065),O=t(55739);let _=T=class extends A.A{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new T({description:this.description,label:this.label,values:(0,u.o8)(this.values),color:(0,u.o8)(this.color)})}};(0,a._)([(0,l.MZ)({type:String,json:{write:!0}})],_.prototype,"description",void 0),(0,a._)([(0,l.MZ)({type:String,json:{write:!0}})],_.prototype,"label",void 0),(0,a._)([(0,l.MZ)({type:[String],json:{write:{isRequired:!0}}})],_.prototype,"values",void 0),(0,a._)([(0,l.MZ)({type:D.A,json:{type:[O.jz],write:{isRequired:!0}}})],_.prototype,"color",void 0),_=T=(0,a._)([(0,P.$)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],_);const S=_;var I;let m=I=class extends g.A{constructor(E){super(E),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new I({...this.cloneProperties(),field:(0,u.o8)(this.field),fieldTransformType:(0,u.o8)(this.fieldTransformType),colorUniqueValueInfos:(0,u.o8)(this.colorUniqueValueInfos),legendOptions:(0,u.o8)(this.legendOptions)})}};(0,a._)([(0,y.e)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],m.prototype,"type",void 0),(0,a._)([(0,l.MZ)({json:{write:{isRequired:!0}},type:String})],m.prototype,"field",void 0),(0,a._)([(0,l.MZ)({type:g.A.fieldTransformTypeKebabDict.apiValues,json:{type:g.A.fieldTransformTypeKebabDict.jsonValues,read:g.A.fieldTransformTypeKebabDict.read,write:g.A.fieldTransformTypeKebabDict.write}})],m.prototype,"fieldTransformType",void 0),(0,a._)([(0,l.MZ)({type:[S],json:{write:{isRequired:!0}}})],m.prototype,"colorUniqueValueInfos",void 0),(0,a._)([(0,l.MZ)({type:v.A,json:{write:!0}})],m.prototype,"legendOptions",void 0),m=I=(0,a._)([(0,P.$)("esri.renderers.PointCloudUniqueValueRenderer")],m);const d=m},66456:($,j,t)=>{t.d(j,{C:()=>v});var a=t(10467),u=t(89563),l=t(55739),x=t(61320),h=t(68800),y=t(28524),P=t(77436);const g=(0,l.dp)(P.A);function v(A,O,T){return D.apply(this,arguments)}function D(){return(D=(0,a.A)(function*(A,O,T){O=g(O);const _=(0,h.Dl)(A),S={..._.query,f:"json",...O.toJSON()},I=O.outSpatialReference,m=(0,x.$B)(O.geometries[0]),d=(0,h.jV)(S,T);return(0,u.A)(_.path+"/project",d).then(({data:{geometries:E}})=>(0,y.V)(E,m,I))})).apply(this,arguments)}},93091:($,j,t)=>{t.d(j,{E9:()=>_,Tw:()=>O,X6:()=>T});var a=t(10467),u=t(89563),l=t(28067),x=t(1749),h=t(32034),y=t(83179),P=t(61599),g=t(68800),v=t(93327);function D(S,I,m){return A.apply(this,arguments)}function A(){return(A=(0,a.A)(function*(S,I,m){const d=(0,g.Dl)(S),{rasterFunction:E,sourceJSON:C}=I||{},f=E?JSON.stringify(E.rasterFunctionDefinition||E):null,e=(0,g.lF)({...d.query,renderingRule:f,f:"json"}),p=(0,g.jV)(e,m);S=d.path;const M=C||(yield(0,u.A)(S,p).then(tt=>tt.data)),R=M.hasRasterAttributeTable?(0,u.A)(`${S}/rasterAttributeTable`,p):null,B=M.hasColormap?(0,u.A)(`${S}/colormap`,p):null,G=M.hasHistograms?(0,u.A)(`${S}/histograms`,p):null,U=M.currentVersion>=10.3?(0,u.A)(`${S}/keyProperties`,p):null,K=M.hasMultidimensions?(0,u.A)(`${S}/multidimensionalInfo`,p):null,W=yield Promise.allSettled([R,B,G,U,K]);let N=null;if(M.minValues&&M.minValues.length===M.bandCount){N=[];for(let tt=0;tt<M.minValues.length;tt++)N.push({min:M.minValues[tt],max:M.maxValues[tt],avg:M.meanValues[tt],stddev:M.stdvValues[tt]})}const L=l.A.fromJSON(M.extent),b=Math.ceil(L.width/M.pixelSizeX-.1),z=Math.ceil(L.height/M.pixelSizeY-.1),F=h.A.fromJSON(M.spatialReference||M.extent.spatialReference),Z="fulfilled"===W[0].status?W[0].value?.data:null,V=Z?.features?.length?v.A.fromJSON(Z):null,J="fulfilled"===W[1].status?W[1].value?.data.colormap:null,q=J?.length?J:null,et="fulfilled"===W[2].status?W[2].value?.data.histograms:null,nt=et?.[0]?.counts?.length?et:null,st="fulfilled"===W[3].status?W[3].value?.data??{}:{},H="fulfilled"===W[4].status?W[4].value?.data.multidimensionalInfo:null,Q=H?.variables?.length?H:null;Q&&Q.variables.forEach(tt=>{tt.statistics?.length&&tt.statistics.forEach(ot=>{ot.avg=ot.mean,ot.stddev=ot.standardDeviation}),tt.dimensions?.forEach(ot=>{"StdTime"!==ot.name||ot.recurring||ot.unit||(ot.unit="ISO8601")})});const{defaultVariable:k,serviceDataType:w}=M;k&&k!==st.DefaultVariable&&(st.DefaultVariable=k),w?.includes("esriImageServiceDataTypeVector")&&!w.includes(st.DataType)&&(st.DataType=w.replace("esriImageServiceDataType",""));let Y=M.noDataValue;M.noDataValues?.length&&M.noDataValues.some(tt=>tt!==Y)&&(Y=M.noDataValues);const X=M.transposeInfo?new P.A({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:"lerc",origin:new x.A({x:M.extent.xmin,y:M.extent.ymax,spatialReference:F}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(b,z))/Math.LN2-8)),transposeInfo:M.transposeInfo}):void 0;return new y.A({width:b,height:z,bandCount:M.bandCount,extent:l.A.fromJSON(M.extent),spatialReference:F,pixelSize:new x.A({x:M.pixelSizeX,y:M.pixelSizeY,spatialReference:F}),pixelType:M.pixelType.toLowerCase(),statistics:N,attributeTable:V,colormap:q,histograms:nt,keyProperties:st,noDataValue:Y,multidimensionalInfo:Q,storageInfo:X})})).apply(this,arguments)}function O(S,I,m){return D(S,{sourceJSON:I},m)}function T(S,I,m){return D(S,{rasterFunction:I},m)}function _(S,I){S.attributeTable||(I.hasRasterAttributeTable=!1),S.histograms||(I.hasHistograms=!1),S.colormap||(I.hasColormap=!1),S.multidimensionalInfo||(I.hasMultidimensions=!1)}},92323:($,j,t)=>{t.d(j,{A:()=>v});var a=t(8189),u=t(71065),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576));let g=class extends u.A{constructor(D){super(D),this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"assetGroupCode",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"assetTypeCode",void 0),(0,a._)([(0,l.MZ)({type:String,json:{write:!0}})],g.prototype,"globalId",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"networkSourceId",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"objectId",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"positionFrom",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"positionTo",void 0),(0,a._)([(0,l.MZ)({type:Number,json:{write:!0}})],g.prototype,"terminalId",void 0),g=(0,a._)([(0,P.$)("esri.rest.networks.support.NetworkElement")],g);const v=g},45797:($,j,t)=>{t.d(j,{$K:()=>S,KW:()=>T,Yb:()=>A,xs:()=>m});var a=t(10467),u=t(89563),l=t(45272),x=t(61320),h=t(77098),y=t(58701),P=t(1832),g=t(98789);const v="Layer does not support extent calculation.";function D(E,C){const f=E.geometry,e=E.toJSON(),p=e;if(null!=f&&(p.geometry=JSON.stringify(f),p.geometryType=(0,x.$B)(f),p.inSR=(0,y.YX)(f.spatialReference)),e.topFilter?.groupByFields&&(p.topFilter.groupByFields=e.topFilter.groupByFields.join(",")),e.topFilter?.orderByFields&&(p.topFilter.orderByFields=e.topFilter.orderByFields.join(",")),e.topFilter&&(p.topFilter=JSON.stringify(p.topFilter)),e.objectIds&&(p.objectIds=e.objectIds.join(",")),e.orderByFields&&(p.orderByFields=e.orderByFields.join(",")),e.outFields&&!(C?.returnCountOnly||C?.returnExtentOnly||C?.returnIdsOnly)?p.outFields=e.outFields.includes("*")?"*":e.outFields.join(","):delete p.outFields,e.outSR?p.outSR=(0,y.YX)(e.outSR):f&&e.returnGeometry&&(p.outSR=p.inSR),e.returnGeometry&&delete e.returnGeometry,e.timeExtent){const M=e.timeExtent,{start:R,end:B}=M;null==R&&null==B||(p.time=R===B?R:`${R??"null"},${B??"null"}`),delete e.timeExtent}return p}function A(E,C,f,e){return O.apply(this,arguments)}function O(){return(O=(0,a.A)(function*(E,C,f,e){const p=yield d(E,C,"json",e);return(0,g.q)(C,f,p.data),p})).apply(this,arguments)}function T(E,C,f){return _.apply(this,arguments)}function _(){return(_=(0,a.A)(function*(E,C,f){return null!=C.timeExtent&&C.timeExtent.isEmpty?{data:{objectIds:[]}}:d(E,C,"json",f,{returnIdsOnly:!0})})).apply(this,arguments)}function S(E,C,f){return I.apply(this,arguments)}function I(){return(I=(0,a.A)(function*(E,C,f){return null!=C.timeExtent&&C.timeExtent.isEmpty?{data:{count:0,extent:null}}:d(E,C,"json",f,{returnExtentOnly:!0,returnCountOnly:!0}).then(e=>{const p=e.data;if(p.hasOwnProperty("extent"))return e;if(p.features)throw new Error(v);if(p.hasOwnProperty("count"))throw new Error(v);return e})})).apply(this,arguments)}function m(E,C,f){return null!=C.timeExtent&&C.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):d(E,C,"json",f,{returnIdsOnly:!0,returnCountOnly:!0})}function d(E,C,f,e={},p={}){const M="string"==typeof E?(0,l.An)(E):E,R=C.geometry?[C.geometry]:[];return e.responseType="json",(0,h.el)(R,null,e).then(B=>{const G=B?.[0];null!=G&&((C=C.clone()).geometry=G);const U=(0,P.z)({...M.query,f,...p,...D(C,p)});return(0,u.A)((0,l.fj)(M.path,"queryTopFeatures"),{...e,query:{...U,...e.query}})})}},70994:($,j,t)=>{t.d(j,{A:()=>T});var D,a=t(8189),u=t(71065),l=t(85211),x=t(55739),P=(t(3248),t(40707),t(76576));const A={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let O=D=class extends u.A{constructor(_){super(_),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:_}=this,S=function g(_){const{exifInfo:S,exifName:I,tagName:m}=_;if(!S||!I||!m)return null;const d=S.find(E=>E.name===I);return d?function v(_){const{tagName:S,tags:I}=_;return I&&S&&I.find(d=>d.name===S)?.value||null}({tagName:m,tags:d.tags}):null}({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:_});return A[S]||null}clone(){return new D({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,a._)([(0,l.MZ)({type:String})],O.prototype,"contentType",void 0),(0,a._)([(0,l.MZ)()],O.prototype,"exifInfo",void 0),(0,a._)([(0,l.MZ)({readOnly:!0})],O.prototype,"orientationInfo",null),(0,a._)([(0,l.MZ)({type:x.jz})],O.prototype,"id",void 0),(0,a._)([(0,l.MZ)({type:String})],O.prototype,"globalId",void 0),(0,a._)([(0,l.MZ)({type:String})],O.prototype,"keywords",void 0),(0,a._)([(0,l.MZ)({type:String})],O.prototype,"name",void 0),(0,a._)([(0,l.MZ)({json:{read:!1}})],O.prototype,"parentGlobalId",void 0),(0,a._)([(0,l.MZ)({json:{read:!1}})],O.prototype,"parentObjectId",void 0),(0,a._)([(0,l.MZ)({type:x.jz})],O.prototype,"size",void 0),(0,a._)([(0,l.MZ)({json:{read:!1}})],O.prototype,"url",void 0),O=D=(0,a._)([(0,P.$)("esri.rest.query.support.AttachmentInfo")],O);const T=O},77436:($,j,t)=>{t.d(j,{A:()=>O});var a=t(8189),u=t(71065),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576)),g=t(32034),v=t(61320),D=t(58701);let A=class extends u.A{constructor(T){super(T),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const T=this.geometries.map(I=>I.toJSON()),_=this.geometries[0],S={};return S.outSR=(0,D.YX)(this.outSpatialReference),S.inSR=(0,D.YX)(_.spatialReference),S.geometries=JSON.stringify({geometryType:(0,v.$B)(_),geometries:T}),this.transformation&&(S.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(S.transformForward=this.transformForward),S}};(0,a._)([(0,l.MZ)()],A.prototype,"geometries",void 0),(0,a._)([(0,l.MZ)({type:g.A,json:{read:{source:"outSR"}}})],A.prototype,"outSpatialReference",void 0),(0,a._)([(0,l.MZ)()],A.prototype,"transformation",void 0),(0,a._)([(0,l.MZ)()],A.prototype,"transformForward",void 0),A=(0,a._)([(0,P.$)("esri.rest.support.ProjectParameters")],A);const O=A},61569:($,j,t)=>{t.r(j),t.d(j,{default:()=>p});var S,a=t(8189),u=t(49976),l=t(71065),x=t(77806),h=t(85211),y=t(55739),P=t(76576),g=t(50305),v=t(32034),D=t(61320),A=t(6434);t(3248),t(35150),t(40707);let I=S=class extends l.A{constructor(M){super(M),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new S({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};(0,a._)([(0,h.MZ)({type:[String],json:{write:!0}})],I.prototype,"groupByFields",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{write:!0}})],I.prototype,"topCount",void 0),(0,a._)([(0,h.MZ)({type:[String],json:{write:!0}})],I.prototype,"orderByFields",void 0),I=S=(0,a._)([(0,P.$)("esri.rest.support.TopFilter")],I);const m=I;var E,d=t(17181);const C=new u.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),f=new u.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let e=E=class extends l.A{constructor(M){super(M),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(M,R){R.resultOffset=this.start,R.resultRecordCount=this.num||10}clone(){return new E((0,x.o8)({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};(0,a._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],e.prototype,"cacheHint",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{write:{overridePolicy:M=>({enabled:M>0})}}})],e.prototype,"distance",void 0),(0,a._)([(0,h.MZ)({types:A.yR,json:{read:D.rS,write:!0}})],e.prototype,"geometry",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{write:!0}})],e.prototype,"geometryPrecision",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{write:!0}})],e.prototype,"maxAllowableOffset",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],e.prototype,"num",void 0),(0,a._)([(0,h.MZ)({json:{write:!0}})],e.prototype,"objectIds",void 0),(0,a._)([(0,h.MZ)({type:[String],json:{write:!0}})],e.prototype,"orderByFields",void 0),(0,a._)([(0,h.MZ)({type:[String],json:{write:!0}})],e.prototype,"outFields",void 0),(0,a._)([(0,h.MZ)({type:v.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],e.prototype,"outSpatialReference",void 0),(0,a._)([(0,h.MZ)({type:String,json:{write:!0}})],e.prototype,"resultType",void 0),(0,a._)([(0,h.MZ)({json:{write:!0}})],e.prototype,"returnGeometry",void 0),(0,a._)([(0,h.MZ)({type:Boolean,json:{write:{overridePolicy:M=>({enabled:M})}}})],e.prototype,"returnM",void 0),(0,a._)([(0,h.MZ)({type:Boolean,json:{write:{overridePolicy:M=>({enabled:M})}}})],e.prototype,"returnZ",void 0),(0,a._)([(0,h.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],e.prototype,"start",void 0),(0,a._)([(0,g.K)("start"),(0,g.K)("num")],e.prototype,"writeStart",null),(0,a._)([(0,h.MZ)({type:String,json:{read:{source:"spatialRel",reader:C.read},write:{target:"spatialRel",writer:C.write}}})],e.prototype,"spatialRelationship",void 0),(0,a._)([(0,h.MZ)({type:d.A,json:{write:!0}})],e.prototype,"timeExtent",void 0),(0,a._)([(0,h.MZ)({type:m,json:{write:!0}})],e.prototype,"topFilter",void 0),(0,a._)([(0,h.MZ)({type:String,json:{read:f.read,write:{writer:f.write,overridePolicy(M){return{enabled:null!=M&&null!=this.distance}}}}})],e.prototype,"units",void 0),(0,a._)([(0,h.MZ)({type:String,json:{write:!0}})],e.prototype,"where",void 0),e=E=(0,a._)([(0,P.$)("esri.rest.support.TopFeaturesQuery")],e),e.from=(0,y.dp)(e);const p=e},89761:($,j,t)=>{t.d(j,{V:()=>l,f:()=>x});var a=t(1749),u=t(36812);function l(y,P,g=h){return new a.A({x:y[g.originX],y:y[g.originY],z:y[g.originZ],spatialReference:P})}function x(y,P=h){return new u.A({translation:[y[P.translationX],-y[P.translationZ],y[P.translationY]],rotationAxis:[y[P.rotationX],-y[P.rotationZ],y[P.rotationY]],rotationAngle:y[P.rotationDeg],scale:[y[P.scaleX],y[P.scaleZ],y[P.scaleY]]})}const h={originX:"originX",originY:"originY",originZ:"originZ",translationX:"translationX",translationY:"translationY",translationZ:"translationZ",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ",rotationX:"rotationX",rotationY:"rotationY",rotationZ:"rotationZ",rotationDeg:"rotationDeg"}},11152:($,j,t)=>{t.d(j,{Of:()=>a,UR:()=>u,Ws:()=>x,bv:()=>h});const a=Symbol("ImageElementInstance"),u=Symbol("VideoElementInstance");function x(y){return null!=y&&"object"==typeof y&&u in y}function h(y){return function l(y){return null!=y&&"object"==typeof y&&a in y}(y)||x(y)}},56151:($,j,t)=>{t.d(j,{V:()=>l});var a=t(10467),u=t(89563);function l(h,y){return x.apply(this,arguments)}function x(){return(x=(0,a.A)(function*(h,y){const{data:P}=yield(0,u.A)(h,{responseType:"json",query:{f:"json",...y?.customParameters,token:y?.apiKey}});return P})).apply(this,arguments)}},96128:($,j,t)=>{t.d(j,{A:()=>x});var a=t(10467),u=t(98894),l=t(48116);class x{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(y){return this._resourceMap.get(y)??null}fetchResource(y,P){var g=this;return(0,a.A)(function*(){const v=g._resourceMap.get(y);if(v)return{width:v.width,height:v.height};let D=g._inFlightResourceMap.get(y);return D?D.then(A=>({width:A.width,height:A.height})):(D=(0,l.M5)(y,P),g._inFlightResourceMap.set(y,D),D.then(A=>(g._inFlightResourceMap.delete(y),g._resourceMap.set(y,A),{width:A.width,height:A.height}),()=>({width:0,height:0})))})()}deleteResource(y){this._inFlightResourceMap.delete(y),this._resourceMap.delete(y)}loadFont(y){return(0,u.Al)(y)}}},14506:($,j,t)=>{t.r(j),t.d(j,{CIMSymbolRasterizer:()=>v});var a=t(10467),u=t(96128),l=t(94529),x=t(26747),h=t(51298),y=t(28685),P=t(32117);class v{constructor(T){this._spatialReference=T,this._imageDataCanvas=null,this._cimResourceManager=new u.A}get _canvas(){return this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas")),this._imageDataCanvas}get resourceManager(){return this._cimResourceManager}rasterizeCIMSymbolAsync(T,_,S,I,m,d,E,C,f,e){var p=this;return(0,a.A)(function*(){if(!T)return null;const{data:M}=T;if(!M||"CIMSymbolReference"!==M.type||!M.symbol)return null;const{symbol:R}=M;d||(d=(0,P.n5)(R));const B=yield h.OverrideHelper.resolveSymbolOverrides(M,_,p._spatialReference,m,d,E,C),G=p._cimResourceManager,U=[];x.wp.fetchResources(B,G,U),x.wp.fetchFonts(B,G,U),U.length>0&&(yield Promise.all(U));const{width:K,height:W}=S;let N=A(d,K,W,I,e);const L=x.wp.getEnvelope(B,N,G);if(!L)return null;L.x===1/0&&(L.x=K+2),L.y===1/0&&(L.y=-W/2),L.width===-1/0&&(L.width=K),L.height===-1/0&&(L.height=W);let b=1,z=0,F=0;switch(R.type){case"CIMPointSymbol":case"CIMTextSymbol":{let V=1;L.width>K&&(V=K/L.width);let J=1;L.height>W&&(J=W/L.height),"preview"===I&&(L.width<K&&(V=K/L.width),L.height<W&&(J=W/L.height)),b=Math.min(V,J),z=L.x+L.width/2,F=L.y+L.height/2}break;case"CIMLineSymbol":if(e){F=L.y+L.height/2,z=L.x+L.width/2;const V=L.width-K,J=L.height-W;N={paths:(0,y.hs)(N.paths,{xmin:-1*L.width/2+V,xmax:L.width/2-V,ymin:-1*L.height/2+J,ymax:L.height/2-J,width:L.width-2*V,height:L.height-2*J})}}else{(f||L.height>W)&&(b=W/L.height),F=L.y+L.height/2;const V=L.x*b+K/2,J=(L.x+L.width)*b+K/2,{paths:q}=N;q[0][0][0]-=V/b,q[0][2][0]-=(J-K)/b}break;case"CIMPolygonSymbol":if(e){F=L.y+L.height/2,z=L.x+L.width/2;const V=L.width-K,J=L.height-W;N={paths:(0,y.hs)(N.rings,{xmin:-1*L.width/2+V,xmax:L.width/2-V,ymin:-1*L.height/2+J,ymax:L.height/2-J,width:L.width-2*V,height:L.height-2*J})}}else{z=L.x+L.width/2,F=L.y+L.height/2;const V=L.x*b+K/2,J=(L.x+L.width)*b+K/2,q=L.y*b+W/2,et=(L.y+L.height)*b+W/2,{rings:nt}=N;V<0&&(nt[0][0][0]-=V,nt[0][3][0]-=V,nt[0][4][0]-=V),q<0&&(nt[0][0][1]+=q,nt[0][1][1]+=q,nt[0][4][1]+=q),J>K&&(nt[0][1][0]-=J-K,nt[0][2][0]-=J-K),et>W&&(nt[0][2][1]+=et-W,nt[0][3][1]+=et-W)}}return p.rasterize({type:"cim",data:{type:"CIMSymbolReference",symbol:B}},K,W,z,F,b,d,1,N)})()}rasterize(T,_,S,I,m,d,E,C=0,f=null,e=window.devicePixelRatio||1){const{data:p}=T;if(!p||"CIMSymbolReference"!==p.type||!p.symbol)return null;const{symbol:M}=p,R=this._canvas,B=1.3333333333333333*e;R.width=_*B,R.height=S*B,E||(E=(0,P.n5)(M)),f||(f=A(E,_,S,"legend")),R.width+=2*C,R.height+=2*C;const G=R.getContext("2d",{willReadFrequently:!0}),U=l.IT.createIdentity();return U.translate(-I,-m),U.scale(d*B,-d*B),U.translate(_*B/2+C,S*B/2+C),G.clearRect(0,0,R.width,R.height),new l.Rj(G,this._cimResourceManager,U,!0).drawSymbol(M,f),G.getImageData(0,0,R.width,R.height)}}function A(O,T,_,S,I){const d=-T/2+1,E=T/2-1,C=_/2-1,f=-_/2+1;if(I&&("esriGeometryPolygon"===O||"esriGeometryPolyline"===O)){const e=function D(O,T,_,S){return"esriGeometryPolygon"===T?{rings:(0,y.Tl)((0,y.hs)(O.rings,{xmin:0,ymin:0,xmax:_,ymax:S,width:_,height:S}),-1*_/2,-1*S/2)}:"esriGeometryPolyline"===T?{paths:(0,y.Tl)((0,y.hs)(O.paths,{xmin:0,ymin:0,xmax:_,ymax:S,width:_,height:S}),-1*_/2,-1*S/2)}:null}(I,O,T,_);if(e)return e}switch(O){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[d,0],[0,0],[E,0]]]};default:return"legend"===S?{rings:[[[d,C],[E,0],[E,f],[d,f],[d,C]]]}:{rings:[[[d,C],[E,C],[E,f],[d,f],[d,C]]]}}}},77926:($,j,t)=>{t.d(j,{t:()=>a});const a=["web-gltf","web","cim"]},58964:($,j,t)=>{t.r(j),t.d(j,{fetchSymbolFromStyle:()=>S,getStyleItemFromStyle:()=>_,resolveWebStyleSymbol:()=>T});var a=t(10467),u=t(7201),l=t(5922),x=t(45272),h=t(73874),y=t(88135),P=t(59787),g=t(7295),v=t(62153),D=t(76124),A=t(94048),O=t(77926);function T(d,E,C){const f=d.name;return null==f?Promise.reject(new l.A("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):"Esri2DPointSymbolsStyle"===d.styleName?function m(d,E,C){const f=v.jg.replaceAll(/\{SymbolName\}/gi,d),e=null!=E.portal?E.portal:h.A.getDefault();return(0,v.yA)(f,C).then(p=>{const M=(0,v.bo)(p.data);return(0,P.rS)(M,{portal:e,url:(0,x.An)((0,x.nM)(f)),origin:"portal-item"})})}(f,E,C):(0,v.cF)(d,E,C).then(e=>S(e,f,E,v.o5,C))}function _(d,E){return E.items.find(C=>C.name===d)}function S(d,E,C,f,e){return I.apply(this,arguments)}function I(){return(I=(0,a.A)(function*(d,E,C,f,e){const p=null!=C?.portal?C.portal:h.A.getDefault(),M={portal:p,url:(0,x.An)(d.baseUrl),origin:"portal-item"},R=_(E,d.data);if(!R)throw new l.A("symbolstyleutils:symbol-name-not-found",`The symbol name '${E}' could not be found`,{symbolName:E});const B=e?.acceptedFormats??O.t,G=f(R,B);if(!G)throw new l.A("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${E}' does not have an accepted format (one of ${B})`,{symbolName:E});const{url:U,format:K}=G;let W=(0,y.f)(U,M),N=R.thumbnail?.href??null;const L=R.thumbnail?.imageData;(0,u.b5)()&&(W=(0,u.EM)(W)??"",N=(0,u.EM)(N));const b={portal:p,url:(0,x.An)((0,x.nM)(W)),origin:"portal-item"};return(0,v.yA)(W,e).then(z=>{const F="cim"===K?(0,v.bo)(z.data):z.data,Z=(0,P.rS)(F,b);if(Z&&(0,A.wk)(Z)){if(N){const V=(0,y.f)(N,M);Z.thumbnail=new D.V({url:V})}else L&&(Z.thumbnail=new D.V({url:`data:image/png;base64,${L}`}));d.styleUrl?Z.styleOrigin=new g.A({portal:C.portal,styleUrl:d.styleUrl,name:E}):d.styleName&&(Z.styleOrigin=new g.A({portal:C.portal,styleName:d.styleName,name:E}))}return Z})})).apply(this,arguments)}},20788:($,j,t)=>{t.d(j,{A:()=>l});var u,x,a=t(91766);(x=u||(u={}))[x.moveTo=1]="moveTo",x[x.lineTo=2]="lineTo",x[x.close=7]="close";class l{constructor(h,y,P=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=P;const g=y.keys,v=y.values,D=h.asUnsafe();for(;D.next();)switch(D.tag()){case 1:this.id=D.getUInt64();break;case 2:{const A=D.getMessage().asUnsafe(),O=this.values;for(;!A.empty();){const T=A.getUInt32(),_=A.getUInt32();O[g[T]]=v[_]}A.release();break}case 3:this.type=D.getUInt32();break;case 4:this._pbfGeometry=D.getMessage();break;default:D.skip()}}getGeometry(h){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const y=this._pbfGeometry.asUnsafe();let P,g;this._pbfGeometry=null,h?h.reset(this.type):P=[];let v,D=u.moveTo,A=0,O=0,T=0;for(;!y.empty();){if(0===A){const _=y.getUInt32();D=7&_,A=_>>3}switch(A--,D){case u.moveTo:O+=y.getSInt32(),T+=y.getSInt32(),h?h.moveTo(O,T):P&&(g&&P.push(g),g=[],g.push(new a.bR(O,T)));break;case u.lineTo:O+=y.getSInt32(),T+=y.getSInt32(),h?h.lineTo(O,T):g&&g.push(new a.bR(O,T));break;case u.close:h?h.close():g&&!g[0].equals(O,T)&&g.push(g[0].clone());break;default:throw y.release(),new Error("Invalid path operation")}}return h?v=h.result():P&&(g&&P.push(g),v=P),y.release(),this._geometry=v,v}}},97944:($,j,t)=>{t.d(j,{A:()=>a});class a{constructor(l){this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=l.clone();const x=l.asUnsafe();for(;x.next();)switch(x.tag()){case 1:this.name=x.getString();break;case 3:this.keys.push(x.getString());break;case 4:this.values.push(x.processMessage(a._parseValue));break;case 5:this.extent=x.getUInt32();break;default:x.skip()}}getData(){return this._pbfLayer}static _parseValue(l){for(;l.next();)switch(l.tag()){case 1:return l.getString();case 2:return l.getFloat();case 3:return l.getDouble();case 4:return l.getInt64();case 5:return l.getUInt64();case 6:return l.getSInt64();case 7:return l.getBool();default:l.skip()}return null}}},63021:($,j,t)=>{t.d(j,{A:()=>G});var a=t(85952),u=t(31610),l=t(12273),x=t(88532),h=t(12225),y=t(77098),P=t(58701),g=t(6126),v=t(69473),D=t(54382),A=t(11432),O=t(42334),T=t(95678),_=t(14089),S=t(8137),I=t(8189),m=t(84035),d=t(3902);class E extends m.ZA{}(0,I._)([(0,m.C5)(0,d.ZY)],E.prototype,"pos",void 0),(0,I._)([(0,m.C5)(1,d.ZY)],E.prototype,"uv",void 0);class f extends m.k2{}(0,I._)([(0,m.Pi)(d.U)],f.prototype,"dvs",void 0);class e extends m.k2{}(0,I._)([(0,m.Pi)(d.ZY)],e.prototype,"perspective",void 0),(0,I._)([(0,m.Pi)(d.ZY)],e.prototype,"texSize",void 0),(0,I._)([(0,m.Pi)(d.nt)],e.prototype,"wrapAroundShift",void 0),(0,I._)([(0,m.Pi)(d.nt)],e.prototype,"opacity",void 0),(0,I._)([(0,m.Pi)(d.z7)],e.prototype,"texture",void 0);class p extends m.A{constructor(){super(...arguments),this.type="OverlayShader"}vertex(K){const W=K.uv.divide(this.config.texSize),N=new d.nt(1).add((0,d.Om)(W,this.config.perspective)),L=new d.eB(K.pos.add(new d.ZY(this.config.wrapAroundShift,0)),1),b=this.transform.dvs.multiply(L);return{uv:W,glPosition:new d.Zb(b.xy.multiply(N),0,N)}}fragment(K){const W=(0,d.US)(this.config.texture,K.uv).multiply(this.config.opacity),N=new m.mm;return N.fragColor=W,N}}(0,I._)([(0,m.Pi)(f)],p.prototype,"transform",void 0),(0,I._)([(0,m.Pi)(e)],p.prototype,"config",void 0),(0,I._)([(0,I.a)(0,(0,m.hF)(E))],p.prototype,"vertex",null),(0,I._)([(0,I.a)(0,(0,m.hF)(class C extends m.HS{}))],p.prototype,"fragment",null);var M=t(50915),R=t(30454);class B extends _.j{constructor(){super(...arguments),this.type=S.N.Overlay,this._mesh=null,this.shaders={overlay:new p}}render(K,W){const{context:N,painter:L}=K,b=this._getMesh(K,W);L.setPipelineState(T.i);const{isWrapAround:z,wrapAroundShift:F}=W.config,Z={...W.config,wrapAroundShift:0},V={shader:this.shaders.overlay,uniforms:{transform:W.transform,config:Z},defines:null,optionalAttributes:null,useComputeBuffer:!1};L.setPipelineState({...T.i,stencil:{write:!1,test:{compare:M.MT.EQUAL,op:{fail:M.eA.KEEP,zFail:M.eA.KEEP,zPass:M.eA.REPLACE},ref:0,mask:255}}}),L.submitDrawMeshUntyped(N,V,b),z&&(Z.wrapAroundShift=F,L.submitDrawMeshUntyped(N,V,b))}shutdown(){(0,A.pR)(this._mesh)}_getMesh(K,W){const{context:N}=K;if(this._mesh){const L=this._mesh.vertexBuffers.get("positions");if(!L)throw new Error("Buffer not found");L.buffer.setData(W.position)}else{const L=null!=W.index?W.index.length:W.position.length/2;this._mesh=new O.e(N,{vertex:{positions:{data:W.position,attributes:[new R._("pos",2,M.pe.FLOAT,0,8)]},uvs:{data:W.tex,attributes:[new R._("uv",2,M.pe.UNSIGNED_SHORT,0,4)]}},index:null!=W.index?{index:{data:W.index}}:void 0,groups:[{index:null!=W.index?"index":void 0,primitive:M.WR.TRIANGLE_STRIP}],parts:[{group:0,start:0,count:L}]})}return this._mesh}}class G extends D.A{constructor(){super(...arguments),this._viewStateId=-1,this._dvsMat3=(0,l.vt)(),this._overlayTechnique=new B}get dvsMat3(){return this._dvsMat3}beforeRender(K){this._updateMatrices(K),this._updateOverlays(K,this.children);for(const W of this.children)W.beforeRender(K)}doRender(K){if(K.drawPhase!==v.S5.MAP||!this.visible)return;super.doRender(K);const W=this._overlayTechnique;for(const N of this.children)N.draw(K,W)}onDetach(){this._overlayTechnique.shutdown()}_updateMatrices(K){const{state:W}=K,{id:N,size:L,pixelRatio:b,resolution:z,rotation:F,viewpoint:Z,displayMat3:V}=W;if(this._viewStateId===N)return;const J=(0,a.DF)(F),q=b*L[0],et=b*L[1];this._localOrigin=Z.targetGeometry.clone();const{x:nt,y:st}=this._localOrigin,H=(0,y.mT)(nt,W.spatialReference);this._localOrigin.x=H,this._localOrigin.y=st;const Q=z*q,k=z*et,w=(0,u.D_)(this._dvsMat3);(0,u.lw)(w,w,V),(0,u.Tl)(w,w,(0,x.fA)(q/2,et/2)),(0,u.hs)(w,w,(0,h.fA)(q/Q,-et/k,1)),(0,u.e$)(w,w,-J),this._viewStateId=N}_updateOverlays(K,W){const{state:N}=K,{rotation:L,spatialReference:b,worldScreenWidth:z,size:F,viewpoint:Z}=N,V=this._localOrigin;let J,q=0;const et=(0,P.Vp)(b);if(et&&b.isWrappable){const nt=F[0],st=F[1],H=(0,a.DF)(L),Q=Math.abs(Math.cos(H)),k=Math.abs(Math.sin(H)),w=Math.round(nt*Q+st*k),[Y,X]=et.valid,tt=(0,g.FT)(b),{x:ot,y:rt}=Z.targetGeometry,at=[0,0];N.toScreen(at,[ot,rt]);const lt=[0,0];let ct;ct=w>z?.5*z:.5*w;const dt=Math.floor((ot+.5*tt)/tt),ht=Y+dt*tt,mt=X+dt*tt,ut=[at[0]+ct,0];N.toMap(lt,ut),lt[0]>mt&&(q=tt),ut[0]=at[0]-ct,N.toMap(lt,ut),lt[0]<ht&&(q=-tt),J={worldWidth:tt,xBounds:[Y,X]}}for(const nt of W)nt.updateDrawCoords(V,q,b,J)}}},70418:($,j,t)=>{t.d(j,{ZH:()=>O});var a=t(17715),u=t(82595),l=t(65374),x=t(78698);function v(T,_){const{width:S,height:I,getFrame:m}=T,d=T.frameDurations.slice(),E=d.pop();return d.push((0,u.l5)(E+_)),{frameCount:T.frameCount,duration:T.duration+_,frameDurations:d,getFrame:m,width:S,height:I}}class D{constructor(_,S,I,m){this._animation=_,this._repeatType=I,this._onFrameData=m,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let d=0;for(;S>d;)d+=this.timeToFrame,this.nextFrame();const E=this._animation.getFrame(this._currentFrame);this._onFrameData(E)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case l.fu.None:this._currentFrame-=this._direction;break;case l.fu.Loop:this._currentFrame=0;break;case l.fu.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case l.fu.None:this._currentFrame-=this._direction;break;case l.fu.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case l.fu.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame];const _=this._animation.getFrame(this._currentFrame);this._onFrameData(_)}}function O(T,_,S,I){const m=null==_.playAnimation||_.playAnimation,d=function A(T,_,S,I){let m,{repeatType:d}=_;if(null==d&&(d=l.fu.Loop),!0===_.reverseAnimation&&(T=function y(T){const{width:_,height:S}=T,I=T.frameDurations.reverse();return{frameCount:T.frameCount,duration:T.duration,frameDurations:I,getFrame:d=>T.getFrame(T.frameDurations.length-1-d),width:_,height:S}}(T)),null!=_.duration&&(T=function P(T,_){const{width:S,height:I,getFrame:m}=T,d=_/T.duration,E=T.frameDurations.map(C=>(0,u.l5)(C*d));return{frameCount:T.frameCount,duration:T.duration,frameDurations:E,getFrame:m,width:S,height:I}}(T,(0,u.l5)(1e3*_.duration))),null!=_.repeatDelay){const E=1e3*_.repeatDelay;d===l.fu.Loop?T=v(T,(0,u.l5)(E)):d===l.fu.Oscillate&&(T=function g(T,_){const{width:S,height:I,getFrame:m}=T,d=T.frameDurations.slice(),E=d.shift();return d.unshift((0,u.l5)(E+_)),{frameCount:T.frameCount,duration:T.duration+_,frameDurations:d,getFrame:m,width:S,height:I}}(v(T,(0,u.l5)(E/2)),(0,u.l5)(E/2)))}if(null!=_.startTimeOffset)m=(0,u.l5)(1e3*_.startTimeOffset);else if(null!=_.randomizeStartTime){const f=(0,x.J)(S,null!=_.randomizeStartSeed?_.randomizeStartSeed:82749913);m=(0,u.l5)(f*function h(T){return(0,u.l5)(T.frameDurations.reduce((_,S)=>_+S,0))}(T))}else m=(0,u.l5)(0);return new D(T,m,d,I)}(T,_,S,I);let E,C=d.timeToFrame;return function f(){E=m?setTimeout(()=>{d.nextFrame(),C=d.timeToFrame,f()},C):void 0}(),(0,a.hA)(()=>m&&clearTimeout(E))}},95678:($,j,t)=>{t.d(j,{i:()=>u});const u={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:!1}},83278:($,j,t)=>{t.d(j,{X:()=>a,b:()=>u});const a=50,u=5},34390:($,j,t)=>{t.d(j,{Ge:()=>A,WT:()=>T});var a=t(82663),u=t(1749),l=t(93615),x=t(32034),h=t(79283),y=t(77098),P=t(58701),g=t(55039),v=t(83278);function A(_,S,I){const m=1===_?10:_;return m**(I?Math.round(function D(_,S){return Math.log(_)/Math.log(S)}(v.X/S,m)):0)}function T(_,S,I){const m="number"==typeof _?null:_,d=I??m?.spatialReference;if(null==d||!(0,P.fn)(d)||function O(_){const{isGeographic:S,isWebMercator:I}=_;return!S&&!I}(d))return(0,a.GA)(d);let E=m?.x??_,C=m?.y??S;const f=1/Math.sqrt(2);let e=E+f,p=C+f;const{isWebMercator:M,isGeographic:R}=d;let B=R&&!(0,h.TT)(d)?x.A.WGS84:d;if(M){let W=new u.A({x:E,y:C,spatialReference:d});(0,g.ci)(W,!0,W),E=W.x,C=W.y,W=new u.A({x:e,y:p,spatialReference:d}),(0,g.ci)(W,!0,W),e=W.x,p=W.y,B=x.A.WGS84}const G=new l.A({paths:[[[E,C],[e,p]]],spatialReference:B}),U=(0,y.XX)(G,10);let K;try{[K]=(0,h.l1)([U],"meters")}catch{return(0,a.GA)(d)}return K}},96604:($,j,t)=>{t.d(j,{Y:()=>I});var a=t(8189),y=(t(35150),t(3248),t(40707),t(5922),t(76576)),P=t(51995),g=t(12273),v=t(76582),D=t(15442);class A extends D.Y{constructor(d,E,C,f,e,p,M=null){super(d,E,C,f,e,p),this.bitmap=new v.mb(M),this.bitmap.coordScale=[e,p],this.bitmap.once("isReady",()=>this.ready())}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(d){this.bitmap.beforeRender(d),super.beforeRender(d)}afterRender(d){this.bitmap.afterRender(d),super.afterRender(d)}set stencilRef(d){this.bitmap.stencilRef=d}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{displayViewScreenMat3:(0,g.vt)(),tileMat3:(0,g.vt)()}}setTransform(d){super.setTransform(d),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}var O=t(69473),T=t(37188),_=t(34531);class S extends T.A{constructor(){super(...arguments),this._bitmapTechnique=null}get requiresDedicatedFBO(){return this.children.some(d=>"additive"===d.bitmap.blendFunction)}createTile(d){const E=this.tileInfoView.getTileBounds((0,P.vt)(),d),C=this.tileInfoView.getTileResolution(d.level),[f,e]=this.tileInfoView.tileInfo.size;return new A(d,C,E[0],E[3],f,e)}onAttach(){super.onAttach(),this._bitmapTechnique=new _.C}onDetach(){super.onDetach(),this._bitmapTechnique?.shutdown(),this._bitmapTechnique=null}renderChildren(d){if(super.renderChildren(d),!this.visible||d.drawPhase!==O.S5.MAP||null==this._bitmapTechnique)return;const E=this.children.map(C=>C.bitmap);this._bitmapTechnique.render(d,{bitmaps:E})}}const I=m=>{let d=class extends m{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new S(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren(),this._bitmapView=null}};return d=(0,a._)([(0,y.$)("esri.views.2d.layers.BitmapTileLayerView2D")],d),d}},86131:($,j,t)=>{function l(h,y,P,g){if(P.level===g.level)return y;const v=h.tileInfo.size,D=h.getTileResolution(P.level),A=h.getTileResolution(g.level);let O=h.getLODInfoAt(g.level);const T=O.getXForColumn(g.col),_=O.getYForRow(g.row);O=h.getLODInfoAt(P.level);const S=O.getXForColumn(P.col),I=O.getYForRow(P.row),m=function a(h){return h instanceof HTMLImageElement?h.naturalWidth:h.width}(y)/v[0],d=function u(h){return h instanceof HTMLImageElement?h.naturalHeight:h.height}(y)/v[1],E=Math.round(m*((T-S)/D)),C=Math.round(d*(-(_-I)/D)),f=Math.round(m*v[0]*(A/D)),e=Math.round(d*v[1]*(A/D)),p=x(v);return p.getContext("2d").drawImage(y,E,C,f,e,0,0,v[0],v[1]),p}function x(h){const y=document.createElement("canvas");return[y.width,y.height]=h,y}t.d(j,{G:()=>x,t:()=>l})},10132:($,j,t)=>{t.d(j,{d:()=>k});var a=t(69287),u=t(82663),l=t(92771),x=t(28714),h=t(87477),y=t(65580),P=t(16590),g=t(93318),v=t(44929),D=t(51995),A=t(41510),O=t(25866),_=(t(32034),t(33096)),S=t(83989);function C(w,Y,X=function E(w){return{operations:w,value:w.create()}}(w)){return X.operations=w,w.copy(Y,X.value),X}const e=2**50;function L(w,Y,X,tt){return w.operations.setAltitudeAt(w.value,Y,X,tt)}function z(w,Y,X){return w.operations.elevate(w.value,Y,X.value)}const F=(0,O.vt)();(0,O.vt)();var et=t(93617),nt=t(99608),st=t(19741),H=t(73186),Q=t(23191);class k{constructor(Y,X,tt,ot){this.viewingMode=Y,this.spatialReference=X,this.unitInMeters=tt,this._coordinateSystem=ot,this._tmpCoordinateSystem=function I(w){const{value:Y,operations:X}=w;return{operations:X,value:X.create(Y)}}(ot),this.referenceEllipsoid=(0,h.tO)(X),this.sphericalPCPF=(0,y.lO)(X)}set extent(Y){Y&&function m(w,Y,X){w.operations.setExtent(w.value,Y,X.value)}(this._coordinateSystem,Y,this._coordinateSystem)}get extent(){return function d(w,Y){return w.operations.getExtent(w.value,Y),Y}(this._coordinateSystem,(0,D.vt)())}getAltitude(Y){return function N(w,Y){return w.operations.altitudeAt(w.value,Y)}(this._coordinateSystem,Y)}setAltitude(Y,X,tt=Y){return L(this._coordinateSystem,tt,X,Y)}setAltitudeOfTransformation(Y,X){!function b(w,Y,X,tt){Y!==tt&&(0,l.C)(tt,Y),(0,x.i)(F,tt[12],tt[13],tt[14]),L(w,F,X,F),tt[12]=F[0],tt[13]=F[1],tt[14]=F[2]}(this._coordinateSystem,X,Y,X)}worldUpAtPosition(Y,X){return function M(w,Y,X){return w.operations.axisAt(w.value,Y,A._.Z,X)}(this._coordinateSystem,Y,X)}worldBasisAtPosition(Y,X,tt){return function R(w,Y,X,tt){return w.operations.axisAt(w.value,Y,X,tt)}(this._coordinateSystem,Y,X,tt)}basisMatrixAtPosition(Y,X){const tt=this.worldBasisAtPosition(Y,A._.X,st.rq.get()),ot=this.worldBasisAtPosition(Y,A._.Y,st.rq.get()),rt=this.worldBasisAtPosition(Y,A._.Z,st.rq.get());return(0,l.hZ)(X,tt[0],tt[1],tt[2],0,ot[0],ot[1],ot[2],0,rt[0],rt[1],rt[2],0,0,0,0,1),X}headingAtPosition(Y,X){const tt=this.worldUpAtPosition(Y,st.rq.get()),ot=this.worldBasisAtPosition(Y,A._.Y,st.rq.get()),rt=(0,nt.EJ)(X,ot,tt);return(0,a.KJ)(rt)}intersectManifoldClosestSilhouette(Y,X,tt){return z(this._coordinateSystem,X,this._tmpCoordinateSystem),function U(w,Y,X){w.operations.intersectRayClosestSilhouette(w.value,Y,X)}(this._tmpCoordinateSystem,Y,tt),tt}intersectManifold(Y,X,tt){z(this._coordinateSystem,X,this._tmpCoordinateSystem);const ot=st.rq.get();return function B(w,Y,X){return w.operations.intersectRay(w.value,Y,X)}(this._tmpCoordinateSystem,Y,ot)?(0,x.c)(tt,ot):null}intersectInfiniteManifold(Y,X,tt){if(this.viewingMode===Q.RT.Global)return this.intersectManifold(Y,X,tt);z(this._coordinateSystem,X,this._tmpCoordinateSystem);const ot=this._tmpCoordinateSystem.value,rt=st.rq.get();return(0,et.Ui)(ot.plane,Y,rt)?(0,x.c)(tt,rt):null}toRenderCoords(Y,X,tt){return(0,H.v)(Y)?(0,P.g)(Y,X,this.spatialReference):(0,v.F)(Y,X,tt,this.spatialReference)}fromRenderCoords(Y,X,tt=null){return(0,H.v)(X)?(null!=tt&&(X.spatialReference=tt),(0,g.E)(Y,this.spatialReference,X)?X:null):(0,v.F)(Y,this.spatialReference,X,tt)?X:null}static create(Y,X){switch(Y){case Q.RT.Local:return new k(Q.RT.Local,X,(0,u.GA)(X),function p(){return C(_.b,(0,_.f)([0,0,0],[e,0,0],[0,e,0]))}());case Q.RT.Global:return new k(Q.RT.Global,X,1,function f(w){return C(S.s,(0,S.f)(0,0,0,(0,h.tO)(w).radius))}(X))}}static renderUnitScaleFactor(Y,X){return(0,u.KX)(Y)/(0,u.KX)(X)}}},7006:($,j,t)=>{t.d(j,{L:()=>u,s:()=>l});var a=t(48499);function u(x,h){return h.push(x.buffer),{buffer:x.buffer,layout:new a.l5(x.layout)}}function l(x){return new a.q3(x.layout).createView(x.buffer)}},772:($,j,t)=>{t.r(j),t.d(j,{default:()=>N});var a=t(8189),u=t(42425),l=t(77806),x=t(48900),h=t(85211),g=(t(3248),t(35150),t(76576)),v=t(36819),D=t(88521),A=t(55417),O=t(46602),T=t(94137),_=t(82862),S=t(4398);class I{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-click"}}class m{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-double-click"}}class d{constructor(b,z,F,Z,V,J,q,et,nt,st){this.graphic=b,this.allGraphics=z,this.index=F,this.x=Z,this.y=V,this.dx=J,this.dy=q,this.totalDx=et,this.totalDy=nt,this.viewEvent=st,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class E{constructor(b,z,F,Z,V,J,q,et,nt,st){this.graphic=b,this.allGraphics=z,this.index=F,this.x=Z,this.y=V,this.dx=J,this.dy=q,this.totalDx=et,this.totalDy=nt,this.viewEvent=st,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class C{constructor(b,z,F,Z,V,J,q,et,nt,st){this.graphic=b,this.allGraphics=z,this.index=F,this.x=Z,this.y=V,this.dx=J,this.dy=q,this.totalDx=et,this.totalDy=nt,this.viewEvent=st,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class f{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-pointer-over"}}class e{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-pointer-out"}}class p{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-pointer-down"}}class M{constructor(b,z,F,Z,V){this.graphic=b,this.index=z,this.x=F,this.y=Z,this.viewEvent=V,this.type="graphic-pointer-up"}}var R=t(19824),B=t(79338),G=t(77498);const U="indicator-symbols";let K=class extends u.A.EventedAccessor{constructor(L){super(L),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new v.A({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){(0,S.Y)(this.view,this.layer),this._highlightHelper=new _.A({view:this.view}),this.refresh(),this.addHandles([(0,x.wB)(()=>this.graphics.length,()=>this.refresh()),(0,x.z7)(()=>this.view?.ready,()=>{this.addHandles([this.view.on("immediate-click",L=>this._clickHandler(L),R.o.TOOL),this.view.on("double-click",L=>this._doubleClickHandler(L),R.o.TOOL),this.view.on("pointer-down",L=>this._pointerDownHandler(L),R.o.TOOL),this.view.on("pointer-move",L=>this._pointerMoveHandler(L),R.o.TOOL),this.view.on("pointer-up",L=>this._pointerUpHandler(L),R.o.TOOL),this.view.on("drag",L=>this._dragHandler(L),R.o.TOOL),this.view.on("key-down",L=>this._keyDownHandler(L),R.o.TOOL)])},{once:!0,initial:!0}),(0,x.wB)(()=>this.view,L=>{this._highlightHelper.removeAll(),this._highlightHelper.view=L})])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach(L=>L.destroy()),this._manipulators=null}set highlightsEnabled(L){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",L),L&&this._highlightHelper?.add(this.graphics)}get state(){const L=this.view.ready;return L&&this.graphics.length>0?this._activeGraphic?"moving":"active":L?"ready":"disabled"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(L,b){const z=this.graphics[L];z&&(z.set("geometry",b),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(L){const b=this._findTargetGraphic((0,G.ZV)(L));if(b){const z=new I(b,this.graphics.indexOf(b),L.x,L.y,L);this.emit("graphic-click",z),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(z)}}_doubleClickHandler(L){const b=this._findTargetGraphic((0,G.ZV)(L));if(b){const z=new m(b,this.graphics.indexOf(b),L.x,L.y,L);this.emit("graphic-double-click",z),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(z)}}_pointerDownHandler(L){const b=this._findTargetGraphic((0,G.ZV)(L));if(b){this._activeGraphic=b;const{x:z,y:F}=L,Z=new p(b,this.graphics.indexOf(b),z,F,L);this.emit("graphic-pointer-down",Z),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(Z)}else this._activeGraphic=null}_pointerUpHandler(L){if(this._activeGraphic){const{x:b,y:z}=L,F=this.graphics.indexOf(this._activeGraphic),Z=new M(this._activeGraphic,F,b,z,L);this.emit("graphic-pointer-up",Z),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(Z)}}_pointerMoveHandler(L){if(this._dragEvent)return;const b=this._findTargetGraphic((0,G.ZV)(L));if(b){const{x:z,y:F}=L;if(this._hoverGraphic){if(this._hoverGraphic===b)return;const J=this.graphics.indexOf(this._hoverGraphic),q=new e(this.graphics[J],J,z,F,L);this._hoverGraphic=null,this.emit("graphic-pointer-out",q),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(q)}const Z=this.graphics.indexOf(b),V=new f(b,Z,z,F,L);return this._hoverGraphic=b,this.emit("graphic-pointer-over",V),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(V))}if(this._hoverGraphic){const{x:z,y:F}=L,Z=this.graphics.indexOf(this._hoverGraphic),V=new e(this.graphics[Z],Z,z,F,L);this._hoverGraphic=null,this.emit("graphic-pointer-out",V),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(V)}}_dragHandler(L){if("start"!==L.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;"start"===L.action&&this._removeIndicators(),L.stopPropagation();const{action:b,x:z,y:F}=L,Z=this.graphics.indexOf(this._activeGraphic),V=this._dragEvent?z-this._dragEvent.x:0,J=this._dragEvent?F-this._dragEvent.y:0,q=z-L.origin.x,et=F-L.origin.y,nt="start"===b?this._activeGraphic.geometry:this._initialDragGeometry,st=(0,T.lR)(nt,q,et,this.view);if(this._activeGraphic.geometry=st,this.enableMoveAllGraphics&&this.graphics.forEach(H=>{H!==this._activeGraphic&&(H.geometry=(0,T.lR)(H.geometry,V,J,this.view))}),this._dragEvent=L,"start"===b){this._initialDragGeometry=(0,l.o8)(nt);const H=new d(this._activeGraphic,this.graphics,Z,z,F,V,J,q,et,L);this.emit("graphic-move-start",H),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(H),H.defaultPrevented&&this._activeGraphic.set("geometry",nt)}else if("update"===b){const H=new E(this._activeGraphic,this.graphics,Z,z,F,V,J,q,et,L);this.emit("graphic-move",H),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(H),H.defaultPrevented&&(this._activeGraphic.geometry=nt)}else{const H=new C(this._activeGraphic,this.graphics,Z,z,F,V,J,q,et,L);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",H),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(H),H.defaultPrevented&&(this.graphics[Z].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(L){"a"!==L.key&&"d"!==L.key&&"n"!==L.key||"moving"!==this.state||L.stopPropagation()}_findTargetGraphic(L){const b=this.view.toMap(L),z=this.graphics;let F=null,Z=Number.MAX_VALUE;this._syncLayerViews();const V=this._layerViews.flatMap(J=>"graphicsViews"in J?Array.from(J.graphicsViews(),q=>q.hitTest(b)).flat():J.graphicsView.hitTest(b)).filter(J=>z.includes(J)).sort((J,q)=>z.indexOf(J)-z.indexOf(q));return V.length?V[0]:(this._manipulators.forEach(J=>{const q=J.intersectionDistance(L);null!=q&&q<Z&&(Z=q,F=J.graphic)}),F)}_syncLayerViews(){this._layerViews=[];const L=new Set;for(const b of this.graphics){const z=(0,S.i)(this.view,b.layer);z&&L.add(z)}this._layerViews=[...L]}_setUpManipulators(){const{graphics:L,view:b}=this;this._manipulators.forEach(z=>z.destroy()),this._manipulators=L.length?L.map(z=>new B.l({graphic:z,view:b})):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const L of this.graphics){const b=L.clone();b.symbol=W(L),this._indicators.push(b),this.addHandles((0,x.wB)(()=>L.symbol,()=>this._setUpIndicators()),U)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(U),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach(L=>L.destroy()),this._indicators=[])}};function W(L){if(null==L.symbol)return null;switch(L.symbol.type){case"cim":return new O.A({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:z,yoffset:F,height:Z,width:V}=L.symbol,J=Z===V?V:Math.max(Z,V);return new O.A({xoffset:z,yoffset:F,size:J,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:z,yoffset:F,size:Z,style:V}=L.symbol;return new O.A({xoffset:z,yoffset:F,style:"circle"===V?"circle":"square",size:Z+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new D.A({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new A.A({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:z,yoffset:F}=L.symbol;return new O.A({xoffset:z,yoffset:F,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}(0,a._)([(0,h.MZ)()],K.prototype,"_activeGraphic",void 0),(0,a._)([(0,h.MZ)({readOnly:!0})],K.prototype,"type",void 0),(0,a._)([(0,h.MZ)()],K.prototype,"callbacks",void 0),(0,a._)([(0,h.MZ)()],K.prototype,"enableMoveAllGraphics",void 0),(0,a._)([(0,h.MZ)()],K.prototype,"graphics",void 0),(0,a._)([(0,h.MZ)({value:!1})],K.prototype,"highlightsEnabled",null),(0,a._)([(0,h.MZ)()],K.prototype,"indicatorsEnabled",void 0),(0,a._)([(0,h.MZ)()],K.prototype,"layer",void 0),(0,a._)([(0,h.MZ)({readOnly:!0})],K.prototype,"state",null),(0,a._)([(0,h.MZ)()],K.prototype,"view",void 0),K=(0,a._)([(0,g.$)("esri.views.draw.support.GraphicMover")],K);const N=K},82862:($,j,t)=>{t.d(j,{A:()=>T});var a=t(8189),u=t(98877),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576)),g=t(4398),v=t(56253),D=t(6558),A=t(93958);let O=class extends u.A{constructor(_){super(_),this.view=null,this.highlightName=v.Tv}add(_){const S=!_||Array.isArray(_)?_:[_];S?.length&&S.forEach(I=>this._highlight(I))}remove(_){const S=!_||Array.isArray(_)?_:[_];S?.length&&S.forEach(I=>this._removeHighlight(I))}removeAll(){this.removeAllHandles()}_highlight(_){const S=(0,g.i)(this.view,_.layer);(0,D.Of)(S)&&this.addHandles(S.highlight(_,{name:this.highlightName}),(0,A.getHighlightKeyForFeature)(_))}_removeHighlight(_){_&&this.removeHandles((0,A.getHighlightKeyForFeature)(_))}};(0,a._)([(0,l.MZ)()],O.prototype,"view",void 0),(0,a._)([(0,l.MZ)({constructOnly:!0})],O.prototype,"highlightName",void 0),O=(0,a._)([(0,P.$)("esri.views.draw.support.HighlightHelper")],O);const T=O},56565:($,j,t)=>{t.d(j,{W:()=>D});var a=t(68677);const u={main:new a.A([255,127,0]),selected:new a.A([255,255,255]),outline:new a.A([0,0,0,.5]),selectedOutline:new a.A([255,255,255]),hoverOutline:new a.A([255,255,255]),secondary:new a.A([255,255,255]),secondaryOutline:new a.A([100,100,100]),transparent:new a.A([0,0,0,0])};function l(A,O){Object.assign(A,O)}class x{constructor(O){this.size=8,this.hoverSize=10,this.color=u.main,this.hoverColor=u.main,this.outlineColor=u.outline,this.hoverOutlineColor=u.hoverOutline,l(this,O)}}class h{constructor(O){this.color=u.secondary,this.hoverColor=u.main,l(this,O)}}class y{constructor(O){this.color=u.transparent,this.hoverColor=u.transparent,this.outlineColor=u.main,this.hoverOutlineColor=u.main,this.stagedColor=u.transparent,this.stagedOutlineColor=u.secondary,l(this,O)}}class P{constructor(O){this.vertex=new x,this.midpoint=new x({color:u.secondary,outlineColor:u.secondaryOutline,size:6}),this.selected=new x({color:u.selected,hoverColor:u.selected,hoverOutlineColor:u.hoverOutline}),l(this,O)}}class g{constructor(O){this.center=new x({color:u.secondaryOutline}),this.fill=new y,this.line=new h,this.vertex=new x({color:u.selected,outlineColor:u.main,hoverColor:u.selected,hoverOutlineColor:u.secondaryOutline}),l(this,O)}}const D=new class v{constructor(O){this.reshapeGraphics=new P,this.transformGraphics=new g,l(this,O)}}},40175:($,j,t)=>{t.d(j,{C:()=>x});var a=t(79765),u=t(77245),l=t(93151);class x extends u.w{constructor(y){super({...y,constraint:new a.i7(y.targetPoint)})}get hints(){return[new l._(this.targetPoint,this.isDraped,this.domain)]}}},8763:($,j,t)=>{t.d(j,{$:()=>y,p:()=>P});var a=t(29280),u=t(50044),l=t(75602),x=t(40175);function h({x:g,y:v,z:D}){return(0,a.fA)(g,v,D??0)}function y(g,v){switch(g.type){case"edge":return g.draped?new u.X({edgeStart:h(g.start),edgeEnd:h(g.end),targetPoint:(0,a.de)(h(g.target)),objectId:g.objectId,getGroundElevation:v}):new l.z({edgeStart:h(g.start),edgeEnd:h(g.end),targetPoint:(0,a.de)(h(g.target)),objectId:g.objectId,isDraped:!1});case"vertex":return new x.C({targetPoint:(0,a.de)(h(g.target)),objectId:g.objectId,isDraped:!1})}}function P(g,v){return null!=g&&"3d"===g.type?(D,A)=>g.elevationProvider.getElevation(D,A,0,v,"ground"):()=>null}},97083:($,j,t)=>{t.d(j,{n:()=>g});var a=t(10467),l=(t(3248),t(33087)),x=t(60797),h=t(56492),y=t(82663),P=t(82575);function g(I=!1,m){if(I){const{elevationInfo:d,alignPointsInFeatures:E}=m;return new A(d,E)}return new v}class v{alignCandidates(m,d,E){return(0,a.A)(function*(){return m})()}notifyElevationSourceChange(){}}class A{constructor(m,d){this._elevationInfo=m,this._alignPointsInFeatures=d,this._alignmentsCache=new l.q(1024),this._cacheVersion=0}alignCandidates(m,d,E){var C=this;return(0,a.A)(function*(){const f=C._elevationInfo;return null==f||"absolute-height"!==f.mode||f.featureExpressionInfo?C._alignComputedElevationCandidates(m,d,E):(function _(I,m,d){const{offset:E,unit:C}=d;if(null==E)return;const f=(0,y.G9)(m),e=E*((0,P.Ao)(C??"meters")/f);for(const p of I)switch(p.type){case"edge":p.start.z+=e,p.end.z+=e;continue;case"vertex":p.target.z+=e;continue}}(m,d,f),m)})()}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignComputedElevationCandidates(m,d,E){var C=this;return(0,a.A)(function*(){const f=new Map;for(const K of m)(0,x.tE)(f,K.objectId,S).push(K);const[e,p,M]=C._prepareQuery(f,d),R=yield C._alignPointsInFeatures(e,E);if((0,h.Te)(E),M!==C._cacheVersion)return C._alignComputedElevationCandidates(m,d,E);C._applyCacheAndResponse(e,R,p);const{drapedObjectIds:B,failedObjectIds:G}=R,U=[];for(const K of m){const{objectId:W}=K;B.has(W)&&"edge"===K.type&&(K.draped=!0),G.has(W)||U.push(K)}return U})()}_prepareQuery(m,d){const E=[],C=[];for(const[f,e]of m){const p=[];for(const M of e)this._addToQueriesOrCachedResult(f,M.target,p,C),"edge"===M.type&&(this._addToQueriesOrCachedResult(f,M.start,p,C),this._addToQueriesOrCachedResult(f,M.end,p,C));0!==p.length&&E.push({objectId:f,points:p})}return[{spatialReference:d.toJSON(),pointsInFeatures:E},C,this._cacheVersion]}_addToQueriesOrCachedResult(m,d,E,C){const f=T(m,d),e=this._alignmentsCache.get(f);null==e?E.push(d):C.push(new O(d,e))}_applyCacheAndResponse(m,{elevations:d,drapedObjectIds:E,failedObjectIds:C},f){for(const M of f)M.apply();let e=0;const p=this._alignmentsCache;for(const{objectId:M,points:R}of m.pointsInFeatures){if(C.has(M)){e+=R.length;continue}const B=!E.has(M);for(const G of R){const U=T(M,G),K=d[e++];G.z=K,B&&p.put(U,K,1)}}}}class O{constructor(m,d){this.point=m,this.z=d}apply(){this.point.z=this.z}}function T(I,{x:m,y:d,z:E,spatialReference:C}){return`${I}-${m}-${d}-${E??0}}-wkid:${C?.wkid}`}function S(){return[]}},25206:($,j,t)=>{t.d(j,{z:()=>h}),t(3248);class u{filter(O,T){return T}notifyElevationSourceChange(){}}class l{filter(O,T){const{point:_,distance:S}=O,{z:I}=_;if(null==I||0===T.length)return T;const m=function v(A){return"number"==typeof A?{x:A,y:A,z:A}:A}(S),d=this._updateCandidatesTo3D(T,_,m).filter(x);return d.sort(D),d}_updateCandidatesTo3D(O,T,_){for(const S of O)switch(S.type){case"edge":y(S,T,_);continue;case"vertex":g(S,T,_);continue}return O}}function x(A){return A.distance<=1}function h(A=!1){return A?new l:new u}function y(A,O,{x:T,y:_,z:S}){const{start:I,end:m,target:d}=A;A.draped||function P(A,O,T,_){const S=_.x-T.x,I=_.y-T.y,m=_.z-T.z,C=Math.min(1,Math.max(0,((O.x-T.x)*S+(O.y-T.y)*I+m*(O.z-T.z))/(S*S+I*I+m*m))),e=T.y+I*C,p=T.z+m*C;A.x=T.x+S*C,A.y=e,A.z=p}(d,O,I,m);const E=(O.x-d.x)/T,C=(O.y-d.y)/_,f=(O.z-d.z)/S;A.distance=Math.sqrt(E*E+C*C+f*f)}function g(A,O,{x:T,y:_,z:S}){const{target:I}=A,m=(O.x-I.x)/T,d=(O.y-I.y)/_,E=(O.z-I.z)/S,C=Math.sqrt(m*m+d*d+E*E);A.distance=C}function D(A,O){return A.distance-O.distance}},16397:($,j,t)=>{t.d(j,{H:()=>P});var a=t(10467),l=(t(3248),t(77806)),x=t(33087),h=t(56492),y=t(1119);function P(O=!1,T){return O?new D(T):new g}class g{fetch(){return(0,a.A)(function*(){return[]})()}notifySymbologyChange(){}}class D{constructor(T){this._getSymbologyCandidates=T,this._candidatesCache=new x.q(1024),this._cacheVersion=0}fetch(T,_){var S=this;return(0,a.A)(function*(){if(0===T.length)return[];const I=[],m=[],d=S._candidatesCache;for(const M of T){const R=A(M),B=d.get(R);if(B)for(const G of B)m.push((0,l.o8)(G));else I.push(M),d.put(R,[],1)}if(0===I.length)return m;const E=S._cacheVersion,{candidates:C,sourceCandidateIndices:f}=yield S._getSymbologyCandidates(I,_);if((0,h.Te)(_),E!==S._cacheVersion)return S.fetch(T,_);const e=[],{length:p}=C;for(let M=0;M<p;++M){const R=C[M],B=A(I[f[M]]),G=d.get(B);G.push(R),d.put(B,G,G.length),e.push((0,l.o8)(R))}return m.concat(e)})()}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function A(O){switch(O.type){case"vertex":{const{objectId:T,target:_}=O;return(0,y.Wm)(`${T}-vertex-${_.x}-${_.y}-${_.z??0}`).toString()}case"edge":{const{objectId:T,start:_,end:S}=O;return(0,y.Wm)(`${T}-edge-${_.x}-${_.y}-${_.z??0}-to-${S.x}-${S.y}-${S.z??0}`).toString()}default:return""}}},41740:($,j,t)=>{t.d(j,{d:()=>g});var a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(76576)),P=t(89381);let g=class extends P.w{constructor(v){super(v),this.type="extent-rotate",this.angle=0}};(0,a._)([(0,u.MZ)()],g.prototype,"type",void 0),(0,a._)([(0,u.MZ)()],g.prototype,"angle",void 0),g=(0,a._)([(0,y.$)("esri.views.interactive.tooltip.infos.ExtentRotateTooltipInfo")],g)},20029:($,j,t)=>{t.d(j,{c:()=>v});var a=t(8189),u=t(81142),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576)),g=t(89381);let v=class extends g.w{constructor(D){super(D),this.type="extent-scale",this.xScale=0,this.yScale=0,this.xSize=u.r7,this.ySize=u.r7}};(0,a._)([(0,l.MZ)()],v.prototype,"type",void 0),(0,a._)([(0,l.MZ)()],v.prototype,"xScale",void 0),(0,a._)([(0,l.MZ)()],v.prototype,"yScale",void 0),(0,a._)([(0,l.MZ)()],v.prototype,"xSize",void 0),(0,a._)([(0,l.MZ)()],v.prototype,"ySize",void 0),v=(0,a._)([(0,P.$)("esri.views.interactive.tooltip.infos.ExtentScaleTooltipInfo")],v)},16552:($,j,t)=>{t.d(j,{F:()=>v});var a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(76576)),P=t(89381),g=t(26530);let v=class extends((0,g.B)(P.w)){constructor(D){super(D),this.type="move-point",this.allFields.forEach(A=>{A.lockable=!1,A.setActual(null)})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,a._)([(0,u.MZ)()],v.prototype,"allFields",null),v=(0,a._)([(0,y.$)("esri.views.interactive.tooltip.infos.MovePointTooltipInfo")],v)},41980:($,j,t)=>{t.d(j,{d:()=>D});var a=t(8189),u=t(85211),y=(t(3248),t(35150),t(40707),t(76576)),P=t(33983),g=t(89381),v=t(26530);let D=class extends((0,v.B)(g.w)){constructor(A){super(A),this.type="selected-vertex",this.area=(0,P.Am)(),this.totalLength=(0,P.fr)(),this.geometryType="polyline",this.allFields.forEach(O=>{O.lockable=!1,O.setActual(null)})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,"polygon"===this.geometryType?this.area:this.totalLength]}};(0,a._)([(0,u.MZ)()],D.prototype,"geometryType",void 0),(0,a._)([(0,u.MZ)()],D.prototype,"allFields",null),D=(0,a._)([(0,y.$)("esri.views.interactive.tooltip.infos.SelectedVertexTooltipInfo")],D)},90941:($,j,t)=>{t.d(j,{M:()=>v});var a=t(8189),u=t(81142),l=t(85211),P=(t(3248),t(35150),t(40707),t(76576)),g=t(89381);let v=class extends g.w{constructor(D){super(D),this.type="translate",this.distance=u.r7}clear(){this.distance=u.r7}};(0,a._)([(0,l.MZ)()],v.prototype,"type",void 0),(0,a._)([(0,l.MZ)()],v.prototype,"distance",void 0),v=(0,a._)([(0,P.$)("esri.views.interactive.tooltip.infos.TranslateTooltipInfo")],v)},70830:($,j,t)=>{t.d(j,{b:()=>l});var a=t(81142),u=t(69441);function l({topLeft:x,topRight:h,bottomRight:y,bottomLeft:P,spatialReference:g}){const v=(0,a.T9)((0,u.Do)(P,y,g),(0,u.Do)(x,h,g));if(null==v)return null;const D=(0,a.T9)((0,u.Do)(y,h,g),(0,u.Do)(P,x,g));return null==D?null:{xSize:v,ySize:D}}},31071:($,j,t)=>{t.d(j,{EO:()=>_,OI:()=>O,Pp:()=>v,Qg:()=>D,VC:()=>A,b4:()=>h,hB:()=>S,hE:()=>P,kc:()=>y,xV:()=>g,z:()=>T});var a=t(45475),u=t(50915),l=t(76169),x=t(4931);function h(m,d,E="nearest",C=!1){const f=!(C&&"u8"===d.pixelType),e=f?u.ld.FLOAT:u.ld.UNSIGNED_BYTE,p=null==d.pixels||0===d.pixels.length?null:f?d.getAsRGBAFloat():d.getAsRGBA(),M=m.capabilities.textureFloatLinear,R=new x.R;return R.width=d.width,R.height=d.height,R.internalFormat=f?u.H0.RGBA32F:u.Ab.RGBA,R.samplingMode=!M||"bilinear"!==E&&"cubic"!==E?u.Cj.NEAREST:u.Cj.LINEAR,R.dataType=e,R.wrapMode=u.pF.CLAMP_TO_EDGE,new l.g(m,R,p)}function y(m,d){const{spacing:E,offsets:C,coefficients:f,size:[e,p]}=d,M=E[0]>1,R=new x.R;R.width=M?4*e:e,R.height=p,R.internalFormat=u.H0.RGBA32F,R.dataType=u.ld.FLOAT,R.samplingMode=u.Cj.NEAREST,R.wrapMode=u.pF.CLAMP_TO_EDGE;const B=new Float32Array(M?e*p*16:2*C.length);if(M&&null!=f)for(let G=0,U=0;G<f.length;G++)B[U++]=f[G],G%3==2&&(B[U++]=1);else for(let G=0;G<p;G++)for(let U=0;U<e;U++){const K=4*(G*e+U),W=2*(U*p+G);B[K]=C[W],B[K+1]=C[W+1],B[K+3]=-1===C[W]?0:1}return new l.g(m,R,B)}function P(m,d){const E=new x.R;return E.internalFormat=u.Ab.RGBA,E.width=d.length/4,E.height=1,E.samplingMode=u.Cj.NEAREST,E.wrapMode=u.pF.CLAMP_TO_EDGE,new l.g(m,E,d)}function g(m,d,E,C=1,f=!0){return{u_flipY:f,u_applyTransform:!!m,u_opacity:C,u_transformSpacing:m?m.spacing:a.uY,u_transformGridSize:m?m.size:a.uY,u_targetImageSize:d,u_srcImageSize:E}}function v(m,d){return{u_colormapOffset:d||0,u_colormapMaxIndex:m?m.length/4-1:0}}function D(m,d){return{u_scale:m,u_offset:d}}function A(m){return{u_bandCount:m.bandCount,u_minOutput:m.minOutput,u_maxOutput:m.maxOutput,u_minCutOff:m.minCutOff,u_maxCutOff:m.maxCutOff,u_factor:m.factor,u_useGamma:m.useGamma,u_gamma:m.gamma,u_gammaCorrection:m.gammaCorrection}}function O(m){return{u_hillshadeType:m.hillshadeType,u_sinZcosAs:m.sinZcosAs,u_sinZsinAs:m.sinZsinAs,u_cosZs:m.cosZs,u_weights:m.weights,u_factor:m.factor,u_minValue:m.minValue,u_maxValue:m.maxValue}}function T(m,d){const E=m.gl,C=d.glName,f=new Map;if(null==C)return f;const e=E.getProgramParameter(C,E.ACTIVE_UNIFORMS);let p;for(let M=0;M<e;M++)p=E.getActiveUniform(C,M),p&&f.set(p.name,{location:E.getUniformLocation(C,p.name),info:p});return f}function _(m,d,E){Object.keys(E).forEach(C=>{const f=d.get(C)||d.get(C+"[0]");f&&function I(m,d,E,C){if(null===C||null==E)return!1;const{info:f}=C;switch(f.type){case u.xV.FLOAT:f.size>1?m.setUniform1fv(d,E):m.setUniform1f(d,E);break;case u.xV.FLOAT_VEC2:m.setUniform2fv(d,E);break;case u.xV.FLOAT_VEC3:m.setUniform3fv(d,E);break;case u.xV.FLOAT_VEC4:m.setUniform4fv(d,E);break;case u.xV.FLOAT_MAT3:m.setUniformMatrix3fv(d,E);break;case u.xV.FLOAT_MAT4:m.setUniformMatrix4fv(d,E);break;case u.xV.INT:f.size>1?m.setUniform1iv(d,E):m.setUniform1i(d,E);break;case u.xV.BOOL:m.setUniform1i(d,E?1:0);break;case u.xV.INT_VEC2:case u.xV.BOOL_VEC2:m.setUniform2iv(d,E);break;case u.xV.INT_VEC3:case u.xV.BOOL_VEC3:m.setUniform3iv(d,E);break;case u.xV.INT_VEC4:case u.xV.BOOL_VEC4:m.setUniform4iv(d,E);break;default:return!1}}(m,C,E[C],f)})}function S(m,d,E,C){E.length===C.length&&(C.some(f=>null==f)||E.some(f=>null==f)||E.forEach((f,e)=>{d.setUniform1i(f,e),m.bindTexture(C[e],e)}))}},10112:($,j,t)=>{function a(u,l,x){return l?`${u}-${l}`:x?`${u}-${x}`:`${u}-m`}t.d(j,{g:()=>a})},81999:($,j,t)=>{t.d(j,{C:()=>a,I:()=>x,M:()=>l,S:()=>u,a:()=>h});const a={actionsEnd:"actions-end",actionsStart:"actions-start",description:"description",close:"close",container:"container",containerHover:"container--hover",containerBorder:"container--border",containerBorderSelected:"container--border-selected",containerBorderUnselected:"container--border-unselected",content:"content",contentBottom:"content-bottom",contentContainer:"content-container",contentContainerHasCenterContent:"content-container--has-center-content",contentContainerSelectable:"content-container--selectable",contentContainerUnavailable:"content-container--unavailable",contentContainerWrapper:"content-container-wrapper",contentContainerWrapperBordered:"content-container-wrapper--bordered",contentEnd:"content-end",contentStart:"content-start",customContent:"custom-content",expandedContainer:"expanded-container",dragContainer:"drag-container",gridCell:"grid-cell",icon:"icon",nestedContainer:"nested-container",nestedContainerExpanded:"nested-container--expanded",label:"label",row:"row",selectionContainer:"selection-container",selectionContainerSingle:"selection-container--single",wrapper:"wrapper",wrapperBordered:"wrapper--bordered"},u={actionsStart:"actions-start",contentStart:"content-start",content:"content",contentBottom:"content-bottom",contentEnd:"content-end",actionsEnd:"actions-end"},l=0,x={selectedMultiple:"check-square-f",selectedSingle:"circle-inset-large",unselectedMultiple:"square",unselectedSingle:"circle",collapsedLTR:"chevron-right",collapsedRTL:"chevron-left",open:"chevron-down",blank:"blank",close:"x"},h="data-test-active"},84514:($,j,t)=>{t.d(j,{C:()=>a});const a={container:"container",containerNone:"container--none-selection",icon:"dropdown-item-icon",iconEnd:"dropdown-item-icon--end",iconStart:"dropdown-item-icon--start",itemContent:"dropdown-item-content",link:"dropdown-link"}},52401:($,j,t)=>{t.d(j,{C:()=>l,I:()=>u,S:()=>a});const a={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},u={menu:"ellipsis"},l={container:"container"}},14742:($,j,t)=>{t.d(j,{a:()=>y,b:()=>x,c:()=>l,e:()=>h,g:()=>g,i:()=>v,l:()=>u,u:()=>P});var a=t(34499);const u="calcite-list",l="calcite-list-item-group",x="calcite-list-item";function h(D){const A=D.parentElement?.closest(x);A&&(A.open=!0,h(A))}function y(D){const A=D.assignedElements({flatten:!0}),O=A.filter(_=>_?.matches(l)).map(_=>Array.from(_.querySelectorAll(x))).flat(),T=A.filter(_=>_?.matches(x));return{lists:A.filter(_=>_?.matches(u)),items:O.concat(T)}}function P(D){const A=D.assignedElements({flatten:!0}).filter(O=>O.matches(x));A.forEach(O=>{O.setPosition=A.indexOf(O)+1,O.setSize=A.length})}function g(D,A=!1){return(0,a.i)()?document.evaluate(A?"ancestor::calcite-list-item | ancestor::calcite-list-item-group":"ancestor::calcite-list-item",D,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}function v(D){return"CALCITE-LIST-ITEM"===D.tagName}},72152:($,j,t)=>{t.r(j),t.d(j,{ActionGroup:()=>_}),t(3277),t(86126);var l=t(10467),x=t(34499),h=t(38324),y=t(51434),P=t(10420),g=t(20846),v=t(57051),D=t(49137),A=t(52401);const T=t(85139).AH`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:flex;flex-direction:column;padding:0;background-color:transparent;border-color:var(--calcite-action-group-border-color, var(--calcite-color-border-3));border-style:solid;border-width:0}.container{display:flex;flex-grow:1;flex-direction:column}:host([columns="1"]){--calcite-internal-action-group-columns: 1}:host([columns="2"]){--calcite-internal-action-group-columns: 2}:host([columns="3"]){--calcite-internal-action-group-columns: 3}:host([columns="4"]){--calcite-internal-action-group-columns: 4}:host([columns="5"]){--calcite-internal-action-group-columns: 5}:host([columns="6"]){--calcite-internal-action-group-columns: 6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]),:host([layout=horizontal]) .container{flex-direction:row}:host([layout=grid]){display:grid}:host([layout=grid]) .container{display:grid;place-content:stretch;background-color:transparent;grid-template-columns:repeat(var(--calcite-action-group-columns, var(--calcite-internal-action-group-columns, 3)),auto);gap:var(--calcite-action-group-gap, 1px);padding:var(--calcite-action-group-gap, 1px)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-inline-end:var(--calcite-size-px)}:host([hidden]){display:none}[hidden]{display:none}`;let _=(()=>{class S extends y.WF{constructor(){super(...arguments),this.hasMenuActions=!1,this.expanded=!1,this.layout="vertical",this.menuOpen=!1,this.messages=(0,D.u)(),this.overlayPositioning="absolute",this.scale="m"}static{this.properties={hasMenuActions:16,columns:11,expanded:7,label:1,layout:3,menuFlipPlacements:0,menuOpen:7,menuPlacement:3,messageOverrides:0,overlayPositioning:3,scale:3}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=T}setFocus(){var m=this;return(0,l.A)(function*(){yield(0,P.c)(m),(0,v.h)(m.el)})()}willUpdate(m){m.has("expanded")&&(this.hasUpdated||!1!==this.expanded)&&(this.menuOpen=!1)}setMenuOpen(m){this.menuOpen=!!m.currentTarget.open}handleMenuActionsSlotChange(m){this.hasMenuActions=(0,v.a)(m)}renderMenu(){const{expanded:m,menuOpen:d,scale:E,layout:C,messages:f,overlayPositioning:e,hasMenuActions:p,menuFlipPlacements:M,menuPlacement:R}=this;return h.qy`<calcite-action-menu .expanded=${m} .flipPlacements=${M??("horizontal"===C?["top","bottom"]:["left","right"])} .hidden=${!p} .label=${f.more} @calciteActionMenuOpen=${this.setMenuOpen} .open=${d} .overlayPositioning=${e} .placement=${R??("horizontal"===C?"bottom-start":"leading-start")} .scale=${E}><calcite-action .icon=${A.I.menu} .scale=${E} slot=${g.S.trigger} .text=${f.more} .textEnabled=${m}></calcite-action><slot name=${A.S.menuActions} @slotchange=${this.handleMenuActionsSlotChange}></slot><slot name=${A.S.menuTooltip} slot=${g.S.tooltip}></slot></calcite-action-menu>`}render(){return h.qy`<div .ariaLabel=${this.label} class=${(0,y.CP)(A.C.container)} role=group><slot></slot>${this.renderMenu()}</div>`}}return S})();(0,x.c)("calcite-action-group",_)},98145:($,j,t)=>{t.r(j),t.d(j,{DropdownGroup:()=>v});var a=t(34499),u=t(38324),l=t(51434),x=t(24128),h=t(84514),y=t(85139);const g=y.AH`:host{display:block}.container{text-align:start}.dropdown-title{margin-block-end:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-block-end-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-bold);border-color:var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3));color:var(--calcite-dropdown-group-title-text-color, var(--calcite-color-text-2))}.dropdown-separator{display:block;block-size:1px;background-color:var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3))}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-title{padding:.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-title{padding:.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-title{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`;let v=(()=>{class D extends l.WF{constructor(){super(),this.mutationObserver=(0,x.c)("mutation",()=>this.updateItems()),this.position=-1,this.scale="m",this.selectionMode="single",this.calciteInternalDropdownItemChange=(0,l.lh)({cancelable:!1}),this.listen("calciteInternalDropdownItemSelect",this.updateActiveItemOnChange)}static{this.properties={groupTitle:3,position:9,scale:3,selectionMode:3}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=g}connectedCallback(){super.connectedCallback(),this.updateItems(),this.mutationObserver?.observe(this.el,{childList:!0})}willUpdate(O){O.has("selectionMode")&&(this.hasUpdated||"single"!==this.selectionMode)&&this.updateItems()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}updateActiveItemOnChange(O){this.requestedDropdownGroup=O.detail.requestedDropdownGroup,this.requestedDropdownItem=O.detail.requestedDropdownItem,this.calciteInternalDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}updateItems(){Array.from(this.el.querySelectorAll("calcite-dropdown-item")).forEach(O=>O.selectionMode=this.selectionMode)}render(){const O=this.groupTitle?u.qy`<span aria-hidden=true class=${(0,l.CP)("dropdown-title")}>${this.groupTitle}</span>`:null,T=this.position>0?u.qy`<div class=${(0,l.CP)("dropdown-separator")} role=separator></div>`:null;return this.el.ariaLabel=this.groupTitle,this.el.role="group",u.qy`<div class=${(0,l.CP)({[h.C.container]:!0})}>${T}${O}<slot></slot></div>`}}return D})();(0,a.c)("calcite-dropdown-group",v)},47709:($,j,t)=>{t.r(j),t.d(j,{DropdownItem:()=>T}),t(81951);var u=t(10467),l=t(34499),x=t(39009),h=t(67967),y=t(51434),P=t(57051),g=t(10420),v=t(58099),D=t(84514);const O=t(85139).AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;flex-grow:1;align-items:center;outline-color:transparent}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3));text-align:start;outline-color:transparent}.container a{outline:none;position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3))}.dropdown-item-content{flex:1 1 auto;padding-block:.125rem}.dropdown-item-icon{position:relative;opacity:0;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);transform:scale(.9)}:host([scale=s]) .container{padding-block:.25rem;padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-item-icon,:host([scale=s]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding-block:.5rem;padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-item-icon,:host([scale=m]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .container{padding-block:.625rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-item-icon,:host([scale=l]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-lg)}:host([scale=l]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-lg)}:host(:focus) .container{color:var(--calcite-color-text-1);text-decoration-line:none;outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host(:hover:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-hover, var(--calcite-color-foreground-2))}:host(:active:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-press, var(--calcite-color-foreground-3))}:host(:hover:not([disabled])) .container,:host(:active:not([disabled])) .container{text-decoration-line:none;color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host(:hover:not([disabled])) .dropdown-link,:host(:active:not([disabled])) .dropdown-link{color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection),:host([selected]) .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .dropdown-link calcite-icon{color:var(--calcite-dropdown-item-icon-color-press, var(--calcite-color-brand))}:host(:hover:not([disabled])) .dropdown-item-icon{color:var(--calcite-dropdown-item-icon-color-hover, var(--calcite-color-border-1));opacity:1}:host([selected]) .dropdown-item-icon{opacity:1}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;let T=(()=>{class _ extends y.WF{constructor(){super(),this.childLink=(0,h._)(),this.disabled=!1,this.scale="m",this.selected=!1,this.selectionMode="single",this.calciteDropdownItemSelect=(0,y.lh)({cancelable:!1}),this.calciteInternalDropdownCloseRequest=(0,y.lh)({cancelable:!1}),this.calciteInternalDropdownItemKeyEvent=(0,y.lh)({cancelable:!1}),this.calciteInternalDropdownItemSelect=(0,y.lh)({cancelable:!1}),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler),this.listenOn(document.body,"calciteInternalDropdownItemChange",this.updateActiveItemOnChange)}static{this.properties={disabled:7,href:3,iconEnd:3,iconFlipRtl:3,iconStart:3,label:1,rel:3,scale:3,selected:7,selectionMode:1,target:3}}static{this.styles=O}setFocus(){var I=this;return(0,u.A)(function*(){yield(0,g.c)(I),I.el?.focus()})()}connectedCallback(){super.connectedCallback(),this.initialize()}load(){this.initialize()}updated(){(0,v.u)(this)}onClick(){this.emitRequestedItem()}keyDownHandler(I){switch(I.key){case" ":case"Enter":this.emitRequestedItem(),this.href&&this.childLink.value.click(),I.preventDefault();break;case"Escape":this.calciteInternalDropdownCloseRequest.emit(),I.preventDefault();break;case"Tab":this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:I});break;case"ArrowUp":case"ArrowDown":case"Home":case"End":I.preventDefault(),this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:I})}}updateActiveItemOnChange(I){I.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=I.detail.requestedDropdownGroup,this.requestedDropdownItem=I.detail.requestedDropdownItem,this.determineActiveItem()),I.stopPropagation()}initialize(){this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),"none"===this.selectionMode&&(this.selected=!1)}determineActiveItem(){switch(this.selectionMode){case"multiple":this.el===this.requestedDropdownItem&&(this.selected=!this.selected);break;case"single":this.el===this.requestedDropdownItem?this.selected=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.selected=!1);break;case"none":this.selected=!1}}emitRequestedItem(){this.calciteDropdownItemSelect.emit(),this.calciteInternalDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}render(){const{href:I,selectionMode:m,label:d,iconFlipRtl:E}=this,C=x.qy`<calcite-icon class=${(0,y.CP)(D.C.iconStart)} .flipRtl=${"start"===E||"both"===E} .icon=${this.iconStart} .scale=${(0,g.g)(this.scale)}></calcite-icon>`,f=x.qy`<span class=${(0,y.CP)(D.C.itemContent)}><slot></slot></span>`,e=x.qy`<calcite-icon class=${(0,y.CP)(D.C.iconEnd)} .flipRtl=${"end"===E||"both"===E} .icon=${this.iconEnd} .scale=${(0,g.g)(this.scale)}></calcite-icon>`,p=this.iconStart&&this.iconEnd?[C,f,e]:this.iconStart?[C,f]:this.iconEnd?[f,e]:f,M=I?x.qy`<a .ariaLabel=${d} class=${(0,y.CP)(D.C.link)} href=${I??y.s6} rel=${this.rel??y.s6} tabindex=-1 target=${this.target??y.s6} ${(0,h.K)(this.childLink)}>${p}</a>`:p,R=I?null:"single"===m?"menuitemradio":"multiple"===m?"menuitemcheckbox":"menuitem",B="none"!==m?(0,P.t)(this.selected):null,{disabled:G}=this;return this.el.ariaChecked=B,this.el.ariaLabel=I?"":d,this.el.role=R,(0,y.Bq)(this.el,"tabIndex",G?-1:0),(0,v.I)({disabled:G,children:x.qy`<div class=${(0,y.CP)({[D.C.container]:!0,[D.C.containerNone]:"none"===m})}>${"none"!==m?x.qy`<calcite-icon class=${(0,y.CP)(D.C.icon)} .icon=${"multiple"===m?"check":"bullet-point"} .scale=${(0,g.g)(this.scale)}></calcite-icon>`:null}${M}</div>`})}}return _})();(0,l.c)("calcite-dropdown-item",T)},58411:($,j,t)=>{t.r(j),t.d(j,{Dropdown:()=>E});var a=t(10467),u=t(34499),l=t(67967),x=t(38324),h=t(51434),y=t(57051),P=t(5585),g=t(24862),v=t(58099),D=t(18708),A=t(10420),O=t(24128),T=t(51232),_=t(10112),S=t(85139);const d=S.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block}.calcite-dropdown-wrapper{--calcite-floating-ui-z-index: var(--calcite-z-index-dropdown);inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}.calcite-dropdown-wrapper .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset,left,opacity;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.calcite-dropdown-wrapper[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.calcite-dropdown-wrapper[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.calcite-dropdown-wrapper[data-placement^=left] .calcite-floating-ui-anim{left:5px}.calcite-dropdown-wrapper[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.calcite-dropdown-wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}.calcite-dropdown-content{max-height:45vh;width:auto;overflow-y:auto;overflow-x:hidden;inline-size:var(--calcite-dropdown-width, var(--calcite-internal-dropdown-width));background-color:var(--calcite-dropdown-background-color, var(--calcite-color-foreground-1))}.calcite-trigger-container{position:relative;display:flex;height:100%;flex:1 1 auto;word-wrap:break-word;word-break:break-word}.width-s{--calcite-internal-dropdown-width: 12rem}.width-m{--calcite-internal-dropdown-width: 14rem}.width-l{--calcite-internal-dropdown-width: 16rem}@media (forced-colors: active){:host([open]) .calcite-dropdown-wrapper{border:var(--calcite-border-width-sm) solid canvasText}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`;let E=(()=>{class C extends h.WF{constructor(){super(),this.focusLastDropdownItem=!1,this.groups=[],this.guid=`calcite-dropdown-${(0,g.g)()}`,this.items=[],this.mutationObserver=(0,O.c)("mutation",()=>this.updateItems()),this.onOpenEnd=()=>{this.focusOnFirstActiveOrDefaultItem(),this.el.removeEventListener("calciteDropdownOpen",this.onOpenEnd)},this.transitionProp="opacity",this.resizeObserver=(0,O.c)("resize",e=>this.resizeObserverCallback(e)),this.closeOnSelectDisabled=!1,this.disabled=!1,this.maxItems=0,this.offsetDistance=0,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=P.b,this.scale="m",this.selectedItems=[],this.type="click",this.calciteDropdownBeforeClose=(0,h.lh)({cancelable:!1}),this.calciteDropdownBeforeOpen=(0,h.lh)({cancelable:!1}),this.calciteDropdownClose=(0,h.lh)({cancelable:!1}),this.calciteDropdownOpen=(0,h.lh)({cancelable:!1}),this.calciteDropdownSelect=(0,h.lh)({cancelable:!1}),this.listenOn(window,"click",this.closeCalciteDropdownOnClick),this.listen("calciteInternalDropdownCloseRequest",this.closeCalciteDropdownOnEvent),this.listenOn(window,"calciteDropdownOpen",this.closeCalciteDropdownOnOpenEvent),this.listen("pointerenter",this.pointerEnterHandler),this.listen("pointerleave",this.pointerLeaveHandler),this.listen("calciteInternalDropdownItemKeyEvent",this.calciteInternalDropdownItemKeyEvent),this.listen("calciteInternalDropdownItemSelect",this.handleItemSelect)}static{this.properties={closeOnSelectDisabled:7,disabled:7,flipPlacements:0,maxItems:11,offsetDistance:11,offsetSkidding:11,open:7,overlayPositioning:3,placement:3,scale:3,selectedItems:0,type:3,widthScale:3,width:3}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=d}reposition(e=!1){var p=this;return(0,a.A)(function*(){const{filteredFlipPlacements:M,floatingEl:R,offsetDistance:B,offsetSkidding:G,overlayPositioning:U,placement:K,referenceEl:W}=p;return(0,P.r)(p,{floatingEl:R,referenceEl:W,offsetDistance:B,offsetSkidding:G,overlayPositioning:U,placement:K,flipPlacements:M,type:"menu"},e)})()}setFocus(){var e=this;return(0,a.A)(function*(){yield(0,A.c)(e),(0,y.h)(e.referenceEl)})()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),this.updateItems(),(0,P.c)(this)}willUpdate(e){e.has("open")&&(this.hasUpdated||!1!==this.open)&&this.openHandler(),e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)&&this.handleDisabledChange(this.disabled),e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("maxItems")&&this.hasUpdated&&this.setMaxScrollerHeight(),this.hasUpdated&&(e.has("offsetDistance")&&0!==this.offsetDistance||e.has("offsetSkidding")&&0!==this.offsetSkidding||e.has("overlayPositioning")&&"absolute"!==this.overlayPositioning||e.has("placement")&&this.placement!==P.b)&&this.reposition(!0),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handlePropsChange()}updated(){(0,v.u)(this)}loaded(){this.updateSelectedItems(),(0,P.c)(this)}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.resizeObserver?.disconnect(),(0,P.a)(this)}openHandler(){(0,T.o)(this),!this.disabled&&this.reposition(!0)}handleDisabledChange(e){e||(this.open=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}handlePropsChange(){this.updateItems(),this.updateGroupProps()}closeCalciteDropdownOnClick(e){this.disabled||!this.open||e.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(e){this.closeCalciteDropdown(),e.stopPropagation()}closeCalciteDropdownOnOpenEvent(e){e.composedPath().includes(this.el)||(this.open=!1)}pointerEnterHandler(){this.disabled||"hover"!==this.type||this.toggleDropdown()}pointerLeaveHandler(){this.disabled||"hover"!==this.type||this.closeCalciteDropdown()}getTraversableItems(){return this.items.filter(e=>!e.disabled&&!e.hidden)}calciteInternalDropdownItemKeyEvent(e){const{keyboardEvent:p}=e.detail,M=p.target,R=this.getTraversableItems();switch(p.key){case"Tab":this.open=!1,this.updateTabIndexOfItems(M);break;case"ArrowDown":(0,y.d)(R,M,"next");break;case"ArrowUp":(0,y.d)(R,M,"previous");break;case"Home":(0,y.d)(R,M,"first");break;case"End":(0,y.d)(R,M,"last")}e.stopPropagation()}handleItemSelect(e){this.updateSelectedItems(),e.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.closeOnSelectDisabled||"none"===e.detail.requestedDropdownGroup.selectionMode)&&this.closeCalciteDropdown(),e.stopPropagation()}setFilteredPlacements(){const{el:e,flipPlacements:p}=this;this.filteredFlipPlacements=p?(0,P.f)(p,e):null}updateTriggers(e){this.triggers=e.target.assignedElements({flatten:!0}),this.reposition(!0)}updateItems(){this.items=this.groups.map(e=>Array.from(e?.querySelectorAll("calcite-dropdown-item"))).reduce((e,p)=>[...e,...p],[]),this.updateSelectedItems(),this.reposition(!0),this.items.forEach(e=>e.scale=this.scale)}updateGroups(e){const p=e.target.assignedElements({flatten:!0}).filter(M=>M?.matches("calcite-dropdown-group"));this.groups=p,this.updateItems(),this.updateGroupProps()}updateGroupProps(){this.groups.forEach((e,p)=>{e.scale=this.scale,e.position=p})}resizeObserverCallback(e){e.forEach(p=>{const{target:M}=p;this.hasUpdated&&(M===this.referenceEl?this.setDropdownWidth():M===this.scrollerEl&&this.setMaxScrollerHeight())})}setDropdownWidth(){const{referenceEl:e,scrollerEl:p}=this,M=e?.clientWidth;p.style.minWidth=`${M}px`}setMaxScrollerHeight(){const e=this.getMaxScrollerHeight();this.scrollerEl.style.maxBlockSize=e>0?`${e}px`:"",this.reposition(!0)}setScrollerAndTransitionEl(e){e&&(this.resizeObserver?.observe(e),this.scrollerEl=e,this.transitionEl=e)}onBeforeOpen(){this.calciteDropdownBeforeOpen.emit()}onOpen(){this.calciteDropdownOpen.emit()}onBeforeClose(){this.calciteDropdownBeforeClose.emit()}onClose(){this.calciteDropdownClose.emit(),(0,P.h)(this)}setReferenceEl(e){this.referenceEl=e,(0,P.c)(this),e&&this.resizeObserver?.observe(e)}setFloatingEl(e){this.floatingEl=e,(0,P.c)(this)}keyDownHandler(e){if(!e.composedPath().includes(this.referenceEl))return;const{defaultPrevented:p,key:M}=e;if(!p){if("Escape"===M)return this.closeCalciteDropdown(),void e.preventDefault();if(this.open&&e.shiftKey&&"Tab"===M)return this.closeCalciteDropdown(),void e.preventDefault();(0,D.i)(M)?(this.toggleDropdown(),e.preventDefault()):("ArrowDown"===M||"ArrowUp"===M)&&(e.preventDefault(),this.focusLastDropdownItem="ArrowUp"===M,this.open=!0,this.el.addEventListener("calciteDropdownOpen",this.onOpenEnd))}}updateSelectedItems(){this.selectedItems=this.items.filter(e=>e.selected)}getMaxScrollerHeight(){const{maxItems:e,items:p}=this;return p.length>=e&&e>0?this.getYDistance(this.scrollerEl,p[e-1]):0}getYDistance(e,p){const M=e.getBoundingClientRect();return p.getBoundingClientRect().bottom-M.top}closeCalciteDropdown(e=!0){this.open=!1,e&&(0,y.b)(this.triggers[0])}focusOnFirstActiveOrDefaultItem(){const e=this.getTraversableItems().find(p=>p.selected)||(this.focusLastDropdownItem?this.items[this.items.length-1]:this.items[0]);this.focusLastDropdownItem=!1,e&&(0,y.b)(e)}toggleDropdown(){this.open=!this.open,this.open&&this.el.addEventListener("calciteDropdownOpen",this.onOpenEnd)}updateTabIndexOfItems(e){this.items.forEach(p=>{p.tabIndex=e!==p?-1:0})}render(){const{open:e,guid:p}=this;return(0,v.I)({disabled:this.disabled,children:x.qy`<div class="calcite-trigger-container" .id=${`${p}-menubutton`} @click=${this.toggleDropdown} @keydown=${this.keyDownHandler} ${(0,l.K)(this.setReferenceEl)}><slot aria-controls=${`${p}-menu`} .ariaExpanded=${e} aria-haspopup=menu name=${"trigger"} @slotchange=${this.updateTriggers}></slot></div><div .ariaHidden=${!e} class=${(0,h.CP)({"calcite-dropdown-wrapper":!0,[(0,_.g)("width",this.width,this.widthScale)]:!(!this.width&&!this.widthScale)})} ${(0,l.K)(this.setFloatingEl)}><div aria-labelledby=${`${p}-menubutton`} class=${(0,h.CP)({"calcite-dropdown-content":!0,[P.F.animation]:!0,[P.F.animationActive]:e})} .id=${`${p}-menu`} role=menu ${(0,l.K)(this.setScrollerAndTransitionEl)}><slot @slotchange=${this.updateGroups}></slot></div></div>`})}}return C})();(0,u.c)("calcite-dropdown",E)},27106:($,j,t)=>{function a(u,l){this.v=u,this.k=l}t.d(j,{A:()=>a})},19495:($,j,t)=>{function a(l){var x,h,y,P=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,y=Symbol.iterator);P--;){if(h&&null!=(x=l[h]))return x.call(l);if(y&&null!=(x=l[y]))return new u(x.call(l));h="@@asyncIterator",y="@@iterator"}throw new TypeError("Object is not async iterable")}function u(l){function x(h){if(Object(h)!==h)return Promise.reject(new TypeError(h+" is not an object."));var y=h.done;return Promise.resolve(h.value).then(function(P){return{value:P,done:y}})}return(u=function(y){this.s=y,this.n=y.next}).prototype={s:null,n:null,next:function(){return x(this.n.apply(this.s,arguments))},return:function(y){var P=this.s.return;return void 0===P?Promise.resolve({value:y,done:!0}):x(P.apply(this.s,arguments))},throw:function(y){var P=this.s.return;return void 0===P?Promise.reject(y):x(P.apply(this.s,arguments))}},new u(l)}t.d(j,{A:()=>a})},56218:($,j,t)=>{t.d(j,{A:()=>u});var a=t(27106);function u(l){return new a.A(l,0)}},56698:($,j,t)=>{t.d(j,{A:()=>l});var a=t(27106);function u(x){var h,y;function P(v,D){try{var A=x[v](D),O=A.value,T=O instanceof a.A;Promise.resolve(T?O.v:O).then(function(_){if(T){var S="return"===v?"return":"next";if(!O.k||_.done)return P(S,_);_=x[S](_).value}g(A.done?"return":"normal",_)},function(_){P("throw",_)})}catch(_){g("throw",_)}}function g(v,D){switch(v){case"return":h.resolve({value:D,done:!0});break;case"throw":h.reject(D);break;default:h.resolve({value:D,done:!1})}(h=h.next)?P(h.key,h.arg):y=null}this._invoke=function(v,D){return new Promise(function(A,O){var T={key:v,arg:D,resolve:A,reject:O,next:null};y?y=y.next=T:(h=y=T,P(v,D))})},"function"!=typeof x.return&&(this.return=void 0)}function l(x){return function(){return new u(x.apply(this,arguments))}}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(x){return this._invoke("next",x)},u.prototype.throw=function(x){return this._invoke("throw",x)},u.prototype.return=function(x){return this._invoke("return",x)}}}]);