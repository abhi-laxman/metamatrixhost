"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[3906],{32954:(U,P,n)=>{function M(){return[1,0,0,0,1,0,0,0,1]}function T(f,a,h,m,v,C,p,d,y){return[f,a,h,m,v,C,p,d,y]}n.d(P,{fA:()=>T,vt:()=>M,zK:()=>A});const A=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:A,clone:function s(f){return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8]]},create:M,createView:function r(f,a){return new Float64Array(f,a,9)},fromValues:T},Symbol.toStringTag,{value:"Module"}))},95749:(U,P,n)=>{n.r(P),n.d(P,{default:()=>J});var M=n(10467),s=n(8189),T=n(89563),r=n(5922),A=n(69287),_=n(39693),f=n(48900),a=n(85211),C=(n(3248),n(35150),n(40707),n(17221)),p=n(76576),d=n(28067),y=n(93615),S=n(32034),O=n(95478),w=n(93410),z=n(23e3),b=n(33036),F=n(68438),j=n(22329),B=n(90660),e=n(71065);let o=class extends(B.A.ClonableMixin(e.A)){constructor(c){super(c),this.framerate=null,this.containerFormat=null,this.gop=null,this.aspectRatio=null,this.klv=null}};(0,s._)([(0,a.MZ)({type:String})],o.prototype,"framerate",void 0),(0,s._)([(0,a.MZ)({type:String})],o.prototype,"containerFormat",void 0),(0,s._)([(0,a.MZ)({type:Number})],o.prototype,"gop",void 0),(0,s._)([(0,a.MZ)({type:String})],o.prototype,"aspectRatio",void 0),(0,s._)([(0,a.MZ)({type:Object})],o.prototype,"klv",void 0),o=(0,s._)([(0,p.$)("esri.layers.support.PlaybackInfo")],o);const t=o;var i=n(90543),g=n(29510),R=n(43470),E=n(98877),L=n(50305),Z=n(1749);let D=class extends E.A{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,s._)([(0,a.MZ)()],D.prototype,"sourcePoint",void 0),(0,s._)([(0,a.MZ)({type:Z.A})],D.prototype,"mapPoint",void 0),D=(0,s._)([(0,p.$)("esri.layers.support.VideoFrame.ControlPoint")],D);let I=class extends(B.A.ClonableMixin(e.A)){constructor(c){super(c),this.frame=null,this.controlPoints=null}readControlPoints(c){return c.map(u=>({sourcePoint:{x:u.frameX,y:u.frameY},mapPoint:new Z.A(u.point)}))}writeControlPoints(c,u){null!=c&&function K(c){return null!=c?.sourcePoint&&null!=c.mapPoint}(c[0])&&(u.controlPoints=c.map(x=>{const Q=x.sourcePoint;return{frameX:Q.x,frameY:Q.y,point:x.mapPoint.toJSON()}}))}};(0,s._)([(0,a.MZ)({type:String})],I.prototype,"frame",void 0),(0,s._)([(0,a.MZ)({type:[D],json:{write:{allowNull:!1,isRequired:!0}}})],I.prototype,"controlPoints",void 0),(0,s._)([(0,C.w)("controlPoints")],I.prototype,"readControlPoints",null),(0,s._)([(0,L.K)("controlPoints")],I.prototype,"writeControlPoints",null),I=(0,s._)([(0,p.$)("esri.layers.support.VideoFrame")],I);const G=I;var V=n(62648),W=n(20400);let l=class extends((0,w.dM)((0,b.j)((0,_.P)((0,z.d)(O.A))))){constructor(c){super(c),this._trailPoints=[],this.capabilities=null,this.connectionInfo=null,this.controller=new V.default,this.copyright=null,this.created=null,this.description=null,this.elevationSource=null,this.frame=null,this.frameCount=null,this.fullExtent=null,this.initialExtent=null,this.layerId=null,this.playbackInfo=null,this.posterUrl=null,this.qualities=null,this.serviceItemId=null,this.sourceJSON=null,this.sourceQuality=null,this.sourceType=null,this.spatialReference=S.A.WGS84,this.telemetryDisplay=null,this.title=null,this.type="video",this.url=null,this.videoLayersInfo=null,this.videoTimeExtent=null}initialize(){this.telemetryDisplay=new R.A({frame:!1,frameCenter:!1,frameOutline:!0,lineOfSight:!0,sensorLocation:!0,sensorTrail:!0}),this.addHandles([(0,f.wB)(()=>this.metadata,()=>{this.notifyChange("telemetry"),this.notifyChange("groundControlPoints"),this.notifyChange("frameHorizonPoints")}),(0,f.wB)(()=>this.telemetry?.sensorLocation,c=>this._setSensorTrail(c),f.Vh)])}load(c){return this.addResolvingPromise(this._fetchService(null!=c?c.signal:null)),Promise.resolve(this)}get buffered(){return this.controller.buffered}readCapabilitiesFromService(c,u){return(0,i.d)(u)}readConnectionInfo(c,u){const x=Object.values(u.connectionUrl);return x?.length&&(this.controller.playerUrl=x[0]),u.connectionUrl}get currentTime(){return this.controller.currentTime}get duration(){return this.controller.duration}get ended(){return this.controller.ended}get frameHorizonPoints(){return(0,W.SC)(this.metadata)}get groundControlPoints(){return(0,W.I0)(this.metadata)}get loop(){return this.controller.loop}set loop(c){this.controller.loop=c}get metadata(){return this.controller?.currentMetadata}get mimeType(){return this.controller?.mimeType}get muted(){return this.controller.muted}set muted(c){this.controller.muted=c}get playbackRate(){return this.controller.rate}set playbackRate(c){this.controller.rate=c}get playerUrl(){return this.controller.playerUrl}get playing(){return this.controller.playing}get state(){return this.controller.state}get telemetry(){return(0,W.YI)(this.metadata)}get videoElement(){return this.controller?.element}get videoHeight(){return this.controller?.videoHeight}readLayerInfosFromService(c,u){return(0,W.Yv)(u)}get videoWidth(){return this.controller?.videoWidth}get waiting(){return this.controller.waiting}play(){this.controller.play()}pause(){this.controller.pause()}reset(){this.controller.reset()}setCurrentTime(c){if(!this.duration)return;const u=(0,A.qE)(c,0,this.duration);this.controller.setCurrentTime(u)}toGround(c,u){return this.controller?.sensorModel?.metadataSupportsTransforms?this.controller.sensorModel.transformImageToGeo(c,u):null}toVideo(c){if(!this.controller?.sensorModel?.metadataSupportsTransforms)return null;const u=this.controller.sensorModel.transformGeoToImage(c.x,c.y,c.z);return{x:u[0],y:u[1]}}_fetchService(c){var u=this;return(0,M.A)(function*(){if(u.sourceJSON)return void u.read(u.sourceJSON,{origin:"service",url:u.parsedUrl});const x=(0,F.qg)(u.parsedUrl?.path);if(null==x)throw new r.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");let Q=null;const{data:H,ssl:Y}=yield(0,T.A)(x.url.path,{query:{f:"json",...u.parsedUrl.query,...u.customParameters},signal:c}),N=H;if(u.url=x.url.path,Y&&(u.url=u.url.replace(/^http:/i,"https:")),!N?.currentVersion)return N.currentVersion="11.2",u.sourceJSON=N,void u.read(u.sourceJSON,{origin:"service",url:u.parsedUrl});let $=x?.sublayer;if(null==$&&N.layers?.length&&($=N.layers[0].id),null==$)throw new r.A("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");u.url=`${x.url.path}/${$}`,Q=yield(0,T.A)(u.url,{query:{f:"json",...u.customParameters},signal:c});const X={...N,...Q.data};u.sourceJSON=X,u.read(u.sourceJSON,{origin:"service",url:u.parsedUrl})})()}_setSensorTrail(c){if(!c)return;const u=(0,W.yQ)(c,this._trailPoints);this._trailPoints=[...u];const x=this._trailPoints.map(H=>H.toArray()),Q=new y.A({hasZ:c.hasZ,paths:[x]});this.telemetry.sensorTrail=Q.clone()}};(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"buffered",null),(0,s._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],l.prototype,"capabilities",void 0),(0,s._)([(0,C.w)("service","capabilities",["supportsAppend","supportsCoverageQuery","supportsExportClip","supportsExportFrameset","supportsMensuration","supportsUpdate"])],l.prototype,"readCapabilitiesFromService",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"connectionInfo",void 0),(0,s._)([(0,C.w)("connectionInfo",["connectionUrl"])],l.prototype,"readConnectionInfo",null),(0,s._)([(0,a.MZ)()],l.prototype,"controller",void 0),(0,s._)([(0,a.MZ)({type:String})],l.prototype,"copyright",void 0),(0,s._)([(0,a.MZ)({readOnly:!0,type:Date})],l.prototype,"created",void 0),(0,s._)([(0,a.MZ)({type:Number})],l.prototype,"currentTime",null),(0,s._)([(0,a.MZ)({type:String})],l.prototype,"description",void 0),(0,s._)([(0,a.MZ)({type:Number})],l.prototype,"duration",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"elevationSource",void 0),(0,s._)([(0,a.MZ)({type:Boolean})],l.prototype,"ended",null),(0,s._)([(0,a.MZ)({type:G})],l.prototype,"frame",void 0),(0,s._)([(0,a.MZ)({readOnly:!0,type:Number})],l.prototype,"frameCount",void 0),(0,s._)([(0,a.MZ)({type:d.A})],l.prototype,"fullExtent",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"frameHorizonPoints",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"groundControlPoints",null),(0,s._)([(0,a.MZ)({type:d.A})],l.prototype,"initialExtent",void 0),(0,s._)([(0,a.MZ)({readOnly:!0,json:{read:{source:"id"}}})],l.prototype,"layerId",void 0),(0,s._)([(0,a.MZ)({type:Boolean})],l.prototype,"loop",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"metadata",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"mimeType",null),(0,s._)([(0,a.MZ)({type:Boolean})],l.prototype,"muted",null),(0,s._)([(0,a.MZ)({type:t})],l.prototype,"playbackInfo",void 0),(0,s._)([(0,a.MZ)({type:Number})],l.prototype,"playbackRate",null),(0,s._)([(0,a.MZ)({type:String})],l.prototype,"playerUrl",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"playing",null),(0,s._)([(0,a.MZ)({readOnly:!0,json:{read:{source:"poster"}}})],l.prototype,"posterUrl",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"qualities",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"serviceItemId",void 0),(0,s._)([(0,a.MZ)()],l.prototype,"sourceJSON",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"sourceQuality",void 0),(0,s._)([(0,a.MZ)({readOnly:!0,json:{name:"serviceType"}})],l.prototype,"sourceType",void 0),(0,s._)([(0,a.MZ)()],l.prototype,"spatialReference",void 0),(0,s._)([(0,a.MZ)({readOnly:!0,type:String})],l.prototype,"state",null),(0,s._)([(0,a.MZ)({readOnly:!0,type:g.A})],l.prototype,"telemetry",null),(0,s._)([(0,a.MZ)({type:R.A})],l.prototype,"telemetryDisplay",void 0),(0,s._)([(0,a.MZ)({readOnly:!1,json:{read:{source:"name"}}})],l.prototype,"title",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"type",void 0),(0,s._)([(0,a.MZ)(j.OZ)],l.prototype,"url",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"videoElement",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"videoHeight",null),(0,s._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],l.prototype,"videoLayersInfo",void 0),(0,s._)([(0,C.w)("service","videoLayersInfo",["id","name","poster","serviceType","type"])],l.prototype,"readLayerInfosFromService",null),(0,s._)([(0,a.MZ)({readOnly:!0,nonNullable:!1,json:{read:{reader:W.nX,source:"time"}}})],l.prototype,"videoTimeExtent",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"videoWidth",null),(0,s._)([(0,a.MZ)({readOnly:!0})],l.prototype,"waiting",null),l=(0,s._)([(0,p.$)("esri.layers.VideoLayer")],l);const J=l},72211:(U,P,n)=>{n.d(P,{LF:()=>A,M9:()=>_,zu:()=>m});var M=n(5922),s=n(89221),T=n(79845),r=n(26073);function A(p,d,y){try{return function a(p){if(!p||0===p.length)return null;if(function h(p){const d=p[0];return!!d&&"scale"in d}(p)){const d=[];for(const y of p)d.push({scale:y.scale,value:m(y.value)});return d}return m(p)}(p)}catch(S){y?.messages?.push(S)}return null}function _(p,d,y,S){try{const O=function f(p){const d=(0,T.q)(p);return d?(0,r.dw)(d)?d.map(y=>y.toJSON()):d.map(({scale:y,effects:S})=>({scale:y,value:S.map(O=>O.toJSON())})):null}(p);(0,s.sM)(y,O,d)}catch(O){S.messages&&S.messages.push(O)}}function m(p){if(!p?.length)return"";const d=[];for(const y of p){let S=[];switch(y.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":S=[v(y,"amount")];break;case"blur":S=[v(y,"radius","pt")];break;case"hue-rotate":S=[v(y,"angle","deg")];break;case"drop-shadow":S=[v(y,"xoffset","pt"),v(y,"yoffset","pt"),v(y,"blurRadius","pt"),C(y,"color")];break;case"bloom":S=[v(y,"strength"),v(y,"radius","pt"),v(y,"threshold")]}const O=`${y.type}(${S.filter(Boolean).join(" ")})`;(0,T.q)(O),d.push(O)}return d.join(" ")}function v(p,d,y){if(null==p[d])throw new M.A("effect:missing-parameter",`Missing parameter '${d}' in ${p.type} effect`,{effect:p});return y?p[d]+y:""+p[d]}function C(p,d){if(null==p[d])throw new M.A("effect:missing-parameter",`Missing parameter '${d}' in ${p.type} effect`,{effect:p});const y=p[d];return`rgba(${y[0]||0}, ${y[1]||0}, ${y[2]||0}, ${y[3]/255||0})`}},93410:(U,P,n)=>{n.d(P,{LF:()=>v,dM:()=>C,sU:()=>h});var M=n(8189),s=n(85211),_=(n(3248),n(35150),n(40707),n(76576)),f=n(50501),a=n(72211);const h={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:f.K}},"portal-item":{read:!0,write:{layerContainerTypes:f.K}}}}},m={read:{reader:a.LF},write:{allowNull:!0,writer:a.M9,layerContainerTypes:f.K}},v={json:{read:!1,write:!1,origins:{"web-map":m,"portal-item":m}}},C=p=>{let d=class extends p{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,M._)([(0,s.MZ)(h)],d.prototype,"blendMode",void 0),(0,M._)([(0,s.MZ)(v)],d.prototype,"effect",void 0),d=(0,M._)([(0,_.$)("esri.layers.mixins.BlendLayer")],d),d}},23e3:(U,P,n)=>{n.d(P,{d:()=>f});var M=n(8189),s=n(85211),_=(n(3248),n(35150),n(40707),n(76576));const f=a=>{let h=class extends a{constructor(){super(...arguments),this.customParameters=null}};return(0,M._)([(0,s.MZ)({type:Object,json:{write:{overridePolicy:m=>({enabled:!!(m&&Object.keys(m).length>0)})}}})],h.prototype,"customParameters",void 0),h=(0,M._)([(0,_.$)("esri.layers.mixins.CustomParametersMixin")],h),h}},33036:(U,P,n)=>{n.d(P,{j:()=>f});var M=n(8189),s=n(85211),_=(n(3248),n(35150),n(40707),n(76576));const f=h=>{let m=class extends h{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const v={minScale:this.minScale,maxScale:this.maxScale},C=this.parent;C&&"effectiveScaleRange"in C&&function a(h,m){h.minScale=h.minScale>0?m.minScale>0?Math.min(h.minScale,m.minScale):h.minScale:m.minScale,h.maxScale=h.maxScale>0?m.maxScale>0?Math.max(h.maxScale,m.maxScale):h.maxScale:m.maxScale}(v,C.effectiveScaleRange);const p=this._get("effectiveScaleRange");return p&&p.minScale===v.minScale&&p.maxScale===v.maxScale?p:v}};return(0,M._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"minScale",void 0),(0,M._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"maxScale",void 0),(0,M._)([(0,s.MZ)({readOnly:!0})],m.prototype,"effectiveScaleRange",null),m=(0,M._)([(0,_.$)("esri.layers.mixins.ScaleRangeLayer")],m),m}},6829:(U,P,n)=>{n.d(P,{CW:()=>p,Fm:()=>a,Hz:()=>d,JQ:()=>C,JZ:()=>o,ND:()=>S,R_:()=>_,U9:()=>v,fu:()=>s,nr:()=>y,oF:()=>T,rq:()=>h,z$:()=>m});const M=[["binary","application/octet-stream","bin",""]];function s(t,i){return null!=b(i.name,t?.supportedFormats??[])}function T(t,i){if(!t)return!1;const g=h(i,t.supportedFormats??[]);return null!=g&&t.editFormats.includes(g)}function _(t,i){return F(function z(t,i){const g=t.toLowerCase();return O(i).find(R=>j(R)===g)}(t,i))}function f(t,i){return F(b(t,i))}function a(t,i){return j(function w(t,i){return O(i).find(g=>F(g)===t)}(t,i))}function h(t,i){return f(t.name,i)??_(t.type,i)}function m(t,i,g){return _(t,g)??f(i,g)}function v({supportedFormats:t}){return m("model/gltf-binary","glb",t)}function C(t){const i=v(t);return null!=i&&t.editFormats.includes(i)}function p({supportedFormats:t}){return m("model/gltf+json","gltf",t)}function d(t){if(!t)return null;const i=v(t),g=p(t);let R=null;for(const E of t.queryFormats){if(E===i)return E;E===g&&(R=E)}return R}function y({supportedFormats:t}){return m("application/esri3do-SR_world","wld",t)}function S({supportedFormats:t}){return m("application/esri3do-SR_prj","prj",t)}function O(t){return[...M,...t]}function b(t,i){const g=t.toLowerCase();return O(i).find(R=>function B(t){return t?.[2].split(",").map(i=>i.toLowerCase())??[]}(R).some(E=>g.endsWith(E)))}function F(t){return t?.[0]}function j(t){return t?.[1].toLowerCase()}function o(t){return t.tables?.find(i=>"assetMaps"===i.role)}},90543:(U,P,n)=>{n.d(P,{S:()=>C,d:()=>B});var M=n(3248),s=n(68438),T=n(6829);function r(e,o,t){return!!_(e,o,t)}function A(e,o,t){return _(e,o,t)}function _(e,o,t){return e&&e.hasOwnProperty(o)?e[o]:t}const f={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function a(e){const o=e?.supportedSpatialAggregationStatistics?.map(t=>t.toLowerCase());return{envelope:!!o?.includes("envelopeaggregate"),centroid:!!o?.includes("centroidaggregate"),convexHull:!!o?.includes("convexhullaggregate")}}function h(e,o){return!!e?.supportedOperationsWithCacheHint?.map(i=>i.toLowerCase())?.includes(o.toLowerCase())}function m(e){const o=e?.supportedStatisticTypes?.map(t=>t.toLowerCase());return{count:!!o?.includes("count"),sum:!!o?.includes("sum"),min:!!o?.includes("min"),max:!!o?.includes("max"),avg:!!o?.includes("avg"),var:!!o?.includes("var"),stddev:!!o?.includes("stddev"),percentileContinuous:!!o?.includes("percentile_continuous"),percentileDiscrete:!!o?.includes("percentile_discrete"),envelope:!!o?.includes("envelopeaggregate"),centroid:!!o?.includes("centroidaggregate"),convexHull:!!o?.includes("convexhullaggregate")}}function v(e){const o=e?.supportedNormalizationTypes?.map(t=>t.toLowerCase());return{field:!!o?.includes("field"),log:!!o?.includes("log"),naturalLog:!!o?.includes("naturallog"),percentOfTotal:!!o?.includes("percentoftotal"),squareRoot:!!o?.includes("squareroot")}}function C(e,o){return{analytics:p(e),attachment:d(e),data:y(e),metadata:S(e),operations:O(e.capabilities,e,o),query:w(e,o),queryAttributeBins:F(e),queryRelated:z(e),queryTopFeatures:b(e),editing:j(e)}}function p(e){return{supportsCacheHint:h(e.advancedQueryCapabilities,"queryAnalytics")}}function d(e){const o=e.attachmentProperties,t={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:h(e.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:r(e.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:r(e,"supportsAttachmentsResizing",!1)};return o&&Array.isArray(o)&&o.forEach(i=>{const g=f[i.name];g&&(t[g]=!!i.isEnabled)}),t}function y(e){return{isVersioned:r(e,"isDataVersioned",!1),isBranchVersioned:r(e,"isDataBranchVersioned",!1),supportsAttachment:r(e,"hasAttachments",!1),supportsM:r(e,"hasM",!1),supportsZ:r(e,"hasZ",!1)}}function S(e){return{supportsAdvancedFieldProperties:r(e,"supportsFieldDescriptionProperty",!1)}}function O(e,o,t){const i=e?e.toLowerCase().split(",").map(G=>G.trim()):[],g=t?(0,s.qg)(t):null,R=i.includes(null!=g&&"MapServer"===g.serverType?"data":"query"),E=i.includes("editing")&&!o.datesInUnknownTimezone;let L=E&&i.includes("create"),Z=E&&i.includes("delete"),D=E&&i.includes("update");const K=i.includes("changetracking"),I=o.advancedQueryCapabilities;return E&&!(L||Z||D)&&(L=Z=D=!0),{supportsCalculate:r(o,"supportsCalculate",!1),supportsTruncate:r(o,"supportsTruncate",!1),supportsValidateSql:r(o,"supportsValidateSql",!1),supportsAdd:L,supportsDelete:Z,supportsEditing:E,supportsChangeTracking:K,supportsQuery:R,supportsQueryAnalytics:r(I,"supportsQueryAnalytic",!1),supportsQueryAttachments:r(I,"supportsQueryAttachments",!1),supportsQueryBins:r(I,"supportsQueryBins",!1),supportsQueryTopFeatures:r(I,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:r(o,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:D,supportsExceedsLimitStatistics:r(o,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:r(o,"supportsAsyncConvert3D",!1)}}function w(e,o){const t=e.advancedQueryCapabilities,i=e.ownershipBasedAccessControlForFeatures,g=e.archivingInfo,R=e.currentVersion,E=o?.includes("MapServer"),L=!E||R>=(0,M.A)("mapserver-pbf-version-support"),Z=(0,s.Wo)(o),D=new Set((e.supportedQueryFormats??"").split(",").map(K=>K.toLowerCase().trim()));return{maxRecordCount:A(e,"maxRecordCount",void 0),maxRecordCountFactor:A(e,"maxRecordCountFactor",void 0),standardMaxRecordCount:A(e,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:a(t),supportsCacheHint:r(t,"supportsQueryWithCacheHint",!1)||h(t,"query"),supportsCentroid:r(t,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:Z,supportsCurrentUser:r(t,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:r(t,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:r(t,"supportsDisjointSpatialRel",!1),supportsDistance:r(t,"supportsQueryWithDistance",!1),supportsDistinct:r(t,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:r(t,"supportsReturningQueryExtent",!1),supportsFormatPBF:L&&D.has("pbf"),supportsFullTextSearch:r(t,"supportsFullTextSearch",!1),supportsGeometryProperties:r(t,"supportsReturningGeometryProperties",!1),supportsHavingClause:r(t,"supportsHavingClause",!1),supportsHistoricMoment:r(g,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:r(t,"supportsMaxRecordCountFactor",!1),supportsOrderBy:r(t,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:r(t,"supportsPagination",!1),supportsPercentileStatistics:r(t,"supportsPercentileStatistics",!1),supportsQuantization:r(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:r(e,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:r(i,"allowAnonymousToQuery",!0),supportsQueryByOthers:r(i,"allowOthersToQuery",!0),supportsQueryGeometry:r(e,"supportsReturningQueryGeometry",!1),supportsResultType:r(t,"supportsQueryWithResultType",!1),supportsReturnMesh:!!(0,T.Hz)(e.infoFor3D),supportsSpatialAggregationStatistics:r(t,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:r(t,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:r(e,"useStandardizedQueries",!1),supportsStatistics:r(t,"supportsStatistics",e.supportsStatistics),supportsTopFeaturesQuery:r(t,"supportsTopFeaturesQuery",!1),supportsTrueCurve:r(t,"supportsTrueCurve",!1),tileMaxRecordCount:A(e,"tileMaxRecordCount",void 0)}}function z(e){const o=e.advancedQueryCapabilities,t=r(o,"supportsAdvancedQueryRelated",!1);return{supportsPagination:r(o,"supportsQueryRelatedPagination",!1),supportsCount:t,supportsOrderBy:t,supportsCacheHint:h(o,"queryRelated")}}function b(e){return{supportsCacheHint:h(e.advancedQueryCapabilities,"queryTopFilter")}}function F(e){const o=e?e.queryBinsCapabilities:void 0;return{supportsDate:r(o,"supportsDateBin",!1),supportsFixedInterval:r(o,"supportsFixedIntervalBin",!1),supportsAutoInterval:r(o,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:r(o,"supportsFixedBoundariesBin",!1),supportsStackBy:r(o,"supportsStackBy",!1),supportsSplitBy:r(o,"supportsSplitBy",!1),supportsSnapToData:r(o,"supportsSnapToData",!1),supportsReturnFullIntervalBin:r(o,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:r(o,"supportsFirstDayOfWeek",!1),supportsNormalization:r(o,"supportsNormalization",!1),supportedStatistics:m(o),supportedNormalizationTypes:v(o)}}function j(e){const o=e.ownershipBasedAccessControlForFeatures,t=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:r(e,"allowGeometryUpdates",!0),supportsGlobalId:r(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:r(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:r(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:r(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:r(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:r(o,"allowAnonymousToDelete",!0),supportsDeleteByOthers:r(o,"allowOthersToDelete",!0),supportsUpdateByAnonymous:r(o,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:r(o,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:r(t,"supportsAsyncApplyEdits",!1),zDefault:A(e,"zDefault",void 0)}}function B(e){return{operations:{supportsAppend:r(e,"supportsAppend",!1),supportsCoverageQuery:e?.playbackInfo?.klv["0601"]??!1,supportsExportClip:r(e,"supportsExportClip",!1),supportsExportFrameset:r(e,"supportsExportFrameset",!1),supportsMensuration:r(e,"supportsMensuration",!1),supportsUpdate:r(e,"supportsUpdate",!1)}}}}}]);