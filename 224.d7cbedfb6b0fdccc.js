"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[224],{50501:(Ot,et,c)=>{c.d(et,{K:()=>h});const h=["operational-layers","basemap","ground"]},81142:(Ot,et,c)=>{c.d(et,{IV:()=>ct,LF:()=>P,T9:()=>T,Wq:()=>b,d_:()=>m,g2:()=>B,gT:()=>x,hs:()=>S,iT:()=>Y,kM:()=>K,l3:()=>L,n0:()=>H,r7:()=>M});var h=c(82663);function P(D){return{value:D}}function m(D,C){return{type:(0,h.t$)(C),value:D,unit:C}}function x(D,C){return{type:(0,h.t$)(C),value:D,unit:C}}function b(D,C,J="arithmetic"){return{type:(0,h.t$)(C),value:D,unit:C,rotationType:J}}function K(D,C){const J=L(D,C);return"angle"===D.type?b(J,C,D.rotationType):function g(D,C){return{type:(0,h.t$)(C),value:D,unit:C}}(J,C)}function L(D,C){return(0,h.oU)(D.value,D.unit,C)}function T(D,C){return null==D?C:null==C||D.value>(0,h.oU)(C.value,C.unit,D.unit)?D:C}function S(D,C){return null==D?null:{...D,value:D.value*C}}function B(D,C,J){if(C===J)return D;switch(J){case"arithmetic":case"geographic":return 90-D}}const M=m(0,"meters"),Y=x(0,"square-meters"),ct=(b(0,"radians"),b(0,"degrees")),H=b(0,"degrees","geographic")},16590:(Ot,et,c)=>{c.d(et,{W:()=>b,g:()=>x});var h=c(10467),g=c(25866),P=c(13970),m=c(23234);function x(L,w,T,tt){if((0,P.canProjectWithoutEngine)(L.spatialReference,T))return K[0]=L.x,K[1]=L.y,K[2]=L.z??tt??0,(0,m.projectBuffer)(K,L.spatialReference,0,w,T,0);const S=(0,P.tryProjectWithZConversion)(L,T);return!!S&&(w[0]=S?.x,w[1]=S?.y,w[2]=S?.z??tt??0,!0)}function b(L,w,T,tt,S){return W.apply(this,arguments)}function W(){return(W=(0,h.A)(function*(L,w,T,tt,S){return yield(0,P.initializeProjection)(L.spatialReference,T,null,S),x(L,w,T,tt)})).apply(this,arguments)}const K=(0,g.vt)()},44929:(Ot,et,c)=>{c.d(et,{F:()=>x}),c(13970);var g=c(32034),P=c(16590);function x(L,w,T,tt,S){return!(null==w||null==tt||L.length<2)&&(K.x=L[0],K.y=L[1],K.z=L[2],K.spatialReference=w,(0,P.g)(K,T,tt,S))}const K=(0,c(8675).T)(0,0,0,g.A.WGS84)},79283:(Ot,et,c)=>{c.d(et,{TT:()=>Y,Xn:()=>at,Zj:()=>D,_3:()=>J,l1:()=>ct,qy:()=>nt,vN:()=>C});var h=c(5922),g=c(82663),P=c(55739),x=(c(1749),c(55861)),b=c(93615),W=c(32034),K=c(2947),L=c(58701);function w(U){if(!U)return null;const $=U.wkid;if($)return K.uw[$];const j=U.wkt2??U.wkt;return j?function T(U){const $=K._f.exec(U);if(!$||2!==$.length)return null;const j=$[1].split(",");if(!j||j.length<3)return null;const Z=parseFloat(j[1]),_=parseFloat(j[2]);return isNaN(Z)||isNaN(_)?null:{a:Z,f:0===_?0:1/_}}(j):null}function tt(U){const $=w(U);if(function S(U){return null!=U&&"b"in U&&"eSq"in U&&"radius"in U}($))return $;const j=$.a*(1-$.f);return Object.assign($,{b:j,eSq:1-(j/$.a)**2,radius:(2*$.a+j)/3,densificationRatio:1e4/((2*$.a+j)/3)})}function M(U,$,j){const{a:Z,eSq:_}=tt(j),f=Math.sqrt(_),G=Math.sin($[1]*K.eh),q=Z*$[0]*K.eh;let st;return st=_>0?Z*((1-_)*(G/(1-_*(G*G))-1/(2*f)*Math.log((1-f*G)/(1+f*G))))*.5:Z*G,U[0]=q,U[1]=st,U}function Y(U){return(0,L.EA)(U)&&!!w(U)}function nt(U,$="square-meters"){if(U.some(G=>!Y(G.spatialReference)))throw new h.A("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const j=[];for(let G=0;G<U.length;G++){const q=U[G],st=q.spatialReference,{radius:lt,densificationRatio:ht}=tt(st);j.push(H(q,lt*ht))}const Z=[],_=[0,0],f=[0,0];for(let G=0;G<j.length;G++){const{rings:q,spatialReference:st}=j[G];let lt=0;for(let ht=0;ht<q.length;ht++){const it=q[ht];M(_,it[0],st),M(f,it[it.length-1],st);let gt=f[0]*_[1]-_[0]*f[1];for(let Rt=0;Rt<it.length-1;Rt++)M(_,it[Rt+1],st),M(f,it[Rt],st),gt+=f[0]*_[1]-_[0]*f[1];lt+=gt}lt=(0,g.oU)(lt,"square-meters",$),Z.push(lt/-2)}return Z}function ct(U,$="meters"){if(!U)throw new h.A("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(U.some(Z=>!Y(Z.spatialReference)))throw new h.A("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const j=[];for(let Z=0;Z<U.length;Z++){const _=U[Z],{spatialReference:f}=_,G="polyline"===_.type?_.paths:_.rings;let q=0;for(let st=0;st<G.length;st++){const lt=G[st];let ht=0;for(let it=1;it<lt.length;it++){const gt=lt[it-1][0],Rt=lt[it][0],It=lt[it-1][1],mt=lt[it][1];if(It!==mt||gt!==Rt){const jt=new D;J(jt,[gt,It],[Rt,mt],f),ht+=jt.distance}}q+=ht}q=(0,g.oU)(q,"meters",$),j.push(q)}return j}function H(U,$){if("polyline"!==U.type&&"polygon"!==U.type)throw new h.A("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:j}=U;if(!Y(j))throw new h.A("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const Z="polyline"===U.type?U.paths:U.rings,_=[],f=[0,0],G=new D;for(const st of Z){const lt=[];_.push(lt),lt.push([st[0][0],st[0][1]]);let ht,it,gt=st[0][0],Rt=st[0][1];for(let It=0;It<st.length-1;It++){if(ht=st[It+1][0],it=st[It+1][1],gt===ht&&Rt===it)continue;const mt=[gt,Rt];J(G,[gt,Rt],[ht,it],j);const{azimuth:jt,distance:xt}=G,Bt=xt/$;if(Bt>1){for(let V=1;V<=Bt-1;V++)C(f,mt,jt,V*$,j),lt.push(f.slice());C(f,mt,jt,(xt+Math.floor(Bt-1)*$)/2,j),lt.push(f.slice())}C(f,mt,jt,xt,j),lt.push(f.slice()),gt=f[0],Rt=f[1]}}const q=(0,P.PZ)(W.A,j);return"polyline"===U.type?new b.A({paths:_,spatialReference:q}):new x.A({rings:_,spatialReference:q})}class D{constructor($=0,j=void 0,Z=void 0){this.distance=$,this.azimuth=j,this.reverseAzimuth=Z}}function C(U,$,j,Z,_){const q=$[0]*K.eh,st=$[1]*K.eh,lt=(j??0)*K.eh,{a:ht,b:it,f:gt}=tt(_),Rt=Math.sin(lt),It=Math.cos(lt),mt=(1-gt)*Math.tan(st),jt=1/Math.sqrt(1+mt*mt),xt=mt*jt,Bt=Math.atan2(mt,It),V=jt*Rt,X=V*V,rt=1-X,ot=rt*(ht*ht-it*it)/(it*it),dt=1+ot/16384*(4096+ot*(ot*(320-175*ot)-768)),ut=ot/1024*(256+ot*(ot*(74-47*ot)-128));let _t,yt,pt,vt=Z/(it*dt),Lt=2*Math.PI;for(;Math.abs(vt-Lt)>1e-12;)pt=Math.cos(2*Bt+vt),_t=Math.sin(vt),yt=Math.cos(vt),Lt=vt,vt=Z/(it*dt)+ut*_t*(pt+ut/4*(yt*(2*pt*pt-1)-ut/6*pt*(4*_t*_t-3)*(4*pt*pt-3)));const Mt=xt*_t-jt*yt*It,Dt=Math.atan2(xt*yt+jt*_t*It,(1-gt)*Math.sqrt(X+Mt*Mt)),At=gt/16*rt*(4+gt*(4-3*rt)),Ut=Math.atan2(_t*Rt,jt*yt-xt*_t*It)-(1-At)*gt*V*(vt+At*_t*(pt+At*yt*(2*pt*pt-1)));return U[0]=(q+Ut)/K.eh,U[1]=Dt/K.eh,U}function J(U,$,j,Z){const _=$[0]*K.eh,f=$[1]*K.eh,G=j[0]*K.eh,q=j[1]*K.eh,{a:st,b:lt,f:ht,radius:it}=tt(Z),gt=G-_,Rt=Math.atan((1-ht)*Math.tan(f)),It=Math.atan((1-ht)*Math.tan(q)),mt=Math.sin(Rt),jt=Math.cos(Rt),xt=Math.sin(It),Bt=Math.cos(It);let V,X,rt,ot,dt,ut,_t,yt,pt,vt,Lt=1e3,Mt=gt;do{if(_t=Math.sin(Mt),yt=Math.cos(Mt),rt=Math.sqrt(Bt*_t*(Bt*_t)+(jt*xt-mt*Bt*yt)*(jt*xt-mt*Bt*yt)),0===rt)return U.distance=0,U.azimuth=void 0,U.reverseAzimuth=void 0,U;dt=mt*xt+jt*Bt*yt,ut=Math.atan2(rt,dt),pt=jt*Bt*_t/rt,X=1-pt*pt,ot=dt-2*mt*xt/X,isNaN(ot)&&(ot=0),vt=ht/16*X*(4+ht*(4-3*X)),V=Mt,Mt=gt+(1-vt)*ht*pt*(ut+vt*rt*(ot+vt*dt*(2*ot*ot-1)))}while(Math.abs(Mt-V)>1e-12&&--Lt>0);if(0===Lt){const Gt=it,ce=Math.acos(Math.sin(f)*Math.sin(q)+Math.cos(f)*Math.cos(q)*Math.cos(G-_))*Gt,ne=G-_,se=Math.sin(ne)*Math.cos(q),_e=Math.cos(f)*Math.sin(q)-Math.sin(f)*Math.cos(q)*Math.cos(ne),ue=Math.atan2(se,_e);return U.azimuth=ue/K.eh,U.distance=ce,U.reverseAzimuth=void 0,U}const Dt=X*(st*st-lt*lt)/(lt*lt),At=Dt/1024*(256+Dt*(Dt*(74-47*Dt)-128)),Ut=lt*(1+Dt/16384*(4096+Dt*(Dt*(320-175*Dt)-768)))*(ut-At*rt*(ot+At/4*(dt*(2*ot*ot-1)-At/6*ot*(4*rt*rt-3)*(4*ot*ot-3)))),Wt=Math.atan2(Bt*Math.sin(Mt),jt*xt-mt*Bt*Math.cos(Mt)),Kt=Math.atan2(jt*Math.sin(Mt),jt*xt*Math.cos(Mt)-mt*Bt);return U.azimuth=Wt/K.eh,U.distance=Ut,U.reverseAzimuth=Kt/K.eh,U}function at(U){return Y(U)?U:(0,L.K8)(U)?W.A.WGS84:null}},36819:(Ot,et,c)=>{c.d(et,{A:()=>B});var h=c(8189),g=c(85211),b=(c(3248),c(35150),c(40707),c(76576)),W=c(88494),K=c(95478),L=c(93410),w=c(33036),T=c(27641),tt=c(88485);let S=class extends((0,L.dM)((0,w.j)(K.A))){constructor(M){super(M),this.elevationInfo=null,this.graphics=new T.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(M){return this.graphics.add(M),this}addMany(M){return this.graphics.addMany(M),this}removeAll(){return this.graphics.removeAll(),this}remove(M){this.graphics.remove(M)}removeMany(M){this.graphics.removeMany(M)}on(M,Y){return super.on(M,Y)}graphicChanged(M){this.emit("graphic-update",M)}};(0,h._)([(0,g.MZ)({type:tt.A})],S.prototype,"elevationInfo",void 0),(0,h._)([(0,g.MZ)((0,W.C)(T.Y,"graphics"))],S.prototype,"graphics",void 0),(0,h._)([(0,g.MZ)({type:["show","hide"]})],S.prototype,"listMode",void 0),(0,h._)([(0,g.MZ)()],S.prototype,"screenSizePerspectiveEnabled",void 0),(0,h._)([(0,g.MZ)({readOnly:!0})],S.prototype,"type",void 0),(0,h._)([(0,g.MZ)({constructOnly:!0})],S.prototype,"internal",void 0),S=(0,h._)([(0,b.$)("esri.layers.GraphicsLayer")],S);const B=S},72211:(Ot,et,c)=>{c.d(et,{LF:()=>x,M9:()=>b,zu:()=>w});var h=c(5922),g=c(89221),P=c(79845),m=c(26073);function x(S,B,M){try{return function K(S){if(!S||0===S.length)return null;if(function L(S){const B=S[0];return!!B&&"scale"in B}(S)){const B=[];for(const M of S)B.push({scale:M.scale,value:w(M.value)});return B}return w(S)}(S)}catch(Y){M?.messages?.push(Y)}return null}function b(S,B,M,Y){try{const nt=function W(S){const B=(0,P.q)(S);return B?(0,m.dw)(B)?B.map(M=>M.toJSON()):B.map(({scale:M,effects:Y})=>({scale:M,value:Y.map(nt=>nt.toJSON())})):null}(S);(0,g.sM)(M,nt,B)}catch(nt){Y.messages&&Y.messages.push(nt)}}function w(S){if(!S?.length)return"";const B=[];for(const M of S){let Y=[];switch(M.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":Y=[T(M,"amount")];break;case"blur":Y=[T(M,"radius","pt")];break;case"hue-rotate":Y=[T(M,"angle","deg")];break;case"drop-shadow":Y=[T(M,"xoffset","pt"),T(M,"yoffset","pt"),T(M,"blurRadius","pt"),tt(M,"color")];break;case"bloom":Y=[T(M,"strength"),T(M,"radius","pt"),T(M,"threshold")]}const nt=`${M.type}(${Y.filter(Boolean).join(" ")})`;(0,P.q)(nt),B.push(nt)}return B.join(" ")}function T(S,B,M){if(null==S[B])throw new h.A("effect:missing-parameter",`Missing parameter '${B}' in ${S.type} effect`,{effect:S});return M?S[B]+M:""+S[B]}function tt(S,B){if(null==S[B])throw new h.A("effect:missing-parameter",`Missing parameter '${B}' in ${S.type} effect`,{effect:S});const M=S[B];return`rgba(${M[0]||0}, ${M[1]||0}, ${M[2]||0}, ${M[3]/255||0})`}},8675:(Ot,et,c)=>{function h(P,m,x,b){return{x:P,y:m,z:x,hasZ:null!=x,hasM:!1,spatialReference:b,type:"point"}}function g(P,m,x,b,W){P.x=m,P.y=x,P.z=b,P.hasZ=null!=b,P.spatialReference=W}c.d(et,{J:()=>g,T:()=>h})},93410:(Ot,et,c)=>{c.d(et,{LF:()=>T,dM:()=>tt,sU:()=>L});var h=c(8189),g=c(85211),b=(c(3248),c(35150),c(40707),c(76576)),W=c(50501),K=c(72211);const L={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:W.K}},"portal-item":{read:!0,write:{layerContainerTypes:W.K}}}}},w={read:{reader:K.LF},write:{allowNull:!0,writer:K.M9,layerContainerTypes:W.K}},T={json:{read:!1,write:!1,origins:{"web-map":w,"portal-item":w}}},tt=S=>{let B=class extends S{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,h._)([(0,g.MZ)(L)],B.prototype,"blendMode",void 0),(0,h._)([(0,g.MZ)(T)],B.prototype,"effect",void 0),B=(0,h._)([(0,b.$)("esri.layers.mixins.BlendLayer")],B),B}},33036:(Ot,et,c)=>{c.d(et,{j:()=>W});var h=c(8189),g=c(85211),b=(c(3248),c(35150),c(40707),c(76576));const W=L=>{let w=class extends L{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const T={minScale:this.minScale,maxScale:this.maxScale},tt=this.parent;tt&&"effectiveScaleRange"in tt&&function K(L,w){L.minScale=L.minScale>0?w.minScale>0?Math.min(L.minScale,w.minScale):L.minScale:w.minScale,L.maxScale=L.maxScale>0?w.maxScale>0?Math.max(L.maxScale,w.maxScale):L.maxScale:w.maxScale}(T,tt.effectiveScaleRange);const S=this._get("effectiveScaleRange");return S&&S.minScale===T.minScale&&S.maxScale===T.maxScale?S:T}};return(0,h._)([(0,g.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],w.prototype,"minScale",void 0),(0,h._)([(0,g.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],w.prototype,"maxScale",void 0),(0,h._)([(0,g.MZ)({readOnly:!0})],w.prototype,"effectiveScaleRange",null),w=(0,h._)([(0,b.$)("esri.layers.mixins.ScaleRangeLayer")],w),w}},73812:(Ot,et,c)=>{c.d(et,{$7:()=>z,B:()=>k,Fo:()=>H,M7:()=>$,NN:()=>w,Q5:()=>D,Tq:()=>Z,Up:()=>J,XF:()=>U,Ze:()=>M,bK:()=>x,bh:()=>L,id:()=>Y,ky:()=>K,qt:()=>j,tW:()=>at,v9:()=>T,w7:()=>b,wF:()=>m,wS:()=>nt,wz:()=>S,x:()=>tt,xS:()=>ct,ze:()=>W});var h=c(82663),g=c(82575);function P(_){return _?j:Z}function m(_,f){return f?.mode?f.mode:P(_).mode}function x(_,f){return f??P(_)}function b(_,f){return m(null==_||(_.hasZ??!1),f)}function W(_,f){return x(null==_||(_.hasZ??!1),f)}function K(_){const f=B(_);return b(_.geometry,f)}function L(_){const f=B(_),G=b(_.geometry,f),q=null!=f&&"on-the-ground"!==G?$(f):0,st=f?.featureExpressionInfo;return{mode:G,offset:q,featureExpressionInfo:st}}function w(_){return S(L(_))}function T(_){return S(_)||tt(_)}function tt(_){return"0"===_?.featureExpressionInfo?.expression}function S(_){if(!_||"on-the-ground"===_.mode)return!1;const f=_?.featureExpressionInfo?_.featureExpressionInfo.expression:null;return!(!f||"0"===f)}function B(_){return _.layer&&"elevationInfo"in _.layer?_.layer.elevationInfo:null}function M(_,f){if(!_?.offset)return 0;const{offset:G,unit:q}=_;if("decimal-degrees"===q)return 0;const st="unknown"!==q&&q?q:"meters",lt=(0,h.mq)(f);return lt?(0,h.oU)(G,st,lt):0}function Y(_,f,G){if(!G?.mode)return;const q=_.hasZ?_.z:0,st=M(G,_.spatialReference);switch(G.mode){case"absolute-height":return q-st;case"on-the-ground":return 0;case"relative-to-ground":return q-((f.elevationProvider.getElevation(_.x,_.y,q,_.spatialReference,"ground")??0)+st);case"relative-to-scene":return q-((f.elevationProvider.getElevation(_.x,_.y,q,_.spatialReference,"scene")??0)+st)}}function nt(_,f,G,q=null){return H(_,f.x,f.y,f.hasZ?f.z:0,f.spatialReference,G,q)}function ct(_,f,G,q,st=null){return H(_,f[0],f[1],f.length>2?f[2]:0,G,q,st)}function H(_,f,G,q,st,lt,ht=null){if(null==lt)return;const it=null!=ht?ht.mode:"absolute-height";if("on-the-ground"===it)return 0;const{absoluteZ:gt}=D(f,G,q,st,_,lt);return function C(_,f,G,q,st,lt,ht,it){const gt=M(ht,st);switch(it){case"absolute-height":return _-gt;case"relative-to-ground":return _-((lt.elevationProvider.getElevation(f,G,q,st,"ground")??0)+gt);case"relative-to-scene":return _-((lt.elevationProvider.getElevation(f,G,q,st,"scene")??0)+gt)}}(gt,f,G,q,st,_,ht,it)}function D(_,f,G,q,st,lt){const ht=M(lt,q);switch(lt.mode){case"absolute-height":return{absoluteZ:G+ht,elevation:0};case"on-the-ground":{const it=st.elevationProvider.getElevation(_,f,0,q,"ground")??0;return{absoluteZ:it,elevation:it}}case"relative-to-ground":{const it=st.elevationProvider.getElevation(_,f,G,q,"ground")??0;return{absoluteZ:G+it+ht,elevation:it}}case"relative-to-scene":{const it=st.elevationProvider.getElevation(_,f,G,q,"scene")??0;return{absoluteZ:G+it+ht,elevation:it}}}}function J(_,f){if(null==f)return!1;const{mode:G}=f;return null!=G&&("scene"===_&&"relative-to-scene"===G||"ground"===_&&"absolute-height"!==G)}function k(_,f,G){return G&&G.mode!==f?`${_} only support ${f} elevation mode`:null}function z(_,f,G){return G?.mode===f?`${_} do not support ${f} elevation mode`:null}function at(_,f){return null!=f?.featureExpressionInfo&&"0"!==f.featureExpressionInfo.expression?`${_} do not support featureExpressionInfo`:null}function U(_,f){f&&_.warn(".elevationInfo=",f)}function $(_){return(_?.offset??0)*(0,g.Ao)(_?.unit)}const j={mode:"absolute-height",offset:0},Z={mode:"on-the-ground",offset:null}},88485:(Ot,et,c)=>{c.d(et,{A:()=>J});var B,h=c(8189),g=c(49976),P=c(71065),m=c(11432),x=c(85211),L=(c(3248),c(35150),c(40707),c(17221)),w=c(76576),T=c(50305),tt=c(10467),S=c(86300);let M=B=class extends P.A{constructor(k){super(k)}collectRequiredFields(k,z){var at=this;return(0,tt.A)(function*(){return(0,S.Dx)(k,z,at.expression)})()}clone(){return new B({expression:this.expression,title:this.title})}equals(k){return this.expression===k.expression&&this.title===k.title}};(0,h._)([(0,x.MZ)({type:String,json:{write:{isRequired:!0}}})],M.prototype,"expression",void 0),(0,h._)([(0,x.MZ)({type:String,json:{write:!0}})],M.prototype,"title",void 0),M=B=(0,h._)([(0,w.$)("esri.symbols.support.FeatureExpressionInfo")],M);const Y=M;var ct,nt=c(82575);const H=(0,g.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),D=new g.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let C=ct=class extends P.A{constructor(k){super(k),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(k,z){return k??(z.featureExpression&&0===z.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(k,z,at,U){z[at]=k.write({},U),"0"===k.expression&&(z.featureExpression={value:0})}get mode(){const{offset:k,featureExpressionInfo:z}=this;return this._isOverridden("mode")?this._get("mode"):null!=k||z?"relative-to-ground":"on-the-ground"}set mode(k){this._override("mode",k)}set unit(k){this._set("unit",k)}write(k,z){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(k,z):null}clone(){return new ct({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(k){return this.mode===k.mode&&this.offset===k.offset&&this.unit===k.unit&&(0,m.CM)(this.featureExpressionInfo,k.featureExpressionInfo)}};(0,h._)([(0,x.MZ)({type:Y,json:{write:!0}})],C.prototype,"featureExpressionInfo",void 0),(0,h._)([(0,L.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],C.prototype,"readFeatureExpressionInfo",null),(0,h._)([(0,T.K)("featureExpressionInfo",{featureExpressionInfo:{type:Y},"featureExpression.value":{type:[0]}})],C.prototype,"writeFeatureExpressionInfo",null),(0,h._)([(0,x.MZ)({type:H.apiValues,nonNullable:!0,json:{type:H.jsonValues,read:H.read,write:{writer:H.write,isRequired:!0}}})],C.prototype,"mode",null),(0,h._)([(0,x.MZ)({type:Number,json:{write:!0}})],C.prototype,"offset",void 0),(0,h._)([(0,x.MZ)({type:nt.KQ,json:{type:String,read:D.read,write:D.write}})],C.prototype,"unit",null),C=ct=(0,h._)([(0,w.$)("esri.symbols.support.ElevationInfo")],C);const J=C},82575:(Ot,et,c)=>{c.d(et,{Ao:()=>m,KQ:()=>b,Tg:()=>P});var h=c(89952),g=c(48716);function P(W){return!!W&&null!=g.j[W]}function m(W){return 1/(g.j[W]||1)}const b=function x(){const W=Object.keys(g.j);return(0,h.TF)(W,"decimal-degrees"),W.sort(),W}()},46153:(Ot,et,c)=>{c.d(et,{NE:()=>K,TU:()=>T,ac:()=>w,fn:()=>L,oe:()=>tt});var h=c(89952),g=c(17715),P=c(60797),m=c(19824),x=c(75682);const K={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},L={toggle:"Control"},w={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},T={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:x.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},editSourcePoints:{key:"Alt",continuePropagation:!0},undo:"z",redo:"r"};class tt{constructor(){this._bindings=new Map}add(M,Y){return this.addToggle(M,nt=>{"key-down"===nt.type&&Y(nt)})}addToggle(M,Y){const nt=S.fromDefinition(M,Y),ct=(0,P.tE)(this._bindings,nt.key,()=>[]);return ct.push(nt),(0,g.hA)(()=>(0,h.TF)(ct,nt))}register(M,Y=m.o.WIDGET){return(0,g.vE)([M.on("key-down",nt=>this.dispatch(M.inputManager,nt),Y),M.on("key-up",nt=>this.dispatch(M.inputManager,nt),Y)])}dispatch(M,Y){const ct=this._bindings.get(Y.key);if(ct)for(const H of ct)H.process(M,Y)}}class S{constructor(M,Y,nt,ct,H){this.key=M,this.modifiers=Y,this.repeats=nt,this.continuePropagation=ct,this.callback=H}process(M,Y){if(!(Y.key!==this.key||"repeat"in Y&&Y.repeat&&!this.repeats)){for(const nt of this.modifiers)if(!M.isModifierKeyDown(nt))return;this.continuePropagation||Y.stopPropagation(),this.callback(Y)}}static fromDefinition(M,Y){if("string"==typeof M)return new S(M,[],!1,!1,Y);const{key:nt,modifier:ct,repeats:H,continuePropagation:D}=M;return new S(nt,ct?Array.isArray(ct)?ct:[ct]:[],!!H,!!D,Y)}}},70789:(Ot,et,c)=>{c.d(et,{A:()=>L});var h=c(8189),g=c(98877),P=c(85211),W=(c(3248),c(35150),c(40707),c(76576));let K=class extends g.A{constructor(w){super(w),this.enabled=!1}};(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],K.prototype,"enabled",void 0),K=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchLabelOptions")],K);const L=K},56023:(Ot,et,c)=>{c.d(et,{A:()=>tt});var h=c(8189),g=c(98877),P=c(85211),W=(c(3248),c(35150),c(40707),c(76576)),K=c(70789),L=c(40511),w=c(10960);let T=class extends g.A{constructor(S){super(S),this.labels=new K.A,this.tooltips=new L.A,this.values=new w.A}};(0,h._)([(0,P.MZ)({nonNullable:!0,type:K.A})],T.prototype,"labels",void 0),(0,h._)([(0,P.MZ)({nonNullable:!0,type:L.A})],T.prototype,"tooltips",void 0),(0,h._)([(0,P.MZ)({nonNullable:!0,type:w.A})],T.prototype,"values",void 0),T=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchOptions")],T);const tt=T},40511:(Ot,et,c)=>{c.d(et,{A:()=>tt});var h=c(8189),g=c(98877),P=c(85211),W=(c(3248),c(35150),c(40707),c(76576));let K=class extends g.A{constructor(S){super(S),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};(0,h._)([(0,P.MZ)({type:String,nonNullable:!0})],K.prototype,"mode",void 0),K=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchTooltipElevationOptions")],K);let L=class extends g.A{constructor(S){super(S),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"area",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"coordinates",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"direction",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"distance",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"elevation",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"header",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"helpMessage",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"orientation",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"radius",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"rotation",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"scale",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"size",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"totalLength",void 0),L=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],L);const w=L;let T=class extends g.A{constructor(S){super(S),this.enabled=!1,this.forceEnabled=!1,this.helpMessage=null,this.helpMessageIcon=null,this.inputEnabled=!0,this.elevation=new K,this.placement="auto",this.offset=null,this.visibleElements=new w,this.visualVariables=null,this.xyMode="auto"}get effectiveEnabled(){return this.forceEnabled||this.enabled}};(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],T.prototype,"enabled",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"forceEnabled",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"effectiveEnabled",null),(0,h._)([(0,P.MZ)()],T.prototype,"helpMessage",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"helpMessageIcon",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],T.prototype,"inputEnabled",void 0),(0,h._)([(0,P.MZ)({type:K,nonNullable:!0})],T.prototype,"elevation",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"placement",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"offset",void 0),(0,h._)([(0,P.MZ)({type:w,nonNullable:!0})],T.prototype,"visibleElements",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"visualVariables",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"xyMode",void 0),T=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchTooltipOptions")],T);const tt=T},10960:(Ot,et,c)=>{c.d(et,{A:()=>tt});var h=c(8189),g=c(98877),P=c(85211),W=(c(3248),c(35150),c(40707),c(76576));let K=class extends g.A{constructor(S){super(S),this.length=null,this.verticalLength=null,this.area=null}};(0,h._)([(0,P.MZ)()],K.prototype,"length",void 0),(0,h._)([(0,P.MZ)()],K.prototype,"verticalLength",void 0),(0,h._)([(0,P.MZ)()],K.prototype,"area",void 0),K=(0,h._)([(0,W.$)("esri.views.interactive.sketch.Units")],K);const L=K;var w=c(12724);let T=class extends g.A{constructor(S){super(S),this.directionMode="relative",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case"relative":return this.relativeDirectionIsBilateral?w.rZ.RelativeBilateral:w.rZ.Relative;case"absolute":return w.rZ.Absolute}}get displayUnits(){return this._get("displayUnits")??new L}set displayUnits(S){this._set("displayUnits",S)}get inputUnits(){return this._get("inputUnits")??new L}set inputUnits(S){this._set("inputUnits",S)}};(0,h._)([(0,P.MZ)({type:String,nonNullable:!0})],T.prototype,"directionMode",void 0),(0,h._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],T.prototype,"relativeDirectionIsBilateral",void 0),(0,h._)([(0,P.MZ)()],T.prototype,"effectiveDirectionMode",null),(0,h._)([(0,P.MZ)({type:L,nonNullable:!0})],T.prototype,"displayUnits",null),(0,h._)([(0,P.MZ)({type:L,nonNullable:!0})],T.prototype,"inputUnits",null),T=(0,h._)([(0,W.$)("esri.views.interactive.sketch.SketchValueOptions")],T);const tt=T},79765:(Ot,et,c)=>{c.d(et,{FX:()=>lt,Mn:()=>D,QT:()=>Rt,WG:()=>ht,ej:()=>k,en:()=>gt,fT:()=>Nt,i7:()=>ct,jf:()=>It,qR:()=>j,xW:()=>Jt});var h=c(89952),g=c(69287),P=c(83953),m=c(45475),x=c(28714),b=c(25866),W=c(53781),K=c(89141),L=c(2947),w=c(79283),T=c(93617),tt=c(83989),S=c(56632),B=c(29280),M=c(62415),Y=c(24872);class nt{intersect(l){return X(this,l)}closestPoints(l){return[this.closestTo(l)]}}class ct extends nt{constructor(l){super(),this.point=l}equals(l){return this===l||Nt(l)&&(0,x.p)(this.point,l.point)}closestTo(){return(0,B.o8)(this.point)}}class H extends nt{constructor(l,O,Q){super(),this.start=l,this.end=O,this.lineLike={start:l,end:O,type:Q}}equals(l){return this===l||bt(l)&&this.lineLike.type===l.lineLike.type&&(0,x.p)(this.start,l.start)&&(0,x.p)(this.end,l.end)}closestTo(l){const O=(0,B.Hh)();return(0,M.Yv)(l,this.lineLike,O),O}}class D extends H{constructor(l,O){super(l,O,Y.Vv.LINE)}}class C extends H{constructor(l,O){super(l,O,Y.Vv.RAY)}}class J extends nt{constructor(l){super(),this.constraints=l}equals(l){return this===l||oe(l)&&(0,h.aI)(this.constraints,l.constraints,(O,Q)=>O.equals(Q))}closestTo(l){let O,Q=1/0;for(const ft of this.constraints){const Et=ft.closestTo(l),Tt=(0,x.s)(l,Et);Tt<Q&&(Q=Tt,O=Et)}return(0,B.o8)(O??l)}closestPoints(l){return this.constraints.flatMap(O=>O===this?[]:O.closestPoints(l))}}class k extends nt{constructor(l,O){super(),this.center=l,this.radius=O}equals(l){return this===l||zt(l)&&this.center[0]===l.center[0]&&this.center[1]===l.center[1]&&this.radius===l.radius}closestTo(l){const O=(0,B.Hh)();return(0,M.Nm)(l,this.center,this.radius,O),O}}class z extends nt{constructor(l,O){super(),this.center=l,this.radius=O}equals(l){return this===l||Ht(l)&&(0,x.p)(this.center,l.center)&&this.radius===l.radius}closestTo(l){const O=(0,B.Hh)();return(0,M.Nm)(l,this.center,this.radius,O),O[2]=this.center[2],O}asCircle(){return new at((0,B.o8)(this.center),this.radius,(0,B.fA)(0,0,1))}}class at extends nt{constructor(l,O,Q,ft=void 0){super(),this.center=l,this.radius=O,this.normal=Q,this.slicePlane=ft}equals(l){return this===l||$t(l)&&(0,x.p)(this.center,l.center)&&(0,x.p)(this.normal,l.normal)&&this.radius===l.radius}closestTo(l){const{center:O,radius:Q}=this;(0,T._I)(this.getPlane($),l,U);const ft=(0,x.a)(U,U,O),Et=(0,x.k)(ft);if((0,M.Zj)(Et,0))return(0,B.o8)(l);const Tt=Q/Math.sqrt(Et),Pt=(0,B.Hh)();(0,x.b)(Pt,O,ft,Tt);const{slicePlane:Ct}=this;return Ct&&!(0,M.F2)(Ct,Pt)?ut(Ct,this)?.closestTo(l)??(0,B.o8)(l):Pt}getPlane(l=(0,T.vt)()){return(0,T.O_)(this.center,this.normal,l)}}const U=(0,b.vt)(),$=(0,T.vt)();class j extends nt{constructor(l){super(),this.z=l}equals(l){return this===l||Ft(l)&&this.z===l.z}closestTo(l){return(0,B.fA)(l[0],l[1],this.z)}getPlane(l=(0,T.vt)()){return(0,x.i)(Z,0,0,this.z),(0,T.O_)(Z,b.Cb,l)}}const Z=(0,b.vt)();class _ extends nt{constructor(l,O,Q){super(),this.start=l,this.end=O,this.planeLike={start:(0,B.Xz)(l),end:(0,B.Xz)(O),type:Q}}equals(l){return this===l||Zt(l)&&this.planeLike.type===l.planeLike.type&&(0,x.p)(this.start,l.start)&&(0,x.p)(this.end,l.end)}closestTo(l){const O=(0,B.Hh)();return(0,M.r2)(l,this.planeLike,O),O}closestEndTo(l){const{start:O,end:Q}=this.planeLike;return Math.sign((0,P.Om)((0,P.Re)(f,Q,O),(0,P.Re)(G,(0,B.Xz)(l),O)))>0?this.end:this.start}getPlane(l=(0,T.vt)()){const O=(0,x.c)(q,this.end);return O[2]+=1,(0,T.Cr)(this.start,this.end,O,l)}getSlicePlane(l=(0,T.vt)()){const{start:O,end:Q,type:ft}=this.planeLike;if(ft===M.pJ.PLANE)return;const Et=(0,x.i)(q,O[0],O[1],0),Tt=(0,x.i)(st,Q[0],Q[1],0),Pt=(0,x.d)(st,Tt,Et);return(0,T.O_)(Et,Pt,l),l}}const f=(0,m.vt)(),G=(0,m.vt)(),q=(0,b.vt)(),st=(0,b.vt)();class lt extends _{constructor(l,O){super(l,O,M.pJ.HALF_PLANE)}}class ht extends _{constructor(l,O){super(l,O,M.pJ.PLANE)}}class it extends nt{constructor(l,O){super(),this.sphere=(0,tt.l)(l,O)}equals(l){return this===l||Vt(l)&&(0,tt.m)(this.sphere,l.sphere)}closestTo(l){const O=(0,B.Hh)();return(0,tt.p)(this.sphere,l,O),O}get center(){return(0,tt.a)(this.sphere)}get radius(){return this.sphere[3]}}class gt extends nt{constructor(l,O,Q){super(),this.start=l,this.end=O,this.getZ=Q,this.planeLike={start:(0,B.Xz)(l),end:(0,B.Xz)(O),type:M.pJ.PLANE}}equals(l){return this===l||Yt(l)&&(0,x.p)(this.start,l.start)&&(0,x.p)(this.end,l.end)&&this.getZ===l.getZ}closestTo(l){return function V(v,l){const O=(0,B.Hh)();return(0,M.r2)(l,v.planeLike,O),O[2]=v.getZ(O[0],O[1])??de,O}(this,l)}addIfOnTheGround(l,O){for(const Q of O){const ft=this.getZ(Q[0],Q[1])??0;(0,M.Zj)(Q[2],ft)&&(Q[2]=ft,l.push(Q))}}}class Rt extends nt{constructor(l,O,Q){super(),this._x=l,this._y=O,this._z=Q}equals(l){return this===l||function ye(v){return v instanceof Rt}(l)&&this._x===l._x&&this._y===l._y&&this._z===l._z}closestTo([l,O,Q]){return(0,B.vt)(this._x??l,this._y??O,this._z??Q)}}class It extends nt{constructor(l,O,Q,ft,Et){super(),this._origin=l,this._spatialReference=O,this._distanceMeters=Q,this._z=ft,this._directionDegrees=Et}equals(l){return this===l||function ge(v){return v instanceof It}(l)&&(0,P.t2)(this._origin,l._origin)&&this._spatialReference===l._spatialReference&&this._distanceMeters===l._distanceMeters&&this._z===l._z&&this._directionDegrees===l._directionDegrees}closestTo([l,O,Q]){return(0,P.hZ)(mt,l,O),(0,P.t2)(mt,this._origin)||this._applyDirectionAndDistance(mt),(0,B.vt)(mt[0],mt[1],this._z??Q)}_applyDirectionAndDistance(l){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,w.vN)(l,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function xt(v,l,O,Q,ft){let{azimuth:Et,distance:Tt}=(0,w._3)(Bt,l,Q,ft);Et??=0;let Pt=Tt*Math.cos((Et-O)*L.eh);Pt=Math.max(0,Pt),(0,w.vN)(v,l,O,Pt,ft)}(l,this._origin,this._directionDegrees,l,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:O}=(0,w._3)(jt,this._origin,l,this._spatialReference);(0,w.vN)(l,this._origin,O??0,this._distanceMeters,this._spatialReference)}}}const mt=[0,0],jt=new w.Zj,Bt=new w.Zj;function X(v,l){if(oe(v)){const O=[];for(const Q of v.constraints){const ft=Q.intersect(l);ft&&O.push(ft)}return Jt(O)}if(oe(l))return X(l,v);if(Yt(v))return pe(v,l);if(Yt(l))return pe(l,v);if(Nt(v)){const{point:O}=v;if(Nt(l))return(0,x.p)(O,l.point)?v:void 0;const Q=l.closestTo(O);return(0,x.I)(Q,O)?v:void 0}if(bt(v)){if(Nt(l))return X(l,v);if(bt(l))return St((0,M.SO)(v.lineLike,l.lineLike));if(Ft(l))return rt(v,l);if(Zt(l))return St((0,M.Mc)(l.planeLike,v.lineLike));if(zt(l))return St((0,M.K4)(v.lineLike,l.center,l.radius));if($t(l))return St((0,M.IB)(v.lineLike,l));if(Ht(l))return function ot({lineLike:v},{center:l,radius:O}){const Q=l[2];return St((0,M.K4)(v,l,O).filter(ft=>(0,M.Zj)(ft[2],Q)))}(v,l);if(Vt(l))return function dt({lineLike:v},{sphere:l}){return St((0,tt.n)(l,v.start,v.end))}(v,l)}else if(Ft(v)){if(Nt(l)||bt(l))return X(l,v);if(Ft(l))return function _t(v,l){return(0,M.Zj)(v.z,l.z)?v:void 0}(v,l);if(Zt(l))return function yt({z:v},{planeLike:l}){const[O,Q]=l.start,[ft,Et]=l.end,Tt=(0,B.fA)(O,Q,v),Pt=(0,B.fA)(ft,Et,v);return l.type===M.pJ.PLANE?new D(Tt,Pt):new C(Tt,Pt)}(v,l);if(zt(l))return function pt(v,l){const[O,Q]=l.center;return new z((0,B.fA)(O,Q,v.z),l.radius)}(v,l);if($t(l))return Lt(v,l);if(Ht(l))return function vt(v,l){return(0,M.Zj)(l.center[2],v.z)?l:void 0}(v,l);if(Vt(l))return function Mt(v,{center:l,radius:O}){const Q=Math.abs(l[2]-v.z);if(Q>O&&!(0,M.Zj)(Q,O))return;const ft=(0,B.fA)(l[0],l[1],v.z),Et=Math.sqrt(O**2-Q**2);return(0,M.Zj)(Et,0)?void 0:new z(ft,Et)}(v,l)}else if(Zt(v)){if(Nt(l)||bt(l)||Ft(l))return X(l,v);if(Zt(l))return re((0,M.b_)(v.planeLike,l.planeLike));if(zt(l))return re((0,M.Bn)(v.planeLike,l.center,l.radius));if($t(l))return At(v,l);if(Ht(l))return Dt(v,l);if(Vt(l))return Ut(v,l)}else if(zt(v)){if(Nt(l)||bt(l)||Ft(l)||Zt(l))return X(l,v);if(zt(l))return re((0,M.t1)((0,B.Xz)(v.center),v.radius,(0,B.Xz)(l.center),l.radius));if($t(l))return;if(Ht(l))return function Kt(v,l){const O=(0,P.hG)((0,B.Xz)(v.center),(0,B.Xz)(l.center));return(0,M.Zj)(O,0)&&(0,M.Zj)(v.radius,l.radius)?l:he((0,M.t1)((0,B.Xz)(v.center),v.radius,(0,B.Xz)(l.center),l.radius),l.center[2])}(v,l);if(Vt(l))return}else if($t(v)){if(Nt(l)||bt(l)||Ft(l)||Zt(l)||zt(l))return X(l,v);if($t(l))return;if(Ht(l))return void l.asCircle();if(Vt(l))return}else if(Ht(v)){if(Nt(l)||bt(l)||Ft(l)||Zt(l)||zt(l)||$t(l))return X(l,v);if(Ht(l))return function se(v,l){if(!(0,M.HG)(v.center,l.center))return;const O=(0,P.hG)((0,B.Xz)(v.center),(0,B.Xz)(l.center));return(0,M.Zj)(O,0)&&(0,M.Zj)(v.radius,l.radius)?v:he((0,M.t1)((0,B.Xz)(v.center),v.radius,(0,B.Xz)(l.center),l.radius),v.center[2])}(l,v);if(Vt(l))return}else if(Vt(v)){if(Nt(l)||bt(l)||Ft(l)||Zt(l)||zt(l)||Ht(l))return X(l,v);if(Vt(l))return}}const rt=(()=>{const v=(0,T.vt)();return(l,O)=>{const{start:Q,end:ft}=l;if((0,M.HG)(Q,ft)&&(0,M.Zj)(Q[2],O.z))return l;const Et=(0,B.Hh)();return(0,T.U5)(O.getPlane(v),Q,ft,Et)?new ct(Et):void 0}})(),ut=(()=>{const v=(0,K.vt)(),l=(0,b.vt)(),O=(0,b.vt)();return(Q,ft,Et)=>{const{normal:Tt,center:Pt,radius:Ct}=ft;(0,S.VV)(Tt,l,O);const wt=(0,T.Qj)(Q),Xt=Ct*(0,x.f)(wt,l),fe=Ct*(0,x.f)(wt,O);(0,W.s)(v,Pt[0],Pt[1],Pt[2],1);const me=(0,W.h)(Q,v),Ee=Math.hypot(Xt,fe),ve=(0,M.Zj)(Ee,0);if((0,M.Zj)((0,T.Io)(Q,Pt),0)){if(ve)return ft;if((0,M.Zj)(Ct,0))return!Et||(0,M.F2)(Et,Pt)?new ct((0,B.o8)(Pt)):void 0;(0,x.e)(l,wt,Tt),(0,x.n)(l,l);const le=new Array,te=(0,b.o8)(Pt);(0,x.b)(te,te,l,Ct),Et&&!(0,M.F2)(Et,te)||le.push(te);const ee=(0,b.o8)(Pt);return(0,x.b)(ee,ee,l,-Ct),Et&&!(0,M.F2)(Et,ee)||le.push(ee),St(le)}if(ve)return;const ie=-me/Ee;if(Math.abs(ie)>1||(0,M.Zj)(ie,1))return;const Pe=Math.atan(Xt/fe),ae=(0,g.YN)(ie)-Pe,Me=Math.PI-ae,Qt=new Array,kt=(0,b.vt)();(0,x.b)(kt,Pt,l,Ct*Math.cos(ae)),(0,x.b)(kt,kt,O,Ct*Math.sin(ae)),Qt.push(kt);const qt=(0,b.vt)();return(0,x.b)(qt,Pt,l,Ct*Math.cos(Me)),(0,x.b)(qt,qt,O,Ct*Math.sin(Me)),Qt.push(qt),St(Et?(0,M.UL)(Et,Qt):Qt)}})(),Lt=(()=>{const v=(0,T.vt)();return(l,O)=>ut(l.getPlane(v),O,O.slicePlane)})(),Dt=(()=>{const v=(0,T.vt)();return(l,{center:O,radius:Q})=>{const ft=(0,M.Bn)(l.planeLike,O,Q),Et=O[2];l.getSlicePlane(v);const Tt=new Array;for(const[Pt,Ct]of ft){const wt=[Pt,Ct,Et];(0,M.F2)(v,wt)&&Tt.push(wt)}return St(Tt)}})(),At=(()=>{const v=(0,T.vt)(),l=(0,T.vt)();return(O,Q)=>ut(O.getPlane(v),Q,O.getSlicePlane(l))})(),Ut=(()=>{const v=(0,T.vt)();return(l,{center:O,radius:Q})=>{const ft=l.getPlane(v),Et=(0,T.mN)(ft,O),Tt=Math.abs(Et);if(Tt>Q&&!(0,M.Zj)(Tt,Q))return;const Pt=Math.sqrt(Q**2-Et**2);if((0,M.Zj)(Pt,0)){const Xt=(0,B.Hh)();return(0,T._I)(ft,O,Xt),new ct(Xt)}const Ct=(0,B.Hh)(),wt=(0,b.o8)((0,T.Qj)(ft));return(0,x.b)(Ct,O,wt,Et),new at(Ct,Pt,wt,l.getSlicePlane())}})();function pe(v,l){const{planeLike:O,getZ:Q}=v,ft=new Array;if(Nt(l))v.addIfOnTheGround(ft,(0,M.VT)(O,l.point));else if(bt(l))v.addIfOnTheGround(ft,(0,M.Mc)(O,l.lineLike));else if(zt(l))for(const[Et,Tt]of(0,M.Bn)(O,l.center,l.radius)){const Pt=Q(Et,Tt);null!=Pt&&ft.push((0,b.fA)(Et,Tt,Pt))}else if(Zt(l)||Yt(l))for(const[Et,Tt]of(0,M.b_)(O,l.planeLike)){const Pt=Q(Et,Tt)??de;ft.push((0,b.fA)(Et,Tt,Pt))}return St(ft)}function re(v){return Jt(v.map(([l,O])=>{const Q=(0,B.fA)(l,O,0),ft=(0,B.fA)(l,O,1);return new D(Q,ft)}))}function St(v){return Jt(v.map(l=>l?new ct((0,B._7)(l)):void 0))}function he(v,l){return St(v.map(([O,Q])=>[O,Q,l]))}function Jt(v){if(0!==v.length)return 1===v.length?v[0]??void 0:new J(v.filter(h.Ru))}function oe(v){return v instanceof J}function Nt(v){return v instanceof ct}function bt(v){return v instanceof H}function Ft(v){return v instanceof j}function Zt(v){return v instanceof _}function zt(v){return v instanceof k}function Ht(v){return v instanceof z}function $t(v){return v instanceof at}function Vt(v){return v instanceof it}function Yt(v){return v instanceof gt}const de=0},29280:(Ot,et,c)=>{c.d(et,{Ex:()=>tt,FH:()=>nt,Hh:()=>b,Lp:()=>S,Xz:()=>K,_7:()=>W,de:()=>T,fA:()=>L,io:()=>M,o8:()=>w,vf:()=>B,vt:()=>x,xF:()=>Y});var m,H,h=c(25866),g=c(8675),P=c(73812);function x(H,D,C){return b(H,D,C)}function b(H=0,D=0,C=0){return(0,h.fA)(H,D,C)}function W(H){return H}function K(H){return H}function L(H,D,C){return(0,h.fA)(H,D,C)}function w(H){const[D,C,J]=H;return H.length>3?[D,C,J,H[3]]:[D,C,J]}function T(H){return H[3]=((H.length>3?H[3]:void 0)??m.NONE)|m.TARGET,H}function tt(H){return!!(((H.length>3?H[3]:void 0)??m.NONE)&m.TARGET)}function S(H,D,{coordinateHelper:C,elevationInfo:J},k){return H?B(C.vectorToDehydratedPoint(H,ct),D,J,k):null}function B(H,D,C,J=b()){return J[0]=H.x,J[1]=H.y,J[2]=H.z??0,null==D||(J[2]="2d"===D.type?0:(0,P.wS)(D,H,C,P.qt)??0),J}function M(H,D,C){return C?((0,g.J)(C,H[0],H[1],H[2],D),C):(0,g.T)(H[0],H[1],H[2],D)}function Y(H,D,{z:C,m:J},k,z){const{spatialReference:at,elevationInfo:U}=k;let $;$=null==C&&null==J?void 0:null==D||"2d"===D.type?C??void 0:(0,P.xS)(D,H,at,P.qt,U)??0;const[j,Z]=H;return z?(0,g.J)(z,j,Z,$,at):z=(0,g.T)(j,Z,$,at),null!=J&&(z.m=J,z.hasM=!0),z}function nt(H,D,C,J,k=b()){const[z,at]=H;return k[0]=z,k[1]=at,H.length>3&&(k[3]=H[3]??m.NONE),"3d"!==C?.type?(k[2]=D.value,k):(k[2]=(0,P.Fo)(C,z,at,D.value,J,D.elevationInfo,P.qt)??0,k)}(H=m||(m={}))[H.NONE=0]="NONE",H[H.TARGET=1]="TARGET";const ct=(0,g.T)(0,0,0,null)},56083:(Ot,et,c)=>{c.d(et,{N:()=>K});var h=c(8189),g=c(68677),P=c(71065),m=c(85211),x=c(76576);let b=class extends P.A{constructor(){super(...arguments),this.enabled=!0}};(0,h._)([(0,m.MZ)({type:Boolean})],b.prototype,"enabled",void 0),b=(0,h._)([(0,x.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],b);let W=class extends P.A{constructor(L){super(L),this.lineSnapper=new b,this.parallelLineSnapper=new b,this.rightAngleSnapper=new b,this.rightAngleTriangleSnapper=new b,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new g.A([255,127,0]),this.orangeTransparent=new g.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,h._)([(0,m.MZ)({type:b,constructOnly:!0,nonNullable:!0,json:{write:!0}})],W.prototype,"lineSnapper",void 0),(0,h._)([(0,m.MZ)({type:b,constructOnly:!0,nonNullable:!0,json:{write:!0}})],W.prototype,"parallelLineSnapper",void 0),(0,h._)([(0,m.MZ)({type:b,constructOnly:!0,nonNullable:!0,json:{write:!0}})],W.prototype,"rightAngleSnapper",void 0),(0,h._)([(0,m.MZ)({type:b,constructOnly:!0,nonNullable:!0,json:{write:!0}})],W.prototype,"rightAngleTriangleSnapper",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],W.prototype,"shortLineThreshold",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],W.prototype,"distance",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],W.prototype,"pointThreshold",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],W.prototype,"intersectionParallelLineThreshold",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],W.prototype,"parallelLineThreshold",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],W.prototype,"verticalLineThresholdMeters",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],W.prototype,"touchSensitivityMultiplier",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],W.prototype,"pointOnLineThreshold",void 0),(0,h._)([(0,m.MZ)({type:g.A,nonNullable:!0})],W.prototype,"orange",void 0),(0,h._)([(0,m.MZ)({type:g.A,nonNullable:!0})],W.prototype,"orangeTransparent",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],W.prototype,"lineHintWidthReference",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],W.prototype,"lineHintWidthTarget",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],W.prototype,"lineHintFadedExtensions",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],W.prototype,"parallelLineHintWidth",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],W.prototype,"parallelLineHintLength",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],W.prototype,"parallelLineHintOffset",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],W.prototype,"rightAngleHintSize",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],W.prototype,"rightAngleHintOutlineSize",void 0),(0,h._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],W.prototype,"satisfiesConstraintScreenThreshold",void 0),W=(0,h._)([(0,x.$)("esri.views.interactive.snapping.Settings.Defaults")],W);const K=new W},26161:(Ot,et,c)=>{var h,g;c.d(et,{n:()=>h}),(g=h||(h={}))[g.FEATURE=1]="FEATURE",g[g.SELF=2]="SELF",g[g.ALL=3]="ALL"},53726:(Ot,et,c)=>{c.d(et,{v:()=>m});var h=c(28714),g=c(26161),P=c(77171);class m extends P.m{constructor(b,W,K=g.n.ALL){super(W,K),this.intersectionPoint=b}equals(b){return b instanceof m&&(0,h.p)(this.intersectionPoint,b.intersectionPoint)}}},49973:(Ot,et,c)=>{c.d(et,{c:()=>b}),c(3248),c(35150);var P=c(28714),m=c(26161),x=c(77171);class b extends x.m{constructor(K,L,w,T,tt=m.n.ALL,S=!0,B=!0){super(T,tt),this.type=K,this.lineStart=L,this.lineEnd=w,this.fadeLeft=S,this.fadeRight=B}equals(K){return K instanceof b&&this.type===K.type&&(0,P.p)(this.lineStart,K.lineStart)&&(0,P.p)(this.lineEnd,K.lineEnd)&&this.fadeLeft===K.fadeLeft&&this.fadeRight===K.fadeRight}get length(){return(0,P.j)(this.lineStart,this.lineEnd)}}},5579:(Ot,et,c)=>{c.d(et,{r:()=>b}),c(3248),c(35150);var P=c(28714),m=c(26161),x=c(77171);class b extends x.m{constructor(K,L,w,T=m.n.ALL){super(w,T),this.lineStart=K,this.lineEnd=L}equals(K){return K instanceof b&&(0,P.p)(this.lineStart,K.lineStart)&&(0,P.p)(this.lineEnd,K.lineEnd)}}},31158:(Ot,et,c)=>{c.d(et,{l:()=>b}),c(3248),c(35150);var P=c(28714),m=c(26161),x=c(77171);class b extends x.m{constructor(K,L,w,T,tt=m.n.ALL){super(T,tt),this.previousVertex=K,this.centerVertex=L,this.nextVertex=w}equals(K){return K instanceof b&&(0,P.p)(this.previousVertex,K.previousVertex)&&(0,P.p)(this.centerVertex,K.centerVertex)&&(0,P.p)(this.nextVertex,K.nextVertex)}}},77171:(Ot,et,c)=>{c.d(et,{m:()=>h});class h{constructor(P,m){this.isDraped=P,this.domain=m}}},3548:(Ot,et,c)=>{c.d(et,{BY:()=>J,H3:()=>nt,Mo:()=>M,Tu:()=>k,io:()=>tt,is:()=>D,nf:()=>ct,pM:()=>B,xX:()=>Y});var h=c(48900),g=c(17435),P=c(63484),m=c(97442),x=c(28714),b=c(8675),W=c(87086),K=c(19824),L=c(46153),w=c(29280),T=c(40920);const tt=Symbol("grid-placement-graphic");function B(z,at){const U=z.x-at.x,$=z.y-at.y;return U*U+$*$}function M(z,at){return Math.sqrt(B(z,at))}function Y(z,at){at.sort((U,$)=>(0,x.s)(U.targetPoint,z)-(0,x.s)($.targetPoint,z))}var nt,z;function ct({point:z,distance:at,returnEdge:U,vertexMode:$,coordinateHelper:{spatialReference:j},filter:Z},_,f){return f=null!=f?f.clone():new W.A({where:"1=1"}),Z&&(f.geometry=Z.geometry,f.distance=Z.distance,f.spatialRelationship=Z.spatialRelationship,f.where=(0,P.mA)(f.where,Z.where),f.timeExtent=(0,m.pJ)(f.timeExtent,Z.timeExtent),f.objectIds=function H(z,at){return z||at?at?z?Array.from((0,g.E$)(new Set(z),new Set(at))):at:z:null}(f.objectIds,Z.objectIds)),{point:(0,b.T)(z[0],z[1],z[2],j.toJSON()),mode:_,distance:at,returnEdge:U,vertexMode:$,query:f.toJSON()}}function D(z,at,U){return{left:(0,w.Lp)(z.leftVertex.pos,at,U),right:(0,w.Lp)(z.rightVertex.pos,at,U)}}(z=nt||(nt={}))[z.TARGET=0]="TARGET",z[z.REFERENCE=1]="REFERENCE",z[z.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION";const C=Symbol("snapping-toggle");function J(z,at=(()=>{})){const U=(0,h.wB)(()=>({view:z.view,snappingOptions:z.snappingOptions}),({view:$,snappingOptions:j})=>{if(z.removeHandles(C),!$||!j)return;const Z=K.o.TOOL,_=[$.on("key-down",f=>{f.key!==L.fn.toggle||f.repeat||(j.enabledToggled=!0,at())},Z),$.on("key-up",f=>{f.key===L.fn.toggle&&(j.enabledToggled=!1,at())},Z),$.on("pointer-move",f=>{const G=f.native.ctrlKey;j.enabledToggled!==G&&(j.enabledToggled=G,at())},Z)];z.addHandles(_,C)},h.pc);z.addHandles(U)}function k(z){return(0,T.r)(z)&&"utilityNetworks"in z&&!!z.utilityNetworks?.length}},12724:(Ot,et,c)=>{c.d(et,{$h:()=>tt,Ef:()=>J,IP:()=>B,P1:()=>ct,hF:()=>C,jQ:()=>nt,rT:()=>D,rZ:()=>T,uR:()=>M});var T,j,h=c(73596),g=c(81142),P=c(82663),m=c(83953),x=c(45475),b=c(28714),W=c(25866),K=c(44929),L=c(79283),w=c(58701);function tt(j,Z){if(null==j||null==Z)return;const _=S(j,Z);return null!=_?(0,g.Wq)(_,"radians","geographic"):void 0}(j=T||(T={})).Absolute="absolute",j.Relative="relative",j.RelativeBilateral="relative-bilateral";const S=(()=>{const j=(0,W.vt)(),Z=(0,W.vt)();return(_,f)=>((0,b.i)(j,_.x,_.y,_.z??0),(0,b.i)(Z,f.x,f.y,f.z??0),B(j,Z,_.spatialReference,f.spatialReference))})(),B=(()=>{const j=(0,x.vt)(),Z=(0,W.vt)(),_=(0,W.vt)();return(f,G,q,st)=>{if((0,b.p)(f,G))return;const lt=(0,L.Xn)(q),ht=(0,L.Xn)(st);if(lt&&ht&&(0,w.aI)(lt,ht)&&(0,K.F)(f,q,Z,lt)&&(0,K.F)(G,st,_,ht)){const{azimuth:gt}=(0,L._3)(z,Z,_,lt);return null!=gt?(0,P.oU)(gt,"degrees","radians"):void 0}j[0]=G[0]-f[0],j[1]=G[1]-f[1];let it=(0,m.g7)(x.JP,j);return j[0]<0&&(it=at-it),it}})();function M(j,Z,_,f=T.Absolute){if(Z&&_)switch(f){case T.Absolute:return tt(Z,_);case T.Relative:return nt(Y(j,Z,_),T.Relative);case T.RelativeBilateral:return nt(Y(j,Z,_),T.RelativeBilateral)}}function Y(j,Z,_){if(!j||!Z||!_)return;const f=S(j,Z),G=S(Z,_);return null!=f&&null!=G?(0,g.Wq)(G-f,"radians","geographic"):void 0}function nt(j,Z){if(null!=j)switch(Z){case T.Absolute:return ct(j);case T.Relative:{const _=C(j);let f=$.normalize(_,0,!0);return-180===f&&(f=180),(0,g.Wq)(f,"degrees","geographic")}case T.RelativeBilateral:{const _=C(j),f=Math.abs($.normalize(_,0,!0));return(0,g.Wq)(f,"degrees","geographic")}}}function ct(j){const Z=C(j),_=U.normalize(Z,0,!0);return(0,g.Wq)(_,"degrees","geographic")}const D=(()=>{const j=(0,W.vt)();return(Z,_,f,G,q,st="geodesic")=>{(0,b.c)(j,_);const lt=C(q);if("geodesic"===st){const mt=(0,L.Xn)(f);if(mt&&(0,K.F)(j,f,j,mt))return(0,L.vN)(Z,j,lt,G,mt),Z[2]=_[2],!!(0,K.F)(Z,mt,Z,f)}const ht=(0,g.g2)(lt,"geographic","arithmetic"),it=(0,P.oU)(ht,"degrees","radians"),gt=_[0]+G*Math.cos(it),Rt=_[1]+G*Math.sin(it);return(0,b.i)(Z,gt,Rt,_[2]),!0}})();function C(j){if(null!=j)return(0,g.g2)(k(j),j.rotationType,"geographic")}function J(j){if(null!=j)return(0,g.g2)(k(j),j.rotationType,"arithmetic")}function k(j){return(0,P.oU)(j.value,j.unit,"degrees")}const z=new L.Zj,at=2*Math.PI,U=h.ie,$=new h.hr(-180,180)},24872:(Ot,et,c)=>{c.d(et,{Dh:()=>L,IB:()=>S,Vv:()=>B,fg:()=>W,jI:()=>tt}),c(69287);var B,D,g=c(83953),P=c(45475);function m(D,C){return D[0]*C[1]-D[1]*C[0]}function W(D,C,J,k,z=J){return(0,g.Re)(Y,k,J),(0,g.Re)(ct,C,z),function b(D,C,J){const k=(0,g.Om)(J,C)/(0,g.m3)(J);(0,g.hs)(D,J,k)}(H,ct,Y),(0,g.WQ)(D,z,H)}function L(D,C,J,k){(0,g.Re)(Y,C,J);const z=k/(0,g.Bw)(Y);return(0,g.Ln)(D,J,Y,z)}function tt(D,C){const J=D.start,z=C.start,at=C.end,U=(0,g.Re)(Y,D.end,J),$=(0,g.Re)(nt,at,z),j=m(U,$);if(Math.abs(j)<=M)return[];const Z=(0,g.Re)(ct,J,z),_=m($,Z)/j,f=m(U,Z)/j;if(_>=0){if(f>=0||C.type===B.LINE)return[(0,g.Ln)(H,J,U,_)]}else if(D.type===B.LINE&&(f>=0||C.type===B.LINE))return[(0,g.Ln)(H,J,U,_)];return[]}function S(D,C,J){const k=[],z=(0,g.Re)(Y,D.end,D.start),at=(0,g.Re)(nt,D.start,C),U=(0,g.m3)(z),$=2*(0,g.Om)(z,at),j=$*$-4*U*((0,g.m3)(at)-J*J);if(0===j){const Z=-$/(2*U);(D.type===B.LINE||Z>=0)&&k.push((0,g.Ln)(H,D.start,z,Z))}else if(j>0){const Z=Math.sqrt(j),_=(-$+Z)/(2*U);(D.type===B.LINE||_>=0)&&k.push((0,g.Ln)(H,D.start,z,_));const f=(-$-Z)/(2*U);(D.type===B.LINE||f>=0)&&k.push((0,g.Ln)(ct,D.start,z,f))}return k}(D=B||(B={}))[D.RAY=0]="RAY",D[D.LINE=1]="LINE";const M=1e-6,Y=(0,P.vt)(),nt=(0,P.vt)(),ct=(0,P.vt)(),H=(0,P.vt)()},62415:(Ot,et,c)=>{c.d(et,{Bn:()=>w,F2:()=>_,HG:()=>$,IB:()=>D,K4:()=>C,Mc:()=>T,Nm:()=>Y,SO:()=>J,UL:()=>Z,VT:()=>tt,Yv:()=>ct,Zj:()=>j,b_:()=>S,pJ:()=>f,r2:()=>B,t1:()=>at});var h=c(69287),g=c(83953),P=c(45475),m=c(28714),x=c(25866),b=c(85952),W=c(93617),K=c(56632),L=c(24872);function w({start:V,end:X,type:rt},ot,dt){const ut=[],_t=(0,g.Re)(q,X,V),yt=(0,g.Re)(st,V,ot),pt=(0,g.m3)(_t),vt=2*(0,g.Om)(_t,yt),Lt=vt*vt-4*pt*((0,g.m3)(yt)-dt*dt);if(0===Lt){const Mt=-vt/(2*pt);(rt===f.PLANE||Mt>=0)&&ut.push((0,g.Ln)((0,P.vt)(),V,_t,Mt))}else if(Lt>0){const Mt=Math.sqrt(Lt),Dt=(-vt+Mt)/(2*pt);(rt===f.PLANE||Dt>=0)&&ut.push((0,g.Ln)((0,P.vt)(),V,_t,Dt));const At=(-vt-Mt)/(2*pt);(rt===f.PLANE||At>=0)&&ut.push((0,g.Ln)((0,P.vt)(),V,_t,At))}return ut}function T(V,X){const rt=V.start,dt=(0,g.Re)(q,V.end,rt),ut=(0,m.i)(ht,-dt[1],dt[0],0),_t=X.start,pt=(0,m.a)(it,X.end,_t),vt=(0,m.f)(pt,ut),Lt=(0,m.i)(gt,rt[0],rt[1],0),Mt=(0,m.a)(Rt,Lt,_t),Dt=(0,m.f)(Mt,ut),At=(0,b.FD)();if(Math.abs(vt)<At)return Math.abs(Dt),[];const Ut=(0,m.b)(It,_t,pt,Dt/vt);if(X.type===L.Vv.RAY){const Wt=(0,m.a)(mt,Ut,_t);if((0,m.f)(Wt,pt)<-At)return[]}if(V.type===f.HALF_PLANE){const Wt=(0,g.jb)(st,Ut,rt);if((0,g.Om)(Wt,dt)<-At)return[]}return[(0,x.o8)(Ut)]}function tt(V,X){return function k({start:V,end:X,type:rt},ot){const dt=(0,m.a)(lt,ot,V),ut=(0,m.a)(ht,X,V),_t=(0,m.e)(it,ut,dt),yt=(0,m.z)(_t)/(0,m.z)(ut),pt=(0,b.FD)();if(yt<pt)switch(rt){case L.Vv.LINE:return[(0,x.o8)(ot)];case L.Vv.RAY:return(0,m.f)(ut,dt)<-pt?[]:[(0,x.o8)(ot)]}return[]}(U(xt,X[2],V),X)}function S(V,X){return J(U(xt,0,V),U(Bt,0,X)).map(([ot,dt])=>(0,P.fA)(ot,dt))}function B(V,X,rt){return ct(V,U(xt,V[2],X),rt)}function Y(V,X,rt,ot=(0,x.vt)()){const dt=(0,g.Re)(q,V,X),ut=(0,g.Bw)(dt);return(0,g.Ln)(ot,X,dt,0===ut?1:rt/ut),ot[2]=V[2],ot}function ct(V,{start:X,end:rt,type:ot},dt=(0,x.vt)()){const ut=(0,m.a)(lt,V,X),_t=(0,m.a)(ht,rt,X),yt=(0,m.f)(ut,_t)/(0,m.f)(_t,_t);return(0,m.b)(dt,X,_t,ot===L.Vv.RAY?Math.max(yt,0):yt)}const D=(()=>{const V=(0,x.vt)(),X=(0,x.vt)(),rt=(0,x.vt)();return({start:ot,end:dt},{center:ut,radius:_t,normal:yt,slicePlane:pt})=>{const vt=(0,W.O_)(ut,yt,jt);if(j((0,W.Io)(vt,ot),0)&&j((0,W.Io)(vt,dt),0)){(0,K.VV)(yt,V,X);const Mt=(Ut,Wt)=>((0,m.d)(rt,Wt,ut),(0,g.hZ)(Ut,(0,m.f)(rt,V),(0,m.f)(rt,X)),Ut),Dt=(0,L.IB)({start:Mt(q,ot),end:Mt(st,dt),type:L.Vv.LINE},P.uY,_t),At=[];for(const[Ut,Wt]of Dt){const Kt=(0,m.c)((0,x.vt)(),ut);(0,m.b)(Kt,Kt,V,Ut),(0,m.b)(Kt,Kt,X,Wt),pt&&!_(pt,Kt)||At.push(Kt)}return At}const Lt=(0,x.vt)();return(0,W.U5)(vt,ot,dt,Lt)?!j((0,m.j)(Lt,ut),_t)||pt&&!_(pt,Lt)?[]:[Lt]:[]}})();function C({start:V,end:X,type:rt},ot,dt){const ut=[],_t=(0,m.d)(lt,X,V),yt=(0,g.Re)(st,V,ot),pt=(0,g.m3)(_t),vt=2*(0,g.Om)(_t,yt),Lt=vt*vt-4*pt*((0,g.m3)(yt)-dt*dt);if(0===Lt){const Mt=-vt/(2*pt);(rt===L.Vv.LINE||Mt>=0)&&ut.push((0,m.b)((0,x.vt)(),V,_t,Mt))}else if(Lt>0){const Mt=Math.sqrt(Lt),Dt=(-vt+Mt)/(2*pt);(rt===L.Vv.LINE||Dt>=0)&&ut.push((0,m.b)((0,x.vt)(),V,_t,Dt));const At=(-vt-Mt)/(2*pt);(rt===L.Vv.LINE||At>=0)&&ut.push((0,m.b)((0,x.vt)(),V,_t,At))}return ut}function J(V,X){const rt=V.start,dt=X.start,ut=X.end,_t=(0,m.a)(lt,V.end,rt),yt=(0,m.a)(ht,ut,dt),pt=(0,m.a)(it,dt,rt),vt=(0,m.e)(gt,_t,yt);if(!j((0,m.f)(pt,vt),0))return[];const Lt=(0,m.z)(vt);if(j(Lt,0))return[];const Mt=(0,m.e)(Rt,pt,yt),Dt=(0,m.f)(Mt,vt)/Lt,At=(0,m.b)(It,rt,_t,Dt);if(V.type===L.Vv.RAY){const Ut=(0,m.a)(mt,At,rt);if((0,m.f)(_t,Ut)<-(0,b.FD)())return[]}if(X.type===L.Vv.RAY){const Ut=(0,m.a)(mt,At,dt);if((0,m.f)(yt,Ut)<-(0,b.FD)())return[]}return[(0,x.o8)(At)]}function at(V,X,rt,ot){const[dt,ut]=V,[_t,yt]=rt,pt=_t-dt,vt=yt-ut,Lt=pt*pt+vt*vt,Mt=Math.sqrt(Lt);if(Mt>X+ot)return[];if(Mt<Math.abs(X-ot))return[];if(j(Mt,0)&&j(X,ot))return[];const Dt=(X*X-ot*ot+Lt)/(2*Mt),At=Math.sqrt(X*X-Dt*Dt),Ut=At*vt/Mt,Wt=At*pt/Mt,[Kt,Gt]=(0,g.Cc)(q,V,rt,Dt/Mt);return j(Ut,Wt)?[(0,P.fA)(Kt,Gt)]:[(0,P.fA)(Kt+Ut,Gt-Wt),(0,P.fA)(Kt-Ut,Gt+Wt)]}function U(V,X,{start:rt,end:ot,type:dt}){return(0,m.i)(V.start,rt[0],rt[1],X),(0,m.i)(V.end,ot[0],ot[1],X),V.type=G[dt],V}function $(V,X){return j(V[2],X[2])}function j(V,X){return(0,h.Sp)(Math.abs(V-X),0,(0,b.FD)())}function Z(V,X){return X.filter(rt=>_(V,rt))}function _(V,X){return(0,W.Tj)(V,X)}var f,V;(V=f||(f={}))[V.PLANE=0]="PLANE",V[V.HALF_PLANE=1]="HALF_PLANE";const G={[f.PLANE]:L.Vv.LINE,[f.HALF_PLANE]:L.Vv.RAY},q=(0,P.vt)(),st=(0,P.vt)(),lt=(0,x.vt)(),ht=(0,x.vt)(),it=(0,x.vt)(),gt=(0,x.vt)(),Rt=(0,x.vt)(),It=(0,x.vt)(),mt=(0,x.vt)(),jt=(0,W.vt)(),xt={start:(0,x.vt)(),end:(0,x.vt)(),type:L.Vv.LINE},Bt={start:(0,x.vt)(),end:(0,x.vt)(),type:L.Vv.LINE}},94001:(Ot,et,c)=>{function m(W){return"graphic"===W?.type}function x(W){return W.find(m)??null}c.d(et,{zF:()=>x})}}]);