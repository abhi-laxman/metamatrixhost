"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[5184],{92405:(dt,q,u)=>{function M(e,a,r){r=r||2;var l,c,f,p,m,j,Q,ct=a&&a.length,tt=ct?a[0]*r:e.length,J=w(e,0,tt,r,!0),L=[];if(!J||J.next===J.prev)return L;if(ct&&(J=function S(e,a,r,l){var c,f,p,m=[];for(c=0,f=a.length;c<f;c++)(p=w(e,a[c]*l,c<f-1?a[c+1]*l:e.length,l,!1))===p.next&&(p.steiner=!0),m.push(V(p));for(m.sort(F),c=0;c<m.length;c++)r=b(r=B(m[c],r),r.next);return r}(e,a,J,r)),e.length>80*r){l=f=e[0],c=p=e[1];for(var I=r;I<tt;I+=r)(m=e[I])<l&&(l=m),(j=e[I+1])<c&&(c=j),m>f&&(f=m),j>p&&(p=j);Q=0!==(Q=Math.max(f-l,p-c))?1/Q:0}return W(J,L,r,l,c,Q),L}function w(e,a,r,l,c){var f,p;if(c===Ut(e,a,r,l)>0)for(f=a;f<r;f+=l)p=Lt(f,e[f],e[f+1],p);else for(f=r-l;f>=a;f-=l)p=Lt(f,e[f],e[f+1],p);if(p&&d(p,p.next)){var m=p.next;X(p),p=m}return p}function b(e,a){if(!e)return e;a||(a=e);var r,l=e;do{if(r=!1,l.steiner||!d(l,l.next)&&0!==y(l.prev,l,l.next))l=l.next;else{var c=l.prev;if(X(l),(l=a=c)===l.next)break;r=!0}}while(r||l!==a);return a}function W(e,a,r,l,c,f,p){if(e){!p&&f&&function C(e,a,r,l){var c=e;do{null===c.z&&(c.z=$(c.x,c.y,a,r,l)),c.prevZ=c.prev,c.nextZ=c.next,c=c.next}while(c!==e);c.prevZ.nextZ=null,c.prevZ=null,function G(e){var a,r,l,c,f,p,m,j,Q=1;do{for(r=e,e=null,f=null,p=0;r;){for(p++,l=r,m=0,a=0;a<Q&&(m++,l=l.nextZ);a++);for(j=Q;m>0||j>0&&l;)0!==m&&(0===j||!l||r.z<=l.z)?(c=r,r=r.nextZ,m--):(c=l,l=l.nextZ,j--),f?f.nextZ=c:e=c,c.prevZ=f,f=c;r=l}f.nextZ=null,Q*=2}while(p>1)}(c)}(e,l,c,f);for(var m,j,Q=e;e.prev!==e.next;)if(m=e.prev,j=e.next,f?N(e,l,c,f):H(e))a.push(m.i/r),a.push(e.i/r),a.push(j.i/r),X(e),e=j.next,Q=j.next;else if((e=j)===Q){p?1===p?W(e=z(b(e),a,r),a,r,l,c,f,2):2===p&&Z(e,a,r,l,c,f):W(b(e),a,r,l,c,f,1);break}}}function H(e){var a=e.prev,r=e,l=e.next;if(y(a,r,l)>=0)return!1;for(var c=e.next.next;c!==e.prev;){if(nt(a.x,a.y,r.x,r.y,l.x,l.y,c.x,c.y)&&y(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function N(e,a,r,l){var c=e.prev,f=e,p=e.next;if(y(c,f,p)>=0)return!1;for(var Q=c.x>f.x?c.x>p.x?c.x:p.x:f.x>p.x?f.x:p.x,ct=c.y>f.y?c.y>p.y?c.y:p.y:f.y>p.y?f.y:p.y,tt=$(c.x<f.x?c.x<p.x?c.x:p.x:f.x<p.x?f.x:p.x,c.y<f.y?c.y<p.y?c.y:p.y:f.y<p.y?f.y:p.y,a,r,l),J=$(Q,ct,a,r,l),L=e.prevZ,I=e.nextZ;L&&L.z>=tt&&I&&I.z<=J;){if(L!==e.prev&&L!==e.next&&nt(c.x,c.y,f.x,f.y,p.x,p.y,L.x,L.y)&&y(L.prev,L,L.next)>=0||(L=L.prevZ,I!==e.prev&&I!==e.next&&nt(c.x,c.y,f.x,f.y,p.x,p.y,I.x,I.y)&&y(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;L&&L.z>=tt;){if(L!==e.prev&&L!==e.next&&nt(c.x,c.y,f.x,f.y,p.x,p.y,L.x,L.y)&&y(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;I&&I.z<=J;){if(I!==e.prev&&I!==e.next&&nt(c.x,c.y,f.x,f.y,p.x,p.y,I.x,I.y)&&y(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function z(e,a,r){var l=e;do{var c=l.prev,f=l.next.next;!d(c,f)&&T(c,l,l.next,f)&&at(c,f)&&at(f,c)&&(a.push(c.i/r),a.push(l.i/r),a.push(f.i/r),X(l),X(l.next),l=e=f),l=l.next}while(l!==e);return b(l)}function Z(e,a,r,l,c,f){var p=e;do{for(var m=p.next.next;m!==p.prev;){if(p.i!==m.i&&Dt(p,m)){var j=k(p,m);return p=b(p,p.next),j=b(j,j.next),W(p,a,r,l,c,f),void W(j,a,r,l,c,f)}m=m.next}p=p.next}while(p!==e)}function F(e,a){return e.x-a.x}function A(e){if(e.next.prev===e)return e;let a=e;for(;;){const r=a.next;if(r.prev===a||r===a||r===e)break;a=r}return a}function B(e,a){var r=function O(e,a){var r,l=a,c=e.x,f=e.y,p=-1/0;do{if(f<=l.y&&f>=l.next.y&&l.next.y!==l.y){var m=l.x+(f-l.y)*(l.next.x-l.x)/(l.next.y-l.y);if(m<=c&&m>p){if(p=m,m===c){if(f===l.y)return l;if(f===l.next.y)return l.next}r=l.x<l.next.x?l:l.next}}l=l.next}while(l!==a);if(!r)return null;if(c===p)return r;var j,Q=r,ct=r.x,tt=r.y,J=1/0;l=r;do{c>=l.x&&l.x>=ct&&c!==l.x&&nt(f<tt?c:p,f,ct,tt,f<tt?p:c,f,l.x,l.y)&&(j=Math.abs(f-l.y)/(c-l.x),at(l,e)&&(j<J||j===J&&(l.x>r.x||l.x===r.x&&g(r,l)))&&(r=l,J=j)),l=l.next}while(l!==Q);return r}(e,a);if(!r)return a;var l=k(r,e),c=b(r,r.next);let f=A(l);return b(f,f.next),c=A(c),A(a===r?c:a)}function g(e,a){return y(e.prev,e,a.prev)<0&&y(a.next,e,e.next)<0}function $(e,a,r,l,c){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*c)|e<<8))|e<<4))|e<<2))|e<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-l)*c)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function V(e){var a=e,r=e;do{(a.x<r.x||a.x===r.x&&a.y<r.y)&&(r=a),a=a.next}while(a!==e);return r}function nt(e,a,r,l,c,f,p,m){return(c-p)*(a-m)-(e-p)*(f-m)>=0&&(e-p)*(l-m)-(r-p)*(a-m)>=0&&(r-p)*(f-m)-(c-p)*(l-m)>=0}function Dt(e,a){return e.next.i!==a.i&&e.prev.i!==a.i&&!function vt(e,a){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==a.i&&r.next.i!==a.i&&T(r,r.next,e,a))return!0;r=r.next}while(r!==e);return!1}(e,a)&&(at(e,a)&&at(a,e)&&function st(e,a){var r=e,l=!1,c=(e.x+a.x)/2,f=(e.y+a.y)/2;do{r.y>f!=r.next.y>f&&r.next.y!==r.y&&c<(r.next.x-r.x)*(f-r.y)/(r.next.y-r.y)+r.x&&(l=!l),r=r.next}while(r!==e);return l}(e,a)&&(y(e.prev,e,a.prev)||y(e,a.prev,a))||d(e,a)&&y(e.prev,e,e.next)>0&&y(a.prev,a,a.next)>0)}function y(e,a,r){return(a.y-e.y)*(r.x-a.x)-(a.x-e.x)*(r.y-a.y)}function d(e,a){return e.x===a.x&&e.y===a.y}function T(e,a,r,l){var c=ot(y(e,a,r)),f=ot(y(e,a,l)),p=ot(y(r,l,e)),m=ot(y(r,l,a));return c!==f&&p!==m||!(0!==c||!K(e,r,a))||!(0!==f||!K(e,l,a))||!(0!==p||!K(r,e,l))||!(0!==m||!K(r,a,l))}function K(e,a,r){return a.x<=Math.max(e.x,r.x)&&a.x>=Math.min(e.x,r.x)&&a.y<=Math.max(e.y,r.y)&&a.y>=Math.min(e.y,r.y)}function ot(e){return e>0?1:e<0?-1:0}function at(e,a){return y(e.prev,e,e.next)<0?y(e,a,e.next)>=0&&y(e,e.prev,a)>=0:y(e,a,e.prev)<0||y(e,e.next,a)<0}function k(e,a){var r=new it(e.i,e.x,e.y),l=new it(a.i,a.x,a.y),c=e.next,f=a.prev;return e.next=a,a.prev=e,r.next=c,c.prev=r,l.next=r,r.prev=l,f.next=l,l.prev=f,l}function Lt(e,a,r,l){var c=new it(e,a,r);return l?(c.next=l.next,c.prev=l,l.next.prev=c,l.next=c):(c.prev=c,c.next=c),c}function X(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function it(e,a,r){this.i=e,this.x=a,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ut(e,a,r,l){for(var c=0,f=a,p=r-l;f<r;f+=l)c+=(e[p]-e[f])*(e[f+1]+e[p+1]),p=f;return c}u.d(q,{e:()=>M}),M.deviation=function(e,a,r,l){var c=a&&a.length,p=Math.abs(Ut(e,0,c?a[0]*r:e.length,r));if(c)for(var m=0,j=a.length;m<j;m++)p-=Math.abs(Ut(e,a[m]*r,m<j-1?a[m+1]*r:e.length,r));var tt=0;for(m=0;m<l.length;m+=3){var J=l[m]*r,L=l[m+1]*r,I=l[m+2]*r;tt+=Math.abs((e[J]-e[I])*(e[L+1]-e[J+1])-(e[J]-e[L])*(e[I+1]-e[J+1]))}return 0===p&&0===tt?0:Math.abs((tt-p)/p)},M.flatten=function(e){for(var a=e[0][0].length,r={vertices:[],holes:[],dimensions:a},l=0,c=0;c<e.length;c++){for(var f=0;f<e[c].length;f++)for(var p=0;p<a;p++)r.vertices.push(e[c][f][p]);c>0&&r.holes.push(l+=e[c-1].length)}return r}},96923:(dt,q,u)=>{u.r(q),u.d(q,{default:()=>Xe});var M=u(10467),w=u(8189),b=u(5922),W=u(55098),H=u(35150),N=u(64261),z=u(56492),Z=u(48900),S=u(85211),B=(u(3248),u(40707),u(76576)),O=u(25866),g=u(68643),C=u(1749),G=u(55861),$=u(2296),V=u(63842),nt=u(86507);const T="Expected location to be a Point instance";class K extends b.A{constructor(){super("invalid-input:location",T)}}var ot=u(38352),vt=u(58315),at=u(36812),st=u(39465),k=u(78559),Lt=u(37723),X=u(28714),it=u(16590),Ut=u(23159);function a(t,n,s,o){if(void 0!==o){(0,Ut.io)(t(),"option: geographic",{replacement:"Use mesh `vertexSpace` and spatial reference to control how operations are performed instead.",version:"4.30",warnOnce:!0});const i="local"===n.type;if(!(0,k.Hq)(n)||o===i)return s.isGeographic||s.isWebMercator&&o;t().warnOnce(`Specifying the 'geographic' parameter (${o}) for a Mesh vertex space of type "${n.type}" is not supported. This parameter will be ignored.`)}switch(n.type){case"georeferenced":return s.isGeographic;case"local":return s.isGeographic||s.isWebMercator}}var r=u(30429),l=u(12738);const c=()=>H.A.getLogger("esri.geometry.support.meshUtils.centerAt");const ct=(0,O.vt)(),tt=(0,O.vt)(),J=(0,O.vt)();var L=u(62789),I=u(28067),he=u(13970),Ft=u(65580),$t=u(83675),ve=u(23234),xe=u(23653),Zt=u(10442);const Vt=(0,L.vt)(),ge=(0,xe.jh)(24);var Jt=u(45272);function Wt(){return Wt=(0,M.A)(function*(t,n,s){const{source:o}=n,{loadGLTFMesh:i}=yield(0,z.qr)(Promise.all([u.e(2867),u.e(6228)]).then(u.bind(u,46228)),s),h=yield function Ae(t,n){return Nt.apply(this,arguments)}(o,s);(0,z.Te)(s);const v=i(new C.A({x:0,y:0,z:0,spatialReference:t.spatialReference}),h.url,{resolveFile:de(h),signal:s?.signal,expectedType:h.type,unitConversionDisabled:n.unitConversionDisabled});v.then(()=>h.dispose(),()=>h.dispose());const{vertexAttributes:x,components:E}=yield v;t.vertexAttributes=x,t.components=E}),Wt.apply(this,arguments)}function de(t){const n=(0,Jt.nM)(t.url);return s=>{const o=(0,Jt.V1)(s,n,n),i=o?o.replace(/^ *\.\//,""):null;return(i?t.files.get(i):null)??s}}function Nt(){return Nt=(0,M.A)(function*(t,n){if(Array.isArray(t)){if(!t.length)throw new b.A("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?function Ee(t){return qt(t.map(n=>({name:n.name,mimeType:n.type,source:Yt(n)})))}(t):function Pe(t,n){return zt.apply(this,arguments)}(t,n)}return Yt(t)}),Nt.apply(this,arguments)}function Kt(){return(Kt=(0,M.A)(function*(t,n){const{parts:s,assetMimeType:o,assetName:i}=t;if(1===s.length)return new Rt(s[0].partUrl);const h=yield t.toBlob(n);return(0,z.Te)(n),Rt.fromBlob(h,te(i,o))})).apply(this,arguments)}function Yt(t){return Rt.fromBlob(t,te(t.name,t.type))}function zt(){return zt=(0,M.A)(function*(t,n){const s=yield(0,z.nA)(t.map(function(){var o=(0,M.A)(function*(i){const h=yield function Me(t,n){return Kt.apply(this,arguments)}(i);return(0,z.Te)(n),{name:i.assetName,mimeType:i.assetMimeType,source:h}});return function(i){return o.apply(this,arguments)}}()));if((0,z.G4)(n))throw s.forEach(o=>o.source.dispose()),(0,z.NK)();return qt(s)}),zt.apply(this,arguments)}const Xt=/^model\/gltf\+json$/,Qt=/^model\/gltf-binary$/,Gt=/\.gltf$/i,Re=/\.glb$/i;function kt({mimeType:t,source:n,name:s}){return Xt.test(t)||Gt.test(s)?{url:n.url,type:"gltf"}:Qt.test(t)||Re.test(s)?{url:n.url,type:"glb"}:null}function qt(t){const n=new Map;let s=null,o=null;for(const h of t){const{source:v,name:x}=h;s??=kt(h),"ESRI3DO_NORM.glb"===x&&(o=kt(h)),n.set(x,v.url),v.files.forEach((E,R)=>n.set(R,E))}const i=o??s;if(null==i)throw new b.A("mesh-load-external:missing-files","Missing files to load external mesh source");return new Rt(i.url,()=>t.forEach(({source:h})=>h.dispose()),n,i.type)}class Rt{constructor(n,s=(()=>{}),o=new Map,i){this.url=n,this.dispose=s,this.files=o,this.type=i}static fromBlob(n,s){const o=URL.createObjectURL(n);return new Rt(o,()=>URL.revokeObjectURL(o),void 0,s)}}function te(t,n){return Xt.test(n)||Gt.test(t)?"gltf":Qt.test(n)||Gt.test(t)?"glb":void 0}var Oe=u(90660),_e=u(31178),bt=u(33019);let xt=class extends Oe.A{constructor(t){super(t),this.externalSources=new _e.A,this._explicitDisplaySource=null,this.georeferenced=!1,this.addHandles((0,Z.on)(()=>this.externalSources,"after-remove",({item:n})=>{n===this._explicitDisplaySource&&(this._explicitDisplaySource=null)},{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(null!=t&&!(0,bt.yr)(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&this.externalSources.every(n=>!(0,bt.in)(n,t))&&this.externalSources.add(t)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(t){return this.externalSources.items.filter(n=>(0,bt.eN)(n,t))}get _implicitDisplaySource(){return this.externalSources.find(bt.yr)}};(0,w._)([(0,S.MZ)()],xt.prototype,"externalSources",void 0),(0,w._)([(0,S.MZ)()],xt.prototype,"displaySource",null),(0,w._)([(0,S.MZ)()],xt.prototype,"_implicitDisplaySource",null),(0,w._)([(0,S.MZ)()],xt.prototype,"_explicitDisplaySource",void 0),(0,w._)([(0,S.MZ)()],xt.prototype,"georeferenced",void 0),xt=(0,w._)([(0,B.$)("esri.geometry.support.meshUtils.Metadata")],xt);var ee=u(32954);const Tt={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function jt(t,n,s){t.isPlane||function Le(t){for(let n=0;n<t.position.length;n+=3)t.position[n+2]+=.5}(t),function Be(t,n){if(null!=n){yt[0]=n[0],yt[4]=n[1],yt[8]=n[2];for(let s=0;s<t.position.length;s+=3){for(let o=0;o<3;o++)Y[o]=t.position[s+o];(0,X.q)(Y,Y,yt);for(let o=0;o<3;o++)t.position[s+o]=Y[o]}if(n[0]!==n[1]||n[1]!==n[2]){yt[0]=1/n[0],yt[4]=1/n[1],yt[8]=1/n[2];for(let s=0;s<t.normal.length;s+=3){for(let o=0;o<3;o++)Y[o]=t.normal[s+o];(0,X.q)(Y,Y,yt),(0,X.n)(Y,Y);for(let o=0;o<3;o++)t.normal[s+o]=Y[o]}}}}(t,function be(t,n,s){const o=(0,l.xK)(n,s);if(null==t&&1===o)return null;if(null==t)return[o,o,o];if("number"==typeof t){const i=t*o;return[i,i,i]}return[null!=t.width?t.width*o:o,null!=t.depth?t.depth*o:o,null!=t.height?t.height*o:o]}(s?.size,s?.unit,n.spatialReference));const o=(0,k.TE)(n,s),i=n.spatialReference.isGeographic?(0,k.TE)(n):o,h=(0,l.UR)({vertexAttributes:t,vertexSpace:i,spatialReference:n.spatialReference},o,{allowBufferReuse:!0});return{vertexAttributes:new st.H({...h,uv:t.uv}),vertexSpace:o,components:[new nt.A({faces:t.faces,material:s?.material||null})],spatialReference:n.spatialReference}}const je={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},Ie={south:0,east:1,north:2,west:3,up:4,down:5},Y=(0,O.vt)(),yt=(0,ee.vt)();var Fe=u(31610),pt=u(92771),Ze=u(19890),ne=u(14214);const At=()=>H.A.getLogger("esri.geometry.support.meshUtils.rotate");function Ot(t,n,s,o=O.uY){if(null!=t){(0,pt.$0)(It,(0,V.$I)(n),(0,V.yo)(n));for(let i=0;i<t.length;i+=s){for(let h=0;h<3;h++)_t[h]=t[i+h]-o[h];(0,X.t)(_t,_t,It);for(let h=0;h<3;h++)t[i+h]=_t[h]+o[h]}}}const _t=(0,O.vt)(),re=(0,L.vt)(),oe=(0,V.vt)(),It=(0,L.vt)(),se=(0,ee.vt)(),ie=(0,O.vt)(),ae=(0,ne.vt)(),Mt=()=>H.A.getLogger("esri.geometry.support.meshUtils.scale");function le(t,n,s=O.uY){if(t)for(let o=0;o<t.length;o+=3){for(let i=0;i<3;i++)St[i]=t[o+i]-s[i];(0,X.h)(St,St,n);for(let i=0;i<3;i++)t[o+i]=St[i]+s[i]}}const St=(0,O.vt)(),Je=(0,O.vt)(),ce=(0,L.vt)(),ue=(0,O.vt)();var ut;const fe="esri.geometry.Mesh";function gt(){return H.A.getLogger(fe)}const Ye={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:ot.A,local:vt.A}};let rt=ut=class extends(W.A.LoadableMixin(N.A.EsriPromiseMixin(g.A))){constructor(t){super(t),this.components=null,this.vertexSpace=new ot.A,this.transform=null,this.metadata=new xt,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new st.H,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when(()=>{this.addHandles((0,Z.wB)(()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map(t=>t.clone())}),()=>this._clearSources(),{once:!0,sync:!0}))})}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{spatialReference:t,vertexSpace:n}=this,s=this;return function ye(t){const{spatialReference:n,vertexSpace:s,untransformedBounds:o}=t,i=(0,$.gE)(o,ge);if((0,k.Hq)(s)&&t.transform&&(0,Zt.t)(i,i,t.transform.localMatrix),"georeferenced"===s.type){const x=s.origin;return x&&(0,Zt.a)(i,i,x),(0,$.w1)((0,$.vY)(i),n)}const h=(0,Ft.lO)(n),v=s.origin;if(!(0,he.canProjectWithoutEngine)(h,n)){const[x,E,R]=v;return new I.A({xmin:x,ymin:E,zmin:R,xmax:x,ymax:E,zmax:R,spatialReference:n})}return(0,$t.l)(n,v,Vt,h),(0,Zt.t)(i,i,Vt),(0,ve.projectBuffer)(i,h,0,i,n,0),(0,$.w1)((0,$.vY)(i),n)}({get transform(){return s.transform},vertexSpace:n,spatialReference:t,untransformedBounds:this._untransformedBounds})}get _untransformedBounds(){const{vertexAttributes:{position:t},components:n}=this;return 0===t.length||0===n?.length?(0,$.vt)($.v_):(0,$.vY)(t)}get origin(){const t=(0,k.MW)(this.vertexSpace,this.spatialReference);if(null!=t)return t;const{center:n,zmin:s}=this._transformedExtent;return new C.A({x:n.x,y:n.y,z:s,spatialReference:this.spatialReference})}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(t){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(nt.A.from(t)),this.notifyChange("components"))}removeComponent(t){if(this._checkIfLoaded("removeComponent()")){if(this.components){const n=this.components.indexOf(t);if(-1!==n)return this.components.splice(n,1),void this.notifyChange("components")}gt().error("removeComponent()","Provided component is not part of the list of components")}}rotate(t,n,s,o){return(0,V.AU)(t,n,s,pe),function We(t,n,s){if(!t.vertexAttributes?.position||0===n[3])return;const{spatialReference:o,vertexSpace:i}=t,h=s?.origin??t.origin,v=s?.geographic,x=a(At,i,o,v);(0,k.CK)(t)?function Ne(t,n,s){t.transform??=new at.A;const{vertexSpace:o,transform:i,spatialReference:h}=t,[v,x,E]=o.origin,R=new C.A({x:v,y:x,z:E,spatialReference:h}),P=_t;if(R.equals(s))(0,X.i)(P,0,0,0);else if(!(0,l.p5)(P,s,t))return void(0,r.CN)(At(),s.spatialReference,h,r.JP);(0,Ze.x8)(ae,(0,V.yo)(n),(0,V.$I)(n));const D=(0,pt.O7)(re,ae,O.uY,O.Un,P),{localMatrix:U}=i,_=(0,pt.lw)(re,D,U);i.scale=(0,pt.IL)((0,O.vt)(),_),(0,pt.hs)(_,_,(0,X.u)(_t,i.scale));const et=i.rotationAxis;i.rotation=(0,V.ui)(_),0===i.rotationAngle&&(i.rotationAxis=et),i.translation=(0,pt.sC)((0,O.vt)(),_)}(t,n,h):x?function Ke(t,n,s){const o=t.spatialReference,i=(0,Ft.lO)(o),h=ie;if(!(0,it.g)(s,h,i)&&((0,r.CN)(At(),s.spatialReference,i,"Falling back to mesh origin"),!(0,it.g)(t.origin,h,i)))return void(0,r.CN)(At(),t.origin.spatialReference,i);const v=t.vertexAttributes.position,x=t.vertexAttributes.normal,E=t.vertexAttributes.tangent,R=new Float64Array(v.length),P=null!=x?new Float32Array(x.length):null,D=null!=E?new Float32Array(E.length):null;(0,$t.l)(i,h,It,i),(0,Fe.z0)(se,It);const U=oe;(0,X.q)((0,V.yo)(oe),(0,V.yo)(n),se),U[3]=n[3],!(0,r.gr)(v,o,R,i)||null!=x&&null!=P&&!(0,r.X4)(x,v,o,R,i,P)||null!=E&&null!=D&&!(0,r.xA)(E,v,o,R,i,D)?(0,r.CN)(At(),o,i):(Ot(R,U,3,h),!(0,r.$5)(R,i,v,o)||null!=x&&null!=P&&(Ot(P,U,3),!(0,r.si)(P,v,o,R,i,x))||null!=E&&null!=D&&(Ot(D,U,4),!(0,r.Mv)(D,v,o,R,i,E))?(0,r.CN)(At(),i,o):t.vertexAttributesChanged())}(t,n,h):function ze(t,n,s){const o=ie;if(!(0,it.g)(s,o,t.spatialReference)){const i=t.origin;return o[0]=i.x,o[1]=i.y,o[2]=i.z,void(0,r.CN)(At(),s.spatialReference,t.spatialReference,r.JP)}Ot(t.vertexAttributes.position,n,3,o),Ot(t.vertexAttributes.normal,n,3),Ot(t.vertexAttributes.tangent,n,4),t.vertexAttributesChanged()}(t,n,h)}(this,pe,o),this}offset(t,n,s){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:o,vertexAttributes:i}=this,h=i?.position;if(!h)return this;if((0,k.Hq)(o)){const[v,x,E]=o.origin;o.origin=(0,O.fA)(v+t,x+n,E+s)}else{for(let v=0;v<h.length;v+=3)h[v]+=t,h[v+1]+=n,h[v+2]+=s;this.vertexAttributesChanged()}return this}scale(t,n){return this._checkIfLoaded("scale()")?(function Ge(t,n,s){if(!t.vertexAttributes?.position)return;const{vertexSpace:o,spatialReference:i}=t,h=s?.origin??t.origin,v=s?.geographic,x=a(Mt,o,i,v);(0,k.CK)(t)?function He(t,n,s){t.transform??=new at.A;const{vertexSpace:o,transform:i,spatialReference:h}=t,[v,x,E]=o.origin,R=new C.A({x:v,y:x,z:E,spatialReference:h}),P=St;if(R.equals(s))(0,X.i)(P,0,0,0);else if(!(0,l.p5)(P,s,t))return void(0,r.CN)(Mt(),s.spatialReference,h,r.JP);const D=(0,X.i)(Je,n,n,n),U=(0,pt.O7)(ce,ne.zK,O.uY,D,P),{localMatrix:_}=i,et=(0,pt.lw)(ce,U,_);i.scale=(0,pt.IL)((0,O.vt)(),et),(0,pt.hs)(et,et,(0,X.u)(St,i.scale));const Et=i.rotationAxis;i.rotation=(0,V.ui)(et),0===i.rotationAngle&&(i.rotationAxis=Et),i.translation=(0,pt.sC)((0,O.vt)(),et)}(t,n,h):x?function $e(t,n,s){const o=t.spatialReference,i=(0,Ft.lO)(o),h=ue;if(!(0,it.g)(s,h,i)&&((0,r.CN)(Mt(),s.spatialReference,i,"Falling back to mesh origin"),!(0,it.g)(t.origin,h,i)))return void(0,r.CN)(Mt(),t.origin.spatialReference,i);const v=t.vertexAttributes.position,x=t.vertexAttributes.normal,E=t.vertexAttributes.tangent,R=new Float64Array(v.length),P=null!=x?new Float32Array(x.length):null,D=null!=E?new Float32Array(E.length):null;!(0,r.gr)(v,o,R,i)||null!=x&&null!=P&&!(0,r.X4)(x,v,o,R,i,P)||null!=E&&null!=D&&!(0,r.xA)(E,v,o,R,i,D)?(0,r.CN)(Mt(),o,i):(le(R,n,h),!(0,r.$5)(R,i,v,o)||null!=x&&null!=P&&!(0,r.si)(P,v,o,R,i,x)||null!=E&&null!=D&&!(0,r.Mv)(D,v,o,R,i,E)?(0,r.CN)(Mt(),i,o):t.vertexAttributesChanged())}(t,n,h):function Ve(t,n,s){const o=ue;if(!(0,it.g)(s,o,t.spatialReference)){const i=t.origin;return o[0]=i.x,o[1]=i.y,o[2]=i.z,void(0,r.CN)(Mt(),s.spatialReference,t.spatialReference,r.JP)}le(t.vertexAttributes.position,n,o),t.vertexAttributesChanged()}(t,n,h)}(this,t,n),this):this}centerAt(t,n){return this._checkIfLoaded("centerAt()")?(function f(t,n,s){if(!t.vertexAttributes?.position)return;const{vertexSpace:o}=t,i=s?.origin??t.origin,h=a(c,o,i.spatialReference,s?.geographic);(0,k.Hq)(o)?function p(t,n,s){const{vertexSpace:o}=t;if(!(0,k.Hq)(o))return;const i=tt,h=ct;if(!(0,it.g)(n,h,t.spatialReference))return void(0,r.CN)(c(),n.spatialReference,t.spatialReference,r.JP);if(!(0,it.g)(s,i,t.spatialReference)){const x=t.origin;return i[0]=x.x,i[1]=x.y,i[2]=x.z,void(0,r.CN)(c(),s.spatialReference,t.spatialReference,r.JP)}const v=(0,X.d)(J,h,i);o.origin=(0,X.g)((0,O.vt)(),o.origin,v)}(t,n,i):h?function m(t,n,s){const o=(0,O.fA)(s.x,s.y,s.z??0),i=(0,l.UR)(t,new vt.A({origin:o}));if(!i)return;const h=(0,O.fA)(n.x,n.y,n.z??0),v=(0,l.UR)({vertexAttributes:i,spatialReference:t.spatialReference,vertexSpace:new vt.A({origin:h})},ot.A.absolute);if(!v)return;const{position:x,normal:E,tangent:R}=v;t.vertexAttributes.position=x,t.vertexAttributes.normal=E,t.vertexAttributes.tangent=R,t.vertexAttributesChanged()}(t,n,i):function j(t,n,s){const o=tt,i=ct;if((0,it.g)(n,i,t.spatialReference)){if(!(0,it.g)(s,o,t.spatialReference)){const h=t.origin;return o[0]=h.x,o[1]=h.y,o[2]=h.z,void(0,r.CN)(c(),s.spatialReference,t.spatialReference,r.JP)}(function Q(t,n,s){if(t)for(let o=0;o<t.length;o+=3)for(let i=0;i<3;i++)t[o+i]+=n[i]-s[i]})(t.vertexAttributes.position,i,o),t.vertexAttributesChanged()}else(0,r.CN)(c(),n.spatialReference,t.spatialReference,r.JP)}(t,n,i)}(this,t,n),this):this}load(t){const{metadata:{displaySource:n}}=this;return n&&this.addResolvingPromise(function me(t,n,s){return Wt.apply(this,arguments)}(this,n,t)),Promise.resolve(this)}addExternalSources(t){this.metadata.externalSources.addMany(t)}updateDisplaySource(t){this.metadata.displaySource=t}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone(),{preserveMetadata:!0})}cloneAndModifyVertexAttributes(t,n,s){let o=null;if(this.components){const h=new Map,v=new Map;o=this.components.map(x=>x.cloneWithDeduplication(h,v))}const i={components:o,spatialReference:this.spatialReference,vertexAttributes:t,vertexSpace:n,transform:this.transform?.clone()??null,metadata:s?.preserveMetadata?this.metadata.clone():new xt};return new ut(i)}cloneShallow(){return new ut({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}toBinaryGLTF(t){var n=this;return(0,M.A)(function*(){const[{toBinaryGLTF:s}]=yield Promise.all([u.e(2251).then(u.bind(u,42251)),n.load(t)]);return(0,z.Te)(t),yield s(n,t)})()}get usedMemory(){return this.components?this.components.reduce((t,n)=>t+n.memoryUsage,this.vertexAttributes.usedMemory):this.vertexAttributes.usedMemory}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(t){return!!this.loaded||(gt().error(t,"Mesh must be loaded before applying operations"),!1)}static createBox(t,n){if(!(t instanceof C.A))return gt().error(".createBox()",T),null;const s=new ut(jt(function Se(){const{faceDescriptions:t,faceVertexOffsets:n,uvScales:s}=je,o=4*t.length,i=new Float64Array(3*o),h=new Float32Array(3*o),v=new Float32Array(2*o),x=new Uint32Array(2*t.length*3);let E=0,R=0,P=0,D=0;for(let U=0;U<t.length;U++){const _=t[U],et=E/3;for(const ft of n)x[D++]=et+ft;const Et=_.corners;for(let ft=0;ft<4;ft++){const Pt=Et[ft];let lt=0;v[P++]=.25*s[ft][0]+_.uvOrigin[0],v[P++]=_.uvOrigin[1]-.25*s[ft][1];for(let ht=0;ht<3;ht++)0!==_.axis[ht]?(i[E++]=.5*_.axis[ht],h[R++]=_.axis[ht]):(i[E++]=.5*Pt[lt++],h[R++]=0)}}return{position:i,normal:h,uv:v,faces:x}}(),t,n));return n?.imageFace&&"all"!==n.imageFace?function Ce(t,n){const s=t.components[0],o=s.faces,i=Ie[n],h=6*i,v=new Array(6),x=new Array(o.length-6);let E=0,R=0;for(let P=0;P<o.length;P++)P>=h&&P<h+6?v[E++]=o[P]:x[R++]=o[P];if(null!=t.vertexAttributes.uv){const P=new Float32Array(t.vertexAttributes.uv),D=4*i*2,U=[0,1,1,1,1,0,0,0];for(let _=0;_<U.length;_++)P[D+_]=U[_];t.vertexAttributes.uv=P}return t.components=[new nt.A({faces:v,material:s.material}),new nt.A({faces:x})],t}(s,n.imageFace):s}static createSphere(t,n){return t instanceof C.A?new ut(jt(function De(t=0){const n=Math.round(8*2**t),s=2*n,o=(n-1)*(s+1)+2*s,i=new Float64Array(3*o),h=new Float32Array(3*o),v=new Float32Array(2*o),x=new Uint32Array((n-1)*s*2*3);let E=0,R=0,P=0,D=0;for(let U=0;U<=n;U++){const _=U/n*Math.PI+.5*Math.PI,et=Math.cos(_),Et=Math.sin(_);Y[2]=Et;const ft=0===U||U===n,Pt=ft?s-1:s;for(let lt=0;lt<=Pt;lt++){const ht=lt/Pt*2*Math.PI;Y[0]=-Math.sin(ht)*et,Y[1]=Math.cos(ht)*et;for(let mt=0;mt<3;mt++)i[E]=.5*Y[mt],h[E]=Y[mt],++E;v[R++]=(lt+(ft?.5:0))/s,v[R++]=U/n,0!==U&&lt!==s&&(U!==n&&(x[P++]=D,x[P++]=D+1,x[P++]=D-s),1!==U&&(x[P++]=D,x[P++]=D-s,x[P++]=D-s-1)),D++}}return{position:i,normal:h,uv:v,faces:x}}(n?.densificationFactor||0),t,n)):(gt().error(".createSphere()",T),null)}static createCylinder(t,n){return t instanceof C.A?new ut(jt(function Ue(t=0){const s=Math.round(16*2**t),o=4*(s+1)+2*s,i=new Float64Array(3*o),h=new Float32Array(3*o),v=new Float32Array(2*o),x=new Uint32Array(4*s*3);let E=0,R=0,P=0,D=0,U=0;for(let _=0;_<=5;_++){const et=0===_||5===_,Et=_<=1||_>=4,ft=2===_||4===_,Pt=et?s-1:s;for(let lt=0;lt<=Pt;lt++){const ht=lt/Pt*2*Math.PI,mt=et?0:.5;Y[0]=mt*Math.sin(ht),Y[1]=mt*-Math.cos(ht),Y[2]=_<=2?.5:-.5;for(let Ct=0;Ct<3;Ct++)i[E++]=Y[Ct],h[R++]=Et?2===Ct?_<=1?1:-1:0:2===Ct?0:Y[Ct]/mt;v[P++]=(lt+(et?.5:0))/s,v[P++]=_<=1?1*_/3:_<=3?1*(_-2)/3+1/3:1*(_-4)/3+2/3,ft||0===_||lt===s||(5!==_&&(x[D++]=U,x[D++]=U+1,x[D++]=U-s),1!==_&&(x[D++]=U,x[D++]=U-s,x[D++]=U-s-1)),U++}}return{position:i,normal:h,uv:v,faces:x}}(n?.densificationFactor||0),t,n)):(gt().error(".createCylinder()",T),null)}static createPlane(t,n){if(!(t instanceof C.A))return gt().error(".createPlane()",T),null;const s=n?.facing??"up",o=function we(t,n){const s="number"==typeof n?n:null!=n?n.width:1,o="number"==typeof n?n:null!=n?n.height:1;switch(t){case"up":case"down":return{width:s,depth:o};case"north":case"south":return{width:s,height:o};case"east":case"west":return{depth:s,height:o}}}(s,n?.size);return new ut(jt(function Te(t){const n=Tt.facingAxisOrderSwap[t],s=Tt.position,o=Tt.normal,i=new Float64Array(s.length),h=new Float32Array(o.length);let v=0;for(let x=0;x<4;x++){const E=v;for(let R=0;R<3;R++){const P=n[R],D=Math.abs(P)-1,U=P>=0?1:-1;i[v]=s[E+D]*U,h[v]=o[E+D]*U,v++}}return{position:i,normal:h,uv:new Float32Array(Tt.uv),faces:new Uint32Array(Tt.faces),isPlane:!0}}(s),t,{...n,size:o}))}static createFromPolygon(t,n){if(!(t instanceof G.A))return gt().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;const s=(0,Lt.lO)(t);return new ut({vertexAttributes:new st.H({position:s.position}),components:[new nt.A({faces:s.faces,shading:"flat",material:n?.material??null})],spatialReference:t.spatialReference,vertexSpace:new ot.A})}static createFromGLTF(t,n,s){return(0,M.A)(function*(){if(!(t instanceof C.A)){const i=new K;throw gt().error(".createfromGLTF()",i.message),i}const{loadGLTFMesh:o}=yield(0,z.qr)(Promise.all([u.e(2867),u.e(6228)]).then(u.bind(u,46228)),s);return new ut(yield o(t,n,s))})()}static createWithExternalSource(t,n,s){const o=s?.extent??null,{spatialReference:i}=t,h=s?.transform?.clone()??new at.A,v=(0,k.TE)(t,s),x=s?.unitConversionDisabled,E={source:n,extent:o,unitConversionDisabled:x},R=new xt;return R.externalSources.push(E),new ut({metadata:R,transform:h,vertexSpace:v,spatialReference:i})}static createIncomplete(t,n){const{spatialReference:s}=t,o=n?.transform?.clone()??new at.A,i=(0,k.TE)(t,n),h=new ut({transform:o,vertexSpace:i,spatialReference:s});return h.addResolvingPromise(Promise.reject(new b.A("mesh-incomplete","Mesh resources are not complete"))),h}};(0,w._)([(0,S.MZ)({type:[nt.A],json:{write:!0}})],rt.prototype,"components",void 0),(0,w._)([(0,S.MZ)({nonNullable:!0,types:Ye,constructOnly:!0,json:{write:!0}})],rt.prototype,"vertexSpace",void 0),(0,w._)([(0,S.MZ)({type:at.A,json:{write:!0}})],rt.prototype,"transform",void 0),(0,w._)([(0,S.MZ)({constructOnly:!0})],rt.prototype,"metadata",void 0),(0,w._)([(0,S.MZ)()],rt.prototype,"hasExtent",null),(0,w._)([(0,S.MZ)()],rt.prototype,"_transformedExtent",null),(0,w._)([(0,S.MZ)()],rt.prototype,"_untransformedBounds",null),(0,w._)([(0,S.MZ)()],rt.prototype,"origin",null),(0,w._)([(0,S.MZ)({readOnly:!0,json:{read:!1}})],rt.prototype,"extent",null),(0,w._)([(0,S.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],rt.prototype,"hasZ",void 0),(0,w._)([(0,S.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],rt.prototype,"hasM",void 0),(0,w._)([(0,S.MZ)({type:st.H,nonNullable:!0,json:{write:!0}})],rt.prototype,"vertexAttributes",void 0),rt=ut=(0,w._)([(0,B.$)(fe)],rt);const pe=(0,V.vt)(),Xe=rt},83034:(dt,q,u)=>{u.d(q,{Dg:()=>w,EH:()=>B,JH:()=>H,my:()=>W,tM:()=>S});var M=u(79139);function w(g){if(Array.isArray(g)){if(g.length<M.y9)return g}else if(g.length<M.y9)return Array.from(g);let C=!0,G=!0;return g.some(($,V)=>(C=C&&0===$,G=G&&$===V,!C&&!G)),C?B(g.length):G?S(g.length):(0,M.iu)(g)&&g.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?g:function b(g){let C=!0;for(const G of g){if(G>=65536)return(0,M.iu)(g)?g:new Uint32Array(g);G>=256&&(C=!1)}return C?new Uint8Array(g):new Uint16Array(g)}(g)}function W(g){return g<=M.y9?new Array(g):g<=65536?new Uint16Array(g):new Uint32Array(g)}function H(g){return g<=M.y9?new Array(g):new Uint32Array(g)}let N=F(131072);const z=[0],Z=(()=>{const g=new Uint16Array(65536);for(let C=0;C<g.length;++C)g[C]=C;return g})();function S(g){return 1===g?z:g<M.y9?Array.from(new Uint16Array(Z.buffer,0,g)):g<Z.length?new Uint16Array(Z.buffer,0,g):(g>N.length&&(N=F(Math.max(2*N.length,g))),new Uint32Array(N.buffer,0,g))}function F(g){const C=new Uint32Array(g);for(let G=0;G<C.length;G++)C[G]=G;return C}let A=new Uint8Array(65536);function B(g){if(1===g)return z;if(g<M.y9)return new Array(g).fill(0);if(g>A.length){const C=Math.max(2*A.length,g);A=new Uint8Array(C)}return new Uint8Array(A.buffer,0,g)}},38352:(dt,q,u)=>{u.d(q,{A:()=>B});var F,M=u(8189),w=u(90660),b=u(71065),W=u(85211),Z=(u(3248),u(35150),u(40707),u(15463)),S=u(76576);let A=F=class extends(w.A.ClonableMixin(b.A)){constructor(O){super(O),this.type="georeferenced",this.origin=null}};A.absolute=new F,(0,M._)([(0,Z.e)({georeferenced:"georeferenced"},{readOnly:!0})],A.prototype,"type",void 0),(0,M._)([(0,W.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],A.prototype,"origin",void 0),A=F=(0,M._)([(0,S.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],A);const B=A},58315:(dt,q,u)=>{u.d(q,{A:()=>B});var M=u(8189),w=u(90660),b=u(71065),W=u(85211),Z=(u(3248),u(35150),u(40707),u(15463)),S=u(76576),F=u(25866);let A=class extends(w.A.ClonableMixin(b.A)){constructor(O){super(O),this.type="local",this.origin=(0,F.vt)()}};(0,M._)([(0,Z.e)({local:"local"},{readOnly:!0})],A.prototype,"type",void 0),(0,M._)([(0,W.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,"origin",void 0),A=(0,M._)([(0,S.$)("esri.geometry.support.MeshLocalVertexSpace")],A);const B=A},39465:(dt,q,u)=>{u.d(q,{H:()=>F});var S,M=u(8189),w=u(71065),b=u(77806),W=u(35150),H=u(85211),N=u(48669),z=u(76576),Z=u(53823);let F=S=class extends w.A{constructor(A){super(A),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(A){return(0,Z.b)(A,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},W.A.getLogger(this))}castPosition(A){return A&&A instanceof Float32Array&&W.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,Z.b)(A,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},W.A.getLogger(this))}castUv(A){return(0,Z.b)(A,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},W.A.getLogger(this))}castNormal(A){return(0,Z.b)(A,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},W.A.getLogger(this))}castTangent(A){return(0,Z.b)(A,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},W.A.getLogger(this))}clone(){const A={position:(0,b.o8)(this.position),uv:(0,b.o8)(this.uv),normal:(0,b.o8)(this.normal),tangent:(0,b.o8)(this.tangent),color:(0,b.o8)(this.color)};return new S(A)}clonePositional(){const A={position:(0,b.o8)(this.position),normal:(0,b.o8)(this.normal),tangent:(0,b.o8)(this.tangent),uv:this.uv,color:this.color};return new S(A)}get usedMemory(){return this.position.byteLength+(this.uv?.byteLength??0)+(this.normal?.byteLength??0)+(this.tangent?.byteLength??0)+(this.color?.byteLength??0)}};(0,M._)([(0,H.MZ)({json:{write:Z.B}})],F.prototype,"color",void 0),(0,M._)([(0,N.w)("color")],F.prototype,"castColor",null),(0,M._)([(0,H.MZ)({nonNullable:!0,json:{write:Z.B}})],F.prototype,"position",void 0),(0,M._)([(0,N.w)("position")],F.prototype,"castPosition",null),(0,M._)([(0,H.MZ)({json:{write:Z.B}})],F.prototype,"uv",void 0),(0,M._)([(0,N.w)("uv")],F.prototype,"castUv",null),(0,M._)([(0,H.MZ)({json:{write:Z.B}})],F.prototype,"normal",void 0),(0,M._)([(0,N.w)("normal")],F.prototype,"castNormal",null),(0,M._)([(0,H.MZ)({json:{write:Z.B}})],F.prototype,"tangent",void 0),(0,M._)([(0,N.w)("tangent")],F.prototype,"castTangent",null),F=S=(0,M._)([(0,z.$)("esri.geometry.support.MeshVertexAttributes")],F)},33019:(dt,q,u)=>{u.d(q,{Bq:()=>z,Qp:()=>N,WN:()=>nt,dK:()=>Dt,eN:()=>g,fH:()=>V,in:()=>C,yr:()=>Z});var M=u(10467),w=u(89563),b=u(89952),W=u(56492),H=u(6829);class N{constructor(d,T,K){this.assetName=d,this.assetMimeType=T,this.parts=K}equals(d){return this===d||this.assetName===d.assetName&&this.assetMimeType===d.assetMimeType&&(0,b.aI)(this.parts,d.parts,(T,K)=>T.equals(K))}isOnService(d){return this.parts.every(T=>T.isOnService(d))}makeHash(){let d="";for(const T of this.parts)d+=T.partHash;return d}toBlob(d){var T=this;return(0,M.A)(function*(){const{parts:K}=T;if(1===K.length)return K[0].toBlob(d);const ot=yield Promise.all(K.map(vt=>vt.toBlob(d)));return(0,W.Te)(d),new Blob(ot)})()}}class z{constructor(d,T){this.partUrl=d,this.partHash=T}equals(d){return this===d||this.partUrl===d.partUrl&&this.partHash===d.partHash}isOnService(d){return this.partUrl.startsWith(`${d.path}/assets/`)}toBlob(d){var T=this;return(0,M.A)(function*(){const{data:K}=yield(0,w.A)(T.partUrl,{responseType:"blob"});return(0,W.Te)(d),K})()}}function Z(y){return function B(y){return!!y&&(Array.isArray(y)?y.some(O):O(y))}(y?.source)}function S(y){return!!Array.isArray(y)&&y.every(d=>d instanceof N)}const F=/^(model\/gltf\+json)|(model\/gltf-binary)$/,A=/\.(gltf|glb)/i;function O(y){if(y instanceof File){const{type:d,name:T}=y;return F.test(d)||A.test(T)}return F.test(y.assetMimeType)||A.test(y.assetName)}function g(y,d){if(!y)return!1;const{source:T}=y;return function G(y,d){return Array.isArray(y)?y.length>0&&y.every(K=>$(K,d)):$(y,d)}(T,d)}function C(y,d){if(y===d)return!0;const{source:T}=y,{source:K}=d;if(T===K)return!0;if(S(T)&&S(K)){if(T.length!==K.length)return!1;const ot=(st,k)=>st.assetName<k.assetName?-1:st.assetName>k.assetName?1:0,vt=[...T].sort(ot),at=[...K].sort(ot);for(let st=0;st<vt.length;++st)if(!vt[st].equals(at[st]))return!1;return!0}return!1}function $(y,d){return y instanceof N&&y.isOnService(d)}function V(y,d){return y instanceof File?(0,H.rq)(y,d):(0,H.z$)(y.assetMimeType,y.assetName,d)}function nt(y){return Array.isArray(y)?y:[y]}function Dt(y){return!!y.original}},78559:(dt,q,u)=>{u.d(q,{CK:()=>z,E9:()=>H,Hq:()=>N,MW:()=>Z,TE:()=>S,yJ:()=>A});var M=u(28714),w=u(1749),b=u(38352),W=u(58315);function H(B){return null==B.origin}function N(B){return null!=B.origin}function z(B){return N(B.vertexSpace)}function Z(B,O){if(!N(B))return null;const[g,C,G]=B.origin;return new w.A({x:g,y:C,z:G,spatialReference:O})}function S(B,O){const{x:g,y:C,z:G,spatialReference:$}=B,V=[g,C,G??0];return"local"===(O?.vertexSpace??function F(B){return B.isGeographic||B.isWebMercator?"local":"georeferenced"}($))?new W.A({origin:V}):new b.A({origin:V})}function A(B,O){return B.type===O.type&&(B.origin===O.origin||null!=B.origin&&null!=O.origin&&(0,M.p)(B.origin,O.origin))}}}]);