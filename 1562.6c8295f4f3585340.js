"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[1562],{14784:(tt,K,f)=>{function I(S){let z,E,j=[],A=!1;return function W(...O){return A&&z===this&&function M(S,z){if(S.length!==z.length)return!1;for(let E=0;E<S.length;++E)if(S[E]!==z[E])return!1;return!0}(O,j)||(E=S.apply(this,O),z=this,j=O,A=!0),E}}f.d(K,{B:()=>I})},76926:(tt,K,f)=>{f.d(K,{Fe:()=>Z,Km:()=>j,Nk:()=>N});var I=f(68677),M=f(32117);function j(e,i,y,l){if(e)if("CIMTextSymbol"!==e.type){if(y&&e.effects)for(const _ of e.effects)O(_,i);if(e.symbolLayers)for(const _ of e.symbolLayers){switch(_.type){case"CIMPictureMarker":case"CIMVectorMarker":A(_,i,l);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!l?.preserveOutlineWidth&&_.width&&(_.width*=i);break;case"CIMPictureFill":_.height&&(_.height*=i),_.offsetX&&(_.offsetX*=i),_.offsetY&&(_.offsetY*=i);break;case"CIMHatchFill":j(_.lineSymbol,i,!0,{...l,preserveOutlineWidth:!1}),_.offsetX&&(_.offsetX*=i),_.offsetY&&(_.offsetY*=i),_.separation&&(_.separation*=i)}if(_.effects)for(const h of _.effects)O(h,i)}}else null!=e.height&&(e.height*=i)}function A(e,i,y){if(e&&(e.markerPlacement&&function W(e,i){switch((0,M.zr)(e)&&e.offset&&(e.offset*=i),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=i),e.offsetAlongLine&&(e.offsetAlongLine*=i),e.placementTemplate&&e.placementTemplate.length){const y=e.placementTemplate.map(l=>l*i);e.placementTemplate=y}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=i),e.placementTemplate&&e.placementTemplate.length){const y=e.placementTemplate.map(l=>l*i);e.placementTemplate=y}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=i);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=i);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=i),e.endPosition&&(e.endPosition*=i);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i),e.stepX&&(e.stepX*=i),e.stepY&&(e.stepY*=i)}}(e.markerPlacement,i),e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*i,y:e.anchorPoint.y*i}),e.size=null!=e.size?e.size*i:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const l of e.markerGraphics)e.scaleSymbolsProportionally||j(l.symbol,i,!0,y)}function O(e,i){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=i);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=i);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=i),e.endCut&&(e.endCut*=i),e.middleCut&&(e.middleCut*=i);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=i),e.offsetAlongLine&&(e.offsetAlongLine*=i),e.dashTemplate&&e.dashTemplate.length){const y=e.dashTemplate.map(l=>l*i);e.dashTemplate=y}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=i);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=i);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=i);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=i),e.length&&(e.length*=i),e.toWidth&&(e.toWidth*=i);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=i),e.period&&(e.period*=i)}}function N(e){const i=[];return k((0,M.lW)(e),i),i.length?new I.A((0,M.e6)(i[0])):null}function k(e,i){if(!e)return;let y;y="CIMTextSymbol"===e.type?e.symbol:e;const l="CIMPolygonSymbol"===e.type;if(y?.symbolLayers)for(const _ of y.symbolLayers)if(!(_.colorLocked||l&&((0,M.mA)(_)||(0,M.MM)(_)&&_.markerPlacement&&(0,M.zr)(_.markerPlacement))))switch(_.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":_.tintColor&&H(i,_.tintColor);break;case"CIMVectorMarker":_.markerGraphics?.forEach(h=>{k(h.symbol,i)});break;case"CIMSolidStroke":case"CIMSolidFill":H(i,_.color);break;case"CIMHatchFill":k(_.lineSymbol,i)}}function H(e,i){for(const y of e)if(y.join(".")===i.join("."))return;e.push(i)}function Z(e,i,y){i instanceof I.A||(i=new I.A(i));const l=(0,M.lW)(e);l&&G(l,i,y)}function G(e,i,y){if(!e)return;let l;l="CIMTextSymbol"===e.type?e.symbol:e;const _="CIMPolygonSymbol"===l?.type;if(l?.symbolLayers)for(const h of l.symbolLayers){if(h.colorLocked)continue;if(_)if(y){const{layersToColor:D}=y;if(((0,M.mA)(h)||(0,M.MM)(h)&&h.markerPlacement&&(0,M.zr)(h.markerPlacement))&&"fill"===D||(0,M.jn)(h)&&"outline"===D)continue}else if((0,M.mA)(h)||(0,M.MM)(h)&&h.markerPlacement&&(0,M.zr)(h.markerPlacement))continue;const U=i.toArray();switch(h.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":h.tintColor=U;break;case"CIMVectorMarker":h.markerGraphics?.forEach(D=>{G(D.symbol,i,y)});break;case"CIMSolidStroke":case"CIMSolidFill":h.color=U;break;case"CIMHatchFill":G(h.lineSymbol,i,y)}}}},8134:(tt,K,f)=>{f.d(K,{$4:()=>V,O0:()=>e,O1:()=>i,Sw:()=>y,eH:()=>X,rc:()=>J});var I=f(90261),M=f(68677),S=f(89563),z=f(33087),E=f(67685),j=f(76926);const A="picture-fill",W="simple-fill",O="simple-line",N="simple-marker",k="text",H="cim",Z=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),G=new z.q(1e3);function X(l){const _=l.style;let h=null;if(l)switch(l.type){case N:"cross"!==_&&"x"!==_&&(h=l.color);break;case W:_&&"solid"!==_?"none"!==_&&(h={type:"pattern",x:0,y:0,src:(0,I.s)(`esri/symbols/patterns/${_}.png`),width:5,height:5}):h=l.color;break;case A:h={type:"pattern",src:l.url,width:(0,E.Lz)(l.width)*l.xscale,height:(0,E.Lz)(l.height)*l.yscale,x:(0,E.Lz)(l.xoffset),y:(0,E.Lz)(l.yoffset)};break;case k:h=l.color;break;case H:h=(0,j.Nk)(l)}return h}function J(l,_){const h=l+"-"+_;return void 0!==G.get(h)?Promise.resolve(G.get(h)):(0,S.A)(l,{responseType:"image"}).then(U=>{const D=U.data,x=D.naturalWidth,R=D.naturalHeight,B=document.createElement("canvas");B.width=x,B.height=R;const Y=B.getContext("2d");Y.fillStyle=_,Y.fillRect(0,0,x,R),Y.globalCompositeOperation="destination-in",Y.drawImage(D,0,0);const $=B.toDataURL();return G.put(h,$),$})}function V(l){if(!l)return null;let _=null;switch(l.type){case W:case A:case N:_=V(l.outline);break;case O:{const h=(0,E.Lz)(l.width);null!=l.style&&"none"!==l.style&&0!==h&&(_={color:l.color,style:i(l.style),width:h,cap:l.cap,join:"miter"===l.join?(0,E.Lz)(l.miterLimit):l.join},_.dashArray=e(_).join(",")||"none");break}default:_=null}return _}function e(l){if(!l?.style)return[];const{dashArray:_,style:h,width:U}=l;if("string"==typeof _&&"none"!==_)return _.split(",").map(R=>Number(R));const D=U??0,x=Z.has(h)?Z.get(h).map(R=>R*D):[];if("butt"!==l.cap)for(const[R,B]of x.entries())x[R]=R%2==1?B+D:Math.max(B-D,1);return x}const i=(()=>{const l={};return _=>{if(l[_])return l[_];const h=_.replaceAll("-","");return l[_]=h,h}})(),y=new M.A([128,128,128])},83393:(tt,K,f)=>{f.d(K,{$d:()=>X,GG:()=>b,N7:()=>J,Sx:()=>V,UQ:()=>m,di:()=>T,dt:()=>_,f3:()=>w,k_:()=>G});var I=f(10467),M=f(68677),S=f(89447),E=(f(3248),f(67685)),j=f(25866),A=f(72211),W=f(76926),O=f(8134),N=f(74760),k=f(94048);const H=new M.A("white");function G(n){if(!n)return 0;if((0,k.wk)(n)){const a=function Z(n){const a=n.symbolLayers?.at(-1);if(a&&"outline"in a)return a?.outline?.size}(n);return a??0}return(0,E.PN)((0,O.$4)(n)?.width)}function X(n){if(null==n||!("symbolLayers"in n)||null==n.symbolLayers)return!1;switch(n.type){case"point-3d":return n.symbolLayers.some(a=>"object"===a.type);case"line-3d":return n.symbolLayers.some(a=>"path"===a.type);case"polygon-3d":return n.symbolLayers.some(a=>"object"===a.type||"extrude"===a.type);default:return!1}}function J(n){return n.resource?.href??""}function V(n,a){if(!n)return null;let d=null;return(0,k.wk)(n)?d=function e(n){const a=n.symbolLayers;if(!a)return null;let d=null;return a.forEach(g=>{"object"===g.type&&g.resource?.href||(d="water"===g.type?g.color:g.material?g.material.color:null)}),d?new M.A(d):null}(n):(0,k.$y)(n)&&(d="cim"===n.type?(0,W.Nk)(n):n.color?new M.A(n.color):null),d?i(d,a):null}function i(n,a){if(null==a||null==n)return n;const d=n.toRgba();return d[3]=d[3]*a,new M.A(d)}function _(n,a,d){n&&(a||null!=d)&&(a&&(a=new M.A(a)),(0,k.wk)(n)?function y(n,a,d){const g=n.symbolLayers;if(!g)return;const P=v=>i(a=a??v??(null!=d?H:null),d);g.forEach(v=>{if("object"!==v.type||!v.resource?.href||a)if("water"===v.type)v.color=P(v.color);else{const nt=P(null!=v.material?v.material.color:null);null==v.material?v.material=new N.N({color:nt}):v.material.color=nt,null!=d&&"outline"in v&&null!=v.outline?.color&&(v.outline.color=i(v.outline.color,d))}})}(n,a,d):(0,k.$y)(n)&&function l(n,a,d){(a=a??n.color)&&(n.color=i(a,d)),null!=d&&"outline"in n&&n.outline?.color&&(n.outline.color=i(n.outline.color,d))}(n,a,d))}function U(){return U=(0,I.A)(function*(n,a){const d=n.symbolLayers;d&&(yield(0,S.jJ)(d,function(){var g=(0,I.A)(function*(P){return function D(n,a){return x.apply(this,arguments)}(P,a)});return function(P){return g.apply(this,arguments)}}()))}),U.apply(this,arguments)}function x(){return x=(0,I.A)(function*(n,a){switch(n.type){case"extrude":!function Y(n,a){n.size="number"==typeof a[2]?a[2]:0}(n,a);break;case"icon":case"line":case"text":!function R(n,a){const d=B(a);null!=d&&(n.size=d)}(n,a);break;case"path":!function ot(n,a){const d=L(a,j.Un,[n.width,void 0,n.height]);n.width=u(a[0],n.width,1,d),n.height=u(a[2],n.height,1,d)}(n,a);break;case"object":yield function $(n,a){return et.apply(this,arguments)}(n,a)}}),x.apply(this,arguments)}function B(n){for(const a of n)if("number"==typeof a)return a;return null}function et(){return et=(0,I.A)(function*(n,a){const{resourceSize:d,symbolSize:g}=yield function Q(n){return c.apply(this,arguments)}(n),P=L(a,d,g);n.width=u(a[0],g[0],d[0],P),n.depth=u(a[1],g[1],d[1],P),n.height=u(a[2],g[2],d[2],P)}),et.apply(this,arguments)}function L(n,a,d){for(let g=0;g<3;g++){const P=n[g];switch(P){case"symbol-value":{const v=d[g];return null!=v?v/a[g]:1}case"proportional":break;default:if(P&&a[g])return P/a[g]}}return 1}function c(){return(c=(0,I.A)(function*(n){const{computeObjectLayerResourceSize:a}=yield f.e(5020).then(f.bind(f,75020)),d=yield a(n,10),{width:g,height:P,depth:v}=n,q=[g,v,P];let nt=1;for(let F=0;F<3;F++){const st=q[F];if(null!=st){nt=st/d[F];break}}for(let F=0;F<3;F++)null==q[F]&&(q[F]=d[F]*nt);return{resourceSize:d,symbolSize:q}})).apply(this,arguments)}function u(n,a,d,g){switch(n){case"proportional":return d*g;case"symbol-value":return a??d;default:return n}}function m(n,a){return C.apply(this,arguments)}function C(){return C=(0,I.A)(function*(n,a){if(n&&a)return(0,k.wk)(n)?function h(n,a){return U.apply(this,arguments)}(n,a):void((0,k.$y)(n)&&function p(n,a){const d=B(a);if(null!=d)switch(n.type){case"simple-marker":n.size=d;break;case"picture-marker":{const g=n.width/n.height;g>1?(n.width=d,n.height=d*g):(n.width=d*g,n.height=d);break}case"simple-line":n.width=d;break;case"text":n.font.size=d}}(n,a))}),C.apply(this,arguments)}function b(n,a,d){if(n&&null!=a)if((0,k.wk)(n)){const g=n.symbolLayers;g&&g.forEach(P=>{if("object"===P.type)switch(d){case"tilt":P.tilt=(P.tilt??0)+a;break;case"roll":P.roll=(P.roll??0)+a;break;default:P.heading=(P.heading??0)+a}"icon"===P.type&&(P.angle+=a)})}else(0,k.$y)(n)&&("simple-marker"!==n.type&&"picture-marker"!==n.type&&"text"!==n.type||(n.angle+=a))}function T(n){if(!n)return null;const a=n.effects.filter(d=>"bloom"!==d.type).map(d=>d.toJSON());return(0,A.zu)(a)}function w(n){return null!=n&&"polygon-3d"===n.type&&n.symbolLayers.some(a=>"extrude"===a.type)}},9976:(tt,K,f)=>{f.r(K),f.d(K,{GraphicsSnappingSource:()=>L});var I=f(10467),M=f(8189),S=f(98877),z=f(89952),E=f(89447),j=f(14784),A=f(56492),W=f(48900),O=f(85211),H=(f(3248),f(35150),f(76576)),Z=f(56985),G=f(55861),X=f(13970),J=f(15584),V=f(6434),e=f(31732),i=f(42086),y=f(17256),l=f(64373),_=f(47960),h=f(73258),U=f(73812),D=f(83393),x=f(3548),R=f(8763),B=f(97083),Y=f(25206),$=f(16397),et=f(34150);const ot="graphics-collections";let L=class extends S.A{get updating(){return this._updatingHandles.updating}get _hasZ(){const c=this.view;return null!=c&&"3d"===c.type&&"map-notes"!==this.layerSource.layer.type}get _snappingElevationAligner(){const{view:c}=this,{layer:u}=this.layerSource,p=null!=c&&"3d"===c.type;if(!p||"map-notes"===u.type)return(0,B.n)();const m=function(){var C=(0,I.A)(function*(b,T){return(yield(0,A.qr)(c.whenLayerView(u),T)).elevationAlignPointsInFeatures(b,T)});return function(T,w){return C.apply(this,arguments)}}();return(0,B.n)(p,{elevationInfo:u.elevationInfo,alignPointsInFeatures:m})}get _snappingElevationFilter(){const{view:c}=this;return(0,Y.z)(null!=c&&"3d"===c.type&&"map-notes"!==this.layerSource.layer.type)}get _symbologySnappingFetcher(){const{view:c}=this,{layer:u}=this.layerSource,m=this._extrudedPolygonSymbolsCount>0;return null!=c&&"3d"===c.type&&"map-notes"!==u.type&&m?(0,$.H)(m,function(){var C=(0,I.A)(function*(b,T){const w=yield c.whenLayerView(u);return(0,A.Te)(T),w.queryForSymbologySnapping({candidates:b,spatialReference:c.spatialReference},T)});return function(b,T){return C.apply(this,arguments)}}()):(0,$.H)()}constructor(c){super(c),this.availability=1,this._sources={multipoint:null,point:null,polygon:null,polyline:null},this._loadedWkids=new Set,this._loadedWkts=new Set,this._pendingAdds=[],this._extrudedPolygonSymbolsCount=0,this._updatingHandles=new Z.U,this._memoizedMakeGetGroundElevation=(0,j.B)(R.p)}destroy(){for(const c of this._pendingAdds)c.task.abort();this._pendingAdds.length=0,this._mapSources(c=>this._destroySource(c)),this._updatingHandles.destroy()}initialize(){this._updatingHandles.add(()=>this.getGraphicsLayers(),p=>{this._updatingHandles.removeHandles(ot);for(const m of p)this._addMany(m.graphics.toArray()),this.addHandles([m.on("graphic-update",C=>this._onGraphicUpdate(C)),this._updatingHandles.addOnCollectionChange(()=>m.graphics,C=>this._onGraphicsChanged(C))],ot)},W.Vh);const{view:c}=this,{layer:u}=this.layerSource;null!=c&&"3d"===c.type&&"map-notes"!==u.type&&c.elevationProvider&&this.addHandles([c.elevationProvider.on("elevation-change",({context:p})=>{(0,U.Up)(p,u.elevationInfo)&&this._snappingElevationAligner.notifyElevationSourceChange()}),(0,W.wB)(()=>u.elevationInfo,()=>this._snappingElevationAligner.notifyElevationSourceChange(),W.Vh),(0,W.on)(()=>u,["edits","apply-edits","graphic-update"],()=>this._symbologySnappingFetcher.notifySymbologyChange())])}fetchCandidates(c,u){var p=this;return(0,I.A)(function*(){const{point:m,coordinateHelper:{spatialReference:C}}=c,b=yield(0,A.nA)(p._mapSources(n=>p._fetchCandidatesForSource(n,c,u)));(0,A.Te)(u);const T=p._memoizedMakeGetGroundElevation(p.view,C),w=b.flat().map(n=>(0,R.$)(n,T));return(0,x.xX)(m,w),w})()}_fetchCandidatesForSource(c,u,p){var m=this;return(0,I.A)(function*(){const C=(0,x.nf)(u,m.view?.type??"2d"),b=yield(0,y.J)(c.queryEngine,C,p);(0,A.Te)(p);const T=yield m._snappingElevationAligner.alignCandidates(b.candidates,u.coordinateHelper.spatialReference,p);(0,A.Te)(p);const w=yield m._symbologySnappingFetcher.fetch(T,p);(0,A.Te)(p);const n=0===w.length?T:[...T,...w];return m._snappingElevationFilter.filter(C,n)})()}refresh(){}_onGraphicUpdate(c){if(this.getGraphicsLayers().some(u=>u.graphics.includes(c.graphic)))switch(c.property){case"geometry":case"visible":this._remove(c.graphic),this._addMany([c.graphic])}}_onGraphicsChanged(c){for(const u of c.removed)this._remove(u);this._addMany(c.added)}_addMany(c){const u=[],p=new Map;for(const m of c)null!=m.geometry&&(this._needsInitializeProjection(m.geometry.spatialReference)?(u.push(m.geometry.spatialReference),p.set(m.uid,m)):this._add(m));this._createPendingAdd(u,p)}_createPendingAdd(c,u){var p=this;if(!c.length)return;const m=(0,E.UT)(function(){var T=(0,I.A)(function*(w){yield(0,X.initializeProjection)(c.map(n=>({source:n,dest:p.spatialReference})),{signal:w}),p._markLoadedSpatialReferences(c);for(const n of u.values())p._add(n)});return function(w){return T.apply(this,arguments)}}());this._updatingHandles.addPromise(m.promise);const C={task:m,graphics:u},b=()=>(0,z.Xy)(this._pendingAdds,C);m.promise.then(b,b),this._pendingAdds.push(C)}_markLoadedSpatialReferences(c){for(const u of c){null!=u.wkid&&this._loadedWkids.add(u.wkid);const p=u.wkt2||u.wkt;p&&this._loadedWkts.add(p)}}_add(c){if(null==c.geometry||!c.visible)return;let u=c.geometry;if("mesh"===u.type)return;"extent"===u.type&&(u=G.A.fromExtent(u));const p=this._ensureSource(u.type);if(null==p)return;const m=this._createOptimizedFeature(c.uid,u);null!=m&&(p.featureStore.add(m),(0,D.f3)(c.symbol)&&this._extrudedPolygonSymbolsCount++)}_needsInitializeProjection(c){if(null!=c.wkid&&this._loadedWkids.has(c.wkid))return!1;const u=c.wkt2||c.wkt;return!(u&&this._loadedWkts.has(u)||(0,X.canProjectWithoutEngine)(c,this.spatialReference))}_createOptimizedFeature(c,u){const p=(0,X.project)((0,J.b3)(u),this.spatialReference);if(!p)return null;const m=this._ensureGeometryHasZ(p),C=(0,e.Ux)(m,this._hasZ,!1);return new i.Om(C,{[Q]:c},null,c)}_ensureGeometryHasZ(c){if(!this._hasZ)return c;const u=m=>{for(;m.length<3;)m.push(0)},p=c.clone();switch(p.hasZ=!0,p.type){case"point":p.z=p.z??0;break;case"multipoint":p.points.forEach(u);break;case"polyline":p.paths.forEach(m=>m.forEach(u));break;case"polygon":p.rings.forEach(m=>m.forEach(u))}return p}_ensureSource(c){const u=this._sources[c];if(null!=u)return u;const p=this._createSource(c);return this._sources[c]=p,p}_createSource(c){const u=V.gy.toJSON(c),p=this._hasZ,m=new l.A({geometryType:u,hasZ:p,hasM:!1});return{featureStore:m,queryEngine:new _.do({featureStore:m,fieldsIndex:h.A.fromLayerJSON({fields:[{name:Q,type:"esriFieldTypeOID",alias:Q}]}),geometryType:u,hasM:!1,hasZ:p,objectIdField:Q,spatialReference:this.spatialReference,priority:et.W6.SNAPPING,scheduler:null!=this.view&&"3d"===this.view.type?this.view.resourceController.scheduler:null}),type:c}}_remove(c){this._mapSources(u=>this._removeFromSource(u,c));for(const u of this._pendingAdds)u.graphics.delete(c.uid),0===u.graphics.size&&u.task.abort()}_removeFromSource(c,u){c.featureStore.has(u.uid)&&(c.featureStore.removeById(u.uid),(0,D.f3)(u.symbol)&&this._extrudedPolygonSymbolsCount--)}_destroySource(c){c.queryEngine.destroy(),this._sources[c.type]=null}_mapSources(c){const{point:u,polygon:p,polyline:m,multipoint:C}=this._sources,b=[];return null!=u&&b.push(c(u)),null!=p&&b.push(c(p)),null!=m&&b.push(c(m)),null!=C&&b.push(c(C)),b}};(0,M._)([(0,O.MZ)()],L.prototype,"getGraphicsLayers",void 0),(0,M._)([(0,O.MZ)({constructOnly:!0})],L.prototype,"layerSource",void 0),(0,M._)([(0,O.MZ)({constructOnly:!0})],L.prototype,"spatialReference",void 0),(0,M._)([(0,O.MZ)({constructOnly:!0})],L.prototype,"view",void 0),(0,M._)([(0,O.MZ)({readOnly:!0})],L.prototype,"updating",null),(0,M._)([(0,O.MZ)({readOnly:!0})],L.prototype,"availability",void 0),(0,M._)([(0,O.MZ)()],L.prototype,"_hasZ",null),(0,M._)([(0,O.MZ)()],L.prototype,"_snappingElevationAligner",null),(0,M._)([(0,O.MZ)()],L.prototype,"_snappingElevationFilter",null),(0,M._)([(0,O.MZ)()],L.prototype,"_symbologySnappingFetcher",null),(0,M._)([(0,O.MZ)()],L.prototype,"_extrudedPolygonSymbolsCount",void 0),L=(0,M._)([(0,H.$)("esri.views.interactive.snapping.featureSources.GraphicsSnappingSource")],L);const Q="OBJECTID"},93151:(tt,K,f)=>{f.d(K,{_:()=>S});var I=f(28714),M=f(77171);class S extends M.m{constructor(E,j,A){super(j,A),this.point=E}equals(E){return E instanceof S&&(0,I.p)(this.point,E.point)}}}}]);