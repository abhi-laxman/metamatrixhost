"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[1501],{83882:(U,J,m)=>{m.r(J),m.d(J,{registerFunctions:()=>Y});var y=m(10467),_=m(45369),D=m(53787),o=m(55279),w=m(73446),i=m(42686),E=m(32832),v=m(65933),c=m(45211),N=m(28067),h=m(68643),M=m(21870),C=m(1749),I=m(55861),X=m(93615),p=m(61320),Z=m(73874),G=m(77469),b=m(89563);function $(a,t,e){return R.apply(this,arguments)}function R(){return(R=(0,y.A)(function*(a,t,e){if(!G.id?.findCredential(a.restUrl))return null;if("loaded"===a.loadStatus&&""===t&&a.user?.sourceJSON&&!1===e)return a.user.sourceJSON;const f={responseType:"json",query:{f:"json"}};if(e&&(f.query.returnUserLicenseTypeExtensions=!0),""===t){const n=yield(0,b.A)(a.restUrl+"/community/self",f);if(n.data){const u=n.data;if(u?.username)return u}return null}const r=yield(0,b.A)(a.restUrl+"/community/users/"+t,f);if(r.data){const n=r.data;return n.error?null:n}return null})).apply(this,arguments)}var O=m(68778);function g(a){if(null==a)return a;switch(typeof a){case"string":case"number":return a;default:throw new o.D$(null,o.TX.InvalidParameter,null)}}function Y(a){"async"===a.mode&&(a.functions.disjoint=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null===r[0]||null===r[1]||(0,c.C)("disjoint",[r[0].toJSON(),r[1].toJSON()])))},a.functions.intersects=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("intersects",[r[0].toJSON(),r[1].toJSON()])))},a.functions.touches=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("touches",[r[0].toJSON(),r[1].toJSON()])))},a.functions.crosses=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("crosses",[r[0].toJSON(),r[1].toJSON()])))},a.functions.within=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("within",[r[0].toJSON(),r[1].toJSON()])))},a.functions.contains=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("contains",[r[0].toJSON(),r[1].toJSON()])))},a.functions.overlaps=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>(r=(0,i.E)(r),(0,v.ZL)(r,t,e),null!==r[0]&&null!==r[1]&&(0,c.C)("overlaps",[r[0].toJSON(),r[1].toJSON()])))},a.functions.equals=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>((0,i.D)(r,2,2,t,e),r[0]===r[1]||(r[0]instanceof h.A&&r[1]instanceof h.A?(0,c.C)("equals",[r[0].toJSON(),r[1].toJSON()]):((0,i.g)(r[0])&&(0,i.g)(r[1])||!!((0,i.k)(r[0])&&(0,i.k)(r[1])||(0,i.j)(r[0])&&(0,i.j)(r[1])))&&r[0].equals(r[1]))))},a.functions.relate=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>{if(r=(0,i.E)(r),(0,i.D)(r,3,3,t,e),r[0]instanceof h.A&&r[1]instanceof h.A)return(0,c.C)("relate",[r[0].toJSON(),r[1].toJSON(),(0,i.f)(r[2])]);if(r[0]instanceof h.A&&null===r[1]||r[1]instanceof h.A&&null===r[0]||null===r[0]&&null===r[1])return!1;throw new o.D$(t,o.TX.InvalidParameter,e)})},a.functions.intersection=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){return n=(0,i.E)(n),(0,v.ZL)(n,t,e),null===n[0]||null===n[1]?null:(0,p.rS)(yield(0,c.C)("intersection",[n[0].toJSON(),n[1].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.union=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(0===(n=(0,i.E)(n)).length)throw new o.D$(t,o.TX.WrongNumberOfParameters,e);const u=[];if(1===n.length)if((0,O.cy)(n[0])){for(const s of(0,i.E)(n[0]))if(null!==s){if(!(s instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);u.push(s.toJSON())}}else{if(!(0,i.m)(n[0])){if(n[0]instanceof h.A)return(0,i.u)((0,w.Yq)(n[0]),t.spatialReference);if(null===n[0])return null;throw new o.D$(t,o.TX.InvalidParameter,e)}for(const s of(0,i.E)(n[0].toArray()))if(null!==s){if(!(s instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);u.push(s.toJSON())}}else for(const s of n)if(null!==s){if(!(s instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);u.push(s.toJSON())}return 0===u.length?null:(0,p.rS)(yield(0,c.C)("union",[u]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.difference=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){return n=(0,i.E)(n),(0,v.ZL)(n,t,e),null===n[0]?null:null===n[1]?(0,w.Yq)(n[0]):(0,p.rS)(yield(0,c.C)("difference",[n[0].toJSON(),n[1].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.symmetricdifference=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){return n=(0,i.E)(n),(0,v.ZL)(n,t,e),null===n[0]&&null===n[1]?null:null===n[0]?(0,w.Yq)(n[1]):null===n[1]?(0,w.Yq)(n[0]):(0,p.rS)(yield(0,c.C)("symmetricDifference",[n[0].toJSON(),n[1].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.clip=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,2,t,e),!(n[1]instanceof N.A)&&null!==n[1])throw new o.D$(t,o.TX.InvalidParameter,e);if(null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return null===n[1]?null:(0,p.rS)(yield(0,c.C)("clip",[n[0].toJSON(),n[1].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.cut=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,2,t,e),!(n[1]instanceof X.A)&&null!==n[1])throw new o.D$(t,o.TX.InvalidParameter,e);if(null===n[0])return[];if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return null===n[1]?[(0,w.Yq)(n[0])]:(yield(0,c.C)("cut",[n[0].toJSON(),n[1].toJSON()])).map(u=>(0,p.rS)(u))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.area=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if((0,i.D)(n,1,2,t,e),n=(0,i.E)(n),(0,i.p)(n[0])){const s=yield n[0].sumArea(g(n[1]),!1,t.abortSignal);if(t.abortSignal.aborted)throw new o.D$(t,o.TX.Cancelled,e);return s}let u=n[0];if(((0,O.cy)(u)||(0,i.m)(u))&&(u=(0,i.F)(n[0],t.spatialReference)),null===u)return 0;if(!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("area",[u.toJSON(),g(n[1])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.areageodetic=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if((0,i.D)(n,1,2,t,e),n=(0,i.E)(n),(0,i.p)(n[0])){const s=yield n[0].sumArea(g(n[1]),!0,t.abortSignal);if(t.abortSignal.aborted)throw new o.D$(t,o.TX.Cancelled,e);return s}let u=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(u=(0,i.F)(n[0],t.spatialReference)),null===u)return 0;if(!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("geodeticArea",[u.toJSON(),g(n[1])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.length=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if((0,i.D)(n,1,2,t,e),n=(0,i.E)(n),(0,i.p)(n[0])){const s=yield n[0].sumLength(g(n[1]),!1,t.abortSignal);if(t.abortSignal.aborted)throw new o.D$(t,o.TX.Cancelled,e);return s}let u=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(u=(0,i.G)(n[0],t.spatialReference)),null===u)return 0;if(!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("length",[u.toJSON(),g(n[1])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.length3d=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if((0,i.D)(n,1,2,t,e),null===(n=(0,i.E)(n))[0])return 0;let u=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(u=(0,i.G)(n[0],t.spatialReference)),null===u)return 0;if(!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);if(!0===u.hasZ){const{convertFromSpatialReferenceUnit:s,toLengthUnit:A}=yield Promise.resolve().then(m.bind(m,79324)),d=(0,v.UI)(u);return s(u.spatialReference,A(n[1]),d)}return(0,c.C)("length",[u.toJSON(),g(n[1])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.lengthgeodetic=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if((0,i.D)(n,1,2,t,e),n=(0,i.E)(n),(0,i.p)(n[0])){const s=yield n[0].sumLength(g(n[1]),!0,t.abortSignal);if(t.abortSignal.aborted)throw new o.D$(t,o.TX.Cancelled,e);return s}let u=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(u=(0,i.G)(n[0],t.spatialReference)),null===u)return 0;if(!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("geodeticLength",[u.toJSON(),g(n[1])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.distance=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){n=(0,i.E)(n),(0,i.D)(n,2,3,t,e);let u=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(u=(0,i.H)(n[0],t.spatialReference)),!(u instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);let s=n[1];if(((0,O.cy)(n[1])||(0,i.m)(n[1]))&&(s=(0,i.H)(n[1],t.spatialReference)),!(s instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("distance",[u.toJSON(),s.toJSON(),g(n[2])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.distancegeodetic=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){n=(0,i.E)(n),(0,i.D)(n,2,3,t,e);const u=n[0];if(!(u instanceof C.A))throw new o.D$(t,o.TX.InvalidParameter,e);const s=n[1];if(!(s instanceof C.A))throw new o.D$(t,o.TX.InvalidParameter,e);const A=new X.A({paths:[],spatialReference:u.spatialReference});return A.addPath([u,s]),(0,c.C)("geodeticLength",[A.toJSON(),g(n[2])])});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.densify=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,3,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);if(u<=0)throw new o.D$(t,o.TX.InvalidParameter,e);switch(n[0].type){case"polygon":case"polyline":case"extent":return(0,p.rS)(yield(0,c.C)("densify",[n[0].toJSON(),u,g(n[2])]));default:return n[0]}});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.densifygeodetic=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,3,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);if(u<=0)throw new o.D$(t,o.TX.InvalidParameter,e);switch(n[0].type){case"polygon":case"polyline":case"extent":return(0,p.rS)(yield(0,c.C)("geodeticDensify",[n[0].toJSON(),u,g(n[2])]));default:return n[0]}});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.generalize=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,4,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);const s=(0,i.e)((0,i.J)(n[2],!0));return(0,p.rS)(yield(0,c.C)("generalize",[n[0].toJSON(),u,g(n[3]),{removeDegenerateParts:s}]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.buffer=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,3,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);return 0===u?(0,w.Yq)(n[0]):(0,p.rS)(yield(0,c.C)("buffer",[n[0].toJSON(),u,g(n[2])]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.buffergeodetic=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,3,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);return 0===u?(0,w.Yq)(n[0]):(0,p.rS)(yield(0,c.C)("geodesicBuffer",[n[0].toJSON(),u,g(n[2])]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.offset=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,6,t,e),null===n[0])return null;if(!(n[0]instanceof I.A||n[0]instanceof X.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=(0,i.t)(n[1]);if(isNaN(u))throw new o.D$(t,o.TX.InvalidParameter,e);const s=(0,i.f)(n[3]??"round").toLowerCase();let A;switch(s){case"round":case"bevel":case"miter":case"square":A=s;break;default:A="round"}const d=(0,i.t)((0,i.J)(n[4],10));if(isNaN(d))throw new o.D$(t,o.TX.InvalidParameter,e);const x=(0,i.t)((0,i.J)(n[5],0));if(isNaN(x))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,p.rS)(yield(0,c.C)("offset",[n[0].toJSON(),u,g(n[2]),{joins:A,miterLimit:d,flattenError:x}]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.rotate=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,3,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);const u=n[0]instanceof N.A?I.A.fromExtent(n[0]):n[0],s=(0,i.t)(n[1]);if(isNaN(s))throw new o.D$(t,o.TX.InvalidParameter,e);const A=(0,i.J)(n[2],null);if(null===A){const d="point"===u.type?u:u.extent?.center;return(0,p.rS)(yield(0,c.C)("rotate",[u.toJSON(),s,d?.x,d?.y]))}if(A instanceof C.A)return(0,p.rS)(yield(0,c.C)("rotate",[u.toJSON(),s,A.x,A.y]));throw new o.D$(t,o.TX.InvalidParameter,e)});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.centroid=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,1,2,t,e),null===n[0])return null;const u=(0,i.f)(n[1]??"geometric").toLowerCase();if("geometric"!==u&&"labelpoint"!==u)throw new o.D$(t,o.TX.InvalidParameter,e);let s=n[0];if(((0,O.cy)(n[0])||(0,i.m)(n[0]))&&(s="geometric"===u?(0,i.H)(n[0],t.spatialReference):(0,i.F)(n[0],t.spatialReference),null===s))return null;if(!(s instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,p.rS)("geometric"===u?yield(0,c.C)("centroid",[s.toJSON()]):yield(0,c.C)("labelPoint",[s.toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.measuretocoordinate=function(t,e){return a.standardFunctionAsync(t,e,v.Cd)},a.functions.pointtocoordinate=function(t,e){return a.standardFunctionAsync(t,e,v.kr)},a.functions.distancetocoordinate=function(t,e){return a.standardFunctionAsync(t,e,v.Bn)},a.functions.multiparttosinglepart=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,1,1,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);if(n[0]instanceof C.A)return[(0,i.u)((0,w.Yq)(n[0]),t.spatialReference)];if(n[0]instanceof N.A)return[(0,i.u)((0,w.Yq)(n[0]),t.spatialReference)];const u=(0,p.rS)(yield(0,c.C)("simplify",[n[0].toJSON()]));if(u instanceof I.A){const s=[],A=[];for(let d=0;d<u.rings.length;d++)if(u.isClockwise(u.rings[d])){const x=(0,p.rS)({rings:[u.rings[d]],hasZ:!0===u.hasZ,hasM:!0===u.hasM,spatialReference:u.spatialReference.toJSON()});s.push(x)}else A.push({ring:u.rings[d],pt:u.getPoint(d,0)});for(let d=0;d<A.length;d++)for(let x=0;x<s.length;x++)if(s[x].contains(A[d].pt)){s[x].addRing(A[d].ring);break}return s}if(u instanceof X.A){const s=[];for(let A=0;A<u.paths.length;A++){const d=(0,p.rS)({paths:[u.paths[A]],hasZ:!0===u.hasZ,hasM:!0===u.hasM,spatialReference:u.spatialReference.toJSON()});s.push(d)}return s}if(n[0]instanceof M.A){const s=[],A=(0,i.u)((0,w.Yq)(n[0]),t.spatialReference);for(let d=0;d<A.points.length;d++)s.push(A.getPoint(d));return s}return null});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.issimple=function(t,e){return a.standardFunctionAsync(t,e,(l,f,r)=>{if(r=(0,i.E)(r),(0,i.D)(r,1,1,t,e),null===r[0])return!0;if(!(r[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,c.C)("isSimple",[r[0].toJSON()])})},a.functions.simplify=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,1,1,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,p.rS)(yield(0,c.C)("simplify",[n[0].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.convexhull=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,1,1,t,e),null===n[0])return null;if(!(n[0]instanceof h.A))throw new o.D$(t,o.TX.InvalidParameter,e);return(0,p.rS)(yield(0,c.C)("convexHull",[n[0].toJSON()]))});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.getuser=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){(0,i.D)(n,0,2,t,e);let u=(0,i.J)(n[1],""),s=!0===u;if(u=!0===u||!1===u?"":(0,i.f)(u),0===n.length||n[0]instanceof _.A){let d;d=t.services?.portal?t.services.portal:Z.A.getDefault(),n.length>0&&(d=(0,E.R)(n[0],d));const x=yield $(d,u,s);if(x){const P=JSON.parse(JSON.stringify(x));for(const S of["lastLogin","created","modified"])null!=P[S]&&(P[S]=new Date(P[S]));return D.A.convertObjectToArcadeDictionary(P,(0,i.K)(t))}return null}let A=null;if((0,i.p)(n[0])&&(A=n[0]),A){if(s=!1,u)return null;yield A.load();const d=yield A.getOwningSystemUrl();if(!d){if(!u){const S=yield A.getIdentityUser();return S?D.A.convertObjectToArcadeDictionary({username:S},(0,i.K)(t)):null}return null}let x;x=t.services?.portal?t.services.portal:Z.A.getDefault(),x=(0,E.R)(new _.A(d),x);const P=yield $(x,u,s);if(P){const S=JSON.parse(JSON.stringify(P));for(const F of["lastLogin","created","modified"])null!=S[F]&&(S[F]=new Date(S[F]));return D.A.convertObjectToArcadeDictionary(S,(0,i.K)(t))}return null}throw new o.D$(t,o.TX.InvalidParameter,e)});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.nearestcoordinate=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,2,t,e),!(n[0]instanceof h.A||null===n[0]))throw new o.D$(t,o.TX.InvalidParameter,e);if(!(n[1]instanceof C.A||null===n[1]))throw new o.D$(t,o.TX.InvalidParameter,e);if(null===n[0]||null===n[1])return null;const u=n[0]instanceof N.A?I.A.fromExtent(n[0]):n[0],s=yield(0,c.C)("getNearestCoordinate",[u.toJSON(),n[1].toJSON(),{calculateLeftRightSide:!0}]);return null===s?null:D.A.convertObjectToArcadeDictionary({coordinate:(0,p.rS)(s.coordinate),distance:s.distance,sideOfLine:0===s.distance?"straddle":s.rightSide?"right":"left"},(0,i.K)(t),!1,!0)});return function(f,r,n){return l.apply(this,arguments)}}())},a.functions.nearestvertex=function(t,e){return a.standardFunctionAsync(t,e,function(){var l=(0,y.A)(function*(f,r,n){if(n=(0,i.E)(n),(0,i.D)(n,2,2,t,e),!(n[0]instanceof h.A||null===n[0]))throw new o.D$(t,o.TX.InvalidParameter,e);if(!(n[1]instanceof C.A||null===n[1]))throw new o.D$(t,o.TX.InvalidParameter,e);if(null===n[0]||null===n[1])return null;const u=n[0]instanceof N.A?I.A.fromExtent(n[0]):n[0],s=yield(0,c.C)("getNearestVertex",[u.toJSON(),n[1].toJSON()]);return null===s?null:D.A.convertObjectToArcadeDictionary({coordinate:(0,p.rS)(s.coordinate),distance:s.distance,sideOfLine:0===s.distance?"straddle":s.rightSide?"right":"left"},(0,i.K)(t),!1,!0)});return function(f,r,n){return l.apply(this,arguments)}}())})}},45211:(U,J,m)=>{m.d(J,{C:()=>E});var y=m(10467),_=m(19284);let D,o,w=!1;function E(c,N){return v.apply(this,arguments)}function v(){return(v=(0,y.A)(function*(c,N){return w?o.apply("invokeGeometryOp",[c,N]):(yield function i(){return D??=(0,_.ho)("arcadeGeometryOperatorsWorker").then(c=>{o=c,w=!0,D=void 0})}(),E(c,N))})).apply(this,arguments)}},32832:(U,J,m)=>{m.d(J,{R:()=>_});var y=m(73874);function _(D,o){return null===D?o:new y.A({url:D.field("url")})}}}]);