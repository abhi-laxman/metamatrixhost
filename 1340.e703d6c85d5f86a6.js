"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[1340,9557],{53781:(H,K,f)=>{f.d(K,{a:()=>P,b:()=>h,c:()=>v,d:()=>x,e:()=>L,f:()=>G,g:()=>I,h:()=>C,j:()=>w,l:()=>u,n:()=>U,s:()=>j,t:()=>g});var S=f(85952);function v(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function j(e,t,s,E,A){return e[0]=t,e[1]=s,e[2]=E,e[3]=A,e}function I(e,t,s){return e[0]=t[0]+s[0],e[1]=t[1]+s[1],e[2]=t[2]+s[2],e[3]=t[3]+s[3],e}function b(e,t,s){return e[0]=t[0]-s[0],e[1]=t[1]-s[1],e[2]=t[2]-s[2],e[3]=t[3]-s[3],e}function T(e,t,s){return e[0]=t[0]*s[0],e[1]=t[1]*s[1],e[2]=t[2]*s[2],e[3]=t[3]*s[3],e}function _(e,t,s){return e[0]=t[0]/s[0],e[1]=t[1]/s[1],e[2]=t[2]/s[2],e[3]=t[3]/s[3],e}function h(e,t,s){return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e}function N(e,t){const s=t[0]-e[0],E=t[1]-e[1],A=t[2]-e[2],l=t[3]-e[3];return Math.sqrt(s*s+E*E+A*A+l*l)}function x(e,t){const s=t[0]-e[0],E=t[1]-e[1],A=t[2]-e[2],l=t[3]-e[3];return s*s+E*E+A*A+l*l}function w(e){const t=e[0],s=e[1],E=e[2],A=e[3];return Math.sqrt(t*t+s*s+E*E+A*A)}function G(e){const t=e[0],s=e[1],E=e[2],A=e[3];return t*t+s*s+E*E+A*A}function U(e,t){const s=t[0],E=t[1],A=t[2],l=t[3];let R=s*s+E*E+A*A+l*l;return R>0&&(R=1/Math.sqrt(R),e[0]=s*R,e[1]=E*R,e[2]=A*R,e[3]=l*R),e}function C(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function u(e,t,s,E){const A=t[0],l=t[1],R=t[2],Z=t[3];return e[0]=A+E*(s[0]-A),e[1]=l+E*(s[1]-l),e[2]=R+E*(s[2]-R),e[3]=Z+E*(s[3]-Z),e}function g(e,t,s){const E=t[0],A=t[1],l=t[2],R=t[3];return e[0]=s[0]*E+s[4]*A+s[8]*l+s[12]*R,e[1]=s[1]*E+s[5]*A+s[9]*l+s[13]*R,e[2]=s[2]*E+s[6]*A+s[10]*l+s[14]*R,e[3]=s[3]*E+s[7]*A+s[11]*l+s[15]*R,e}function P(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function L(e,t){const s=e[0],E=e[1],A=e[2],l=e[3],R=t[0],Z=t[1],z=t[2],Y=t[3],J=(0,S.FD)();return Math.abs(s-R)<=J*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(E-Z)<=J*Math.max(1,Math.abs(E),Math.abs(Z))&&Math.abs(A-z)<=J*Math.max(1,Math.abs(A),Math.abs(z))&&Math.abs(l-Y)<=J*Math.max(1,Math.abs(l),Math.abs(Y))}Object.freeze(Object.defineProperty({__proto__:null,add:I,ceil:function n(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:v,copyVec3:function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:N,distance:N,div:_,divide:_,dot:C,equals:L,exactEquals:P,floor:function o(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function y(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:w,length:w,lerp:u,max:function i(e,t,s){return e[0]=Math.max(t[0],s[0]),e[1]=Math.max(t[1],s[1]),e[2]=Math.max(t[2],s[2]),e[3]=Math.max(t[3],s[3]),e},min:function c(e,t,s){return e[0]=Math.min(t[0],s[0]),e[1]=Math.min(t[1],s[1]),e[2]=Math.min(t[2],s[2]),e[3]=Math.min(t[3],s[3]),e},mul:T,multiply:T,negate:function a(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:U,random:function p(e,t=1){const s=S.Ov;let E,A,l,R,Z,z;do{E=2*s()-1,A=2*s()-1,Z=E*E+A*A}while(Z>=1);do{l=2*s()-1,R=2*s()-1,z=l*l+R*R}while(z>=1);const Y=Math.sqrt((1-Z)/z);return e[0]=t*E,e[1]=t*A,e[2]=t*l*Y,e[3]=t*R*Y,e},round:function r(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:h,scaleAndAdd:function m(e,t,s,E){return e[0]=t[0]+s[0]*E,e[1]=t[1]+s[1]*E,e[2]=t[2]+s[2]*E,e[3]=t[3]+s[3]*E,e},set:j,sqrDist:x,sqrLen:G,squaredDistance:x,squaredLength:G,str:function D(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:b,subtract:b,transformMat4:g,transformQuat:function M(e,t,s){const E=t[0],A=t[1],l=t[2],R=s[0],Z=s[1],z=s[2],Y=s[3],J=Y*E+Z*l-z*A,k=Y*A+z*E-R*l,X=Y*l+R*A-Z*E,ee=-R*E-Z*A-z*l;return e[0]=J*Y+ee*-R+k*-z-X*-Z,e[1]=k*Y+ee*-Z+X*-R-J*-z,e[2]=X*Y+ee*-z+J*-Z-k*-R,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},28250:(H,K,f)=>{function S(o){return null!=I(o)||null!=j(o)}function v(o){return b.test(o)}function d(o){return I(o)??j(o)}function j(o){const c=new Date(o);return function T(o,c){if(Number.isNaN(o.getTime()))return!1;let i=!0;if(n&&/\d+\W*$/.test(c)){const r=c.match(/[a-zA-Z]{2,}/);if(r){let h=!1,m=0;for(;!h&&m<=r.length;)h=!_.test(r[m]),m++;i=!h}}return i}(c,o)?Number.isNaN(c.getTime())?null:c.getTime()-6e4*c.getTimezoneOffset():null}function I(o){const c=b.exec(o);if(!c?.groups)return null;const i=c.groups,r=+i.year,h=+i.month-1,m=+i.day,N=+(i.hours??"0"),x=+(i.minutes??"0"),w=+(i.seconds??"0");if(N>23||x>59||w>59)return null;const G=i.ms??"0",a=G?+G.padEnd(3,"0").slice(0,3):0;let y;return y=i.isUTC||!i.offsetSign?Date.UTC(r,h,m,N,x,w,a):6e4*("+"===i.offsetSign?-1:1)*(60*+i.offsetHours+ +i.offsetMinutes)+Date.UTC(r,h,m,N,x,w,a),Number.isNaN(y)?null:y}f.d(K,{Br:()=>v,Cq:()=>S,_U:()=>d});const b=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,_=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,n=!Number.isNaN(new Date("technology 10").getTime())},89141:(H,K,f)=>{function S(){return[0,0,0,0]}function v(a){return[a[0],a[1],a[2],a[3]]}function d(a,y,U,C){return[a,y,U,C]}function j(a,y,U,C){return[a,y,U,C]}function I(a,y=[0,0,0,0]){const U=Math.min(4,a.length);for(let C=0;C<U;++C)y[C]=a[C];return y}function _(){return d(1,1,1,1)}function n(){return d(1,0,0,0)}function o(){return d(0,1,0,0)}function c(){return d(0,0,1,0)}function i(){return d(0,0,0,1)}f.d(K,{CN:()=>j,Un:()=>h,ci:()=>I,fA:()=>d,o8:()=>v,uY:()=>r,vt:()=>S});const r=[0,0,0,0],h=_(),m=n(),N=o(),x=c(),w=i();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_W:w,UNIT_X:m,UNIT_Y:N,UNIT_Z:x,ZEROS:r,clone:v,create:S,createView:function b(a,y){return new Float64Array(a,y,4)},freeze:j,fromArray:I,fromValues:d,ones:_,unitW:i,unitX:n,unitY:o,unitZ:c,zeros:function T(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},11445:(H,K,f)=>{f.d(K,{Qf:()=>_,Qh:()=>I,RS:()=>d,ez:()=>c,i5:()=>i,lM:()=>j,qK:()=>o});var S=f(79139);const d=16;function j(r){if(!r)return 0;let h=o;for(const m in r)r.hasOwnProperty(m)&&(h+=T(r[m],!1));return h}function I(r){if(!r)return 0;if("number"==typeof r[0])return _(r);if(Array.isArray(r))return function b(r){const h=r.length;if(0===h||"number"==typeof r[0])return n(r,8);let m=c;for(let N=0;N<h;N++)m+=T(r[N]);return m}(r);let h=o;for(const m in r)r.hasOwnProperty(m)&&(h+=T(r[m]));return h}function T(r,h=!0){switch(typeof r){case"object":return h?I(r):o;case"string":return function v(r){return 32+r.length}(r);case"number":return d;case"boolean":return 4;default:return 8}}function _(...r){return r.reduce((h,m)=>h+(m?(0,S.iu)(m)?m.byteLength+i:Array.isArray(m)?n(m,d):0:0),0)}function n(r,h){return c+r.length*h}const o=32,c=16,i=145},42086:(H,K,f)=>{f.d(K,{N3:()=>I,Om:()=>j});var S=f(11445),v=f(27999),d=f(13682);class j{constructor(_=null,n={},o,c,i=0){this.geometry=_,this.attributes=n,this.centroid=o,this.objectId=c,this.displayId=i}static fromJSON(_){const n=_.geometry?d.A.fromJSON(_.geometry):null,o=_.centroid?d.A.fromJSON(_.centroid):null;return new j(n,_.attributes,o,_.objectId)}weakClone(){const _=new j(this.geometry,this.attributes,this.centroid,this.objectId);return _.displayId=this.displayId,_}clone(){const _=this.geometry?.clone(),n=new j(_,{...this.attributes},this.centroid?.clone(),this.objectId);return n.displayId=this.displayId,n}ensureCentroid(_){return this.centroid??=(0,v.Q)(new d.A,this.geometry,_.hasZ,_.hasM),this.centroid}get usedMemory(){return 128+(0,S.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function I(T){return!!T.geometry?.coords?.length}},61808:(H,K,f)=>{f.d(K,{A:()=>S});class S{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const d=new S;return d.objectIdFieldName=this.objectIdFieldName,d.globalIdFieldName=this.globalIdFieldName,d.geohashFieldName=this.geohashFieldName,d.geometryProperties=this.geometryProperties,d.geometryType=this.geometryType,d.spatialReference=this.spatialReference,d.hasZ=this.hasZ,d.hasM=this.hasM,d.features=this.features,d.fields=this.fields,d.transform=this.transform,d.exceededTransferLimit=this.exceededTransferLimit,d.uniqueIdField=this.uniqueIdField,d.queryGeometry=this.queryGeometry,d.queryGeometryType=this.queryGeometryType,d}}},13682:(H,K,f)=>{f.d(K,{A:()=>d});var S=f(11445);class d{constructor(I=[],b=[]){this.lengths=I??[],this.coords=b??[]}static fromJSON(I){return new d(I.lengths,I.coords)}static fromRect(I){const[b,T,_,n]=I,o=_-b,c=n-T;return new d([5],[b,T,o,0,0,c,-o,0,0,-c])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((I,b)=>I+b)}get usedMemory(){return 64+(0,S.Qf)(this.lengths,this.coords)}area(){let I=0,b=0;if(!this.lengths.length)return 0;for(let T=0;T<this.lengths.length;T++){const _=this.lengths[T];if(_<3)continue;let n=this.coords[2*b],o=this.coords[2*b+1];for(let c=1;c<_;c+=1){const i=this.coords[2*(c+b)],r=this.coords[2*(c+b)+1];I+=-.5*(i-n)*(r+o),n=i,o=r}b+=_}return I}forEachVertex(I){let b=0;this.lengths.length||I(this.coords[0],this.coords[1]);for(let T=0;T<this.lengths.length;T++){const _=this.lengths[T];for(let n=0;n<_;n++)I(this.coords[2*(n+b)],this.coords[2*(n+b)+1]);b+=_}}deltaDecode(){const I=this.clone(),{coords:b,lengths:T}=I;let _=0;for(const n of T){for(let o=1;o<n;o++)b[2*(_+o)]+=b[2*(_+o)-2],b[2*(_+o)+1]+=b[2*(_+o)-1];_+=n}return I}clone(I){if(0===this.lengths.length)return new d([],[this.coords[0],this.coords[1]]);const b=2*(0===this.lengths.length?1:this.lengths.reduce((_,n)=>_+n)),T=this.coords.slice(0,b);return I?(I.set(T),new d(this.lengths,I)):new d(Array.from(this.lengths),Array.from(T))}}},27999:(H,K,f)=>{function S(n,o){return n?o?4:3:o?3:2}function v(n,o,c,i){if(!o?.lengths.length)return null;n.lengths.length&&(n.lengths.length=0),n.coords.length&&(n.coords.length=0);const r=n.coords,h=[],m=c?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:N,coords:x}=o,w=S(c,i);let G=0;for(const a of N){const y=d(m,x,G,a,c,i);y&&h.push(y),G+=a*w}if(h.sort((a,y)=>{let U=a[2]-y[2];return 0===U&&c&&(U=a[4]-y[4]),U}),h.length){let a=6*h[0][2];r[0]=h[0][0]/a,r[1]=h[0][1]/a,c&&(a=6*h[0][4],r[2]=0!==a?h[0][3]/a:0),(r[0]<m[0]||r[0]>m[1]||r[1]<m[2]||r[1]>m[3]||c&&(r[2]<m[4]||r[2]>m[5]))&&(r.length=0)}if(!r.length){const a=o.lengths[0]?function j(n,o,c,i,r){const h=S(i,r);let m=o,N=o+h,x=0,w=0,G=0,a=0;for(let y=0,U=c-1;y<U;y++,m+=h,N+=h){const C=n[m],u=n[m+1],p=n[m+2],g=n[N],M=n[N+1],D=n[N+2],P=i?b(C,u,p,g,M,D):I(C,u,g,M);if(P)if(x+=P,i){const L=_(C,u,p,g,M,D);w+=P*L[0],G+=P*L[1],a+=P*L[2]}else{const L=T(C,u,g,M);w+=P*L[0],G+=P*L[1]}}return x>0?i?[w/x,G/x,a/x]:[w/x,G/x]:c>0?i?[n[o],n[o+1],n[o+2]]:[n[o],n[o+1]]:null}(x,0,N[0],c,i):null;if(!a)return null;r[0]=a[0],r[1]=a[1],c&&a.length>2&&(r[2]=a[2])}return n}function d(n,o,c,i,r,h){const m=S(r,h);let N=c,x=c+m,w=0,G=0,a=0,y=0,U=0;for(let u=0,p=i-1;u<p;u++,N+=m,x+=m){const g=o[N],M=o[N+1],D=o[N+2],P=o[x],L=o[x+1],Q=o[x+2];let B=g*L-P*M;y+=B,w+=(g+P)*B,G+=(M+L)*B,r&&(B=g*Q-P*D,a+=(D+Q)*B,U+=B),g<n[0]&&(n[0]=g),g>n[1]&&(n[1]=g),M<n[2]&&(n[2]=M),M>n[3]&&(n[3]=M),r&&(D<n[4]&&(n[4]=D),D>n[5]&&(n[5]=D))}if(y>0&&(y*=-1),U>0&&(U*=-1),!y)return null;const C=[w,G,.5*y];return r&&(C[3]=a,C[4]=.5*U),C}function I(n,o,c,i){const r=c-n,h=i-o;return Math.sqrt(r*r+h*h)}function b(n,o,c,i,r,h){const m=i-n,N=r-o,x=h-c;return Math.sqrt(m*m+N*N+x*x)}function T(n,o,c,i){return[n+.5*(c-n),o+.5*(i-o)]}function _(n,o,c,i,r,h){return[n+.5*(i-n),o+.5*(r-o),c+.5*(h-c)]}f.d(K,{Q:()=>v})},53688:(H,K,f)=>{f.r(K),f.d(K,{default:()=>U});var S=f(10467),v=f(5922),d=f(61320),j=f(58701),I=f(31732),b=f(18056),T=f(17256),_=f(64373),n=f(88840),o=f(47960),c=f(89962),i=f(51248),r=f(73258),h=f(38965),m=f(86300),N=f(20543);const x=j.KK,w={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:j.KK},G={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsQueryAttachmentOrderByFields:!1,supportsQueryBins:!0,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!0,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0,supportsQueryWithCacheHint:!0},queryBinsCapabilities:i.PC};function y(C){return(0,d.fT)(C)?null!=C.m:!!C.hasM}class U{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._createDefaultAttributes=null}load(u){var p=this;return(0,S.A)(function*(){const g=[],{features:M}=u,D=p._inferLayerProperties(M,u.fields),P=u.fields||[],L=null!=u.hasM?u.hasM:!!D.hasM,Q=null!=u.hasZ?u.hasZ:!!D.hasZ,B=!u.spatialReference&&!D.spatialReference,V=B?x:u.spatialReference||D.spatialReference,q=B?w:null,W=u.geometryType||D.geometryType,$=!W;let O=u.objectIdField||D.objectIdField,F=u.timeInfo;const e=new r.A(P);if(!$&&(B&&g.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!W))throw new v.A("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!O)throw new v.A("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");if(D.objectIdField&&O!==D.objectIdField&&(g.push({name:"feature-layer:duplicated-oid-field",message:`Provided objectIdField "${O}" doesn't match the field name "${D.objectIdField}", found in the provided fields`}),O=D.objectIdField),O&&!D.objectIdField){const l=e.get(O);l?(O=l.name,l.type="esriFieldTypeOID",l.editable=!1,l.nullable=!1):P.unshift({alias:O,name:O,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const l of P){if(null==l.name&&(l.name=l.alias),null==l.alias&&(l.alias=l.name),!l.name)throw new v.A("feature-layer:invalid-field-name","field name is missing",{field:l});if(l.name===O&&(l.type="esriFieldTypeOID"),!h.m.jsonValues.includes(l.type))throw new v.A("feature-layer:invalid-field-type",`invalid type for field "${l.name}"`,{field:l});null==l.length&&(l.length=(0,m._b)(l))}const t={};for(const l of P)if("esriFieldTypeOID"!==l.type&&"esriFieldTypeGlobalID"!==l.type){const R=(0,m.lD)(l);void 0!==R&&(t[l.name]=R)}if(F){if(F.startTimeField){const l=e.get(F.startTimeField);l?(F.startTimeField=l.name,l.type="esriFieldTypeDate"):F.startTimeField=null}if(F.endTimeField){const l=e.get(F.endTimeField);l?(F.endTimeField=l.name,l.type="esriFieldTypeDate"):F.endTimeField=null}if(F.trackIdField){const l=e.get(F.trackIdField);l?F.trackIdField=l.name:(F.trackIdField=null,g.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:F}}))}F.startTimeField||F.endTimeField||(g.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:F}}),F=null)}const s=e.dateFields.length?{timeZoneIANA:u.dateFieldsTimeZone??N.n$}:null;p._createDefaultAttributes=(0,c.Vx)(t,O);const E={warnings:g,featureErrors:[],layerDefinition:{...G,drawingInfo:(0,c.F0)(W),templates:(0,c.e2)(t),extent:q,geometryType:W,objectIdField:O,fields:P,hasZ:Q,hasM:L,timeInfo:F,dateFieldsTimeReference:s},assignedObjectIds:{}};if(p._queryEngine=new o.do({fieldsIndex:r.A.fromLayerJSON({fields:P,timeInfo:F,dateFieldsTimeReference:s}),geometryType:W,hasM:L,hasZ:Q,objectIdField:O,spatialReference:V,featureStore:new _.A({geometryType:W,hasM:L,hasZ:Q}),timeInfo:F}),!M?.length)return p._nextObjectId=b.L,E;const A=(0,b.H)(O,M);return p._nextObjectId=A+1,yield(0,n.Nk)(M,V),p._loadInitialFeatures(E,M)})()}applyEdits(u){var p=this;return(0,S.A)(function*(){const{spatialReference:g,geometryType:M}=p._queryEngine;return yield Promise.all([(0,i.$1)(g,M),(0,n.Nk)(u.adds,g),(0,n.Nk)(u.updates,g)]),p._applyEdits(u)})()}queryFeatures(u,p={}){return this._queryEngine.executeQuery(u,p.signal)}queryFeatureCount(u,p={}){return this._queryEngine.executeQueryForCount(u,p.signal)}queryObjectIds(u,p={}){return this._queryEngine.executeQueryForIds(u,p.signal)}queryExtent(u,p={}){return this._queryEngine.executeQueryForExtent(u,p.signal)}querySnapping(u,p={}){return(0,T.J)(this._queryEngine,u,p.signal)}queryAttributeBins(u,p={}){return this._queryEngine.executeAttributeBinsQuery(u,p.signal)}_inferLayerProperties(u,p){let g,M,D=null,P=null,L=null;for(const Q of u){const B=Q.geometry;if(null!=B&&(D||(D=(0,d.$B)(B)),P||(P=B.spatialReference),null==g&&(g=(0,d.fT)(C=B)?null!=C.z:!!C.hasZ),null==M&&(M=y(B)),D&&P&&null!=g&&null!=M))break}var C;if(p&&p.length){let Q=null;p.some(B=>{const V="esriFieldTypeOID"===B.type,q=!B.type&&B.name&&"objectid"===B.name.toLowerCase();return Q=B,V||q})&&(L=Q.name)}return{geometryType:D,spatialReference:P,objectIdField:L,hasM:M,hasZ:g}}_loadInitialFeatures(u,p){var g=this;return(0,S.A)(function*(){const{geometryType:M,hasM:D,hasZ:P,objectIdField:L,spatialReference:Q,featureStore:B,fieldsIndex:V}=g._queryEngine,q=[];for(const O of p){if(null!=O.uid&&(u.assignedObjectIds[O.uid]=-1),O.geometry&&M!==(0,d.$B)(O.geometry)){u.featureErrors.push((0,i.Yx)("Incorrect geometry type."));continue}const F=g._createDefaultAttributes(),e=(0,i.MB)(V,F,O.attributes,!0);e?u.featureErrors.push(e):(g._assignObjectId(F,O.attributes,!0),O.attributes=F,null!=O.uid&&(u.assignedObjectIds[O.uid]=O.attributes[L]),null!=O.geometry&&(O.geometry=(0,n.Cv)(O.geometry,O.geometry.spatialReference,Q)),q.push(O))}B.addMany((0,I.Di)([],q,M,P,D,L));const{fullExtent:W,timeExtent:$}=yield g._queryEngine.fetchRecomputedExtents();if(u.layerDefinition.extent=W,$){const{start:O,end:F}=$;u.layerDefinition.timeInfo.timeExtent=[O,F]}return u})()}_applyEdits(u){var p=this;return(0,S.A)(function*(){const{adds:g,updates:M,deletes:D}=u,P={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(g?.length&&p._applyAddEdits(P,g),M?.length&&p._applyUpdateEdits(P,M),D?.length){for(const B of D)P.deleteResults.push((0,i.bP)(B));p._queryEngine.featureStore.removeManyById(D)}const{fullExtent:L,timeExtent:Q}=yield p._queryEngine.fetchRecomputedExtents();return{extent:L,timeExtent:Q,featureEditResults:P}})()}_applyAddEdits(u,p){const{addResults:g}=u,{geometryType:M,hasM:D,hasZ:P,objectIdField:L,spatialReference:Q,featureStore:B,fieldsIndex:V}=this._queryEngine,q=[];for(const W of p){if(W.geometry&&M!==(0,d.$B)(W.geometry)){g.push((0,i.Yx)("Incorrect geometry type."));continue}const $=this._createDefaultAttributes(),O=(0,i.MB)(V,$,W.attributes);if(O)g.push(O);else{if(this._assignObjectId($,W.attributes),W.attributes=$,null!=W.uid&&(u.uidToObjectId[W.uid]=W.attributes[L]),null!=W.geometry){const F=W.geometry.spatialReference??Q;W.geometry=(0,n.Cv)((0,i.CR)(W.geometry,F),F,Q)}q.push(W),g.push((0,i.bP)(W.attributes[L]))}}B.addMany((0,I.Di)([],q,M,P,D,L))}_applyUpdateEdits({updateResults:u},p){const{geometryType:g,hasM:M,hasZ:D,objectIdField:P,spatialReference:L,featureStore:Q,fieldsIndex:B}=this._queryEngine;for(const V of p){const{attributes:q,geometry:W}=V,$=q?.[P];if(null==$){u.push((0,i.Yx)(`Identifier field ${P} missing`));continue}if(!Q.has($)){u.push((0,i.Yx)(`Feature with object id ${$} missing`));continue}const O=(0,I.oN)(Q.getFeature($),g,D,M);if(null!=W){if(g!==(0,d.$B)(W)){u.push((0,i.Yx)("Incorrect geometry type."));continue}const F=W.spatialReference??L;O.geometry=(0,n.Cv)((0,i.CR)(W,F),F,L)}if(q){const F=(0,i.MB)(B,O.attributes,q);if(F){u.push(F);continue}}Q.add((0,I.E2)(O,g,D,M,P)),u.push((0,i.bP)($))}}_assignObjectId(u,p,g=!1){const M=this._queryEngine.objectIdField;u[M]=g&&p&&isFinite(p[M])?p[M]:this._nextObjectId++}}},89962:(H,K,f)=>{f.d(K,{F0:()=>I,Vx:()=>_,e2:()=>o,f:()=>c});var S=f(3248),v=f(77806),d=f(78200),j=f(48254);function I(i){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===i||"esriGeometryMultipoint"===i?j.Cb:"esriGeometryPolyline"===i?j.yM:j.WR}}}const b=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let T=1;function _(i,r){if((0,S.A)("esri-csp-restrictions"))return()=>({[r]:null,...i});try{let h=`this${n(r)} = null;`;for(const N in i)h+=`this${n(N)} = ${JSON.stringify(i[N])};`;const m=new Function(`\n      return class AttributesClass$${T++} {\n        constructor() {\n          ${h};\n        }\n      }\n    `)();return()=>new m}catch{return()=>({[r]:null,...i})}}function n(i){return b.test(i)?`.${i}`:`["${i}"]`}function o(i={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,v.o8)(i)}}]}function c(i,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:i},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:d.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:d.P,editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},51248:(H,K,f)=>{f.d(K,{$1:()=>x,CR:()=>h,MB:()=>c,PC:()=>G,Yx:()=>T,bP:()=>n});var S=f(10467),v=f(28250),d=f(58701),j=f(86300);class I{constructor(){this.code=null,this.description=null}}class b{constructor(y){this.error=new I,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=y}}function T(a){return new b(a)}class _{constructor(y){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=y}}function n(a){return new _(a)}const o=new Set;function c(a,y,U,C=!1){o.clear();for(const u in U){const p=a.get(u);if(!p)continue;const g=i(p,U[u]);if(o.add(p.name),p&&(C||p.editable)){const M=(0,j.CJ)(p,g);if(M)return T((0,j.uo)(M,p,g));y[p.name]=g}}for(const u of a.requiredFields??[])if(!o.has(u.name))return T(`missing required field "${u.name}"`);return null}function i(a,y){let U=y;return(0,j.WA)(a)&&"string"==typeof y?U=parseFloat(y):(0,j.yM)(a)&&null!=y&&"string"!=typeof y?U=String(y):(0,j.vE)(a)&&"string"==typeof y&&(U=(0,v._U)(y)),(0,j.WX)(U)}let r;function h(a,y){if(!a||!(0,d.fn)(y))return a;if("rings"in a||"paths"in a){if(null==r)throw new TypeError("geometry engine not loaded");return r.simplify(y,a)}return a}function N(){return(N=(0,S.A)(function*(){return null==r&&(r=yield Promise.all([f.e(3930),f.e(2076),f.e(4108)]).then(f.bind(f,27815))),r})).apply(this,arguments)}function x(a,y){return w.apply(this,arguments)}function w(){return w=(0,S.A)(function*(a,y){!(0,d.fn)(a)||"esriGeometryPolygon"!==y&&"esriGeometryPolyline"!==y||(yield function m(){return N.apply(this,arguments)}())}),w.apply(this,arguments)}const G={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}},48254:(H,K,f)=>{f.d(K,{Cb:()=>d,HW:()=>_,JR:()=>v,JZ:()=>b,WR:()=>I,b6:()=>n,fT:()=>S,nC:()=>T,yM:()=>j});const S=[252,146,31,255],v=[153,153,153,255],d={type:"esriSMS",style:"esriSMSCircle",size:6,color:S,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},j={type:"esriSLS",style:"esriSLSSolid",width:.75,color:S},I={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},b={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},T={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},_={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},n={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);