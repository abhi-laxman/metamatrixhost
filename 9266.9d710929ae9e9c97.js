"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[9266,9557],{7981:(B,P,m)=>{m.d(P,{$P:()=>d,At:()=>C,J6:()=>a,JB:()=>N,Lk:()=>h,NI:()=>j,Qi:()=>G,eB:()=>R,eg:()=>L,f0:()=>I,gO:()=>D,ik:()=>A,ke:()=>e,nE:()=>t,rX:()=>F,yT:()=>M,zl:()=>s});var s,a,n,_=m(61299),S=m(87257),u=m(29752),O=m(29141),y=m(44549);function e(n){return O.A.fromJSON(n.toJSON())}function t(n){return n.toJSON?n.toJSON():n}function d(n){return n instanceof Date}function h(n){return n instanceof y.c9}function F(n){return n instanceof _.lY}function I(n){return n instanceof S.n}function L(n){return n instanceof u.k}(n=s||(s={}))[n.Standardised=0]="Standardised",n[n.StandardisedNoInterval=1]="StandardisedNoInterval",n[n.SqlServer=2]="SqlServer",n[n.Oracle=3]="Oracle",n[n.Postgres=4]="Postgres",n[n.PGDB=5]="PGDB",n[n.FILEGDB=6]="FILEGDB",n[n.NotEvaluated=7]="NotEvaluated",function(n){n[n.InFeatureSet=0]="InFeatureSet",n[n.NotInFeatureSet=1]="NotInFeatureSet",n[n.Unknown=2]="Unknown"}(a||(a={}));const D=1e3,A={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},M={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},C={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function G(n){return void 0===n?"":n=(n=(n=n.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function N(n,T){T||(T={}),"function"==typeof T&&(T={cmp:T});const Y="boolean"==typeof T.cycles&&T.cycles,$=T.cmp&&(K=T.cmp,function(k){return function(E,w){return K({key:E,value:k[E]},{key:w,value:k[w]})}});var K;const x=[];return function k(E){if(E?.toJSON&&"function"==typeof E.toJSON&&(E=E.toJSON()),void 0===E)return;if("number"==typeof E)return isFinite(E)?""+E:"null";if("object"!=typeof E)return JSON.stringify(E);let w,v;if(Array.isArray(E)){for(v="[",w=0;w<E.length;w++)w&&(v+=","),v+=k(E[w])||"null";return v+"]"}if(null===E)return"null";if(x.includes(E)){if(Y)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const J=x.push(E)-1,W=Object.keys(E).sort($?.(E));for(v="",w=0;w<W.length;w++){const Z=W[w],V=k(E[Z]);V&&(v&&(v+=","),v+=JSON.stringify(Z)+":"+V)}return x.splice(J,1),"{"+v+"}"}(n)}function j(n){switch(n.type){case"catalog":case"csv":case"feature":case"geojson":case"knowledge-graph-sublayer":case"oriented-imagery":case"subtype-group":case"wfs":return!0;default:return!1}}function R(n){switch(n.type){case"catalog-footprint":case"subtype-sublayer":return!0;default:return j(n)}}},73446:(B,P,m)=>{m.d(P,{Fq:()=>y,Yc:()=>S,Yq:()=>O});var _=m(28067);function S(s){if(null==s)return null;switch(s.type){case"polygon":case"multipoint":case"polyline":return s.extent;case"point":return new _.A({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});case"extent":return s}return null}function O(s){if(null==s)return null;const a=s.clone();return void 0!==s.cache._geVersion&&(a.cache._geVersion=s.cache._geVersion),a}function y(s){return"number"==typeof s&&isFinite(s)&&Math.floor(s)===s}},11445:(B,P,m)=>{m.d(P,{Qf:()=>e,Qh:()=>y,RS:()=>u,ez:()=>l,i5:()=>c,lM:()=>O,qK:()=>i});var _=m(79139);const u=16;function O(o){if(!o)return 0;let d=i;for(const h in o)o.hasOwnProperty(h)&&(d+=a(o[h],!1));return d}function y(o){if(!o)return 0;if("number"==typeof o[0])return e(o);if(Array.isArray(o))return function s(o){const d=o.length;if(0===d||"number"==typeof o[0])return t(o,8);let h=l;for(let F=0;F<d;F++)h+=a(o[F]);return h}(o);let d=i;for(const h in o)o.hasOwnProperty(h)&&(d+=a(o[h]));return d}function a(o,d=!0){switch(typeof o){case"object":return d?y(o):i;case"string":return function S(o){return 32+o.length}(o);case"number":return u;case"boolean":return 4;default:return 8}}function e(...o){return o.reduce((d,h)=>d+(h?(0,_.iu)(h)?h.byteLength+c:Array.isArray(h)?t(h,u):0:0),0)}function t(o,d){return l+o.length*d}const i=32,l=16,c=145},87257:(B,P,m)=>{m.d(P,{n:()=>s});var _=m(61299),S=m(88996),u=m(44549);function O(a){a=a.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="";const t=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const i of a.match(t)||[])switch(i){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=i;break;default:i.length>=2&&"["===i.slice(0,1)&&"]"===i.slice(-1)?e+=`'${i.slice(1,-1)}'`:e+=`'${i}'`}return e}const y="esri.core.sql.dateonly";class s{constructor(e,t,i){this._year=e,this._month=t,this._day=i,this.declaredRootClass=y}static isDateOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===y}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return s.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new s(this._year,this._month,this._day)}toDateTime(e){return u.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,_.mT)(e)})}toDateTimeLuxon(e){return u.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,_.mT)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,t=!0){if(null===e||""===e)return this.toString();if(t&&(e=O(e)),!e)return"";const i=this.toDateTime("unknown");return _.lY.dateTimeToArcadeDate(i).toFormat(e,{locale:(0,S.JK)(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return _.lY.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return s.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return u.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const t=u.c9.fromMillis(e,{zone:u.mQ.utcInstance});return t.isValid?s.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){const t=u.c9.fromSeconds(e,{zone:u.mQ.utcInstance});return t.isValid?s.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;const t=e.split("-");return 3!==t.length?null:new s(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,i){const l=new s(e,t,i);return!1===l.isValid?null:l}static fromDateJS(e){return s.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return s.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e||null===e)return null;const i=[];if(t)(t=O(t))&&i.push(t);else if(null===t||""===t){const l=u.c9.fromISO(e,{setZone:!0});return l.isValid?s.fromParts(l.year,l.month,l.day):null}for(const l of i){const c=u.c9.fromFormat(e,t??l);if(c.isValid)return new s(c.year,c.month,c.day)}return null}static fromNow(e="system"){const t=u.c9.fromJSDate(new Date).setZone((0,_.mT)(e));return new s(t.year,t.month,t.day)}}},29752:(B,P,m)=>{m.d(P,{k:()=>s});var _=m(73446),S=m(88996),u=m(44549);function O(a){if(!a)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let t="";for(const i of a.match(e)||[])switch(i){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":t+=i;break;case"A":case"a":t+="a";break;default:t+=`'${i}'`}return t}const y="esri.core.sql.timeonly";class s{constructor(e,t,i,l){this._hour=e,this._minute=t,this._second=i,this._millisecond=l,this.declaredRootClass=y}static isTimeOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===y}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return s.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new s(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,_.Fq)(this.hour)&&(0,_.Fq)(this.minute)&&(0,_.Fq)(this.second)&&(0,_.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return null===e||""===e?this.toString():(e=O(e))?u.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,S.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,t,i,l){const c=new s(e,t,i,l);return c.isValid()?c:null}static fromReader(e){if(!e)return null;const t=e.split(":");return 3!==t.length?null:new s(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const t=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),l=Math.floor(e/36e5%24),c=Math.floor(e%1e3);return new s(l,i,t,c)}static fromDateJS(e){return new s(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new s(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e||null===e)return null;const i=[];t?(t=O(t))&&i.push(t):null!==t&&""!==t||(i.push("HH:mm:ss"),i.push("HH:mm:ss.SSS"),i.push("hh:mm:ss a"),i.push("hh:mm:ss.SSS a"),i.push("HH:mm"),i.push("hh:mm a"),i.push("H:mm"),i.push("h:mm a"),i.push("H:mm:ss"),i.push("h:mm:ss a"),i.push("H:mm:ss.SSS"),i.push("h:mm:ss.SSS a"));for(const l of i){const c=u.c9.fromFormat(e,l);if(c.isValid)return new s(c.hour,c.minute,c.second,c.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return s.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return u.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},42086:(B,P,m)=>{m.d(P,{N3:()=>y,Om:()=>O});var _=m(11445),S=m(27999),u=m(13682);class O{constructor(e=null,t={},i,l,c=0){this.geometry=e,this.attributes=t,this.centroid=i,this.objectId=l,this.displayId=c}static fromJSON(e){const t=e.geometry?u.A.fromJSON(e.geometry):null,i=e.centroid?u.A.fromJSON(e.centroid):null;return new O(t,e.attributes,i,e.objectId)}weakClone(){const e=new O(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){const e=this.geometry?.clone(),t=new O(e,{...this.attributes},this.centroid?.clone(),this.objectId);return t.displayId=this.displayId,t}ensureCentroid(e){return this.centroid??=(0,S.Q)(new u.A,this.geometry,e.hasZ,e.hasM),this.centroid}get usedMemory(){return 128+(0,_.lM)(this.attributes)+(this.geometry?.usedMemory??0)}}function y(a){return!!a.geometry?.coords?.length}},61808:(B,P,m)=>{m.d(P,{A:()=>_});class _{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const u=new _;return u.objectIdFieldName=this.objectIdFieldName,u.globalIdFieldName=this.globalIdFieldName,u.geohashFieldName=this.geohashFieldName,u.geometryProperties=this.geometryProperties,u.geometryType=this.geometryType,u.spatialReference=this.spatialReference,u.hasZ=this.hasZ,u.hasM=this.hasM,u.features=this.features,u.fields=this.fields,u.transform=this.transform,u.exceededTransferLimit=this.exceededTransferLimit,u.uniqueIdField=this.uniqueIdField,u.queryGeometry=this.queryGeometry,u.queryGeometryType=this.queryGeometryType,u}}},13682:(B,P,m)=>{m.d(P,{A:()=>u});var _=m(11445);class u{constructor(y=[],s=[]){this.lengths=y??[],this.coords=s??[]}static fromJSON(y){return new u(y.lengths,y.coords)}static fromRect(y){const[s,a,e,t]=y,i=e-s,l=t-a;return new u([5],[s,a,i,0,0,l,-i,0,0,-l])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((y,s)=>y+s)}get usedMemory(){return 64+(0,_.Qf)(this.lengths,this.coords)}area(){let y=0,s=0;if(!this.lengths.length)return 0;for(let a=0;a<this.lengths.length;a++){const e=this.lengths[a];if(e<3)continue;let t=this.coords[2*s],i=this.coords[2*s+1];for(let l=1;l<e;l+=1){const c=this.coords[2*(l+s)],o=this.coords[2*(l+s)+1];y+=-.5*(c-t)*(o+i),t=c,i=o}s+=e}return y}forEachVertex(y){let s=0;this.lengths.length||y(this.coords[0],this.coords[1]);for(let a=0;a<this.lengths.length;a++){const e=this.lengths[a];for(let t=0;t<e;t++)y(this.coords[2*(t+s)],this.coords[2*(t+s)+1]);s+=e}}deltaDecode(){const y=this.clone(),{coords:s,lengths:a}=y;let e=0;for(const t of a){for(let i=1;i<t;i++)s[2*(e+i)]+=s[2*(e+i)-2],s[2*(e+i)+1]+=s[2*(e+i)-1];e+=t}return y}clone(y){if(0===this.lengths.length)return new u([],[this.coords[0],this.coords[1]]);const s=2*(0===this.lengths.length?1:this.lengths.reduce((e,t)=>e+t)),a=this.coords.slice(0,s);return y?(y.set(a),new u(this.lengths,y)):new u(Array.from(this.lengths),Array.from(a))}}},27999:(B,P,m)=>{function _(t,i){return t?i?4:3:i?3:2}function S(t,i,l,c){if(!i?.lengths.length)return null;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const o=t.coords,d=[],h=l?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:F,coords:I}=i,L=_(l,c);let g=0;for(const r of F){const f=u(h,I,g,r,l,c);f&&d.push(f),g+=r*L}if(d.sort((r,f)=>{let D=r[2]-f[2];return 0===D&&l&&(D=r[4]-f[4]),D}),d.length){let r=6*d[0][2];o[0]=d[0][0]/r,o[1]=d[0][1]/r,l&&(r=6*d[0][4],o[2]=0!==r?d[0][3]/r:0),(o[0]<h[0]||o[0]>h[1]||o[1]<h[2]||o[1]>h[3]||l&&(o[2]<h[4]||o[2]>h[5]))&&(o.length=0)}if(!o.length){const r=i.lengths[0]?function O(t,i,l,c,o){const d=_(c,o);let h=i,F=i+d,I=0,L=0,g=0,r=0;for(let f=0,D=l-1;f<D;f++,h+=d,F+=d){const p=t[h],b=t[h+1],A=t[h+2],M=t[F],C=t[F+1],U=t[F+2],G=c?s(p,b,A,M,C,U):y(p,b,M,C);if(G)if(I+=G,c){const N=e(p,b,A,M,C,U);L+=G*N[0],g+=G*N[1],r+=G*N[2]}else{const N=a(p,b,M,C);L+=G*N[0],g+=G*N[1]}}return I>0?c?[L/I,g/I,r/I]:[L/I,g/I]:l>0?c?[t[i],t[i+1],t[i+2]]:[t[i],t[i+1]]:null}(I,0,F[0],l,c):null;if(!r)return null;o[0]=r[0],o[1]=r[1],l&&r.length>2&&(o[2]=r[2])}return t}function u(t,i,l,c,o,d){const h=_(o,d);let F=l,I=l+h,L=0,g=0,r=0,f=0,D=0;for(let b=0,A=c-1;b<A;b++,F+=h,I+=h){const M=i[F],C=i[F+1],U=i[F+2],G=i[I],N=i[I+1],j=i[I+2];let R=M*N-G*C;f+=R,L+=(M+G)*R,g+=(C+N)*R,o&&(R=M*j-G*U,r+=(U+j)*R,D+=R),M<t[0]&&(t[0]=M),M>t[1]&&(t[1]=M),C<t[2]&&(t[2]=C),C>t[3]&&(t[3]=C),o&&(U<t[4]&&(t[4]=U),U>t[5]&&(t[5]=U))}if(f>0&&(f*=-1),D>0&&(D*=-1),!f)return null;const p=[L,g,.5*f];return o&&(p[3]=r,p[4]=.5*D),p}function y(t,i,l,c){const o=l-t,d=c-i;return Math.sqrt(o*o+d*d)}function s(t,i,l,c,o,d){const h=c-t,F=o-i,I=d-l;return Math.sqrt(h*h+F*F+I*I)}function a(t,i,l,c){return[t+.5*(l-t),i+.5*(c-i)]}function e(t,i,l,c,o,d){return[t+.5*(c-t),i+.5*(o-i),l+.5*(d-l)]}m.d(P,{Q:()=>S})},73258:(B,P,m)=>{m.d(P,{A:()=>d});var _=m(5922),S=m(71065),u=m(35150),O=m(60797),y=m(24098),s=m(86300),a=m(20543),e=m(22639),t=m(44549);const o=new Map;class d{static fromJSON(r){return new d(r.fields,r.timeZoneByFieldName)}static fromLayer(r){return new d(r.fields??[],L(r))}static fromLayerJSON(r){return new d(r.fields??[],L(r))}constructor(r=[],f){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=r||[],this._timeZoneByFieldName=f?new Map(f):null;const D=[];for(const p of this.fields){const b=p?.name,A=F(b);if(b&&A){const M=h(b);this._fieldsMap.set(b,p),this._fieldsMap.set(M,p),this._normalizedFieldsMap.set(A,p),D.push(`${M}:${p.type}:${this._timeZoneByFieldName?.get(b)}`),(0,s.vE)(p)?(this.dateFields.push(p),this._dateFieldsSet.add(p)):(0,s.WA)(p)&&(this._numericFieldsSet.add(p),this.numericFields.push(p)),(0,s.te)(p)||(0,s.Xz)(p)||(p.editable=null==p.editable||!!p.editable,p.nullable=null==p.nullable||!!p.nullable)}}D.sort(),this.uid=D.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const r of this.fields)(0,s.te)(r)||(0,s.Xz)(r)||r.nullable||void 0!==(0,s.lD)(r)||this._requiredFields.push(r)}return this._requiredFields}equals(r){return this.uid===r?.uid}has(r){return null!=this.get(r)}get(r){if(!r)return;let f=this._fieldsMap.get(r);return f||(f=this._fieldsMap.get(h(r))??this._normalizedFieldsMap.get(F(r)),f&&this._fieldsMap.set(r,f),f)}getTimeZone(r){const f=this.get(r&&"string"!=typeof r?r.name:r);return f?this._timeZoneByFieldName?this._timeZoneByFieldName.get(f.name):"date"===f.type||"esriFieldTypeDate"===f.type?(u.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new _.A("getTimeZone:no-timezone-information",`no time zone information for field '${f.name}'`)),a.n$):I.has(f.type)?a.L5:null:null}getLuxonTimeZone(r){const f=this.getTimeZone(r);return f?f===a.L5?y.GB.instance:f===a.n$?t.mQ.utcInstance:(0,O.tE)(o,f,()=>t.oh.create(f)):null}isDateField(r){return this._dateFieldsSet.has(this.get(r))}isTimeOnlyField(r){return(0,s.OH)(this.get(r))}isNumericField(r){return this._numericFieldsSet.has(this.get(r))}normalizeFieldName(r){return this.get(r)?.name??void 0}toJSON(){return{fields:this.fields.map(r=>S.A.isSerializable(r)?r.toJSON():r),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function h(g){return g.trim().toLowerCase()}function F(g){return(0,s.rS)(g)?.toLowerCase()??""}const I=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function L(g){const r=new Map;if(!g.fields)return r;const f=!0===g.datesInUnknownTimezone,{timeInfo:D,editFieldsInfo:p}=g,b=(D?"startField"in D?D.startField:D.startTimeField:"")??"",A=(D?"endField"in D?D.endField:D.endTimeField:"")??"",M=function c(g){return"dateFieldsTimeZone"in g}(g)?g.dateFieldsTimeZone??null:g.dateFieldsTimeReference?(0,e.ZS)(g.dateFieldsTimeReference):null,C=p?function i(g){return"timeZone"in g}(p)?p.timeZone??M:p.dateFieldsTimeReference?(0,e.ZS)(p.dateFieldsTimeReference):M??a.n$:null,U=D?function l(g){return"timeZone"in g}(D)?D.timeZone??M:D.timeReference?(0,e.ZS)(D.timeReference):M:null,G=new Map([[h(p?.creationDateField??""),C],[h(p?.editDateField??""),C],[h(b),U],[h(A),U]]);for(const{name:N,type:j}of g.fields)if(I.has(j))r.set(N,a.L5);else if("date"!==j&&"esriFieldTypeDate"!==j)r.set(N,null);else if(f)r.set(N,a.L5);else{const R=G.get(h(N??""))??M;r.set(N,R)}return r}}}]);