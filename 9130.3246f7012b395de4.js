"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[9130],{33087:(U,v,p)=>{p.d(v,{q:()=>z});var S=p(60611);class z{constructor(f,O){this._storage=new S.F,this.id="",this.name="",this.size=0,this._storage.maxSize=f,this._storage.register(this),O&&this._storage.registerRemoveFunc("",O)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(f,O,g=1){this._storage.put(this,f,O,g,1)}pop(f){return this._storage.pop(this,f)}get(f){return this._storage.get(this,f)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(f){this._storage.maxSize=f}resetHitRate(){}}},60611:(U,v,p)=>{p.d(v,{F:()=>g,Ti:()=>z});var S=p(12438);const z=-3,F=z-1;var f,E;(E=f||(f={}))[E.ALL=0]="ALL",E[E.SOME=1]="SOME";class g{get size(){return this._size}constructor(r=10485760){this._maxSize=r,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new S.A,this._users=new S.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(r){this._users.push(r)}deregister(r){this._users.removeUnordered(r)}registerRemoveFunc(r,e){this._removeFuncs.push([r,e])}deregisterRemoveFunc(r){this._removeFuncs.filterInPlace(e=>e[0]!==r)}get maxSize(){return this._maxSize}set maxSize(r){this._maxSize=Math.max(r,-1),this._checkSize()}getSize(r,e){return this._db.get(r.id+e)?.size??0}put(r,e,i,c,_){const o=this._db.get(e=r.id+e);if(o&&(this._size-=o.size,r.size-=o.size,this._db.delete(e),o.entry!==i&&this._notifyRemove(e,o.entry,o.size,f.ALL)),c>this._maxSize)return void this._notifyRemove(e,i,c,f.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!c||c<0)return console.warn(`Refusing to cache entry with size ${c} for key ${e}`),void this._notifyRemove(e,i,0,f.ALL);const y=1+Math.max(_,F)-z;this._db.set(e,new A(i,c,y)),this._size+=c,r.size+=c,this._checkSize()}updateSize(r,e,i,c){const _=this._db.get(e=r.id+e);if(_&&_.entry===i){for(this._size-=_.size,r.size-=_.size;c>this._maxSize;){const o=this._notifyRemove(e,i,c,f.SOME);if(!(null!=o&&o>0))return void this._db.delete(e);c=o}_.size=c,this._size+=c,r.size+=c,this._checkSize()}}pop(r,e){const i=this._db.get(e=r.id+e);if(i)return this._size-=i.size,r.size-=i.size,this._db.delete(e),++this._hit,i.entry;++this._miss}get(r,e){const i=this._db.get(e=r.id+e);if(void 0!==i)return this._db.delete(e),i.lives=i.lifetime,this._db.set(e,i),++this._hit,i.entry;++this._miss}peek(r,e){const i=this._db.get(r.id+e);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const r={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},i=new Array;this._db.forEach((o,y)=>{const b=o.lifetime;i[b]=(i[b]||0)+o.size,this._users.forAll(T=>{const{id:m,name:a}=T;y.startsWith(m)&&(e[a]=(e[a]||0)+o.size)})});const c={};this._users.forAll(o=>{const y=o.name;"hitRate"in o&&"number"==typeof o.hitRate&&!isNaN(o.hitRate)&&o.hitRate>0?(e[y]=e[y]||0,c[y]=Math.round(100*o.hitRate)+"%"):c[y]="0%"});const _=Object.keys(e);_.sort((o,y)=>e[y]-e[o]),_.forEach(o=>r[o]=Math.round(e[o]/2**20)+"MB / "+c[o]);for(let o=i.length-1;o>=0;--o){const y=i[o];y&&(r["Priority "+(o+z-1)]=Math.round(y/this._size*100)+"%")}return r}resetStats(){this._hit=this._miss=0,this._users.forAll(r=>r.resetHitRate())}clear(r){const e=r.id;this._db.forEach((i,c)=>{c.startsWith(e)&&(this._size-=i.size,this._db.delete(c),this._notifyRemove(c,i.entry,i.size,f.ALL))}),r.size=0}clearAll(){this._db.forEach((r,e)=>this._notifyRemove(e,r.entry,r.size,f.ALL)),this._users.forAll(r=>r.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(r,e,i,c){let _;return this._removeFuncs.some(o=>{if(r.startsWith(o[0])){const y=o[1](e,c,i);return"number"==typeof y&&(_=y),!0}return!1}),_}_checkSize(){this._users.forAll(r=>this._checkSizeLimits(r)),this._checkSizeLimits()}_checkSizeLimits(r){const e=r??this;if(e.maxSize<0||e.size<=e.maxSize)return;const i=r?.id;let c=!0;for(;c;){c=!1;for(const[_,o]of this._db)if(0===o.lifetime&&(!i||_.startsWith(i))){if(this._purgeItem(_,o,r),e.size<=.9*e.maxSize)return;c||=this._db.has(_)}}for(const[_,o]of this._db)if((!i||_.startsWith(i))&&(this._purgeItem(_,o,r),e.size<=.9*e.maxSize))return}_purgeItem(r,e,i=this._users.find(c=>r.startsWith(c.id))){if(this._db.delete(r),e.lives<=1){this._size-=e.size,i&&(i.size-=e.size);const c=this._notifyRemove(r,e.entry,e.size,f.SOME);null!=c&&c>0&&(this._size+=c,i&&(i.size+=c),e.lives=e.lifetime,e.size=c,this._db.set(r,e))}else--e.lives,this._db.set(r,e)}}class A{constructor(r,e,i){this.entry=r,this.size=e,this.lifetime=i,this.lives=i}}},73258:(U,v,p)=>{p.d(v,{A:()=>_});var S=p(5922),z=p(71065),F=p(35150),f=p(60797),O=p(24098),g=p(86300),I=p(20543),A=p(22639),E=p(44549);const c=new Map;class _{static fromJSON(a){return new _(a.fields,a.timeZoneByFieldName)}static fromLayer(a){return new _(a.fields??[],T(a))}static fromLayerJSON(a){return new _(a.fields??[],T(a))}constructor(a=[],C){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=a||[],this._timeZoneByFieldName=C?new Map(C):null;const P=[];for(const h of this.fields){const d=h?.name,j=y(d);if(d&&j){const k=o(d);this._fieldsMap.set(d,h),this._fieldsMap.set(k,h),this._normalizedFieldsMap.set(j,h),P.push(`${k}:${h.type}:${this._timeZoneByFieldName?.get(d)}`),(0,g.vE)(h)?(this.dateFields.push(h),this._dateFieldsSet.add(h)):(0,g.WA)(h)&&(this._numericFieldsSet.add(h),this.numericFields.push(h)),(0,g.te)(h)||(0,g.Xz)(h)||(h.editable=null==h.editable||!!h.editable,h.nullable=null==h.nullable||!!h.nullable)}}P.sort(),this.uid=P.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const a of this.fields)(0,g.te)(a)||(0,g.Xz)(a)||a.nullable||void 0!==(0,g.lD)(a)||this._requiredFields.push(a)}return this._requiredFields}equals(a){return this.uid===a?.uid}has(a){return null!=this.get(a)}get(a){if(!a)return;let C=this._fieldsMap.get(a);return C||(C=this._fieldsMap.get(o(a))??this._normalizedFieldsMap.get(y(a)),C&&this._fieldsMap.set(a,C),C)}getTimeZone(a){const C=this.get(a&&"string"!=typeof a?a.name:a);return C?this._timeZoneByFieldName?this._timeZoneByFieldName.get(C.name):"date"===C.type||"esriFieldTypeDate"===C.type?(F.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new S.A("getTimeZone:no-timezone-information",`no time zone information for field '${C.name}'`)),I.n$):b.has(C.type)?I.L5:null:null}getLuxonTimeZone(a){const C=this.getTimeZone(a);return C?C===I.L5?O.GB.instance:C===I.n$?E.mQ.utcInstance:(0,f.tE)(c,C,()=>E.oh.create(C)):null}isDateField(a){return this._dateFieldsSet.has(this.get(a))}isTimeOnlyField(a){return(0,g.OH)(this.get(a))}isNumericField(a){return this._numericFieldsSet.has(this.get(a))}normalizeFieldName(a){return this.get(a)?.name??void 0}toJSON(){return{fields:this.fields.map(a=>z.A.isSerializable(a)?a.toJSON():a),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function o(m){return m.trim().toLowerCase()}function y(m){return(0,g.rS)(m)?.toLowerCase()??""}const b=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function T(m){const a=new Map;if(!m.fields)return a;const C=!0===m.datesInUnknownTimezone,{timeInfo:P,editFieldsInfo:h}=m,d=(P?"startField"in P?P.startField:P.startTimeField:"")??"",j=(P?"endField"in P?P.endField:P.endTimeField:"")??"",k=function i(m){return"dateFieldsTimeZone"in m}(m)?m.dateFieldsTimeZone??null:m.dateFieldsTimeReference?(0,A.ZS)(m.dateFieldsTimeReference):null,H=h?function r(m){return"timeZone"in m}(h)?h.timeZone??k:h.dateFieldsTimeReference?(0,A.ZS)(h.dateFieldsTimeReference):k??I.n$:null,V=P?function e(m){return"timeZone"in m}(P)?P.timeZone??k:P.timeReference?(0,A.ZS)(P.timeReference):k:null,X=new Map([[o(h?.creationDateField??""),H],[o(h?.editDateField??""),H],[o(d),V],[o(j),V]]);for(const{name:Z,type:Y}of m.fields)if(b.has(Y))a.set(Z,I.L5);else if("date"!==Y&&"esriFieldTypeDate"!==Y)a.set(Z,null);else if(C)a.set(Z,I.L5);else{const nt=X.get(o(Z??""))??k;a.set(Z,nt)}return a}},75783:(U,v,p)=>{p.d(v,{$:()=>S,P:()=>z});const S={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportsStackBy:!1,supportsSplitBy:!1,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!1,supportedStatistics:void 0,supportedNormalizationTypes:void 0},z={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsOrderByFields:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:S,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsCurrentUser:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsReturnMesh:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsTrueCurve:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},4858:(U,v,p)=>{p.d(v,{BI:()=>_,D3:()=>i,XJ:()=>c,lc:()=>e,mX:()=>y,rU:()=>o,tH:()=>P});var S=p(1119);const z="__begin__",F="__end__",f=new RegExp(z,"ig"),O=new RegExp(F,"ig"),g=new RegExp("^"+z,"i"),I=new RegExp(F+"$","i"),A='"',E=A+" + ",r=" + "+A;function e(h){return h.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function i(h){return h.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function c(h){const d={expression:"",type:"none"};return h.labelExpressionInfo?h.labelExpressionInfo.value?(d.expression=h.labelExpressionInfo.value,d.type="conventional"):h.labelExpressionInfo.expression&&(d.expression=h.labelExpressionInfo.expression,d.type="arcade"):null!=h.labelExpression&&(d.expression=e(h.labelExpression),d.type="conventional"),d}function _(h){const d=c(h);switch(d.type){case"conventional":return y(d.expression);case"arcade":return d.expression}return null}function o(h){const d=c(h);switch(d.type){case"conventional":return function T(h){return h?.match(b)?.[1].trim()||null}(d.expression);case"arcade":return P(d.expression)}return null}function y(h){let d;return h?(d=(0,S.HC)(h,j=>z+'$feature["'+j+'"]'+F),d=g.test(d)?d.replace(g,""):A+d,d=I.test(d)?d.replace(I,""):d+A,d=d.replaceAll(f,E).replaceAll(O,r)):d='""',d}const b=/^\s*\{([^}]+)\}\s*$/i,m=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,a=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,C=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function P(h){if(!h)return null;let d=m.exec(h)||a.exec(h);return d?d[1]||d[3]:(d=C.exec(h),d?d[2]:null)}},78592:(U,v,p)=>{p.d(v,{O3:()=>E,PU:()=>I,YW:()=>e,ex:()=>O,hv:()=>r,zp:()=>g});var S=p(69287),z=p(67685),F=p(53781),f=p(89141);const O=2.4;function g(i){return(0,z.PN)(i*O)}function I(i){return(0,z.Lz)(i)/O}function A(i,c,_,o){let{color:y,ratio:b}=c,{color:T,ratio:m}=_;m===b&&(1===m?b-=1e-6:m+=1e-6);const a=(0,S.qE)((o-b)/(m-b),0,1);(0,F.l)(i,y.toArray(),T.toArray(),a)}function E(i){const _=new Uint8ClampedArray(2048);if((i=i.filter(({ratio:m})=>m>=0&&m<=1).sort((m,a)=>m.ratio-a.ratio).map(({color:m,ratio:a})=>({color:m,ratio:Math.max(a,.001)}))).length<1)return _;let o=i[0],y=i[0],b=1;const T=(0,f.vt)();for(let m=0;m<512;m++){const a=(m+.5)/512;for(;a>y.ratio&&b<i.length;)o=y,y=i[b++];A(T,o,y,a),_.set(T,4*m)}return _}function r(i,c,_){const o=Math.sqrt(i**2+c**2)/_;return o>1?0:3/(Math.PI*_**2)*(1-o**2)**2}function e(i){return"function"==typeof i?i:i?c=>+c[i]:()=>1}},68470:(U,v,p)=>{p.d(v,{K:()=>i,Q:()=>E});var S=p(8189),z=p(49976),F=p(35150),f=p(85211),I=(p(3248),p(40707),p(15463)),A=p(76576);const E=(0,z.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),r="percent-of-total",e="field",i=c=>{let _=class extends c{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let o=this._get("normalizationType");const y=!!this.normalizationField,b=null!=this.normalizationTotal;return y||b?(o=y&&e||b&&r||null,y&&b&&F.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):o!==e&&o!==r||(o=null),o}set normalizationType(o){this._set("normalizationType",o)}};return(0,S._)([(0,f.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],_.prototype,"normalizationField",void 0),(0,S._)([(0,f.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],_.prototype,"normalizationMaxValue",void 0),(0,S._)([(0,f.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],_.prototype,"normalizationMinValue",void 0),(0,S._)([(0,f.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],_.prototype,"normalizationTotal",void 0),(0,S._)([(0,I.e)(E,{name:"parameters.normalizationType"})],_.prototype,"normalizationType",null),_=(0,S._)([(0,A.$)("esri.rest.support.NormalizationBinParametersMixin")],_),_}},32117:(U,v,p)=>{p.d(v,{$w:()=>b,Bu:()=>Z,DW:()=>k,FH:()=>Ct,FM:()=>A,G9:()=>f,GV:()=>m,Go:()=>r,K3:()=>pt,Kn:()=>d,MM:()=>c,MO:()=>ht,Nl:()=>Y,Ny:()=>a,O2:()=>nt,UE:()=>yt,YC:()=>zt,YF:()=>st,ZO:()=>ut,_1:()=>V,_H:()=>P,_W:()=>T,_d:()=>j,bs:()=>at,dI:()=>bt,e6:()=>e,gQ:()=>I,iA:()=>ct,jn:()=>o,lW:()=>i,mA:()=>_,n5:()=>Mt,pM:()=>H,pV:()=>h,pk:()=>Et,rB:()=>It,s4:()=>F,xo:()=>X,yH:()=>C,yX:()=>Pt,zb:()=>gt,zr:()=>y});var S=p(46988);function F(t,s,n,u){return function z(t){return"function"==typeof t}(t)?t(s,n,u):t}function f(t){return[t.r,t.g,t.b,t.a]}const O=" /-,\n";function g(t){let s=t.length;for(;s--;)if(!O.includes(t.charAt(s)))return!1;return!0}function I(t,s){const n=[];let u=0,M=-1;do{if(M=t.indexOf("[",u),M>=u){if(M>u){const l=t.slice(u,M);n.push([l,null,g(l)])}if(u=M+1,M=t.indexOf("]",u),M>=u){if(M>u){const l=s[t.slice(u,M)];l&&n.push([null,l,!1])}u=M+1}}}while(-1!==M);if(u<t.length){const l=t.slice(u);n.push([l,null,g(l)])}return n}function A(t,s,n,u){let M="",l=null;for(const N of s){const[L,w,B]=N;if(L)B?l=L:(l&&(M+=l,l=null),M+=L);else{let K=w;null!=n&&(K=ht(w,n));const R=t.attributes[K];R&&(l&&(M+=l,l=null),M+=R)}}return function E(t,s){switch("string"!=typeof t&&(t=String(t)),s){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}(M,u)}function r(t,s,n,u,M,l,N=!0){const L=s/M,w=n/l,B=Math.ceil(L/2),K=Math.ceil(w/2);for(let R=0;R<l;R++)for(let D=0;D<M;D++){const G=4*(D+(N?l-R-1:R)*M);let x=0,J=0,q=0,tt=0,rt=0,it=0,et=0;const lt=(R+.5)*w;for(let Q=Math.floor(R*w);Q<(R+1)*w;Q++){const ft=Math.abs(lt-(Q+.5))/K,At=(D+.5)*L,Ot=ft*ft;for(let ot=Math.floor(D*L);ot<(D+1)*L;ot++){let W=Math.abs(At-(ot+.5))/B;const $=Math.sqrt(Ot+W*W);$>=-1&&$<=1&&(x=2*$*$*$-3*$*$+1,x>0&&(W=4*(ot+Q*s),et+=x*t[W+3],q+=x,t[W+3]<255&&(x=x*t[W+3]/250),tt+=x*t[W],rt+=x*t[W+1],it+=x*t[W+2],J+=x))}}u[G]=tt/J,u[G+1]=rt/J,u[G+2]=it/J,u[G+3]=et/q}}function e(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function i(t){return t.data?.symbol??null}function c(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function _(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function o(t){return null!=t&&("CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type)}function y(t){return null!=t&&("CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type)}const b=(t,s=0)=>null==t||isNaN(t)?s:t,T=(t,s)=>t??s,m=(t,s)=>t??s,a=t=>t.tintColor?e(t.tintColor):[255,255,255,1],C=t=>{if(!t)return!1;for(const s of t)switch(s.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function P(){return Promise.all([p.e(3930),p.e(2076),p.e(4108)]).then(p.bind(p,27815))}function h(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function d(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function j(t){let s="normal",n="normal";if(t){const u=t.toLowerCase();u.includes("italic")?s="italic":u.includes("oblique")&&(s="oblique"),u.includes("bold")?n="bold":u.includes("light")&&(n="lighter")}return{style:s,weight:n}}function k(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function H(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const s of t.symbolLayers){const n=H(s);if(null!=n)return n}break;case"CIMTextSymbol":return H(t.symbol);case"CIMSolidFill":return t.color}return null}function V(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const s=t.symbolLayers;if(s)for(const n of s){const u=V(n);if(null!=u)return u}break}case"CIMTextSymbol":return V(t.symbol);case"CIMSolidStroke":return t.color}}function X(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const s of t.symbolLayers){const n=X(s);if(void 0!==n)return n}break;case"CIMTextSymbol":return X(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function Z(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function Y(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function nt(t){return(t?Object.keys(t):[]).map(s=>({name:s,alias:s,type:"string"==typeof t[s]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const yt=t=>t.includes("data:image/svg+xml");function Mt(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function st(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function gt(t,s,n,u,M,l,N=!0){const{infos:L}=l;let w=1,B=0,K=0,R=0,D=1;for(const{absoluteAnchorPoint:J,offsetX:q,offsetY:tt,rotation:rt,size:it,frameHeight:et,rotateClockWise:lt,scaleSymbolsProportionally:Q}of L)D=J?1:w,K=dt(q,tt,B,D,K),R=_t(q,tt,B,D,R),et&&(Q||N)&&(w*=it/et),B=mt(rt,lt,B);const G=dt(u,M,B,D,K),x=_t(u,M,B,D,R);return{size:t*w,rotation:mt(s,n,B),offsetX:G,offsetY:x}}function ut(t){if(null==t)return!1;if(Array.isArray(t))return t.every(s=>ut(s));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function ct(t,s){if("color"===s||"outlinecolor"===s||"backgroundcolor"===s||"borderlinecolor"===s||"tintcolor"===s)return[...S.K[s]];const n=S.D[t];if(!n)throw new Error(`InternalError: default value for type ${t}.`);return n[s]}function pt(t){return"string"==typeof t?function St(t){return t.split(" ").map(s=>Number(s))}(t):t}function Ct(t){return t?.dashTemplate&&(t.dashTemplate=pt(t.dashTemplate)),t}function at(t){if(null==t)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const s=t.symbolLayers;if(!s)return"Normal";for(const n of s)if("CIMVectorMarker"===n.type)return at(n)}break;case"CIMVectorMarker":{const s=t.markerGraphics;if(!s)return"Normal";for(const n of s)if(n.symbol)return at(n.symbol)}}return"Normal"}function zt(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let s=0;if(t.symbolLayers)for(const n of t.symbolLayers)if(n)switch(n.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const u=n.size??S.D.CIMVectorMarker.size;u>s&&(s=u);break}}return s}case"CIMLineSymbol":case"CIMPolygonSymbol":{let s=0;if(t.symbolLayers)for(const n of t.symbolLayers)if(n)switch(n.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const u=n.width;null!=u&&u>s&&(s=u);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(n.markerPlacement&&y(n.markerPlacement)){const u=n.size??S.D.CIMVectorMarker.size;u>s&&(s=u)}break;case"CIMPictureFill":{const u=n.height;null!=u&&u>s&&(s=u)}}return s}}}function ht(t,s){if(null!==s){const n=s.get(t);return n?n.name:t}return t}function Et(t){return t.map(s=>({...s,propertyName:st(s.propertyName)}))}function It(t){const s={};for(const n in t){const u=t[n];s[st(n)]=u}return s}function _t(t,s,n,u,M){const l=n*Math.PI/180;if(l){const N=Math.cos(l);return(Math.sin(l)*t+N*s)*u+M}return s*u+M}function dt(t,s,n,u,M){const l=n*Math.PI/180;return l?(Math.cos(l)*t-Math.sin(l)*s)*u+M:t*u+M}function mt(t,s,n){return s?n-t:n+t}function bt(t,s,n){const u="Color"===n||"TintColor"===n||"ToColor"===n,M="Rotation"===n||"Angle"===n||"ToRotation"===n;let l=s[st(n)];if(null!=l&&(u?l=[l[0]/255,l[1]/255,l[2]/255,l[3]/255]:M&&(l*=Math.PI/180)),null==l&&(l=ct(s.type,n.toLowerCase()),null!=l&&(u?l=[l[0]/255,l[1]/255,l[2]/255,l[3]]:M&&(l*=Math.PI/180))),null!=s.primitiveName){const N=t[s.primitiveName];if(null!=N){const L=N[n];null==L||("string"==typeof L||"number"==typeof L||Array.isArray(L)?(l=L,null!=l&&(u?l=[l[0]/255,l[1]/255,l[2]/255,l[3]/255]:M&&(l*=Math.PI/180))):(l={valueExpressionInfo:L,defaultValue:l},null!=l&&(u?l={type:"Process",op:"ArcadeColor",value:l}:M&&(l={type:"Process",op:"Divide",left:l,right:180/Math.PI}))))}}if(null==l)throw new Error(`Failed to derive a value or an expression for "${n}".`);return l}function Pt(t,s){return Math.max(Math.min((t??s)/100,1),0)}},91644:(U,v,p)=>{p.d(v,{A7:()=>A,Cx:()=>E,Hk:()=>r,JJ:()=>_,SF:()=>e,UK:()=>I,jM:()=>i,x3:()=>c}),p(3248);var z=p(88521),F=p(55417),f=p(46602),O=p(47705),g=p(48254);const I=f.A.fromJSON(g.Cb),A=F.A.fromJSON(g.yM),E=z.A.fromJSON(g.WR),r=O.A.fromJSON(g.JZ);function e(o){if(null==o)return null;switch(o.type){case"mesh":return null;case"point":case"multipoint":return I;case"polyline":return A;case"polygon":case"extent":return E}return null}const i=f.A.fromJSON(g.nC),c=F.A.fromJSON(g.HW),_=z.A.fromJSON(g.b6)},48254:(U,v,p)=>{p.d(v,{Cb:()=>F,HW:()=>A,JR:()=>z,JZ:()=>g,WR:()=>O,b6:()=>E,fT:()=>S,nC:()=>I,yM:()=>f});const S=[252,146,31,255],z=[153,153,153,255],F={type:"esriSMS",style:"esriSMSCircle",size:6,color:S,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},f={type:"esriSLS",style:"esriSLSSolid",width:.75,color:S},O={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},g={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},I={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},A={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},E={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);