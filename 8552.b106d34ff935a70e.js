"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[8552],{53781:(J,D,i)=>{i.d(D,{a:()=>p,b:()=>w,c:()=>B,d:()=>K,e:()=>x,f:()=>q,g:()=>P,h:()=>g,j:()=>F,l:()=>v,n:()=>y,s:()=>C,t:()=>s});var m=i(85952);function B(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function C(e,t,r,a,l){return e[0]=t,e[1]=r,e[2]=a,e[3]=l,e}function P(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function W(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function O(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function j(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function w(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function b(e,t){const r=t[0]-e[0],a=t[1]-e[1],l=t[2]-e[2],h=t[3]-e[3];return Math.sqrt(r*r+a*a+l*l+h*h)}function K(e,t){const r=t[0]-e[0],a=t[1]-e[1],l=t[2]-e[2],h=t[3]-e[3];return r*r+a*a+l*l+h*h}function F(e){const t=e[0],r=e[1],a=e[2],l=e[3];return Math.sqrt(t*t+r*r+a*a+l*l)}function q(e){const t=e[0],r=e[1],a=e[2],l=e[3];return t*t+r*r+a*a+l*l}function y(e,t){const r=t[0],a=t[1],l=t[2],h=t[3];let f=r*r+a*a+l*l+h*h;return f>0&&(f=1/Math.sqrt(f),e[0]=r*f,e[1]=a*f,e[2]=l*f,e[3]=h*f),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,a){const l=t[0],h=t[1],f=t[2],M=t[3];return e[0]=l+a*(r[0]-l),e[1]=h+a*(r[1]-h),e[2]=f+a*(r[2]-f),e[3]=M+a*(r[3]-M),e}function s(e,t,r){const a=t[0],l=t[1],h=t[2],f=t[3];return e[0]=r[0]*a+r[4]*l+r[8]*h+r[12]*f,e[1]=r[1]*a+r[5]*l+r[9]*h+r[13]*f,e[2]=r[2]*a+r[6]*l+r[10]*h+r[14]*f,e[3]=r[3]*a+r[7]*l+r[11]*h+r[15]*f,e}function p(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function x(e,t){const r=e[0],a=e[1],l=e[2],h=e[3],f=t[0],M=t[1],A=t[2],I=t[3],Z=(0,m.FD)();return Math.abs(r-f)<=Z*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-M)<=Z*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-A)<=Z*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(h-I)<=Z*Math.max(1,Math.abs(h),Math.abs(I))}Object.freeze(Object.defineProperty({__proto__:null,add:P,ceil:function G(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:B,copyVec3:function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},dist:b,distance:b,div:j,divide:j,dot:g,equals:x,exactEquals:p,floor:function S(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function _(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:F,length:F,lerp:v,max:function Q(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},min:function N(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},mul:O,multiply:O,negate:function u(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:y,random:function c(e,t=1){const r=m.Ov;let a,l,h,f,M,A;do{a=2*r()-1,l=2*r()-1,M=a*a+l*l}while(M>=1);do{h=2*r()-1,f=2*r()-1,A=h*h+f*f}while(A>=1);const I=Math.sqrt((1-M)/A);return e[0]=t*a,e[1]=t*l,e[2]=t*h*I,e[3]=t*f*I,e},round:function T(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:w,scaleAndAdd:function U(e,t,r,a){return e[0]=t[0]+r[0]*a,e[1]=t[1]+r[1]*a,e[2]=t[2]+r[2]*a,e[3]=t[3]+r[3]*a,e},set:C,sqrDist:K,sqrLen:q,squaredDistance:K,squaredLength:q,str:function n(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:W,subtract:W,transformMat4:s,transformQuat:function o(e,t,r){const a=t[0],l=t[1],h=t[2],f=r[0],M=r[1],A=r[2],I=r[3],Z=I*a+M*h-A*l,Y=I*l+A*a-f*h,H=I*h+f*l-M*a,k=-f*a-M*l-A*h;return e[0]=Z*I+k*-f+Y*-A-H*-M,e[1]=Y*I+k*-M+H*-f-Z*-A,e[2]=H*I+k*-A+Z*-M-Y*-f,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},89141:(J,D,i)=>{function m(){return[0,0,0,0]}function B(u){return[u[0],u[1],u[2],u[3]]}function d(u,_,y,g){return[u,_,y,g]}function C(u,_,y,g){return[u,_,y,g]}function P(u,_=[0,0,0,0]){const y=Math.min(4,u.length);for(let g=0;g<y;++g)_[g]=u[g];return _}function j(){return d(1,1,1,1)}function G(){return d(1,0,0,0)}function S(){return d(0,1,0,0)}function N(){return d(0,0,1,0)}function Q(){return d(0,0,0,1)}i.d(D,{CN:()=>C,Un:()=>w,ci:()=>P,fA:()=>d,o8:()=>B,uY:()=>T,vt:()=>m});const T=[0,0,0,0],w=j(),U=G(),b=S(),K=N(),F=Q();Object.freeze(Object.defineProperty({__proto__:null,ONES:w,UNIT_W:F,UNIT_X:U,UNIT_Y:b,UNIT_Z:K,ZEROS:T,clone:B,create:m,createView:function W(u,_){return new Float64Array(u,_,4)},freeze:C,fromArray:P,fromValues:d,ones:j,unitW:Q,unitX:G,unitY:S,unitZ:N,zeros:function O(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},61808:(J,D,i)=>{i.d(D,{A:()=>m});class m{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const d=new m;return d.objectIdFieldName=this.objectIdFieldName,d.globalIdFieldName=this.globalIdFieldName,d.geohashFieldName=this.geohashFieldName,d.geometryProperties=this.geometryProperties,d.geometryType=this.geometryType,d.spatialReference=this.spatialReference,d.hasZ=this.hasZ,d.hasM=this.hasM,d.features=this.features,d.fields=this.fields,d.transform=this.transform,d.exceededTransferLimit=this.exceededTransferLimit,d.uniqueIdField=this.uniqueIdField,d.queryGeometry=this.queryGeometry,d.queryGeometryType=this.queryGeometryType,d}}},18219:(J,D,i)=>{i.r(D),i.d(D,{default:()=>u});var m=i(10467),B=i(89447),d=i(5922),C=i(35150),P=i(56492),W=i(96996),O=i(58701),j=i(31732),G=i(17256),S=i(64373),N=i(88840),Q=i(47960),T=i(36761),w=i(51248),U=i(73650),b=i(73258),K=i(68778),F=i(20543);const q="esri.layers.WFSLayer";class u{constructor(){this._customParameters=null,this._queryEngine=null,this._supportsPagination=!0}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}load(s,o={}){var n=this;return(0,m.A)(function*(){const{getFeatureUrl:p,getFeatureOutputFormat:x,fields:L,geometryType:E,featureType:R,maxRecordCount:z,maxTotalRecordCount:$,maxPageCount:X,objectIdField:V,customParameters:ee}=s,{spatialReference:e,getFeatureSpatialReference:t}=(0,U.UH)(p,R,s.spatialReference);try{yield(0,N.Nk)(t,e)}catch{throw new d.A("unsupported-projection","Projection not supported",{inSpatialReference:t,outSpatialReference:e})}(0,P.Te)(o),n._customParameters=ee,n._featureType=R,n._fieldsIndex=b.A.fromLayerJSON({fields:L,dateFieldsTimeReference:L.some(a=>"esriFieldTypeDate"===a.type)?{timeZoneIANA:F.n$}:null}),n._geometryType=E,n._getFeatureUrl=p,n._getFeatureOutputFormat=x,n._getFeatureSpatialReference=t,n._maxRecordCount=z,n._maxTotalRecordCount=$,n._maxPageCount=X,n._objectIdField=V,n._spatialReference=e;let r=yield n._snapshotFeatures(o);if(r.errors.length>0&&(n._supportsPagination=!1,r=yield n._snapshotFeatures(o),r.errors.length>0))throw r.errors[0];return n._queryEngine=new Q.do({fieldsIndex:n._fieldsIndex,geometryType:E,hasM:!1,hasZ:!1,objectIdField:V,spatialReference:e,timeInfo:null,featureStore:new S.A({geometryType:E,hasM:!1,hasZ:!1})}),n._queryEngine.featureStore.addMany(r.features),{warnings:v(r),extent:(yield n._queryEngine.fetchRecomputedExtents()).fullExtent}})()}applyEdits(){return(0,m.A)(function*(){throw new d.A("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer")})()}queryFeatures(s={},o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),n._queryEngine.executeQuery(s,o.signal)})()}queryFeatureCount(s={},o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),n._queryEngine.executeQueryForCount(s,o.signal)})()}queryObjectIds(s={},o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),(yield n._queryEngine.executeQueryForIds(s,o.signal)).filter(K.Et)})()}queryExtent(s={},o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),n._queryEngine.executeQueryForExtent(s,o.signal)})()}querySnapping(s,o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),(0,G.J)(n._queryEngine,s,o.signal)})()}queryAttributeBins(s,o={}){var n=this;return(0,m.A)(function*(){return yield n._waitSnapshotComplete(),n._queryEngine.executeAttributeBinsQuery(s,o.signal)})()}refresh(s){var o=this;return(0,m.A)(function*(){return o._customParameters=s.customParameters,o._maxRecordCount=s.maxRecordCount,o._maxTotalRecordCount=s.maxTotalRecordCount,o._maxPageCount=s.maxPageCount,o._snapshotTask?.abort(),o._snapshotTask=(0,B.UT)(n=>o._snapshotFeatures({signal:n})),o._snapshotTask.promise.then(n=>{o._queryEngine.featureStore.clear(),o._queryEngine.featureStore.addMany(n.features);for(const p of v(n))C.A.getLogger(q).warn(new W.A("wfs-layer:refresh-warning",p.message,p.details));n.errors?.length&&C.A.getLogger(q).warn(new W.A("wfs-layer:refresh-error","Refresh completed with errors",{errors:n.errors}))},()=>{o._queryEngine.featureStore.clear()}),yield o._waitSnapshotComplete(),{extent:(yield o._queryEngine.fetchRecomputedExtents()).fullExtent}})()}_waitSnapshotComplete(){var s=this;return(0,m.A)(function*(){if(s._snapshotTask&&!s._snapshotTask.finished){try{yield s._snapshotTask.promise}catch{}return s._waitSnapshotComplete()}})()}_snapshotFeatures(s){var o=this;return(0,m.A)(function*(){const n=s?.signal,p=o._maxTotalRecordCount,x=o._maxPageCount,L=o._supportsPagination?yield(0,U.E)(o._getFeatureUrl,o._featureType.typeName,{customParameters:o._customParameters,signal:n}):void 0;let E=[];const R=[];if(null==L)try{E=yield o._singleQuery(n)}catch(z){(0,P.zf)(z)||R.push(z)}else{const z=Math.min(L,p),$=function*_(c,s,o){for(let n=0;n<s;n++)yield c._pageQuery(n,o)}(o,Math.max(1,Math.min(Math.ceil(z/o._maxRecordCount),x)),n);yield Promise.allSettled(Array.from({length:10}).map(()=>function y(c,s,o){return g.apply(this,arguments)}($,E,R)))}return(0,P.Te)(n),{features:E,totalRecordCount:L,maxTotalRecordCount:p,maxPageCount:x,errors:R}})()}_singleQuery(s){var o=this;return(0,m.A)(function*(){const n=yield(0,U.x$)(o._getFeatureUrl,o._featureType.typeName,o._getFeatureSpatialReference,o._getFeatureOutputFormat,{customParameters:o._customParameters,signal:s});return o._processGeoJSON(n,{signal:s})})()}_pageQuery(s,o){var n=this;return(0,m.A)(function*(){const p=s*n._maxRecordCount,x=yield(0,U.x$)(n._getFeatureUrl,n._featureType.typeName,n._getFeatureSpatialReference,n._getFeatureOutputFormat,{customParameters:n._customParameters,startIndex:p,count:n._maxRecordCount,signal:o});return n._processGeoJSON(x,{startIndex:p,signal:o})})()}_processGeoJSON(s,o){(0,T.sO)(s,this._getFeatureSpatialReference.wkid);const{startIndex:n,signal:p}=o;(0,P.Te)(p);const x=(0,T.bd)(s,{geometryType:this._geometryType,hasZ:!1,objectIdField:this._objectIdField});if(!(0,O.aI)(this._spatialReference,this._getFeatureSpatialReference))for(const E of x)null!=E.geometry&&(E.geometry=(0,j.Ux)((0,N.Cv)((0,j.zv)(E.geometry,this._geometryType,!1,!1),this._getFeatureSpatialReference,this._spatialReference)));let L=n??1;for(const E of x){const R={};(0,w.MB)(this._fieldsIndex,R,E.attributes,!0),E.attributes=R,null==R[this._objectIdField]&&(E.objectId=R[this._objectIdField]=L++)}return x}}function g(){return(g=(0,m.A)(function*(c,s,o){let n=c.next();for(;!n.done;){try{const p=yield n.value;s.push(...p)}catch(p){(0,P.zf)(p)||o.push(p)}n=c.next()}})).apply(this,arguments)}function v(c){const s=[];return null!=c.totalRecordCount&&(c.features.length<c.totalRecordCount&&s.push({name:"wfs-layer:maxRecordCount-too-low",message:`Could only fetch ${c.features.length} of ${c.totalRecordCount} in ${c.maxPageCount} queries. Try increasing the value of WFSLayer.maxRecordCount.`,details:{recordCount:c.features.length,totalRecordCount:c.totalRecordCount}}),c.totalRecordCount>c.maxTotalRecordCount&&s.push({name:"wfs-layer:large-dataset",message:`The number of ${c.totalRecordCount} features exceeds the maximum allowed of ${c.maxTotalRecordCount}.`,details:{recordCount:c.features.length,totalRecordCount:c.totalRecordCount,maxTotalRecordCount:c.maxTotalRecordCount}})),s}},51248:(J,D,i)=>{i.d(D,{$1:()=>K,CR:()=>w,MB:()=>N,PC:()=>q,Yx:()=>O,bP:()=>G});var m=i(10467),B=i(28250),d=i(58701),C=i(86300);class P{constructor(){this.code=null,this.description=null}}class W{constructor(_){this.error=new P,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=_}}function O(u){return new W(u)}class j{constructor(_){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=_}}function G(u){return new j(u)}const S=new Set;function N(u,_,y,g=!1){S.clear();for(const v in y){const c=u.get(v);if(!c)continue;const s=Q(c,y[v]);if(S.add(c.name),c&&(g||c.editable)){const o=(0,C.CJ)(c,s);if(o)return O((0,C.uo)(o,c,s));_[c.name]=s}}for(const v of u.requiredFields??[])if(!S.has(v.name))return O(`missing required field "${v.name}"`);return null}function Q(u,_){let y=_;return(0,C.WA)(u)&&"string"==typeof _?y=parseFloat(_):(0,C.yM)(u)&&null!=_&&"string"!=typeof _?y=String(_):(0,C.vE)(u)&&"string"==typeof _&&(y=(0,B._U)(_)),(0,C.WX)(y)}let T;function w(u,_){if(!u||!(0,d.fn)(_))return u;if("rings"in u||"paths"in u){if(null==T)throw new TypeError("geometry engine not loaded");return T.simplify(_,u)}return u}function b(){return(b=(0,m.A)(function*(){return null==T&&(T=yield Promise.all([i.e(3930),i.e(2076),i.e(4108)]).then(i.bind(i,27815))),T})).apply(this,arguments)}function K(u,_){return F.apply(this,arguments)}function F(){return F=(0,m.A)(function*(u,_){!(0,d.fn)(u)||"esriGeometryPolygon"!==_&&"esriGeometryPolyline"!==_||(yield function U(){return b.apply(this,arguments)}())}),F.apply(this,arguments)}const q={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}}}]);