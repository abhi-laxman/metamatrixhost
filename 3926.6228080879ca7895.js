"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[3926],{65225:(ct,q,M)=>{M.d(q,{$e:()=>g,j1:()=>A,mO:()=>W,vt:()=>T});var tt=M(84149),U=M(28714),D=M(55703);function T(R){return R?{ray:(0,D.vt)(R.ray),c0:R.c0,c1:R.c1}:{ray:(0,D.vt)(),c0:0,c1:Number.MAX_VALUE}}function g(R,p=T()){return(0,D.C)(R,p.ray),p.c0=0,p.c1=Number.MAX_VALUE,p}function A(R,p){return Q(R,R.c0,p)}function W(R,p){return Q(R,R.c1,p)}function Q(R,p,H){return(0,U.g)(H,R.ray.origin,(0,U.h)(H,R.ray.direction,p))}new tt.I(()=>T())},91421:(ct,q,M)=>{M.d(q,{C:()=>Q,FB:()=>y,ig:()=>L,m7:()=>p,ui:()=>et,vt:()=>A});var y,h,_,tt=M(84149),U=M(92771),D=M(28714),T=M(25866),X=M(53781),K=M(89141),O=M(65225),g=M(93617),k=M(19741);function A(_){return _?[(0,g.vt)(_[0]),(0,g.vt)(_[1]),(0,g.vt)(_[2]),(0,g.vt)(_[3]),(0,g.vt)(_[4]),(0,g.vt)(_[5])]:[(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)(),(0,g.vt)()]}function Q(_,f){for(let E=0;E<z;E++)(0,g.C)(_[E],f[E]);return _}function et(_,f,E,v=_t){const S=(0,U.lw)(k.Rc.get(),f,_);(0,U.B8)(S,S);for(let N=0;N<Y;++N){const G=(0,X.t)(k.Km.get(),st[N],S);(0,D.i)(v[N],G[0]/G[3],G[1]/G[3],G[2]/G[3])}!function R(_,f){(0,g.Cr)(f[h.FAR_BOTTOM_LEFT],f[h.NEAR_BOTTOM_LEFT],f[h.NEAR_TOP_LEFT],_[y.LEFT]),(0,g.Cr)(f[h.NEAR_BOTTOM_RIGHT],f[h.FAR_BOTTOM_RIGHT],f[h.FAR_TOP_RIGHT],_[y.RIGHT]),(0,g.Cr)(f[h.FAR_BOTTOM_LEFT],f[h.FAR_BOTTOM_RIGHT],f[h.NEAR_BOTTOM_RIGHT],_[y.BOTTOM]),(0,g.Cr)(f[h.NEAR_TOP_LEFT],f[h.NEAR_TOP_RIGHT],f[h.FAR_TOP_RIGHT],_[y.TOP]),(0,g.Cr)(f[h.NEAR_BOTTOM_LEFT],f[h.NEAR_BOTTOM_RIGHT],f[h.NEAR_TOP_RIGHT],_[y.NEAR]),(0,g.Cr)(f[h.FAR_BOTTOM_RIGHT],f[h.FAR_BOTTOM_LEFT],f[h.FAR_TOP_LEFT],_[y.FAR])}(E,v)}function p(_,f){for(let E=0;E<z;E++){const v=_[E];if(v[0]*f[0]+v[1]*f[1]+v[2]*f[2]+v[3]>=f[3])return!1}return!0}function L(_,f){for(let E=0;E<z;E++)if(!(0,g.b6)(_[E],f))return!1;return!0}(_=y||(y={}))[_.LEFT=0]="LEFT",_[_.RIGHT=1]="RIGHT",_[_.BOTTOM=2]="BOTTOM",_[_.TOP=3]="TOP",_[_.NEAR=4]="NEAR",_[_.FAR=5]="FAR",function(_){_[_.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",_[_.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",_[_.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",_[_.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",_[_.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",_[_.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",_[_.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",_[_.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(h||(h={}));const z=6,Y=8,st=[(0,K.fA)(-1,-1,-1,1),(0,K.fA)(1,-1,-1,1),(0,K.fA)(1,1,-1,1),(0,K.fA)(-1,1,-1,1),(0,K.fA)(-1,-1,1,1),(0,K.fA)(1,-1,1,1),(0,K.fA)(1,1,1,1),(0,K.fA)(-1,1,1,1)],_t=(new tt.I(O.vt),function W(){return[(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)()]}())},83926:(ct,q,M)=>{M.d(q,{A:()=>k});var a,t,tt=M(61591),U=M(12438),D=M(28714),T=M(25866),X=M(91421),K=M(55703),O=M(83989),g=M(65388);class k{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,n){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new A,this._objectCount=0,n&&(void 0!==n.maximumObjectsPerNode&&(this._maximumObjectsPerNode=n.maximumObjectsPerNode),void 0!==n.maximumDepth&&(this._maximumDepth=n.maximumDepth))}destroy(){this._degenerateObjects.clear(),A.clearPool(),_[0]=null,G.prune(),Z.prune()}add(t,n=t.length){this._objectCount+=n,this._grow(t,n);const r=A.acquire();for(let s=0;s<n;s++){const l=t[s];this._isDegenerate(l)?this._degenerateObjects.add(l):(r.init(this._root),this._add(l,r))}A.release(r)}remove(t,n=null){this._objectCount-=t.length;const r=A.acquire();for(const s of t){const l=n??(0,O.e)(this.objectToBoundingSphere(s),Tt);Y(l[3])?(r.init(this._root),et(s,l,r)):this._degenerateObjects.delete(s)}A.release(r),this._shrink()}update(t,n){if(!Y(n[3])&&this._isDegenerate(t))return;const r=function f(a){return _[0]=a,_}(t);this.remove(r,n),this.add(r)}forEachAlongRay(t,n,r){const s=(0,K.LV)(t,n);W(this._root,l=>{if(!function p(a,t){return $((0,O.a)(t.bounds),2*-t.halfSize,S),$((0,O.a)(t.bounds),2*t.halfSize,N),(0,g.O_)(a.origin,a.direction,S,N)}(s,l))return!1;const m=l.node;return m.terminals.forAll(b=>{this._intersectsObject(s,b)&&r(b)}),null!==m.residents&&m.residents.forAll(b=>{this._intersectsObject(s,b)&&r(b)}),!0})}forEachAlongRayWithVerticalOffset(t,n,r,s){const l=(0,K.LV)(t,n);W(this._root,m=>{if(!function H(a,t,n){return $((0,O.a)(t.bounds),2*-t.halfSize,S),$((0,O.a)(t.bounds),2*t.halfSize,N),n.applyToMinMax(S,N),(0,g.O_)(a.origin,a.direction,S,N)}(l,m,s))return!1;const b=m.node;return b.terminals.forAll(d=>{this._intersectsObjectWithOffset(l,d,s)&&r(d)}),null!==b.residents&&b.residents.forAll(d=>{this._intersectsObjectWithOffset(l,d,s)&&r(d)}),!0})}forEach(t){W(this._root,n=>{const r=n.node;return r.terminals.forAll(t),null!==r.residents&&r.residents.forAll(t),!0}),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,n,r,s=(()=>!0),l=1/0){let m=1/0,b=1/0,d=null;const j=it(t,n),x=P=>{if(--l,!s(P))return;const C=this.objectToBoundingSphere(P);if(!(0,X.m7)(r,C))return;const V=z(t,n,(0,O.a)(C)),ot=V-C[3];ot<m&&(m=ot,b=V+C[3],d=P)};return Q(this._root,P=>{if(l<=0||!(0,X.m7)(r,P.bounds)||((0,D.h)(v,j,P.halfSize),(0,D.g)(v,v,(0,O.a)(P.bounds)),z(t,n,v)>b))return!1;const C=P.node;return C.terminals.forAll(V=>x(V)),null!==C.residents&&C.residents.forAll(V=>x(V)),!0},t,n),d}forEachInDepthRange(t,n,r,s,l,m,b){let d=-1/0,j=1/0;const x={setRange:I=>{r===k.DepthOrder.FRONT_TO_BACK?(d=Math.max(d,I.near),j=Math.min(j,I.far)):(d=Math.max(d,-I.far),j=Math.min(j,-I.near))}};x.setRange(s);const P=z(n,r,t),C=it(n,r),V=it(n,-r),ot=I=>{if(!b(I))return;const w=this.objectToBoundingSphere(I),rt=(0,O.a)(w),Ot=z(n,r,rt)-P;Ot-w[3]>j||Ot+w[3]<d||!(0,X.m7)(m,w)||l(I,x)};Q(this._root,I=>{if(!(0,X.m7)(m,I.bounds)||((0,D.h)(v,C,I.halfSize),(0,D.g)(v,v,(0,O.a)(I.bounds)),z(n,r,v)-P>j)||((0,D.h)(v,V,I.halfSize),(0,D.g)(v,v,(0,O.a)(I.bounds)),z(n,r,v)-P<d))return!1;const w=I.node;return w.terminals.forAll(rt=>ot(rt)),null!==w.residents&&w.residents.forAll(rt=>ot(rt)),!0},n,r)}forEachNode(t){W(this._root,n=>t(n.node,n.bounds,n.halfSize,n.depth))}forEachNeighbor(t,n){const r=(0,O.g)(n),s=(0,O.a)(n),l=d=>{const j=this.objectToBoundingSphere(d),x=(0,O.g)(j),P=r+x;return!((0,D.s)((0,O.a)(j),s)-P*P<=0)||t(d)};let m=!0;const b=d=>{m&&(m=l(d))};W(this._root,d=>{const j=(0,O.g)(d.bounds),x=r+j;if((0,D.s)((0,O.a)(d.bounds),s)-x*x>0)return!1;const P=d.node;return P.terminals.forAll(b),m&&null!==P.residents&&P.residents.forAll(b),m}),m&&this.forEachDegenerateObject(b)}_intersectsObject(t,n){const r=this.objectToBoundingSphere(n);return!(r[3]>0)||(0,O.i)(r,t)}_intersectsObjectWithOffset(t,n,r){const s=this.objectToBoundingSphere(n);return!(s[3]>0)||(0,O.i)(r.applyToBoundingSphere(s),t)}_add(t,n){n.advanceTo(this.objectToBoundingSphere(t))?n.node.terminals.push(t):(n.node.residents.push(t),n.node.residents.length>this._maximumObjectsPerNode&&n.depth<this._maximumDepth&&this._split(n))}_split(t){const n=t.node.residents;t.node.residents=null;for(let r=0;r<n.length;r++){const s=A.acquire().init(t);this._add(n.at(r),s),A.release(s)}}_grow(t,n){if(0!==n&&(y(t,n,r=>this.objectToBoundingSphere(r),J),Y(J[3])&&!this._fitsInsideTree(J)))if(L(this._root.node))(0,O.e)(J,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const r=this._rootBoundsForRootAsSubNode(J);this._placingRootViolatesMaxDepth(r)?this._rebuildTree(J,r):this._growRootAsSubNode(r),A.release(r)}}_rebuildTree(t,n){(0,D.c)((0,O.a)(ht),(0,O.a)(n.bounds)),ht[3]=n.halfSize,y([t,ht],2,s=>s,ut);const r=A.acquire().init(this._root);this._root.initFrom(null,ut,ut[3]),this._root.increaseHalfSize(1.25),W(r,s=>(this.add(s.node.terminals.data,s.node.terminals.length),null!==s.node.residents&&this.add(s.node.residents.data,s.node.residents.length),!0)),A.release(r)}_placingRootViolatesMaxDepth(t){const n=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let r=0;return W(this._root,s=>(r=Math.max(r,s.depth),r+n<=this._maximumDepth)),r+n>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const n=t[3],r=t;let s=-1/0;const l=this._root.bounds,m=this._root.halfSize;for(let d=0;d<3;d++){const x=r[d]+n-(l[d]+m),P=Math.max(0,Math.ceil((l[d]-m-(r[d]-n))/(2*m))),C=Math.max(0,Math.ceil(x/(2*m)))+1,V=2**Math.ceil(Math.log(P+C)*Math.LOG2E);s=Math.max(s,V),at[d].min=P,at[d].max=C}for(let d=0;d<3;d++){let j=at[d].min,x=at[d].max;const P=(s-(j+x))/2;j+=Math.ceil(P),x+=Math.floor(P),E[d]=l[d]-m-j*m*2+(x+j)*m}const b=s*m;return E[3]=b*_t,A.acquire().initFrom(null,E,b,0)}_growRootAsSubNode(t){const n=this._root.node;(0,D.c)((0,O.a)(J),(0,O.a)(this._root.bounds)),J[3]=this._root.halfSize,this._root.init(t),t.advanceTo(J,null,!0),t.node.children=n.children,t.node.residents=n.residents,t.node.terminals=n.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const n=this._root.node.children;let r=0,s=0;for(;s<n.length&&null==t;)r=s++,t=n[r];for(;s<n.length;)if(n[s++])return-1;return r}_isDegenerate(t){return!Y(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const n=this._root.bounds,r=this._root.halfSize;return t[3]<=r&&t[0]>=n[0]-r&&t[0]<=n[0]+r&&t[1]>=n[1]-r&&t[1]<=n[1]+r&&t[2]>=n[2]-r&&t[2]<=n[2]+r}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:n,_objectCount:r}=this,s=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:n,objectCount:r,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:s}}}_nodeToJSON(t){const n=t.children.map(l=>l?this._nodeToJSON(l):null),r=t.residents?.map(l=>this.objectToBoundingSphere(l)),s=t.terminals?.map(l=>this.objectToBoundingSphere(l));return{children:n,residents:r,terminals:s}}static fromJSON(t){const n=new k(r=>r,{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return n._objectCount=t.objectCount,n._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),n}}class A{constructor(){this.bounds=(0,O.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,n,r,s=this.depth){return this.node=t??A.createEmptyNode(),n&&(0,O.e)(n,this.bounds),this.halfSize=r,this.depth=s,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*_t}advance(t){let n=this.node.children[t];n||(n=A.createEmptyNode(),this.node.children[t]=n),this.node=n,this.halfSize/=2,this.depth++;const r=st[t];return this.bounds[0]+=r[0]*this.halfSize,this.bounds[1]+=r[1]*this.halfSize,this.bounds[2]+=r[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,n,r=!1){for(;;){if(this.isTerminalFor(t))return n&&n(this,-1),!0;if(this.isLeaf()){if(!r)return n&&n(this,-1),!1;this.node.residents=null}const s=this._childIndex(t);n&&n(this,s),this.advance(s)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const n=this.bounds;return(n[0]<t[0]?1:0)+(n[1]<t[1]?2:0)+(n[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new U.A({shrink:!0}),residents:new U.A({shrink:!0})}}static acquire(){return A._pool.acquire()}static release(t){A._pool.release(t)}static clearPool(){A._pool.prune()}}function W(a,t){let n=A.acquire().init(a);const r=[n];for(;0!==r.length;){if(n=r.pop(),t(n)&&!n.isLeaf())for(let s=0;s<n.node.children.length;s++)n.node.children[s]&&r.push(A.acquire().init(n).advance(s));A.release(n)}}function Q(a,t,n,r=k.DepthOrder.FRONT_TO_BACK){let s=A.acquire().init(a);const l=[s];for(function h(a,t,n){if(!Z.length)for(let r=0;r<8;++r)Z.push({index:0,distance:0});for(let r=0;r<8;++r){const s=st[r];Z.data[r].index=r,Z.data[r].distance=z(a,t,s)}Z.sort((r,s)=>r.distance-s.distance);for(let r=0;r<8;++r)n[r]=Z.data[r].index}(n,r,ft);0!==l.length;){if(s=l.pop(),t(s)&&!s.isLeaf())for(let m=7;m>=0;--m){const b=ft[m];s.node.children[b]&&l.push(A.acquire().init(s).advance(b))}A.release(s)}}function et(a,t,n){G.clear();const r=n.advanceTo(t,(s,l)=>{G.push(s.node),G.push(l)})?n.node.terminals:n.node.residents;if(r.removeUnordered(a),0===r.length)for(let s=G.length-2;s>=0&&R(G.data[s],G.data[s+1]);s-=2);}function R(a,t){return t>=0&&(a.children[t]=null),!!L(a)&&(null===a.residents&&(a.residents=new U.A({shrink:!0})),!0)}function L(a){if(0!==a.terminals.length)return!1;if(null!==a.residents)return 0===a.residents.length;for(let t=0;t<a.children.length;t++)if(a.children[t])return!1;return!0}function lt(a,t){a[0]=Math.min(a[0],t[0]-t[3]),a[1]=Math.min(a[1],t[1]-t[3]),a[2]=Math.min(a[2],t[2]-t[3])}function dt(a,t){a[0]=Math.max(a[0],t[0]+t[3]),a[1]=Math.max(a[1],t[1]+t[3]),a[2]=Math.max(a[2],t[2]+t[3])}function $(a,t,n){n[0]=a[0]+t,n[1]=a[1]+t,n[2]=a[2]+t}function y(a,t,n,r){if(1===t){const s=n(a[0]);(0,O.e)(s,r)}else{S[0]=1/0,S[1]=1/0,S[2]=1/0,N[0]=-1/0,N[1]=-1/0,N[2]=-1/0;for(let s=0;s<t;s++){const l=n(a[s]);Y(l[3])&&(lt(S,l),dt(N,l))}(0,D.m)((0,O.a)(r),S,N,.5),r[3]=Math.max(N[0]-S[0],N[1]-S[1],N[2]-S[2])/2}}function it(a,t){let n,r=1/0;for(let s=0;s<8;++s){const l=z(a,t,nt[s]);l<r&&(r=l,n=nt[s])}return n}function z(a,t,n){return t*(a[0]*n[0]+a[1]*n[1]+a[2]*n[2])}function Y(a){return!isNaN(a)&&a!==-1/0&&a!==1/0&&a>0}A._pool=new tt.A(A),(t=(a=k).DepthOrder||(a.DepthOrder={}))[t.FRONT_TO_BACK=1]="FRONT_TO_BACK",t[t.BACK_TO_FRONT=-1]="BACK_TO_FRONT";const st=[(0,T.fA)(-1,-1,-1),(0,T.fA)(1,-1,-1),(0,T.fA)(-1,1,-1),(0,T.fA)(1,1,-1),(0,T.fA)(-1,-1,1),(0,T.fA)(1,-1,1),(0,T.fA)(-1,1,1),(0,T.fA)(1,1,1)],nt=[(0,T.fA)(-1,-1,-1),(0,T.fA)(-1,-1,1),(0,T.fA)(-1,1,-1),(0,T.fA)(-1,1,1),(0,T.fA)(1,-1,-1),(0,T.fA)(1,-1,1),(0,T.fA)(1,1,-1),(0,T.fA)(1,1,1)],_t=Math.sqrt(3),_=[null],E=(0,O.c)(),v=(0,T.vt)(),S=(0,T.vt)(),N=(0,T.vt)(),G=new U.A,Tt=(0,O.c)(),J=(0,O.c)(),ht=(0,O.c)(),ut=(0,O.c)(),at=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],Z=new U.A,ft=[0,0,0,0,0,0,0,0]}}]);