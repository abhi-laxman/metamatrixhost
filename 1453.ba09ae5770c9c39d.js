"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[1453],{31876:(j,O,f)=>{f.d(O,{F:()=>V}),f(89952),f(77806);var R=f(97442),B=f(17181);function V(a,c,u){if(null==a?.timeInfo)return null;const{datesInUnknownTimezone:s=!1,timeOffset:m,useViewTime:p}=a;let h=a.timeExtent;s&&(h=function Z(a){if(!a)return a;const{start:c,end:u}=a;return new B.A({start:null!=c?(0,R.S1)(c,c.getTimezoneOffset(),"minutes"):c,end:null!=u?(0,R.S1)(u,u.getTimezoneOffset(),"minutes"):u})}(h));let g=p?c&&h?c.intersection(h):c||h:h;return!g||g.isEmpty||g.isAllTime?g:(m&&(g=g.offset(-m.value,m.unit)),s&&(g=function I(a){if(!a)return a;const{start:c,end:u}=a;return new B.A({start:null!=c?(0,R.S1)(c,-c.getTimezoneOffset(),"minutes"):c,end:null!=u?(0,R.S1)(u,-u.getTimezoneOffset(),"minutes"):u})}(g)),g.equals(u)?u:g)}f(40920),f(96381)},96381:(j,O,f)=>{f.d(O,{X:()=>A});const A=Symbol("WebScene")},65374:(j,O,f)=>{var A,C,R,B,F,X,x,W,H,L,D,w,G,N,k,Q,P,I,Z,V,a,c,u,s,m,p,h,g,T,S,v,d,y,E,M,U,K,J,b,Y,$,z,at,lt,ut,st,q,_,tt,nt,ct,dt,ft,mt,pt,et,gt,it,rt,ht,ot,yt,Tt,n;f.d(O,{$2:()=>F,C1:()=>R,Hz:()=>w,JO:()=>C,M1:()=>u,O$:()=>rt,OW:()=>et,Q1:()=>_,TZ:()=>P,WE:()=>T,Y:()=>x,YI:()=>nt,bj:()=>W,e_:()=>q,f0:()=>it,fu:()=>D,g7:()=>H,ip:()=>tt,mU:()=>S,oF:()=>a,uQ:()=>c,uT:()=>J,vG:()=>ot,wd:()=>z,xR:()=>A,xn:()=>I,xw:()=>p,yS:()=>b}),(n=A||(A={}))[n.BUTT=0]="BUTT",n[n.ROUND=1]="ROUND",n[n.SQUARE=2]="SQUARE",n[n.UNKNOWN=4]="UNKNOWN",function(n){n[n.BEVEL=0]="BEVEL",n[n.ROUND=1]="ROUND",n[n.MITER=2]="MITER",n[n.UNKNOWN=4]="UNKNOWN"}(C||(C={})),function(n){n[n.SCREEN=0]="SCREEN",n[n.MAP=1]="MAP"}(R||(R={})),function(n){n[n.Tint=0]="Tint",n[n.Ignore=1]="Ignore",n[n.Multiply=99]="Multiply"}(B||(B={})),function(n){n.Both="Both",n.JustBegin="JustBegin",n.JustEnd="JustEnd",n.None="None"}(F||(F={})),function(n){n[n.Mosaic=0]="Mosaic",n[n.Centered=1]="Centered"}(X||(X={})),function(n){n[n.Normal=0]="Normal",n[n.Superscript=1]="Superscript",n[n.Subscript=2]="Subscript"}(x||(x={})),function(n){n[n.MSSymbol=0]="MSSymbol",n[n.Unicode=1]="Unicode"}(W||(W={})),function(n){n[n.Unspecified=0]="Unspecified",n[n.TrueType=1]="TrueType",n[n.PSOpenType=2]="PSOpenType",n[n.TTOpenType=3]="TTOpenType",n[n.Type1=4]="Type1"}(H||(H={})),function(n){n[n.Display=0]="Display",n[n.Map=1]="Map"}(L||(L={})),function(n){n.None="None",n.Loop="Loop",n.Oscillate="Oscillate"}(D||(D={})),function(n){n.Linear="Linear",n.EaseIn="EaseIn",n.EaseOut="EaseOut",n.EaseInOut="EaseInOut"}(w||(w={})),function(n){n[n.Z=0]="Z",n[n.X=1]="X",n[n.Y=2]="Y"}(G||(G={})),function(n){n[n.XYZ=0]="XYZ",n[n.ZXY=1]="ZXY",n[n.YXZ=2]="YXZ"}(N||(N={})),function(n){n[n.Rectangle=0]="Rectangle",n[n.RoundedRectangle=1]="RoundedRectangle",n[n.Oval=2]="Oval"}(k||(k={})),function(n){n[n.None=0]="None",n[n.Alpha=1]="Alpha",n[n.Screen=2]="Screen",n[n.Multiply=3]="Multiply",n[n.Add=4]="Add"}(Q||(Q={})),function(n){n[n.TTB=0]="TTB",n[n.RTL=1]="RTL",n[n.BTT=2]="BTT"}(P||(P={})),function(n){n[n.None=0]="None",n[n.SignPost=1]="SignPost",n[n.FaceNearPlane=2]="FaceNearPlane"}(I||(I={})),function(n){n[n.Float=0]="Float",n[n.String=1]="String",n[n.Boolean=2]="Boolean"}(Z||(Z={})),function(n){n[n.Intersect=0]="Intersect",n[n.Subtract=1]="Subtract"}(V||(V={})),function(n){n.OpenEnded="OpenEnded",n.Block="Block",n.Crossed="Crossed"}(a||(a={})),function(n){n.FullGeometry="FullGeometry",n.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",n.ReversedFirstSegment="ReversedFirstSegment",n.PerpendicularToSecondSegment="PerpendicularToSecondSegment",n.SecondSegmentWithTicks="SecondSegmentWithTicks",n.DoublePerpendicular="DoublePerpendicular",n.OppositeToFirstSegment="OppositeToFirstSegment",n.TriplePerpendicular="TriplePerpendicular",n.HalfCircleFirstSegment="HalfCircleFirstSegment",n.HalfCircleSecondSegment="HalfCircleSecondSegment",n.HalfCircleExtended="HalfCircleExtended",n.OpenCircle="OpenCircle",n.CoverageEdgesWithTicks="CoverageEdgesWithTicks",n.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",n.GapExtentMidline="GapExtentMidline",n.Chevron="Chevron",n.PerpendicularWithArc="PerpendicularWithArc",n.ClosedHalfCircle="ClosedHalfCircle",n.TripleParallelExtended="TripleParallelExtended",n.ParallelWithTicks="ParallelWithTicks",n.Parallel="Parallel",n.PerpendicularToFirstSegment="PerpendicularToFirstSegment",n.ParallelOffset="ParallelOffset",n.OffsetOpposite="OffsetOpposite",n.OffsetSame="OffsetSame",n.CircleWithArc="CircleWithArc",n.DoubleJog="DoubleJog",n.PerpendicularOffset="PerpendicularOffset",n.LineExcludingLastSegment="LineExcludingLastSegment",n.MultivertexArrow="MultivertexArrow",n.CrossedArrow="CrossedArrow",n.ChevronArrow="ChevronArrow",n.ChevronArrowOffset="ChevronArrowOffset",n.PartialFirstSegment="PartialFirstSegment",n.Arch="Arch",n.CurvedParallelTicks="CurvedParallelTicks",n.Arc90Degrees="Arc90Degrees",n.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",n.ConcentricCircles="ConcentricCircles",n.DoubleJogArrow="DoubleJogArrow",n.LinkedChevrons="LinkedChevrons",n.SegmentThenHalfCircle="SegmentThenHalfCircle",n.LineWithStraightTicks="LineWithStraightTicks",n.DoubleCurve="DoubleCurve",n.ParallelWithTicksByWidth="ParallelWithTicksByWidth",n.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(c||(c={})),function(n){n.Mitered="Mitered",n.Bevelled="Bevelled",n.Rounded="Rounded",n.Square="Square",n.TrueBuffer="TrueBuffer"}(u||(u={})),function(n){n.ClosePath="ClosePath",n.ConvexHull="ConvexHull",n.RectangularBox="RectangularBox"}(s||(s={})),function(n){n.BeginningOfLine="BeginningOfLine",n.EndOfLine="EndOfLine"}(m||(m={})),function(n){n.Mitered="Mitered",n.Bevelled="Bevelled",n.Rounded="Rounded",n.Square="Square"}(p||(p={})),function(n){n.Fast="Fast",n.Accurate="Accurate"}(h||(h={})),function(n){n.BeginningOfLine="BeginningOfLine",n.EndOfLine="EndOfLine"}(g||(g={})),function(n){n.Sinus="Sinus",n.Square="Square",n.Triangle="Triangle",n.Random="Random"}(T||(T={})),function(n){n[n.None=0]="None",n[n.Default=1]="Default",n[n.Force=2]="Force"}(S||(S={})),function(n){n[n.Buffered=0]="Buffered",n[n.Left=1]="Left",n[n.Right=2]="Right",n[n.AlongLine=3]="AlongLine"}(v||(v={})),function(n){n[n.Linear=0]="Linear",n[n.Rectangular=1]="Rectangular",n[n.Circular=2]="Circular",n[n.Buffered=3]="Buffered"}(d||(d={})),function(n){n[n.Discrete=0]="Discrete",n[n.Continuous=1]="Continuous"}(y||(y={})),function(n){n[n.AcrossLine=0]="AcrossLine",n[n.AlongLine=1]="AlongLine"}(E||(E={})),function(n){n[n.Auto=0]="Auto",n[n.Clockwise=1]="Clockwise",n[n.Counterclockwise=2]="Counterclockwise"}(M||(M={})),function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.Center=2]="Center",n[n.Justify=3]="Justify"}(U||(U={})),function(n){n[n.Base=0]="Base",n[n.MidPoint=1]="MidPoint",n[n.ThreePoint=2]="ThreePoint",n[n.FourPoint=3]="FourPoint",n[n.Underline=4]="Underline",n[n.CircularCW=5]="CircularCW",n[n.CircularCCW=6]="CircularCCW"}(K||(K={})),function(n){n.Butt="Butt",n.Round="Round",n.Square="Square"}(J||(J={})),function(n){n.NoConstraint="NoConstraint",n.HalfPattern="HalfPattern",n.HalfGap="HalfGap",n.FullPattern="FullPattern",n.FullGap="FullGap",n.Custom="Custom"}(b||(b={})),function(n){n[n.None=-1]="None",n[n.Custom=0]="Custom",n[n.Circle=1]="Circle",n[n.OpenArrow=2]="OpenArrow",n[n.ClosedArrow=3]="ClosedArrow",n[n.Diamond=4]="Diamond"}(Y||(Y={})),function(n){n[n.ExtraLeading=0]="ExtraLeading",n[n.Multiple=1]="Multiple",n[n.Exact=2]="Exact"}($||($={})),function(n){n.Bevel="Bevel",n.Round="Round",n.Miter="Miter"}(z||(z={})),function(n){n[n.Default=0]="Default",n[n.String=1]="String",n[n.Numeric=2]="Numeric"}(at||(at={})),function(n){n[n.InsidePolygon=0]="InsidePolygon",n[n.PolygonCenter=1]="PolygonCenter",n[n.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(lt||(lt={})),function(n){n[n.Tint=0]="Tint",n[n.Replace=1]="Replace",n[n.Multiply=2]="Multiply"}(ut||(ut={})),function(n){n[n.ClipAtBoundary=0]="ClipAtBoundary",n[n.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",n[n.DoNotTouchBoundary=2]="DoNotTouchBoundary",n[n.DoNotClip=3]="DoNotClip"}(st||(st={})),function(n){n.NoConstraint="NoConstraint",n.WithMarkers="WithMarkers",n.WithFullGap="WithFullGap",n.WithHalfGap="WithHalfGap",n.Custom="Custom"}(q||(q={})),function(n){n.Fixed="Fixed",n.Random="Random",n.RandomFixedQuantity="RandomFixedQuantity"}(_||(_={})),function(n){n.LineMiddle="LineMiddle",n.LineBeginning="LineBeginning",n.LineEnd="LineEnd",n.SegmentMidpoint="SegmentMidpoint"}(tt||(tt={})),function(n){n.OnPolygon="OnPolygon",n.CenterOfMass="CenterOfMass",n.BoundingBoxCenter="BoundingBoxCenter"}(nt||(nt={})),function(n){n[n.Low=0]="Low",n[n.Medium=1]="Medium",n[n.High=2]="High"}(ct||(ct={})),function(n){n[n.MarkerCenter=0]="MarkerCenter",n[n.MarkerBounds=1]="MarkerBounds"}(dt||(dt={})),function(n){n[n.None=0]="None",n[n.PropUniform=1]="PropUniform",n[n.PropNonuniform=2]="PropNonuniform",n[n.DifUniform=3]="DifUniform",n[n.DifNonuniform=4]="DifNonuniform"}(ft||(ft={})),function(n){n.Tube="Tube",n.Strip="Strip",n.Wall="Wall"}(mt||(mt={})),function(n){n[n.Random=0]="Random",n[n.Increasing=1]="Increasing",n[n.Decreasing=2]="Decreasing",n[n.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(pt||(pt={})),function(n){n[n.Relative=0]="Relative",n[n.Absolute=1]="Absolute"}(et||(et={})),function(n){n[n.Normal=0]="Normal",n[n.LowerCase=1]="LowerCase",n[n.Allcaps=2]="Allcaps"}(gt||(gt={})),function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"}(it||(it={})),function(n){n.Draft="Draft",n.Picture="Picture",n.Text="Text"}(rt||(rt={})),function(n){n[n.Top=0]="Top",n[n.Center=1]="Center",n[n.Baseline=2]="Baseline",n[n.Bottom=3]="Bottom"}(ht||(ht={})),function(n){n[n.Right=0]="Right",n[n.Upright=1]="Upright"}(ot||(ot={})),function(n){n[n.Small=0]="Small",n[n.Medium=1]="Medium",n[n.Large=2]="Large"}(yt||(yt={})),function(n){n[n.Calm=0]="Calm",n[n.Rippled=1]="Rippled",n[n.Slight=2]="Slight",n[n.Moderate=3]="Moderate"}(Tt||(Tt={}))},45400:(j,O,f)=>{f.r(O),f.d(O,{default:()=>c});var A=f(10467),C=f(8189),R=f(35150),B=f(11432),F=f(56492),X=f(48900),x=f(85211),L=(f(3248),f(40707),f(76576)),D=f(28067),w=f(72663),G=f(88219),N=f(68418),k=f(41474),Q=f(96081),P=f(5922),I=f(2277),Z=f(31876);const V=u=>{let s=class extends u{initialize(){this.exportImageParameters=new I.r({layer:this.layer})}destroy(){this.exportImageParameters=(0,B.pR)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}get timeExtent(){return(0,Z.F)(this.layer,this.view?.timeExtent,this._get("timeExtent"))}fetchPopupFeaturesAtLocation(m,p){var h=this;return(0,A.A)(function*(){const{layer:g}=h;if(!m)throw new P.A("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:g});const{popupEnabled:T}=g;if(!T)throw new P.A("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:T});const S=h.createFetchPopupFeaturesQuery(m);if(!S)return[];const{extent:v,width:d,height:y,x:E,y:M}=S;if(!(v&&d&&y))throw new P.A("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:v,width:d,height:y});const U=yield g.fetchFeatureInfo(v,d,y,E,M);return(0,F.Te)(p),U})()}};return(0,C._)([(0,x.MZ)()],s.prototype,"exportImageParameters",void 0),(0,C._)([(0,x.MZ)({readOnly:!0})],s.prototype,"exportImageVersion",null),(0,C._)([(0,x.MZ)()],s.prototype,"layer",void 0),(0,C._)([(0,x.MZ)({readOnly:!0})],s.prototype,"timeExtent",null),s=(0,C._)([(0,L.$)("esri.views.layers.WMSLayerView")],s),s};let a=class extends(V((0,Q.A)((0,G.e)(k.A)))){constructor(){super(...arguments),this.bitmapContainer=new w.l}supportsSpatialReference(u){return this.layer.serviceSupportsSpatialReference(u)}update(u){this.strategy.update(u).catch(s=>{(0,F.zf)(s)||R.A.getLogger(this).error(s)})}attach(){const{layer:u}=this,{imageMaxHeight:s,imageMaxWidth:m}=u;this.bitmapContainer=new w.l,this.container.addChild(this.bitmapContainer),this.strategy=new N.A({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:s,imageMaxWidth:m,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,X.wB)(()=>this.exportImageVersion,()=>this.requestUpdate()))}detach(){this.strategy=(0,B.pR)(this.strategy),this.container.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(u){const{view:s,bitmapContainer:m}=this,{x:p,y:h}=u,{spatialReference:g}=s;let T,S=0,v=0;if(m.children.some(M=>{const{width:U,height:K,resolution:J,x:b,y:Y}=M,$=b+J*U,z=Y-J*K;return p>=b&&p<=$&&h<=Y&&h>=z&&(T=new D.A({xmin:b,ymin:z,xmax:$,ymax:Y,spatialReference:g}),S=U,v=K,!0)}),!T)return null;const d=T.width/S,y=Math.round((p-T.xmin)/d),E=Math.round((T.ymax-h)/d);return{extent:T,width:S,height:v,x:y,y:E}}doRefresh(){var u=this;return(0,A.A)(function*(){u.requestUpdate()})()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(u,s,m,p){return this.layer.fetchImageBitmap(u,s,m,{timeExtent:this.timeExtent,...p})}};(0,C._)([(0,x.MZ)()],a.prototype,"strategy",void 0),(0,C._)([(0,x.MZ)()],a.prototype,"updating",void 0),a=(0,C._)([(0,L.$)("esri.views.2d.layers.WMSLayerView2D")],a);const c=a}}]);