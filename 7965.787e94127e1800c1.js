"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[7965],{86468:(pe,X,_)=>{_.d(X,{T:()=>L,U:()=>M});var y=_(69287);function M(G,N,P=0){const Z=(0,y.qE)(G,0,z);for(let oe=0;oe<4;oe++)N[P+oe]=Math.floor(256*K(Z*Y[oe]))}function L(G,N=0){let P=0;for(let Z=0;Z<4;Z++)P+=G[N+Z]*U[Z];return P}const Y=[1,256,65536,16777216],U=[1/256,1/65536,1/16777216,1/4294967296],z=L(new Uint8ClampedArray([255,255,255,255]));function K(G){return G-Math.floor(G)}},32954:(pe,X,_)=>{function y(){return[1,0,0,0,1,0,0,0,1]}function L(K,G,N,P,Z,oe,le,Ee,Re){return[K,G,N,P,Z,oe,le,Ee,Re]}_.d(X,{fA:()=>L,vt:()=>y,zK:()=>U});const U=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:U,clone:function M(K){return[K[0],K[1],K[2],K[3],K[4],K[5],K[6],K[7],K[8]]},create:y,createView:function Y(K,G){return new Float64Array(K,G,9)},fromValues:L},Symbol.toStringTag,{value:"Module"}))},16590:(pe,X,_)=>{_.d(X,{W:()=>z,g:()=>U});var y=_(10467),M=_(25866),L=_(13970),Y=_(23234);function U(N,P,Z,oe){if((0,L.canProjectWithoutEngine)(N.spatialReference,Z))return G[0]=N.x,G[1]=N.y,G[2]=N.z??oe??0,(0,Y.projectBuffer)(G,N.spatialReference,0,P,Z,0);const le=(0,L.tryProjectWithZConversion)(N,Z);return!!le&&(P[0]=le?.x,P[1]=le?.y,P[2]=le?.z??oe??0,!0)}function z(N,P,Z,oe,le){return K.apply(this,arguments)}function K(){return(K=(0,y.A)(function*(N,P,Z,oe,le){return yield(0,L.initializeProjection)(N.spatialReference,Z,null,le),U(N,P,Z,oe)})).apply(this,arguments)}const G=(0,M.vt)()},44929:(pe,X,_)=>{_.d(X,{F:()=>U}),_(13970);var M=_(32034),L=_(16590);function U(N,P,Z,oe,le){return!(null==P||null==oe||N.length<2)&&(G.x=N[0],G.y=N[1],G.z=N[2],G.spatialReference=P,(0,L.g)(G,Z,oe,le))}const G=(0,_(8675).T)(0,0,0,M.A.WGS84)},8675:(pe,X,_)=>{function y(L,Y,U,z){return{x:L,y:Y,z:U,hasZ:null!=U,hasM:!1,spatialReference:z,type:"point"}}function M(L,Y,U,z,K){L.x=Y,L.y=U,L.z=z,L.hasZ=null!=z,L.spatialReference=K}_.d(X,{J:()=>M,T:()=>y})},70787:(pe,X,_)=>{_.d(X,{MA:()=>Z,m0:()=>D,wH:()=>W});var y=_(5922),M=_(77806),L=_(35150),Y=_(46835),U=_(40972);const z=()=>L.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function K(A,O,te){let J="",$=0;for(;$<te;){const ee=A[O+$];if(ee<128)J+=String.fromCharCode(ee),$++;else if(ee>=192&&ee<224){if($+1>=te)throw new y.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");J+=String.fromCharCode((31&ee)<<6|63&A[O+$+1]),$+=2}else if(ee>=224&&ee<240){if($+2>=te)throw new y.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");J+=String.fromCharCode((15&ee)<<12|(63&A[O+$+1])<<6|63&A[O+$+2]),$+=3}else{if(!(ee>=240&&ee<248))throw new y.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if($+3>=te)throw new y.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const ve=(7&ee)<<18|(63&A[O+$+1])<<12|(63&A[O+$+2])<<6|63&A[O+$+3];J+=ve>=65536?String.fromCharCode(55296+(ve-65536>>10),56320+(1023&ve)):String.fromCharCode(ve),$+=4}}}return J}function G(A,O){const te={byteOffset:0,byteCount:0,fields:Object.create(null)};let J=0;for(let $=0;$<O.length;$++){const ee=O[$],ve=ee.valueType||ee.type;te.fields[ee.property]=(0,we[ve])(A,J),J+=ue[ve].BYTES_PER_ELEMENT}return te.byteCount=J,te}function P(A,O,te){const J=[];let $,ee,ve=0;for(ee=0;ee<A;ee+=1){if($=O[ee],$>0){if(J.push(K(te,ve,$-1)),0!==te[ve+$-1])throw new y.A("string-array-error","Invalid string array: missing null termination.")}else J.push(null);ve+=$}return J}function Z(A,O){return new ue[O.valueType](A,O.byteOffset,O.count*O.valuesPerElement)}function Ee(A,O,te){if(O!==A&&z().error(`Invalid ${te} buffer size\n expected: ${A}, actual: ${O})`),O<A)throw new y.A("buffer-too-small","Binary buffer is too small",{expectedSize:A,actualSize:O})}function W(A,O){const te=G(A,O&&O.header);let J=te.byteCount;const $={isDraco:!1,header:te,byteOffset:te.byteCount,byteCount:0,vertexAttributes:{}},ee=te.fields,ve=null!=ee.vertexCount?ee.vertexCount:ee.count;for(const he of O.ordering){if(!O.vertexAttributes[he])continue;const Me={...O.vertexAttributes[he],byteOffset:J,count:ve};$.vertexAttributes[Te[he]||"_"+he]=Me,J+=ye(Me.valueType)*Me.valuesPerElement*ve}const Ue=ee.faceCount;if(O.faces&&Ue){$.faces={};for(const he of O.ordering){if(!O.faces[he])continue;const Me={...O.faces[he],byteOffset:J,count:Ue};$.faces[he]=Me,J+=ye(Me.valueType)*Me.valuesPerElement*Ue}}const fe=ee.featureCount;if(O.featureAttributes&&O.featureAttributeOrder&&fe){$.featureAttributes={};for(const he of O.featureAttributeOrder){if(!O.featureAttributes[he])continue;const Me={...O.featureAttributes[he],byteOffset:J,count:fe};$.featureAttributes[he]=Me,J+=("UInt64"===Me.valueType?8:ye(Me.valueType))*Me.valuesPerElement*fe}}return Ee(J,A.byteLength,"geometry"),$.byteCount=J-$.byteOffset,$}const Te={position:U.r.POSITION,normal:U.r.NORMAL,color:U.r.COLOR,uv0:U.r.UV0,region:U.r.UVREGION};function D(A,O,te){if("lepcc-rgb"===A.encoding)return(0,Y.mb)(O);if("lepcc-intensity"===A.encoding)return(0,Y.Ax)(O);if(null!=A.encoding&&""!==A.encoding)throw new y.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");A["attributeByteCounts "]&&!A.attributeByteCounts&&(z().warn("Warning: Trailing space in 'attributeByteCounts '."),A.attributeByteCounts=A["attributeByteCounts "]),"ObjectIds"===A.ordering[0]&&A.hasOwnProperty("objectIds")&&(z().warn("Warning: Case error in objectIds"),A.ordering[0]="objectIds");const J=function le(A,O,te){const J=null!=O.header?G(A,O.header):{byteOffset:0,byteCount:0,fields:{count:te}},$={header:J,byteOffset:J.byteCount,byteCount:0,entries:Object.create(null)};let ee=J.byteCount;for(let ve=0;ve<O.ordering.length;ve++){const Ue=O.ordering[ve],fe=(0,M.o8)(O[Ue]);if(fe.count=J.fields.count??0,"String"===fe.valueType){if(fe.byteOffset=ee,fe.byteCount=J.fields[Ue+"ByteCount"],"UTF-8"!==fe.encoding)throw new y.A("unsupported-encoding","Unsupported String encoding.",{encoding:fe.encoding});if(fe.timeEncoding&&"ECMA_ISO8601"!==fe.timeEncoding)throw new y.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:fe.timeEncoding})}else{if(!ae(fe.valueType))throw new y.A("unsupported-value-type","Unsupported binary valueType",{valueType:fe.valueType});{const he=ye(fe.valueType);ee+=ee%he!=0?he-ee%he:0,fe.byteOffset=ee,fe.byteCount=he*fe.valuesPerElement*fe.count}}ee+=fe.byteCount??0,$.entries[Ue]=fe}return $.byteCount=ee-$.byteOffset,$}(O,A,te);Ee(J.byteOffset+J.byteCount,O.byteLength,"attribute");const $=J.entries.attributeValues||J.entries.objectIds;if($){if("String"===$.valueType){const ee=J.entries.attributeByteCounts,ve=Z(O,ee),Ue=function oe(A,O){return new Uint8Array(A,O.byteOffset,O.byteCount)}(O,$);return $.timeEncoding?function N(A,O,te){return P(A,O,te).map(J=>{const $=J?Date.parse(J):null;return null==$||Number.isNaN($)?null:$})}(ee.count,ve,Ue):P(ee.count,ve,Ue)}return Z(O,$)}throw new y.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const ue={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},we={Float32:(A,O)=>new DataView(A,0).getFloat32(O,!0),Float64:(A,O)=>new DataView(A,0).getFloat64(O,!0),UInt8:(A,O)=>new DataView(A,0).getUint8(O),Int8:(A,O)=>new DataView(A,0).getInt8(O),UInt16:(A,O)=>new DataView(A,0).getUint16(O,!0),Int16:(A,O)=>new DataView(A,0).getInt16(O,!0),UInt32:(A,O)=>new DataView(A,0).getUint32(O,!0),Int32:(A,O)=>new DataView(A,0).getInt32(O,!0)};function ae(A){return ue.hasOwnProperty(A)}function ye(A){return ae(A)?ue[A].BYTES_PER_ELEMENT:0}},51454:(pe,X,_)=>{_.d(X,{Q7:()=>dt,s1:()=>ze});var y=_(10467),M=_(89563),z=(_(89952),_(5922),_(3248),_(79139)),G=(_(92771),_(62789)),P=(_(28714),_(25866)),Ee=(_(13970),_(32034),_(44929),_(51995)),V=(_(83989),_(87086),_(70787));_(87477),_(83675);var he,f,ae=_(96522),A=(_(10136),_(19641));function ze(f,E,B,H,k,q,ne,re){return F.apply(this,arguments)}function F(){return(F=(0,y.A)(function*(f,E,B,H,k,q,ne,re){const se=[];for(const de of E)de&&k.includes(de.name)&&se.push({url:`${f}/nodes/${B}/attributes/${de.key}/0`,storageInfo:de});const ie=yield Promise.allSettled(se.map(de=>(0,M.A)(de.url,{responseType:"array-buffer",query:{...ne,token:q},signal:re?.signal}).then(Ce=>(0,V.m0)(de.storageInfo,Ce.data)))),ge=[];for(const de of H){const Ce={};for(let Oe=0;Oe<ie.length;Oe++){const ce=ie[Oe];"fulfilled"===ce.status&&(Ce[se[Oe].storageInfo.name]=De(ce.value,de))}ge.push(Ce)}return ge})).apply(this,arguments)}_(6558),(0,Ee.vt)(),(f=he||(he={}))[f.OUTSIDE=0]="OUTSIDE",f[f.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",f[f.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",f[f.INSIDE=3]="INSIDE";const xe=-32768,me=-2147483648;function De(f,E){if(!f)return null;const B=f[E];return(0,z.IY)(f)?B===xe?null:B:(0,z._G)(f)?B===me?null:B:B!=B?null:B}function dt(f){null!=f&&(f[3]=-1)}(0,ae.CC)({color:[0,0,0,0],opacity:0}),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,P.vt)(),(0,Ee.vt)(),(0,Ee.vt)(),new A.ab,(0,P.vt)(),new Array(72),(0,G.vt)()},46835:(pe,X,_)=>{_.d(X,{Ax:()=>Re,Me:()=>K,mb:()=>oe});var y=_(5922);const M=!0,L={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function Y(W,V,Q){return{identifier:String.fromCharCode.apply(null,new Uint8Array(W,Q+L.identifierOffset,L.identifierLength)),version:V.getUint16(Q+L.versionOffset,M),checksum:V.getUint32(Q+L.checksumOffset,M)}}const U={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function K(W){const V=new DataView(W,0);let Q=0;const{identifier:I,version:Te}=Y(W,V,Q);if(Q+=L.byteCount,"LEPCC     "!==I)throw new y.A("lepcc-decode-error","Bad identifier");if(Te>1)throw new y.A("lepcc-decode-error","Unknown version");const D=function z(W,V){return{sizeLo:W.getUint32(V+U.sizeLo,M),sizeHi:W.getUint32(V+U.sizeHi,M),minX:W.getFloat64(V+U.minX,M),minY:W.getFloat64(V+U.minY,M),minZ:W.getFloat64(V+U.minZ,M),maxX:W.getFloat64(V+U.maxX,M),maxY:W.getFloat64(V+U.maxY,M),maxZ:W.getFloat64(V+U.maxZ,M),errorX:W.getFloat64(V+U.errorX,M),errorY:W.getFloat64(V+U.errorY,M),errorZ:W.getFloat64(V+U.errorZ,M),count:W.getUint32(V+U.count,M),reserved:W.getUint32(V+U.reserved,M)}}(V,Q);if(Q+=U.byteCount,D.sizeHi*2**32+D.sizeLo!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");const ue=new Float64Array(3*D.count),we=[],ae=[],ye=[],A=[];if(Q=G(W,Q,we),Q=G(W,Q,ae),Q=G(W,Q,ye),Q=G(W,Q,A),Q!==W.byteLength)throw new y.A("lepcc-decode-error","Bad length");let O=0,te=0;for(let J=0;J<we.length;J++){te+=we[J];let $=0;for(let ee=0;ee<ae[J];ee++){$+=ye[O];const ve=A[O];ue[3*O]=Math.min(D.maxX,D.minX+2*D.errorX*$),ue[3*O+1]=Math.min(D.maxY,D.minY+2*D.errorY*te),ue[3*O+2]=Math.min(D.maxZ,D.minZ+2*D.errorZ*ve),O++}}return{errorX:D.errorX,errorY:D.errorY,errorZ:D.errorZ,result:ue}}function G(W,V,Q){const I=[];V=N(W,V,I);const Te=[];for(let D=0;D<I.length;D++){Te.length=0,V=N(W,V,Te);for(let ue=0;ue<Te.length;ue++)Q.push(Te[ue]+I[D])}return V}function N(W,V,Q){const I=new DataView(W,V),Te=I.getUint8(0),D=31&Te,ue=!!(32&Te),we=(192&Te)>>6;let ae=0;if(0===we)ae=I.getUint32(1,M),V+=5;else if(1===we)ae=I.getUint16(1,M),V+=3;else{if(2!==we)throw new y.A("lepcc-decode-error","Bad count type");ae=I.getUint8(1),V+=2}if(ue)throw new y.A("lepcc-decode-error","LUT not implemented");const ye=Math.ceil(ae*D/8),A=new Uint8Array(W,V,ye);let O=0,te=0,J=0;const $=-1>>>32-D;for(let ee=0;ee<ae;ee++){for(;te<D;)O|=A[J]<<te,te+=8,J+=1;Q[ee]=O&$,O>>>=D,te-=D,te+D>32&&(O|=A[J-1]>>8-te)}return V+J}const P={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function oe(W){const V=new DataView(W,0);let Q=0;const{identifier:I,version:Te}=Y(W,V,Q);if(Q+=L.byteCount,"ClusterRGB"!==I)throw new y.A("lepcc-decode-error","Bad identifier");if(Te>1)throw new y.A("lepcc-decode-error","Unknown version");const D=function Z(W,V){return{sizeLo:W.getUint32(V+P.sizeLo,M),sizeHi:W.getUint32(V+P.sizeHi,M),count:W.getUint32(V+P.count,M),colorMapCount:W.getUint16(V+P.colorMapCount,M),lookupMethod:W.getUint8(V+P.lookupMethod),compressionMethod:W.getUint8(V+P.compressionMethod)}}(V,Q);if(Q+=P.byteCount,D.sizeHi*2**32+D.sizeLo!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");if((2===D.lookupMethod||1===D.lookupMethod)&&0===D.compressionMethod){if(3*D.colorMapCount+D.count+Q!==W.byteLength||D.colorMapCount>256)throw new y.A("lepcc-decode-error","Bad count");const ue=new Uint8Array(W,Q,3*D.colorMapCount),we=new Uint8Array(W,Q+3*D.colorMapCount,D.count),ae=new Uint8Array(3*D.count);for(let ye=0;ye<D.count;ye++){const A=we[ye];ae[3*ye]=ue[3*A],ae[3*ye+1]=ue[3*A+1],ae[3*ye+2]=ue[3*A+2]}return ae}if(0===D.lookupMethod&&0===D.compressionMethod){if(3*D.count+Q!==W.byteLength||0!==D.colorMapCount)throw new y.A("lepcc-decode-error","Bad count");return new Uint8Array(W,Q).slice()}if(D.lookupMethod<=2&&1===D.compressionMethod){if(Q+3!==W.byteLength||1!==D.colorMapCount)throw new y.A("lepcc-decode-error","Bad count");const ue=V.getUint8(Q),we=V.getUint8(Q+1),ae=V.getUint8(Q+2),ye=new Uint8Array(3*D.count);for(let A=0;A<D.count;A++)ye[3*A]=ue,ye[3*A+1]=we,ye[3*A+2]=ae;return ye}throw new y.A("lepcc-decode-error","Bad method "+D.lookupMethod+","+D.compressionMethod)}const le={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function Re(W){const V=new DataView(W,0);let Q=0;const{identifier:I,version:Te}=Y(W,V,Q);if(Q+=L.byteCount,"Intensity "!==I)throw new y.A("lepcc-decode-error","Bad identifier");if(Te>1)throw new y.A("lepcc-decode-error","Unknown version");const D=function Ee(W,V){return{sizeLo:W.getUint32(V+le.sizeLo,M),sizeHi:W.getUint32(V+le.sizeHi,M),count:W.getUint32(V+le.count,M),scaleFactor:W.getUint16(V+le.scaleFactor,M),bitsPerPoint:W.getUint8(V+le.bitsPerPoint),reserved:W.getUint8(V+le.reserved)}}(V,Q);if(Q+=le.byteCount,D.sizeHi*2**32+D.sizeLo!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");const ue=new Uint16Array(D.count);if(8===D.bitsPerPoint){if(D.count+Q!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");const we=new Uint8Array(W,Q,D.count);for(let ae=0;ae<D.count;ae++)ue[ae]=we[ae]*D.scaleFactor}else if(16===D.bitsPerPoint){if(2*D.count+Q!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");const we=new Uint16Array(W,Q,D.count);for(let ae=0;ae<D.count;ae++)ue[ae]=we[ae]*D.scaleFactor}else{const we=[];if(N(W,Q,we)!==W.byteLength)throw new y.A("lepcc-decode-error","Bad size");for(let ae=0;ae<D.count;ae++)ue[ae]=we[ae]*D.scaleFactor}return ue}},96522:(pe,X,_)=>{_.d(X,{Cc:()=>Ge,CC:()=>Fe,RF:()=>tt});var D,F,Me,Le,y=_(68677),L=(_(3248),_(67685)),Y=_(89141),K=_(67400);function tt(F){return F&&F.enabled&&(function z(F){return"extrude"===F.type}(F)||function U(F){return"fill"===F.type}(F))&&null!=F.edges}function Ge(F,xe){return function ke(F,xe){if(null==F)return null;const me=null!=F.color?(0,Y.ci)(y.A.toUnitRGBA(F.color)):(0,Y.fA)(0,0,0,0),De=(0,L.Lz)(F.size),Ie=(0,L.Lz)(F.extensionLength);switch(F.type){case"solid":return Fe({color:me,size:De,extensionLength:Ie,...xe});case"sketch":return function We(F){return{...ze,...F,type:Me.Sketch}}({color:me,size:De,extensionLength:Ie,...xe});default:return}}(function Be(F){return F&&F.enabled&&F.edges||null}(F),xe)}function Fe(F){return{...$e,...F,type:Me.Solid}}_(69690),_(86468),_(61079),_(74567),_(35955),_(80585),_(24493),_(2006),_(64157),_(91784),_(12335),_(40972),(F=D||(D={}))[F.Uniform=0]="Uniform",F[F.Varying=1]="Varying",F[F.COUNT=2]="COUNT",_(34416),_(28825),_(41030),_(88791),_(14705),_(33724),_(50765),function(F){F[F.Solid=0]="Solid",F[F.Sketch=1]="Sketch",F[F.Mixed=2]="Mixed",F[F.COUNT=3]="COUNT"}(Me||(Me={})),function(F){F[F.REGULAR=0]="REGULAR",F[F.SILHOUETTE=1]="SILHOUETTE"}(Le||(Le={}));const $e={color:(0,Y.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:K.x.OPAQUE,hasSlicePlane:!1},ze={color:(0,Y.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:K.x.OPAQUE,hasSlicePlane:!1}},10136:(pe,X,_)=>{_.d(X,{Eb:()=>L,_j:()=>Y,k5:()=>M});var M,N,y=_(69287);function L(N){switch(N){case"multiply":default:return M.Multiply;case"ignore":return M.Ignore;case"replace":return M.Replace;case"tint":return M.Tint}}function Y(N,P,Z){if(null==N||P===M.Ignore)return Z[0]=255,Z[1]=255,Z[2]=255,void(Z[3]=255);const oe=(0,y.qE)(Math.round(N[3]*z),0,z),le=0===oe||P===M.Tint?0:P===M.Replace?K:G;Z[0]=(0,y.qE)(Math.round(N[0]*U),0,U),Z[1]=(0,y.qE)(Math.round(N[1]*U),0,U),Z[2]=(0,y.qE)(Math.round(N[2]*U),0,U),Z[3]=oe+le}(N=M||(M={}))[N.Multiply=1]="Multiply",N[N.Ignore=2]="Ignore",N[N.Replace=3]="Replace",N[N.Tint=4]="Tint";const U=255,z=85,K=z,G=2*z},61079:(pe,X,_)=>{_.d(X,{A:()=>L});var y=_(10136),M=_(24493);function L(Y){Y.vertex.code.add(M.H`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${M.H.int(y.k5.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${M.H.int(y.k5.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${M.H.int(y.k5.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${M.H.int(y.k5.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)}},74567:(pe,X,_)=>{var y,I;function M(I){return I===y.Shadow||I===y.ShadowHighlight||I===y.ShadowExcludeHighlight||I===y.ViewshedShadow}function L(I){return function Re(I){return le(I)||V(I)}(I)||I===y.Normal}function Y(I){return W(I)||I===y.Normal}function U(I){return I===y.Highlight||I===y.ObjectAndLayerIdColor}function z(I){return K(I)||U(I)}function K(I){return I===y.Color}function G(I){return K(I)||Q(I)}function N(I){return K(I)||I===y.ObjectAndLayerIdColor}function P(I){return G(I)||I===y.ObjectAndLayerIdColor}function oe(I){return function Z(I){return K(I)||I===y.Highlight}(I)||V(I)}function le(I){return K(I)||U(I)}function Ee(I){return G(I)||U(I)}function W(I){return Ee(I)||V(I)}function V(I){return I===y.Depth}function Q(I){return I===y.ColorEmission}_.d(X,{CL:()=>U,LG:()=>Q,Mb:()=>Ee,PJ:()=>M,QG:()=>P,RN:()=>G,T2:()=>W,V:()=>y,XY:()=>L,_o:()=>K,aD:()=>oe,dX:()=>le,eh:()=>V,i3:()=>z,iq:()=>Y,zW:()=>N}),(I=y||(y={}))[I.Color=0]="Color",I[I.ColorEmission=1]="ColorEmission",I[I.Depth=2]="Depth",I[I.Normal=3]="Normal",I[I.Shadow=4]="Shadow",I[I.ShadowHighlight=5]="ShadowHighlight",I[I.ShadowExcludeHighlight=6]="ShadowExcludeHighlight",I[I.ViewshedShadow=7]="ViewshedShadow",I[I.Highlight=8]="Highlight",I[I.ObjectAndLayerIdColor=9]="ObjectAndLayerIdColor",I[I.COUNT=10]="COUNT"},34416:(pe,X,_)=>{_.d(X,{W:()=>U,Y:()=>Y});var U,z,y=_(69690),M=_(24493),L=_(40972);function Y(z,K){switch(K.normalType){case U.Compressed:z.attributes.add(L.r.NORMALCOMPRESSED,"vec2"),z.vertex.code.add(M.H`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case U.Attribute:z.attributes.add(L.r.NORMAL,"vec3"),z.vertex.code.add(M.H`vec3 normalModel() {
return normal;
}`);break;case U.ScreenDerivative:z.fragment.code.add(M.H`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,y.Xb)(K.normalType);case U.COUNT:}}(z=U||(U={}))[z.Attribute=0]="Attribute",z[z.Compressed=1]="Compressed",z[z.ScreenDerivative=2]="ScreenDerivative",z[z.COUNT=3]="COUNT"},28825:(pe,X,_)=>{_.d(X,{u:()=>M});var y=_(24493);function M({code:L},Y){L.add(Y.doublePrecisionRequiresObfuscation?y.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`:y.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},35955:(pe,X,_)=>{_.d(X,{W:()=>M});var y=_(24493);function M(L){L.code.add(y.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}`),L.code.add(y.H`const vec4 RGBA_TO_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgbaTofloat(vec4 rgba) {
return dot(rgba, RGBA_TO_FLOAT_FACTORS);
}`),L.code.add(y.H`const vec4 uninterpolatedRGBAToFloatFactors = vec4(
1.0 / 256.0,
1.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0 / 256.0
);
float uninterpolatedRGBAToFloat(vec4 rgba) {
return (dot(round(rgba * 255.0), uninterpolatedRGBAToFloatFactors) - 0.5) * 2.0;
}`)}},41030:(pe,X,_)=>{_.d(X,{W:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"vec3",y.c.Draw,(K,G,N,P)=>K.setUniform3fv(U,z(G,N,P)))}}},88791:(pe,X,_)=>{_.d(X,{t:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"vec3",y.c.Pass,(K,G,N)=>K.setUniform3fv(U,z(G,N)))}}},80585:(pe,X,_)=>{_.d(X,{V:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"vec4",y.c.Draw,(K,G,N)=>K.setUniform4fv(U,z(G,N)))}}},14705:(pe,X,_)=>{_.d(X,{h:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"mat3",y.c.Draw,(K,G,N)=>K.setUniformMatrix3fv(U,z(G,N)))}}},33724:(pe,X,_)=>{_.d(X,{k:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"mat3",y.c.Pass,(K,G,N)=>K.setUniformMatrix3fv(U,z(G,N)))}}},50765:(pe,X,_)=>{_.d(X,{F:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"mat4",y.c.Bind,(K,G)=>K.setUniformMatrix4fv(U,z(G)))}}},91784:(pe,X,_)=>{_.d(X,{o:()=>L});var y=_(2006),M=_(64157);class L extends M.n{constructor(U,z){super(U,"sampler2D",y.c.Draw,(K,G,N)=>K.bindTexture(U,z(G,N)))}}},24493:(pe,X,_)=>{function y(L,...Y){let U="";for(let z=0;z<Y.length;z++)U+=L[z]+Y[z];return U+=L[L.length-1],U}function M(L,Y,U=""){return L?Y:U}var L;_.d(X,{H:()=>y,If:()=>M}),(L=y).int=function Y(z){return Math.round(z).toString()},L.float=function U(z){return z.toPrecision(8)}},12335:(pe,X,_)=>{_.d(X,{E:()=>M});var y=_(3248);function M(){return!!(0,y.A)("enable-feature:objectAndLayerId-rendering")}},67400:(pe,X,_)=>{var y,M;_.d(X,{x:()=>y}),(M=y||(y={}))[M.TRANSPARENT=0]="TRANSPARENT",M[M.OPAQUE=1]="OPAQUE"},6558:(pe,X,_)=>{function M(P){return P&&"function"==typeof P.highlight}function Y(P,Z,oe){return null==P||P>=oe&&(0===Z||P<=Z)}function U(P,Z){if(Z&&P){const{minScale:oe,maxScale:le}=P;if(function z(P,Z){return null!=P&&P>0||null!=Z&&Z>0}(oe,le))return Y(Z,oe,le)}return!0}function K(P){return!P?.minScale||!P.maxScale||P.minScale>=P.maxScale}_.d(X,{E5:()=>U,JU:()=>Y,Of:()=>M,g7:()=>K}),_(5922)},2006:(pe,X,_)=>{var y,M;_.d(X,{c:()=>y}),(M=y||(y={}))[M.Bind=0]="Bind",M[M.Pass=1]="Pass",M[M.Draw=2]="Draw"},64157:(pe,X,_)=>{_.d(X,{n:()=>L}),_(3248);var M=_(2006);class L{constructor(U,z,K,G,N=null){if(this.name=U,this.type=z,this.arraySize=N,this.bind={[M.c.Bind]:null,[M.c.Pass]:null,[M.c.Draw]:null},G)switch(K){case void 0:break;case M.c.Bind:this.bind[M.c.Bind]=G;break;case M.c.Pass:this.bind[M.c.Pass]=G;break;case M.c.Draw:this.bind[M.c.Draw]=G}}equals(U){return this.type===U.type&&this.name===U.name&&this.arraySize===U.arraySize}}}}]);