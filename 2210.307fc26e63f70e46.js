"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2210],{55144:(D,R,c)=>{c.d(R,{T:()=>E,d:()=>N});const E={Base64:0,Hex:1,String:2,Raw:3},f=8,w=(1<<f)-1;function M(o,u){const t=(65535&o)+(65535&u);return(o>>16)+(u>>16)+(t>>16)<<16|65535&t}function j(o,u,t,e,n,r){return M(function v(o,u){return o<<u|o>>>32-u}(M(M(u,o),M(e,r)),n),t)}function A(o,u,t,e,n,r,s){return j(u&t|~u&e,o,u,n,r,s)}function m(o,u,t,e,n,r,s){return j(u&e|t&~e,o,u,n,r,s)}function g(o,u,t,e,n,r,s){return j(u^t^e,o,u,n,r,s)}function x(o,u,t,e,n,r,s){return j(t^(u|~e),o,u,n,r,s)}function N(o,u=E.Hex){const t=u||E.Base64,e=function L(o,u){o[u>>5]|=128<<u%32,o[14+(u+64>>>9<<4)]=u;let t=1732584193,e=-271733879,n=-1732584194,r=271733878;for(let s=0;s<o.length;s+=16){const b=t,z=e,$=n,C=r;t=A(t,e,n,r,o[s],7,-680876936),r=A(r,t,e,n,o[s+1],12,-389564586),n=A(n,r,t,e,o[s+2],17,606105819),e=A(e,n,r,t,o[s+3],22,-1044525330),t=A(t,e,n,r,o[s+4],7,-176418897),r=A(r,t,e,n,o[s+5],12,1200080426),n=A(n,r,t,e,o[s+6],17,-1473231341),e=A(e,n,r,t,o[s+7],22,-45705983),t=A(t,e,n,r,o[s+8],7,1770035416),r=A(r,t,e,n,o[s+9],12,-1958414417),n=A(n,r,t,e,o[s+10],17,-42063),e=A(e,n,r,t,o[s+11],22,-1990404162),t=A(t,e,n,r,o[s+12],7,1804603682),r=A(r,t,e,n,o[s+13],12,-40341101),n=A(n,r,t,e,o[s+14],17,-1502002290),e=A(e,n,r,t,o[s+15],22,1236535329),t=m(t,e,n,r,o[s+1],5,-165796510),r=m(r,t,e,n,o[s+6],9,-1069501632),n=m(n,r,t,e,o[s+11],14,643717713),e=m(e,n,r,t,o[s],20,-373897302),t=m(t,e,n,r,o[s+5],5,-701558691),r=m(r,t,e,n,o[s+10],9,38016083),n=m(n,r,t,e,o[s+15],14,-660478335),e=m(e,n,r,t,o[s+4],20,-405537848),t=m(t,e,n,r,o[s+9],5,568446438),r=m(r,t,e,n,o[s+14],9,-1019803690),n=m(n,r,t,e,o[s+3],14,-187363961),e=m(e,n,r,t,o[s+8],20,1163531501),t=m(t,e,n,r,o[s+13],5,-1444681467),r=m(r,t,e,n,o[s+2],9,-51403784),n=m(n,r,t,e,o[s+7],14,1735328473),e=m(e,n,r,t,o[s+12],20,-1926607734),t=g(t,e,n,r,o[s+5],4,-378558),r=g(r,t,e,n,o[s+8],11,-2022574463),n=g(n,r,t,e,o[s+11],16,1839030562),e=g(e,n,r,t,o[s+14],23,-35309556),t=g(t,e,n,r,o[s+1],4,-1530992060),r=g(r,t,e,n,o[s+4],11,1272893353),n=g(n,r,t,e,o[s+7],16,-155497632),e=g(e,n,r,t,o[s+10],23,-1094730640),t=g(t,e,n,r,o[s+13],4,681279174),r=g(r,t,e,n,o[s],11,-358537222),n=g(n,r,t,e,o[s+3],16,-722521979),e=g(e,n,r,t,o[s+6],23,76029189),t=g(t,e,n,r,o[s+9],4,-640364487),r=g(r,t,e,n,o[s+12],11,-421815835),n=g(n,r,t,e,o[s+15],16,530742520),e=g(e,n,r,t,o[s+2],23,-995338651),t=x(t,e,n,r,o[s],6,-198630844),r=x(r,t,e,n,o[s+7],10,1126891415),n=x(n,r,t,e,o[s+14],15,-1416354905),e=x(e,n,r,t,o[s+5],21,-57434055),t=x(t,e,n,r,o[s+12],6,1700485571),r=x(r,t,e,n,o[s+3],10,-1894986606),n=x(n,r,t,e,o[s+10],15,-1051523),e=x(e,n,r,t,o[s+1],21,-2054922799),t=x(t,e,n,r,o[s+8],6,1873313359),r=x(r,t,e,n,o[s+15],10,-30611744),n=x(n,r,t,e,o[s+6],15,-1560198380),e=x(e,n,r,t,o[s+13],21,1309151649),t=x(t,e,n,r,o[s+4],6,-145523070),r=x(r,t,e,n,o[s+11],10,-1120210379),n=x(n,r,t,e,o[s+2],15,718787259),e=x(e,n,r,t,o[s+9],21,-343485551),t=M(t,b),e=M(e,z),n=M(n,$),r=M(r,C)}return[t,e,n,r]}(function T(o){const u=[];for(let t=0,e=o.length*f;t<e;t+=f)u[t>>5]|=(o.charCodeAt(t/f)&w)<<t%32;return u}(o),o.length*f);switch(t){case E.Raw:return e;case E.Hex:return function B(o){const u="0123456789abcdef",t=[];for(let e=0,n=4*o.length;e<n;e++)t.push(u.charAt(o[e>>2]>>e%4*8+4&15)+u.charAt(o[e>>2]>>e%4*8&15));return t.join("")}(e);case E.String:return function S(o){const u=[];for(let t=0,e=32*o.length;t<e;t+=f)u.push(String.fromCharCode(o[t>>5]>>>t%32&w));return u.join("")}(e);case E.Base64:return function P(o){const e=[];for(let n=0,r=4*o.length;n<r;n+=3){const s=(o[n>>2]>>n%4*8&255)<<16|(o[n+1>>2]>>(n+1)%4*8&255)<<8|o[n+2>>2]>>(n+2)%4*8&255;for(let b=0;b<4;b++)e.push(8*n+6*b>32*o.length?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s>>6*(3-b)&63))}return e.join("")}(e)}}},99305:(D,R,c)=>{function E(f){return f&&"getAtOrigin"in f&&"originOf"in f}c.d(R,{H:()=>E})},46188:(D,R,c)=>{c.r(R),c.d(R,{default:()=>O});var E=c(10467),f=c(8189),w=c(31555),M=c(13925),T=c(98877),S=c(90660),B=c(71065),P=c(11432),v=c(85211),g=(c(3248),c(35150),c(40707),c(76576)),x=c(25968),L=c(1749),N=c(88485);let o=class extends(B.A.JSONSupportMixin(S.A.ClonableMixin(T.A))){constructor(a){super(a),this.position=null,this.elevationInfo=null,this.feature=null}equals(a){return(0,P.CM)(this.position,a.position)&&(0,P.CM)(this.elevationInfo,a.elevationInfo)&&(0,M.xH)(this.feature,a.feature)}};(0,f._)([(0,v.MZ)({type:L.A,json:{write:{isRequired:!0}}})],o.prototype,"position",void 0),(0,f._)([(0,v.MZ)({type:N.A}),(0,x.P)()],o.prototype,"elevationInfo",void 0),(0,f._)([(0,v.MZ)(M.N1)],o.prototype,"feature",void 0),o=(0,f._)([(0,g.$)("esri.analysis.LineOfSightAnalysisObserver")],o);const u=o;let t=class extends(B.A.JSONSupportMixin(S.A)){constructor(a){super(a),this.position=null,this.elevationInfo=null,this.feature=null}equals(a){return(0,P.CM)(this.position,a.position)&&(0,P.CM)(this.elevationInfo,a.elevationInfo)&&(0,M.xH)(this.feature,a.feature)}};(0,f._)([(0,v.MZ)({type:L.A,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,x.P)()],t.prototype,"position",void 0),(0,f._)([(0,v.MZ)({type:N.A}),(0,x.P)()],t.prototype,"elevationInfo",void 0),(0,f._)([(0,v.MZ)(M.N1)],t.prototype,"feature",void 0),t=(0,f._)([(0,g.$)("esri.analysis.LineOfSightAnalysisTarget")],t);const e=t;var n=c(31178),r=c(5605),s=c(48900),b=c(13970),z=c(2296),$=c(73812);const C=n.A.ofType(e);let Z=class extends w.A{constructor(a){super(a),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,s.wB)(()=>this._computeExtent(),a=>{null==a?.pending&&this._set("extent",null!=a?a.extent:null)},s.pc))}get targets(){return this._get("targets")||new C}set targets(a){this._set("targets",(0,r.V)(a,this.targets,C))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}waitComputeExtent(){var a=this;return(0,E.A)(function*(){const y=a._computeExtent();return null!=y?y.pending:Promise.resolve()})()}_computeExtent(){const a=this.spatialReference;if(null==this.observer?.position||null==a)return null;const y=H=>"absolute-height"===(0,$.w7)(H.position,H.elevationInfo),I=this.observer.position,K=(0,z.fA)(I.x,I.y,I.z,I.x,I.y,I.z);for(const H of this.targets)if(null!=H.position){const F=(0,b.projectOrLoad)(H.position,a);if(null!=F.pending)return{pending:F.pending,extent:null};if(null!=F.geometry){const{x:W,y:G,z:V}=F.geometry;(0,z.iT)(K,[W,G,V])}}const J=(0,z.w1)(K,a);return y(this.observer)&&this.targets.every(y)||(J.zmin=void 0,J.zmax=void 0),{pending:null,extent:J}}clear(){this.observer=null,this.targets.removeAll()}};(0,f._)([(0,v.MZ)({type:["line-of-sight"]})],Z.prototype,"type",void 0),(0,f._)([(0,v.MZ)({type:u,json:{read:!0,write:!0}})],Z.prototype,"observer",void 0),(0,f._)([(0,v.MZ)({cast:r.H,type:C,nonNullable:!0,json:{read:!0,write:!0}})],Z.prototype,"targets",null),(0,f._)([(0,v.MZ)({value:null,readOnly:!0})],Z.prototype,"extent",void 0),(0,f._)([(0,v.MZ)({readOnly:!0})],Z.prototype,"spatialReference",null),(0,f._)([(0,v.MZ)({readOnly:!0})],Z.prototype,"requiredPropertiesForEditing",null),Z=(0,f._)([(0,g.$)("esri.analysis.LineOfSightAnalysis")],Z);const U=Z;var i=c(39693),l=c(95478),p=c(17049);const h=n.A.ofType(e);let d=class extends((0,p.q)((0,i.P)(l.A))){constructor(a){super(a),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new U,this.opacity=1}initialize(){this.addHandles((0,s.wB)(()=>this.analysis,(a,y)=>{null!=y&&y.parent===this&&(y.parent=null),null!=a&&(a.parent=this)},s.pc))}load(){var a=this;return(0,E.A)(function*(){return null!=a.analysis&&a.addResolvingPromise(a.analysis.waitComputeExtent()),a})()}get observer(){return this.analysis?.observer}set observer(a){const{analysis:y}=this;y&&(y.observer=a)}get targets(){return null!=this.analysis?this.analysis.targets:new n.A}set targets(a){(0,r.V)(a,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(a){this.analysis===a&&(this.analysis=new U)}};(0,f._)([(0,v.MZ)({json:{read:!1},readOnly:!0})],d.prototype,"type",void 0),(0,f._)([(0,v.MZ)({type:["LineOfSightLayer"]})],d.prototype,"operationalLayerType",void 0),(0,f._)([(0,v.MZ)({type:u,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],d.prototype,"observer",null),(0,f._)([(0,v.MZ)({type:h,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],d.prototype,"targets",null),(0,f._)([(0,v.MZ)({type:U,nonNullable:!0,json:{read:!1,write:!1}})],d.prototype,"analysis",void 0),(0,f._)([(0,v.MZ)({readOnly:!0})],d.prototype,"fullExtent",null),(0,f._)([(0,v.MZ)({readOnly:!0})],d.prototype,"spatialReference",null),(0,f._)([(0,v.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],d.prototype,"opacity",void 0),(0,f._)([(0,v.MZ)({type:["show","hide"]})],d.prototype,"listMode",void 0),d=(0,f._)([(0,g.$)("esri.layers.LineOfSightLayer")],d);const O=d},73812:(D,R,c)=>{c.d(R,{$7:()=>b,B:()=>s,Fo:()=>t,M7:()=>C,NN:()=>j,Q5:()=>e,Tq:()=>U,Up:()=>r,XF:()=>$,Ze:()=>L,bK:()=>T,bh:()=>v,id:()=>N,ky:()=>P,qt:()=>Z,tW:()=>z,v9:()=>A,w7:()=>S,wF:()=>M,wS:()=>o,wz:()=>g,x:()=>m,xS:()=>u,ze:()=>B});var E=c(82663),f=c(82575);function w(i){return i?Z:U}function M(i,l){return l?.mode?l.mode:w(i).mode}function T(i,l){return l??w(i)}function S(i,l){return M(null==i||(i.hasZ??!1),l)}function B(i,l){return T(null==i||(i.hasZ??!1),l)}function P(i){const l=x(i);return S(i.geometry,l)}function v(i){const l=x(i),p=S(i.geometry,l),h=null!=l&&"on-the-ground"!==p?C(l):0,d=l?.featureExpressionInfo;return{mode:p,offset:h,featureExpressionInfo:d}}function j(i){return g(v(i))}function A(i){return g(i)||m(i)}function m(i){return"0"===i?.featureExpressionInfo?.expression}function g(i){if(!i||"on-the-ground"===i.mode)return!1;const l=i?.featureExpressionInfo?i.featureExpressionInfo.expression:null;return!(!l||"0"===l)}function x(i){return i.layer&&"elevationInfo"in i.layer?i.layer.elevationInfo:null}function L(i,l){if(!i?.offset)return 0;const{offset:p,unit:h}=i;if("decimal-degrees"===h)return 0;const d="unknown"!==h&&h?h:"meters",O=(0,E.mq)(l);return O?(0,E.oU)(p,d,O):0}function N(i,l,p){if(!p?.mode)return;const h=i.hasZ?i.z:0,d=L(p,i.spatialReference);switch(p.mode){case"absolute-height":return h-d;case"on-the-ground":return 0;case"relative-to-ground":return h-((l.elevationProvider.getElevation(i.x,i.y,h,i.spatialReference,"ground")??0)+d);case"relative-to-scene":return h-((l.elevationProvider.getElevation(i.x,i.y,h,i.spatialReference,"scene")??0)+d)}}function o(i,l,p,h=null){return t(i,l.x,l.y,l.hasZ?l.z:0,l.spatialReference,p,h)}function u(i,l,p,h,d=null){return t(i,l[0],l[1],l.length>2?l[2]:0,p,h,d)}function t(i,l,p,h,d,O,a=null){if(null==O)return;const y=null!=a?a.mode:"absolute-height";if("on-the-ground"===y)return 0;const{absoluteZ:I}=e(l,p,h,d,i,O);return function n(i,l,p,h,d,O,a,y){const I=L(a,d);switch(y){case"absolute-height":return i-I;case"relative-to-ground":return i-((O.elevationProvider.getElevation(l,p,h,d,"ground")??0)+I);case"relative-to-scene":return i-((O.elevationProvider.getElevation(l,p,h,d,"scene")??0)+I)}}(I,l,p,h,d,i,a,y)}function e(i,l,p,h,d,O){const a=L(O,h);switch(O.mode){case"absolute-height":return{absoluteZ:p+a,elevation:0};case"on-the-ground":{const y=d.elevationProvider.getElevation(i,l,0,h,"ground")??0;return{absoluteZ:y,elevation:y}}case"relative-to-ground":{const y=d.elevationProvider.getElevation(i,l,p,h,"ground")??0;return{absoluteZ:p+y+a,elevation:y}}case"relative-to-scene":{const y=d.elevationProvider.getElevation(i,l,p,h,"scene")??0;return{absoluteZ:p+y+a,elevation:y}}}}function r(i,l){if(null==l)return!1;const{mode:p}=l;return null!=p&&("scene"===i&&"relative-to-scene"===p||"ground"===i&&"absolute-height"!==p)}function s(i,l,p){return p&&p.mode!==l?`${i} only support ${l} elevation mode`:null}function b(i,l,p){return p?.mode===l?`${i} do not support ${l} elevation mode`:null}function z(i,l){return null!=l?.featureExpressionInfo&&"0"!==l.featureExpressionInfo.expression?`${i} do not support featureExpressionInfo`:null}function $(i,l){l&&i.warn(".elevationInfo=",l)}function C(i){return(i?.offset??0)*(0,f.Ao)(i?.unit)}const Z={mode:"absolute-height",offset:0},U={mode:"on-the-ground",offset:null}}}]);