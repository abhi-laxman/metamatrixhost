"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[3298],{86869:(B,j,h)=>{function p(l,o){return o?"xoffset"in o&&o.xoffset?Math.max(l,Math.abs(o.xoffset)):"yoffset"in o&&o.yoffset?Math.max(l,Math.abs(o.yoffset||0)):l:l}function L(l,o){return"number"==typeof l?l:l?.stops?.length?function R(l){let o=0,U=0;for(let d=0;d<l.length;d++){const f=l[d].size;"number"==typeof f&&(o+=f,U++)}return o/U}(l.stops):o}function x(l){const o=l?.renderer,U=l?.pointerType,d="touch"===U?9:6;if(!o)return d;const f="visualVariables"in o?function O(l,o){if(!o)return l;const U=o.filter(t=>"size"===t.type).map(t=>{const{maxSize:a,minSize:i}=t;return(L(a,l)+L(i,l))/2});let d=0;const f=U.length;if(0===f)return l;for(let t=0;t<f;t++)d+=U[t];const M=Math.floor(d/f);return Math.max(M,l)}(d,o.visualVariables):d;if("simple"===o.type)return p(f,o.symbol);if("unique-value"===o.type){let M=f;return o.uniqueValueInfos?.forEach(t=>{M=p(M,t.symbol)}),M}if("class-breaks"===o.type){let M=f;return o.classBreakInfos.forEach(t=>{M=p(M,t.symbol)}),M}return f}h.d(j,{o:()=>x})},94137:(B,j,h)=>{h.d(j,{UT:()=>d,hs:()=>o,lR:()=>l,wW:()=>U});var p=h(69287),R=h(51995),L=h(83065),O=h(15268);function x(t,a,i,n){if(null==n||t.hasZ||(n=void 0),"point"===t.type)return t.x+=a,t.y+=i,t.hasZ&&null!=n&&(t.z+=n),t;if("multipoint"===t.type){const g=t.points;for(let r=0;r<g.length;r++)g[r]=f(g[r],a,i,n);return t}if("extent"===t.type)return t.xmin+=a,t.xmax+=a,t.ymin+=i,t.ymax+=i,null!=n&&(t.zmin??=0,t.zmin+=n,t.zmax??=0,t.zmax+=n),t;const E=(0,O.$K)(t),s="polyline"===t.type?t.paths:t.rings;for(let g=0;g<E.length;g++){const r=E[g];for(let _=0;_<r.length;_++)r[_]=f(r[_],a,i,n)}return"paths"in t?t.paths=s:t.rings=s,t}function l(t,a,i,n,E){const s=t.clone(),g=n.resolution;if("point"===s.type){if(E)x(s,a*g,-i*g);else{const r=n.state.transform,_=n.state.inverseTransform,c=r[0]*s.x+r[2]*s.y+r[4],b=r[1]*s.x+r[3]*s.y+r[5];s.x=_[0]*(c+a)+_[2]*(b+i)+_[4],s.y=_[1]*(c+a)+_[3]*(b+i)+_[5]}return s}if("multipoint"===s.type){if(E)x(s,a*g,-i*g);else{const r=s.points,_=n.state.transform,c=n.state.inverseTransform;for(let b=0;b<r.length;b++){const A=r[b],e=_[0]*A[0]+_[2]*A[1]+_[4],v=_[1]*A[0]+_[3]*A[1]+_[5];r[b]=M(A,c[0]*(e+a)+c[2]*(v+i)+c[4],c[1]*(e+a)+c[3]*(v+i)+c[5],void 0)}}return s}if("extent"===s.type){if(E)x(s,a*g,-i*g);else{const r=n.state.transform,_=n.state.inverseTransform,c=r[0]*s.xmin+r[2]*s.ymin+r[4],b=r[1]*s.xmin+r[3]*s.ymin+r[5],A=r[0]*s.xmax+r[2]*s.ymax+r[4],e=r[1]*s.xmax+r[3]*s.ymax+r[5];s.xmin=_[0]*(c+a)+_[2]*(b+i)+_[4],s.ymin=_[1]*(c+a)+_[3]*(b+i)+_[5],s.xmax=_[0]*(A+a)+_[2]*(e+i)+_[4],s.ymax=_[1]*(A+a)+_[3]*(e+i)+_[5]}return s}if(E)x(s,a*g,-i*g);else{const r=(0,O.$K)(s),_="polyline"===s.type?s.paths:s.rings,c=n.state.transform,b=n.state.inverseTransform;for(let A=0;A<r.length;A++){const e=r[A];for(let v=0;v<e.length;v++){const u=e[v],y=c[0]*u[0]+c[2]*u[1]+c[4],D=c[1]*u[0]+c[3]*u[1]+c[5];e[v]=M(u,b[0]*(y+a)+b[2]*(D+i)+b[4],b[1]*(y+a)+b[3]*(D+i)+b[5],void 0)}}"paths"in s?s.paths=_:s.rings=_}return s}function o(t,a,i,n){if("point"===t.type){const{x:u,y}=t,D=n?n[0]:u,C=n?n[1]:y,P=t.clone(),m=(y-C)*i+C;return P.x=(u-D)*a+D,P.y=m,P}if("multipoint"===t.type){const u=(0,O.$K)(t),y=(0,R.vt)(),[D,C,P,S]=(0,L.Yz)(y,[u]),m=n?n[0]:(D+P)/2,I=n?n[1]:(S+C)/2,T=t.clone(),K=T.points;for(let W=0;W<K.length;W++){const z=K[W],[Z,G]=z;K[W]=M(z,(Z-m)*a+m,(G-I)*i+I,void 0)}return T}if("extent"===t.type){const{xmin:u,xmax:y,ymin:D,ymax:C}=t,P=n?n[0]:(u+y)/2,S=n?n[1]:(C+D)/2,m=t.clone();if(m.xmin=(u-P)*a+P,m.ymax=(C-S)*i+S,m.xmax=(y-P)*a+P,m.ymin=(D-S)*i+S,m.xmin>m.xmax){const I=m.xmin;m.xmin=m.xmax,m.xmax=I}if(m.ymin>m.ymax){const I=m.ymin;m.ymin=m.ymax,m.ymax=I}return m}const E=(0,O.$K)(t),s=(0,R.vt)(),[g,r,_,c]=(0,L.Yz)(s,E),b=n?n[0]:(g+_)/2,A=n?n[1]:(c+r)/2,e=t.clone(),v="polyline"===e.type?e.paths:e.rings;for(let u=0;u<E.length;u++){const y=E[u];for(let D=0;D<y.length;D++){const C=y[D],[P,S]=C;v[u][D]=M(C,(P-b)*a+b,(S-A)*i+A,void 0)}}return"paths"in e?e.paths=v:e.rings=v,e}function U(t,a,i,n,E,s){const g=Math.sqrt((i-t)*(i-t)+(n-a)*(n-a));return Math.sqrt((E-t)*(E-t)+(s-a)*(s-a))/g}function d(t,a,i,n=!1){const E=Math.atan2(a.y-i.y,a.x-i.x)-Math.atan2(t.y-i.y,t.x-i.x),s=Math.atan2(Math.sin(E),Math.cos(E));return n?s:(0,p.KJ)(s)}function f(t,a,i,n){return M(t,t[0]+a,t[1]+i,null!=t[2]&&null!=n?t[2]+n:void 0)}function M(t,a,i,n){const E=[a,i];return t.length>2&&E.push(n??t[2]),t.length>3&&E.push(t[3]),E}},79338:(B,j,h)=>{h.d(j,{l:()=>c});var p=h(8189),R=h(98877),L=h(42425),O=h(48900),x=h(67685),l=h(85211),f=(h(3248),h(35150),h(40707),h(76576)),M=h(83953),t=h(28714),a=h(25866),i=h(13970),n=h(16590),E=h(73812),s=h(91644),g=h(88485),r=h(93549),_=h(23868);let c=class extends R.A{set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}get elevationInfo(){const{layer:e}=this.graphic,v=e&&"elevationInfo"in e?e.elevationInfo:null,u=(0,E.ky)(this.graphic);return new g.A({mode:u,offset:v?v.offset:0})}set focusedSymbol(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}set selected(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new L.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(e){const v=this.graphic;if(!1===v.visible)return null;const u=v.geometry;if(null==u)return null;const y=this._get("focusedSymbol");return"2d"===this.view.type?this._intersectDistance2D(this.view,e,u,y??v.symbol):this._intersectDistance3D(this.view,e,v)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,O.wB)(()=>this.graphic?.symbol,e=>{null!=e&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))},O.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,v,u,y){if(null==(y=y||(0,s.SF)(u)))return null;let C=this._circleCollisionCache;if("point"===u.type&&"cim"===y.type&&"CIMPointSymbol"===y.data.symbol?.type&&y.data.symbol.symbolLayers){const{offsetX:P,offsetY:S,size:m}=(0,r.T)(y),I=(0,x.WA)(v,A),T=m/2,K=e.toScreen(u);return(0,M.hG)(I,[K.x+P,K.y+S])<T*T?1:null}if("point"!==u.type||"simple-marker"!==y.type)return(0,_.t)(v,u,e)?1:null;if(null==C||!C.originalPoint.equals(u)){const P=u,S=e.spatialReference;if((0,i.canProjectWithoutEngine)(P.spatialReference,S)){const m=(0,i.project)(P,S);C={originalPoint:P.clone(),mapPoint:m,radiusPx:(0,x.Lz)(y.size)},this._circleCollisionCache=C}}if(null!=C){const P=(0,x.WA)(v,A),S=e.toScreen?.(C.mapPoint);if(!S)return null;const m=C.radiusPx,I=S.x+(0,x.Lz)(y.xoffset),T=S.y-(0,x.Lz)(y.yoffset);return(0,M.hG)(P,[I,T])<m*m?1:null}return null}_intersectDistance3D(e,v,u){const y=e.toMap(v,{include:[u]});return y&&(0,n.g)(y,b,e.renderSpatialReference)?(0,t.j)(b,e.state.camera.eye):null}};(0,p._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],c.prototype,"graphic",null),(0,p._)([(0,l.MZ)()],c.prototype,"elevationInfo",null),(0,p._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],c.prototype,"view",void 0),(0,p._)([(0,l.MZ)({value:null})],c.prototype,"focusedSymbol",null),(0,p._)([(0,l.MZ)({constructOnly:!0})],c.prototype,"layer",void 0),(0,p._)([(0,l.MZ)()],c.prototype,"interactive",void 0),(0,p._)([(0,l.MZ)()],c.prototype,"selectable",void 0),(0,p._)([(0,l.MZ)()],c.prototype,"grabbable",void 0),(0,p._)([(0,l.MZ)({value:!1})],c.prototype,"grabbing",null),(0,p._)([(0,l.MZ)()],c.prototype,"dragging",void 0),(0,p._)([(0,l.MZ)()],c.prototype,"hovering",null),(0,p._)([(0,l.MZ)({value:!1})],c.prototype,"selected",null),(0,p._)([(0,l.MZ)()],c.prototype,"cursor",void 0),c=(0,p._)([(0,f.$)("esri.views.interactive.GraphicManipulator")],c);const b=(0,a.vt)(),A=(0,x.gs)()},93549:(B,j,h)=>{h.d(j,{T:()=>R});var p=h(67685);function R(L){let O=0,x=0,l=0;return L?("cim"===L.type&&L.data.symbol&&"symbolLayers"in L.data.symbol&&L.data.symbol.symbolLayers&&L.data.symbol.symbolLayers.map(o=>{"CIMVectorMarker"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>O&&(O=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>x&&(x=o.anchorPoint.y),null!=o.size&&o.size>l&&(l=o.size))}),O=(0,p.Lz)(O),x=(0,p.Lz)(x),l=(0,p.Lz)(l),{offsetX:O,offsetY:x,size:l}):{offsetX:O,offsetY:x,size:l}}},23868:(B,j,h)=>{h.d(j,{V:()=>O,t:()=>x});var p=h(82663),R=h(28067),L=h(86869);function O(o,U,d,f=new R.A){let M=0;if("2d"===d.type)M=U*(d.resolution??0);else if("3d"===d.type){const s=d.overlayPixelSizeInMapUnits(o),g=d.basemapSpatialReference;M=null==g||g.equals(d.spatialReference)?U*s:(0,p.GA)(g)/(0,p.GA)(d.spatialReference)}const t=o.x-M,a=o.y-M,i=o.x+M,n=o.y+M,{spatialReference:E}=d;return f.xmin=Math.min(t,i),f.ymin=Math.min(a,n),f.xmax=Math.max(t,i),f.ymax=Math.max(a,n),f.spatialReference=E,f}function x(o,U,d){const f=d.toMap(o);return null!=f&&O(f,(0,L.o)(),d,l).intersects(U)}const l=new R.A}}]);