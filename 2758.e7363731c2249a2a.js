"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2758,3293,5674],{92782:(Pt,Et,z)=>{z.d(Et,{J:()=>At});var pt,V=z(93293),mt={exports:{}};const At=(0,V.g)(function W(){return pt||(pt=1,bt=mt,void 0!==(lt=function(){function J(ut){this.message="JPEG error: "+ut}return(J.prototype=new Error).name="JpegError",J.constructor=J,J}(),f=function(){if(!self||!self.Uint8ClampedArray)return null;var J=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ut=4017,$=799,it=3406,ct=2276,q=1567,nt=3784,H=5793,Q=2896;function Y(){this.decodeTransform=null,this.colorTransform=-1}function a(c,l){for(var n,h,r=0,y=[],p=16;p>0&&!c[p-1];)p--;y.push({children:[],index:0});var A,I=y[0];for(n=0;n<p;n++){for(h=0;h<c[n];h++){for((I=y.pop()).children[I.index]=l[r];I.index>0;)I=y.pop();for(I.index++,y.push(I);y.length<=n;)y.push(A={children:[],index:0}),I.children[I.index]=A.children,I=A;r++}n+1<p&&(y.push(A={children:[],index:0}),I.children[I.index]=A.children,I=A)}return y[0].children}function _(c,l,n){return 64*((c.blocksPerLine+1)*l+n)}function T(c,l,n,h,r,y,p,A,I){var R=n.mcusPerLine,C=l,S=0,N=0;function P(){if(N>0)return N--,S>>N&1;if(255===(S=c[l++])){var F=c[l++];if(F)throw new lt("unexpected marker "+(S<<8|F).toString(16))}return N=7,S>>>7}function X(F){for(var Z=F;;){if("number"==typeof(Z=Z[P()]))return Z;if("object"!=typeof Z)throw new lt("invalid huffman sequence")}}function j(F){for(var Z=0;F>0;)Z=Z<<1|P(),F--;return Z}function v(F){if(1===F)return 1===P()?1:-1;var Z=j(F);return Z>=1<<F-1?Z:Z+(-1<<F)+1}var K,G=0,t=0;function i(F,Z,et,dt,gt){Z(F,_(F,(et/R|0)*F.v+dt,et%R*F.h+gt))}var g,m,w,U,k,D,rt=h.length;D=n.progressive?0===y?0===A?function b(F,Z){var et=X(F.huffmanTableDC),dt=0===et?0:v(et)<<I;F.blockData[Z]=F.pred+=dt}:function O(F,Z){F.blockData[Z]|=P()<<I}:0===A?function B(F,Z){if(G>0)G--;else for(var et=y,dt=p;et<=dt;){var gt=X(F.huffmanTableAC),Ct=15&gt,wt=gt>>4;if(0!==Ct){var _t=J[et+=wt];F.blockData[Z+_t]=v(Ct)*(1<<I),et++}else{if(wt<15){G=j(wt)+(1<<wt)-1;break}et+=16}}}:function o(F,Z){for(var et,dt,gt=y,Ct=p,wt=0;gt<=Ct;){var _t=J[gt];switch(t){case 0:if(wt=(dt=X(F.huffmanTableAC))>>4,0==(et=15&dt))wt<15?(G=j(wt)+(1<<wt),t=4):(wt=16,t=1);else{if(1!==et)throw new lt("invalid ACn encoding");K=v(et),t=wt?2:3}continue;case 1:case 2:F.blockData[Z+_t]?F.blockData[Z+_t]+=P()<<I:0==--wt&&(t=2===t?3:0);break;case 3:F.blockData[Z+_t]?F.blockData[Z+_t]+=P()<<I:(F.blockData[Z+_t]=K<<I,t=0);break;case 4:F.blockData[Z+_t]&&(F.blockData[Z+_t]+=P()<<I)}gt++}4===t&&0==--G&&(t=0)}:function s(F,Z){var et=X(F.huffmanTableDC),dt=0===et?0:v(et);F.blockData[Z]=F.pred+=dt;for(var gt=1;gt<64;){var Ct=X(F.huffmanTableAC),wt=15&Ct,_t=Ct>>4;if(0!==wt){var Tt=J[gt+=_t];F.blockData[Z+Tt]=v(wt),gt++}else{if(_t<15)break;gt+=16}}};var at,yt,st,ot,F,et,ht=0;for(yt=1===rt?h[0].blocksPerLine*h[0].blocksPerColumn:R*n.mcusPerColumn;ht<yt;){var vt=r?Math.min(yt-ht,r):yt;for(m=0;m<rt;m++)h[m].pred=0;if(G=0,1===rt)for(g=h[0],k=0;k<vt;k++)D(F=g,_(F,(et=ht)/F.blocksPerLine|0,et%F.blocksPerLine)),ht++;else for(k=0;k<vt;k++){for(m=0;m<rt;m++)for(st=(g=h[m]).h,ot=g.v,w=0;w<ot;w++)for(U=0;U<st;U++)i(g,D,ht,w,U);ht++}N=0,(at=x(c,l))&&at.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+at.invalid),l=at.offset);var tt=at&&at.marker;if(!tt||tt<=65280)throw new lt("marker was not found");if(!(tt>=65488&&tt<=65495))break;l+=2}return(at=x(c,l))&&at.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+at.invalid),l=at.offset),l-C}function M(c,l,n){var h,r,y,p,A,I,R,L,C,S,N,P,X,j,v,s,b,O=c.quantizationTable,G=c.blockData;if(!O)throw new lt("missing required Quantization Table.");for(var B=0;B<64;B+=8)C=G[l+B],C*=O[B],(S=G[l+B+1])|(N=G[l+B+2])|(P=G[l+B+3])|(X=G[l+B+4])|(j=G[l+B+5])|(v=G[l+B+6])|(s=G[l+B+7])?(r=(h=(h=H*C+128>>8)+(r=H*(X*=O[B+4])+128>>8)+1>>1)-r,b=(y=N*=O[B+2])*nt+(p=v*=O[B+6])*q+128>>8,y=y*q-p*nt+128>>8,R=(A=(A=Q*((S*=O[B+1])-(s*=O[B+7]))+128>>8)+(R=(j*=O[B+5])<<4)+1>>1)-R,I=(L=(L=Q*(S+s)+128>>8)+(I=(P*=O[B+3])<<4)+1>>1)-I,p=(h=h+(p=b)+1>>1)-p,y=(r=r+y+1>>1)-y,b=A*ct+L*it+2048>>12,A=A*it-L*ct+2048>>12,L=b,b=I*$+R*ut+2048>>12,I=I*ut-R*$+2048>>12,R=b,n[B]=h+L,n[B+7]=h-L,n[B+1]=r+R,n[B+6]=r-R,n[B+2]=y+I,n[B+5]=y-I,n[B+3]=p+A,n[B+4]=p-A):(n[B]=b=H*C+512>>10,n[B+1]=b,n[B+2]=b,n[B+3]=b,n[B+4]=b,n[B+5]=b,n[B+6]=b,n[B+7]=b);for(var K=0;K<8;++K)C=n[K],(S=n[K+8])|(N=n[K+16])|(P=n[K+24])|(X=n[K+32])|(j=n[K+40])|(v=n[K+48])|(s=n[K+56])?(r=(h=4112+((h=H*C+2048>>12)+(r=H*X+2048>>12)+1>>1))-r,b=(y=N)*nt+(p=v)*q+2048>>12,y=y*q-p*nt+2048>>12,p=b,R=(A=(A=Q*(S-s)+2048>>12)+(R=j)+1>>1)-R,I=(L=(L=Q*(S+s)+2048>>12)+(I=P)+1>>1)-I,b=A*ct+L*it+2048>>12,A=A*it-L*ct+2048>>12,L=b,b=I*$+R*ut+2048>>12,I=I*ut-R*$+2048>>12,C=(C=(h=h+p+1>>1)+L)<16?0:C>=4080?255:C>>4,S=(S=(r=r+y+1>>1)+(R=b))<16?0:S>=4080?255:S>>4,N=(N=(y=r-y)+I)<16?0:N>=4080?255:N>>4,P=(P=(p=h-p)+A)<16?0:P>=4080?255:P>>4,X=(X=p-A)<16?0:X>=4080?255:X>>4,j=(j=y-I)<16?0:j>=4080?255:j>>4,v=(v=r-R)<16?0:v>=4080?255:v>>4,s=(s=h-L)<16?0:s>=4080?255:s>>4,G[l+K]=C,G[l+K+8]=S,G[l+K+16]=N,G[l+K+24]=P,G[l+K+32]=X,G[l+K+40]=j,G[l+K+48]=v,G[l+K+56]=s):(b=(b=H*C+8192>>14)<-2040?0:b>=2024?255:b+2056>>4,G[l+K]=b,G[l+K+8]=b,G[l+K+16]=b,G[l+K+24]=b,G[l+K+32]=b,G[l+K+40]=b,G[l+K+48]=b,G[l+K+56]=b)}function E(c,l){for(var n=l.blocksPerLine,h=l.blocksPerColumn,r=new Int16Array(64),y=0;y<h;y++)for(var p=0;p<n;p++)M(l,_(l,y,p),r);return l.blockData}function x(c,l,n){function h(I){return c[I]<<8|c[I+1]}var r=c.length-1,y=n<l?n:l;if(l>=r)return null;var p=h(l);if(p>=65472&&p<=65534)return{invalid:null,marker:p,offset:l};for(var A=h(y);!(A>=65472&&A<=65534);){if(++y>=r)return null;A=h(y)}return{invalid:p.toString(16),marker:A,offset:y}}return Y.prototype={parse:function(c){function l(){var F=c[p]<<8|c[p+1];return p+=2,F}function n(){var F=l(),Z=p+F-2,et=x(c,Z,p);et&&et.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+et.invalid),Z=et.offset);var dt=c.subarray(p,Z);return p+=dt.length,dt}function h(F){for(var Z=Math.ceil(F.samplesPerLine/8/F.maxH),et=Math.ceil(F.scanLines/8/F.maxV),dt=0;dt<F.components.length;dt++){k=F.components[dt];var gt=Math.ceil(Math.ceil(F.samplesPerLine/8)*k.h/F.maxH),Ct=Math.ceil(Math.ceil(F.scanLines/8)*k.v/F.maxV);k.blockData=new Int16Array(et*k.v*64*(Z*k.h+1)),k.blocksPerLine=gt,k.blocksPerColumn=Ct}F.mcusPerLine=Z,F.mcusPerColumn=et}var r,y,p=0,A=null,I=null,R=[],L=[],C=[],S=l();if(65496!==S)throw new lt("SOI not found");for(S=l();65497!==S;){var N,P,X;switch(S){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var j=n();65504===S&&74===j[0]&&70===j[1]&&73===j[2]&&70===j[3]&&0===j[4]&&(A={version:{major:j[5],minor:j[6]},densityUnits:j[7],xDensity:j[8]<<8|j[9],yDensity:j[10]<<8|j[11],thumbWidth:j[12],thumbHeight:j[13],thumbData:j.subarray(14,14+3*j[12]*j[13])}),65518===S&&65===j[0]&&100===j[1]&&111===j[2]&&98===j[3]&&101===j[4]&&(I={version:j[5]<<8|j[6],flags0:j[7]<<8|j[8],flags1:j[9]<<8|j[10],transformCode:j[11]});break;case 65499:for(var v=l()+p-2;p<v;){var s=c[p++],b=new Uint16Array(64);if(s>>4){if(s>>4!=1)throw new lt("DQT - invalid table spec");for(P=0;P<64;P++)b[J[P]]=l()}else for(P=0;P<64;P++)b[J[P]]=c[p++];R[15&s]=b}break;case 65472:case 65473:case 65474:if(r)throw new lt("Only single frame JPEGs supported");l(),(r={}).extended=65473===S,r.progressive=65474===S,r.precision=c[p++],r.scanLines=l(),r.samplesPerLine=l(),r.components=[],r.componentIds={};var O,G=c[p++],B=0,K=0;for(N=0;N<G;N++){O=c[p];var t=c[p+1]>>4,o=15&c[p+1];B<t&&(B=t),K<o&&(K=o),X=r.components.push({h:t,v:o,quantizationId:c[p+2],quantizationTable:null}),r.componentIds[O]=X-1,p+=3}r.maxH=B,r.maxV=K,h(r);break;case 65476:var d=l();for(N=2;N<d;){var g=c[p++],m=new Uint8Array(16),w=0;for(P=0;P<16;P++,p++)w+=m[P]=c[p];var U=new Uint8Array(w);for(P=0;P<w;P++,p++)U[P]=c[p];N+=17+w,(g>>4?L:C)[15&g]=a(m,U)}break;case 65501:l(),y=l();break;case 65498:l();var k,D=c[p++],rt=[];for(N=0;N<D;N++){var at=r.componentIds[c[p++]],yt=c[p++];(k=r.components[at]).huffmanTableDC=C[yt>>4],k.huffmanTableAC=L[15&yt],rt.push(k)}var st=c[p++],ot=c[p++],ht=c[p++],vt=T(c,p,r,rt,y,st,ot,ht>>4,15&ht);p+=vt;break;case 65535:255!==c[p]&&p--;break;default:if(255===c[p-3]&&c[p-2]>=192&&c[p-2]<=254){p-=3;break}throw new lt("unknown marker "+S.toString(16))}S=l()}for(this.width=r.samplesPerLine,this.height=r.scanLines,this.jfif=A,this.eof=p,this.adobe=I,this.components=[],N=0;N<r.components.length;N++){var tt=R[(k=r.components[N]).quantizationId];tt&&(k.quantizationTable=tt),this.components.push({output:E(0,k),scaleX:k.h/r.maxH,scaleY:k.v/r.maxV,blocksPerLine:k.blocksPerLine,blocksPerColumn:k.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(c,l){var n,h,r,y,p,A,I,R,L,C,S,N=this.width/c,P=this.height/l,X=0,j=this.components.length,v=c*l*j,s=new Uint8ClampedArray(v),b=new Uint32Array(c),O=4294967288;for(I=0;I<j;I++){for(h=(n=this.components[I]).scaleX*N,r=n.scaleY*P,X=I,S=n.output,y=n.blocksPerLine+1<<3,p=0;p<c;p++)b[p]=((R=0|p*h)&O)<<3|7&R;for(A=0;A<l;A++)for(C=y*((R=0|A*r)&O)|(7&R)<<3,p=0;p<c;p++)s[X]=S[C+b[p]],X+=j}var G=this.decodeTransform;if(G)for(I=0;I<v;)for(R=0,L=0;R<j;R++,I++,L+=2)s[I]=(s[I]*G[L]>>8)+G[L+1];return s},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(c){for(var l,n,h,r=0,y=c.length;r<y;r+=3)n=c[r+1],c[r]=(l=c[r])-179.456+1.402*(h=c[r+2]),c[r+1]=l+135.459-.344*n-.714*h,c[r+2]=l-226.816+1.772*n;return c},_convertYcckToRgb:function(c){for(var l,n,h,r,y=0,p=0,A=c.length;p<A;p+=4)c[y++]=(n=c[p+1])*(-660635669420364e-19*n+.000437130475926232*(h=c[p+2])-54080610064599e-18*(l=c[p])+.00048449797120281*(r=c[p+3])-.154362151871126)-122.67195406894+h*(-.000957964378445773*h+.000817076911346625*l-.00477271405408747*r+1.53380253221734)+l*(.000961250184130688*l-.00266257332283933*r+.48357088451265)+r*(-.000336197177618394*r+.484791561490776),c[y++]=107.268039397724+n*(219927104525741e-19*n-.000640992018297945*h+.000659397001245577*l+.000426105652938837*r-.176491792462875)+h*(-.000778269941513683*h+.00130872261408275*l+.000770482631801132*r-.151051492775562)+l*(.00126935368114843*l-.00265090189010898*r+.25802910206845)+r*(-.000318913117588328*r-.213742400323665),c[y++]=n*(-.000570115196973677*n-263409051004589e-19*h+.0020741088115012*l-.00288260236853442*r+.814272968359295)-20.810012546947+h*(-153496057440975e-19*h-.000132689043961446*l+.000560833691242812*r-.195152027534049)+l*(.00174418132927582*l-.00255243321439347*r+.116935020465145)+r*(-.000343531996510555*r+.24165260232407);return c},_convertYcckToCmyk:function(c){for(var l,n,h,r=0,y=c.length;r<y;r+=4)n=c[r+1],c[r]=434.456-(l=c[r])-1.402*(h=c[r+2]),c[r+1]=119.541-l+.344*n+.714*h,c[r+2]=481.816-l-1.772*n;return c},_convertCmykToRgb:function(c){for(var l,n,h,r,y=0,p=1/255,A=0,I=c.length;A<I;A+=4)c[y++]=255+(l=c[A]*p)*(-4.387332384609988*l+54.48615194189176*(n=c[A+1]*p)+18.82290502165302*(h=c[A+2]*p)+212.25662451639585*(r=c[A+3]*p)-285.2331026137004)+n*(1.7149763477362134*n-5.6096736904047315*h-17.873870861415444*r-5.497006427196366)+h*(-2.5217340131683033*h-21.248923337353073*r+17.5119270841813)-r*(21.86122147463605*r+189.48180835922747),c[y++]=255+l*(8.841041422036149*l+60.118027045597366*n+6.871425592049007*h+31.159100130055922*r-79.2970844816548)+n*(-15.310361306967817*n+17.575251261109482*h+131.35250912493976*r-190.9453302588951)+h*(4.444339102852739*h+9.8632861493405*r-24.86741582555878)-r*(20.737325471181034*r+187.80453709719578),c[y++]=255+l*(.8842522430003296*l+8.078677503112928*n+30.89978309703729*h-.23883238689178934*r-14.183576799673286)+n*(10.49593273432072*n+63.02378494754052*h+50.606957656360734*r-112.23884253719248)+h*(.03296041114873217*h+115.60384449646641*r-193.58209356861505)-r*(22.33816807309886*r+180.12613974708367);return c},getData:function(c,l,n){if(this.numComponents>4)throw new lt("Unsupported color mode");var h=this._getLinearizedBlockData(c,l);if(1===this.numComponents&&n){for(var r=h.length,y=new Uint8ClampedArray(3*r),p=0,A=0;A<r;A++){var I=h[A];y[p++]=I,y[p++]=I,y[p++]=I}return y}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(h);if(4===this.numComponents){if(this._isColorConversionNeeded())return n?this._convertYcckToRgb(h):this._convertYcckToCmyk(h);if(n)return this._convertCmykToRgb(h)}return h}},Y}())&&(bt.exports=f)),mt.exports;var lt,bt,f}())},97244:(Pt,Et,z)=>{z.d(Et,{Z:()=>At});var pt,V=z(93293),mt={exports:{}};const At=(0,V.g)(function W(){return pt||(pt=1,ft=mt,bt=function(){function lt(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return lt.prototype={ensureBuffer:function(J){var ut=this.buffer,$=ut?ut.byteLength:0;if(J<$)return ut;for(var it=512;it<J;)it<<=1;for(var ct=new Uint8Array(it),q=0;q<$;++q)ct[q]=ut[q];return this.buffer=ct},getByte:function(){for(var J=this.pos;this.bufferLength<=J;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(J){var ut=this.pos;if(J){this.ensureBuffer(ut+J);for(var $=ut+J;!this.eof&&this.bufferLength<$;)this.readBlock();var it=this.bufferLength;$>it&&($=it)}else{for(;!this.eof;)this.readBlock();$=this.bufferLength}return this.pos=$,this.buffer.subarray(ut,$)},lookChar:function(){for(var J=this.pos;this.bufferLength<=J;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var J=this.pos;this.bufferLength<=J;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(J,ut,$){for(var it=J+ut;this.bufferLength<=it&&!this.eof;)this.readBlock();return new Stream(this.buffer,J,ut,$)},skip:function(J){J||(J=1),this.pos+=J},reset:function(){this.pos=0}},lt}(),void 0!==(f=function(){if(!self||!self.Uint32Array)return null;var lt=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),ut=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),$=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],it=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function ct(nt){throw new Error(nt)}function q(nt){var H=0,Q=nt[H++],Y=nt[H++];-1!=Q&&-1!=Y||ct("Invalid header in flate stream"),8!=(15&Q)&&ct("Unknown compression method in flate stream"),((Q<<8)+Y)%31!=0&&ct("Bad FCHECK in flate stream"),32&Y&&ct("FDICT bit set in flate stream"),this.bytes=nt,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,bt.call(this)}return(q.prototype=Object.create(bt.prototype)).getBits=function(nt){for(var H,Q=this.codeSize,Y=this.codeBuf,a=this.bytes,_=this.bytesPos;Q<nt;)void 0===(H=a[_++])&&ct("Bad encoding in flate stream"),Y|=H<<Q,Q+=8;return H=Y&(1<<nt)-1,this.codeBuf=Y>>nt,this.codeSize=Q-=nt,this.bytesPos=_,H},q.prototype.getCode=function(nt){for(var H=nt[0],Q=nt[1],Y=this.codeSize,a=this.codeBuf,_=this.bytes,T=this.bytesPos;Y<Q;){var M;void 0===(M=_[T++])&&ct("Bad encoding in flate stream"),a|=M<<Y,Y+=8}var E=H[a&(1<<Q)-1],x=E>>16,c=65535&E;return(0==Y||Y<x||0==x)&&ct("Bad encoding in flate stream"),this.codeBuf=a>>x,this.codeSize=Y-x,this.bytesPos=T,c},q.prototype.generateHuffmanTable=function(nt){for(var H=nt.length,Q=0,Y=0;Y<H;++Y)nt[Y]>Q&&(Q=nt[Y]);for(var a=1<<Q,_=new Uint32Array(a),T=1,M=0,E=2;T<=Q;++T,M<<=1,E<<=1)for(var x=0;x<H;++x)if(nt[x]==T){var c=0,l=M;for(Y=0;Y<T;++Y)c=c<<1|1&l,l>>=1;for(Y=c;Y<a;Y+=E)_[Y]=T<<16|x;++M}return[_,Q]},q.prototype.readBlock=function(){function nt(b,O,G,B,K){for(var t=b.getBits(G)+B;t-- >0;)O[E++]=K}var H=this.getBits(3);if(1&H&&(this.eof=!0),0!=(H>>=1)){var Q,Y;if(1==H)Q=$,Y=it;else if(2==H){for(var a=this.getBits(5)+257,_=this.getBits(5)+1,T=this.getBits(4)+4,M=Array(lt.length),E=0;E<T;)M[lt[E++]]=this.getBits(3);for(var x=this.generateHuffmanTable(M),c=0,l=(E=0,a+_),n=new Array(l);E<l;){var h=this.getCode(x);16==h?nt(this,n,2,3,c):17==h?nt(this,n,3,3,c=0):18==h?nt(this,n,7,11,c=0):n[E++]=c=h}Q=this.generateHuffmanTable(n.slice(0,a)),Y=this.generateHuffmanTable(n.slice(a,l))}else ct("Unknown block type in flate stream");for(var r=(j=this.buffer)?j.length:0,y=this.bufferLength;;){var p=this.getCode(Q);if(p<256)y+1>=r&&(r=(j=this.ensureBuffer(y+1)).length),j[y++]=p;else{if(256==p)return void(this.bufferLength=y);var A=(p=J[p-=257])>>16;A>0&&(A=this.getBits(A)),c=(65535&p)+A,p=this.getCode(Y),(A=(p=ut[p])>>16)>0&&(A=this.getBits(A));var I=(65535&p)+A;y+c>=r&&(r=(j=this.ensureBuffer(y+c)).length);for(var R=0;R<c;++R,++y)j[y]=j[y-I]}}}else{var L,C=this.bytes,S=this.bytesPos;void 0===(L=C[S++])&&ct("Bad block header in flate stream");var N=L;void 0===(L=C[S++])&&ct("Bad block header in flate stream"),N|=L<<8,void 0===(L=C[S++])&&ct("Bad block header in flate stream");var P=L;void 0===(L=C[S++])&&ct("Bad block header in flate stream"),(P|=L<<8)!=(65535&~N)&&ct("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var X=this.bufferLength,j=this.ensureBuffer(X+N),v=X+N;this.bufferLength=v;for(var s=X;s<v;++s){if(void 0===(L=C[S++])){this.eof=!0;break}j[s]=L}this.bytesPos=S}},q}())&&(ft.exports=f)),mt.exports;var bt,ft,f}())},93293:(Pt,Et,z)=>{z.d(Et,{c:()=>V,g:()=>pt});var V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(mt){return mt&&mt.__esModule&&Object.prototype.hasOwnProperty.call(mt,"default")?mt.default:mt}},29430:(Pt,Et,z)=>{z.d(Et,{$:()=>l,IB:()=>ft,Iy:()=>O,N2:()=>n,QP:()=>N,RH:()=>r,Vl:()=>S,Ws:()=>A,ZD:()=>h,_L:()=>C,bJ:()=>R,e$:()=>L,f6:()=>b,pW:()=>I,pf:()=>j});var V=z(68677),pt=z(89952),mt=z(77806),bt=(z(69287),z(53781),z(89141));function ft(t){return"r"in t&&"g"in t&&"b"in t}function f(t){return"h"in t&&"s"in t&&"v"in t}function lt(t){return"l"in t&&"a"in t&&"b"in t}function J(t){return"l"in t&&"c"in t&&"h"in t}const $=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],it=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function ct(t,o){const i=[];let d,g;if(t[0].length!==o.length)throw new Error("dimensions do not match");const m=t.length,w=t[0].length;let U=0;for(d=0;d<m;d++){for(U=0,g=0;g<w;g++)U+=t[d][g]*o[g];i.push(U)}return i}function q(t){const o=[t.r/255,t.g/255,t.b/255].map(d=>d<=.04045?d/12.92:((d+.055)/1.055)**2.4),i=ct($,o);return{x:100*i[0],y:100*i[1],z:100*i[2]}}function nt(t){const o=ct(it,[t.x/100,t.y/100,t.z/100]).map(i=>Math.min(1,Math.max(i<=.0031308?12.92*i:1.055*i**.4166666666666667-.055,0)));return{r:Math.round(255*o[0]),g:Math.round(255*o[1]),b:Math.round(255*o[2])}}function H(t){const o=[t.x/95.047,t.y/100,t.z/108.883].map(i=>i>.008856451679035631?i**.3333333333333333:7.787037037037035*i+.13793103448275862);return{l:116*o[1]-16,a:500*(o[0]-o[1]),b:200*(o[1]-o[2])}}function Q(t){const o=t.l,i=[(o+16)/116+t.a/500,(o+16)/116,(o+16)/116-t.b/200].map(d=>d>6/29?d**3:3*(6/29)**2*(d-4/29));return{x:95.047*i[0],y:100*i[1],z:108.883*i[2]}}function l(t){return ft(t)?t:J(t)?function E(t){return nt(Q(function a(t){const i=t.c,d=t.h;return{l:t.l,a:i*Math.cos(d),b:i*Math.sin(d)}}(t)))}(t):lt(t)?function T(t){return nt(Q(t))}(t):function ut(t){return"x"in t&&"y"in t&&"z"in t}(t)?nt(t):f(t)?function c(t){const o=(t.h+360)%360/60,d=t.v/100*255,g=d*(t.s/100),m=g*(1-Math.abs(o%2-1));let w;switch(Math.floor(o)){case 0:w={r:g,g:m,b:0};break;case 1:w={r:m,g,b:0};break;case 2:w={r:0,g,b:m};break;case 3:w={r:0,g:m,b:g};break;case 4:w={r:m,g:0,b:g};break;case 5:case 6:w={r:g,g:0,b:m};break;default:w={r:0,g:0,b:0}}return w.r=Math.round(w.r+d-g),w.g=Math.round(w.g+d-g),w.b=Math.round(w.b+d-g),w}(t):t}function n(t){return f(t)?t:function x(t){const o=t.r,i=t.g,d=t.b,g=Math.max(o,i,d),m=g-Math.min(o,i,d);let w=g,U=0===m?0:g===o?(i-d)/m%6:g===i?(d-o)/m+2:(o-i)/m+4,k=0===m?0:m/w;return U<0&&(U+=6),U*=60,k*=100,w*=100/255,{h:U,s:k,v:w}}(l(t))}function h(t){return lt(t)?t:function _(t){return H(q(t))}(l(t))}function r(t){return J(t)?t:function M(t){return function Y(t){const o=t.l,i=t.a,d=t.b,g=Math.sqrt(i*i+d*d);let m=Math.atan2(d,i);return m=m>0?m:m+2*Math.PI,{l:o,c:g,h:m}}(H(q(t)))}(l(t))}function A(t,o){const{r:i,g:d,b:g}=o?.ignoreAlpha?t:function p(t){let{r:o,g:i,b:d,a:g}=t;return g<1&&(o=Math.round(g*o+255*(1-g)),i=Math.round(g*i+255*(1-g)),d=Math.round(g*d+255*(1-g))),new V.A({r:o,g:i,b:d})}(t);return.2126*i+.7152*d+.0722*g}var I,t;function R(t,o=I.High){return A(t,{ignoreAlpha:!0})>o?new V.A([0,0,0,t.a]):new V.A([255,255,255,t.a])}function L(t,o){const i=h(t);i.l*=1-o;const d=l(i),g=t.clone();return g.setColor(d),g.a=t.a,g}function C(t,o){const i=t.clone();return i.a*=o,i}function S(t,o){const i=n(t);i.s*=o;const d=l(i),g=t.clone();return g.setColor(d),g.a=t.a,g}function N(t){return V.A.toUnitRGBA(t)}function j(t){return(0,bt.fA)(t[0],t[1],t[2],t.length>3?t[3]:1)}function b(t,o){const i=V.A.toUnitRGBA(t);return i[3]*=o,i}function O(t,o,i={}){if(0===t.length||o<=0)return[];if(1===(t=t.map(d=>"string"==typeof d?new V.A(d):d)).length||1===o){const d=[],g=t[0];for(let m=0;m<o;m++)d.push(g.clone());return d}if(i.shuffle&&(t=(0,pt.k4)((0,mt.o8)(t),i.seed)),t.length>=o){const d=[],g=(t.length-1)/(o-1);for(let m=0;m<o;m++){const w=Math.round(m*g);d.push(t[w].clone())}return d}return function G(t,o,i={}){const d=[],g=t.length-1,m=Math.ceil((o-t.length)/g);t:for(let w=0;w<g;w++){const U=t[w],k=t[w+1];for(let D=1;D<=m;D++)if(d.push(K(U,k,D/(m+1),i)),d.length+t.length===o)break t}return[...t.map(w=>w.clone()),...(0,pt.k4)(d,i.seed??1)]}(t,o,i)}(t=I||(I={}))[t.Low=160]="Low",t[t.High=225]="High";const B=(t,o)=>{const i=Math.floor(10*o())-5;return Math.min(255,Math.max(0,t+i))};function K(t,o,i,d={}){const g=t.r,m=t.g,w=t.b,k=o.g,D=o.b,rt=Math.round(g+(o.r-g)*i),at=Math.round(m+(k-m)*i),yt=Math.round(w+(D-w)*i);if(!d.offset)return new V.A([rt,at,yt]);const st=(0,pt.Mo)(d.seed);return new V.A([B(rt,st),B(at,st),B(yt,st)])}},83179:(Pt,Et,z)=>{z.d(Et,{A:()=>x});var ut,V=z(8189),pt=z(71065),mt=z(77806),W=z(85211),ft=(z(3248),z(35150),z(76576)),f=z(28067),lt=z(32034);function $(c){return c=Number(c),isNaN(c)?void 0:c}z(40707);let it=ut=class extends pt.A{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new ut({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};(0,V._)([(0,W.MZ)({json:{name:"BandName",write:!0}})],it.prototype,"name",void 0),(0,V._)([(0,W.MZ)({json:{name:"WavelengthMin",read:{reader:$},write:!0}})],it.prototype,"minWavelength",void 0),(0,V._)([(0,W.MZ)({json:{name:"WavelengthMax",read:{reader:$},write:!0}})],it.prototype,"maxWavelength",void 0),(0,V._)([(0,W.MZ)({json:{name:"RadianceBias",read:{reader:$},write:!0}})],it.prototype,"radianceBias",void 0),(0,V._)([(0,W.MZ)({json:{name:"RadianceGain",read:{reader:$},write:!0}})],it.prototype,"radianceGain",void 0),(0,V._)([(0,W.MZ)({json:{name:"ReflectanceBias",read:{reader:$},write:!0}})],it.prototype,"reflectanceBias",void 0),(0,V._)([(0,W.MZ)({json:{name:"ReflectanceGain",read:{reader:$},write:!0}})],it.prototype,"reflectanceGain",void 0),(0,V._)([(0,W.MZ)({json:{name:"SolarIrradiance",read:{reader:$},write:!0}})],it.prototype,"solarIrradiance",void 0),it=ut=(0,V._)([(0,ft.$)("esri.layers.support.RasterBandInfo")],it);const ct=it;var Q,q=z(9932),nt=z(17221),H=z(50305);function Y(c){return c=Number(c),isNaN(c)?void 0:c}let a=Q=class extends pt.A{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(c){return new Date(c)}writeAcquisitionDate(c,l){l.AcquisitionDate=c.getTime()}clone(){return new Q({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};(0,V._)([(0,W.MZ)({type:Date,json:{name:"AcquisitionDate",write:!0}})],a.prototype,"acquisitionDate",void 0),(0,V._)([(0,nt.w)("acquisitionDate")],a.prototype,"readAcquisitionDate",null),(0,V._)([(0,H.K)("acquisitionDate")],a.prototype,"writeAcquisitionDate",null),(0,V._)([(0,W.MZ)({json:{name:"CloudCover",read:{reader:Y},write:!0}})],a.prototype,"cloudCover",void 0),(0,V._)([(0,W.MZ)({json:{name:"ProductName",write:!0}})],a.prototype,"productName",void 0),(0,V._)([(0,W.MZ)({json:{name:"SensorName",write:!0}})],a.prototype,"sensorName",void 0),(0,V._)([(0,W.MZ)({json:{name:"SensorAzimuth",read:{reader:Y},write:!0}})],a.prototype,"sensorAzimuth",void 0),(0,V._)([(0,W.MZ)({json:{name:"SensorElevation",read:{reader:Y},write:!0}})],a.prototype,"sensorElevation",void 0),(0,V._)([(0,W.MZ)({json:{name:"SunAzimuth",read:{reader:Y},write:!0}})],a.prototype,"sunAzimuth",void 0),(0,V._)([(0,W.MZ)({json:{name:"SunElevation",read:{reader:Y},write:!0}})],a.prototype,"sunElevation",void 0),a=Q=(0,V._)([(0,ft.$)("esri.layers.support.RasterSensorInfo")],a);const _=a;var M,T=z(61599);let E=M=class extends pt.A{constructor(c){super(c),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const c=this.keyProperties.BandProperties,{bandCount:l}=this;if(!c?.length||c.length<l){const h=[];for(let r=1;r<=l;r++)h.push(new ct({name:"band_"+r}));return h}const n=c.map(h=>ct.fromJSON(h));for(let h=0;h<n.length;h++)n[h].name=n[h].name||"band_"+(h+1);return n}get dataType(){const c=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===c?"standard-time":c}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(c){c&&this._set("nativeExtent",c)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const c=this.nativeExtent;return{x:c.width/this.width,y:c.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}get sensorInfo(){if(this.keyProperties?.SensorName)return _.fromJSON(this.keyProperties)}clone(){return new M({attributeTable:(0,mt.o8)(this.attributeTable),bandCount:this.bandCount,colormap:(0,mt.o8)(this.colormap),extent:(0,mt.o8)(this.extent),format:this.format,height:this.height,width:this.width,histograms:(0,mt.o8)(this.histograms),keyProperties:(0,mt.o8)(this.keyProperties),multidimensionalInfo:(0,mt.o8)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,mt.o8)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,mt.o8)(this.spatialReference),statistics:(0,mt.o8)(this.statistics),storageInfo:(0,mt.o8)(this.storageInfo),transform:(0,mt.o8)(this.transform)})}};(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"attributeTable",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"bandCount",void 0),(0,V._)([(0,W.MZ)({readOnly:!0})],E.prototype,"bandInfos",null),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"colormap",void 0),(0,V._)([(0,W.MZ)({type:String,readOnly:!0})],E.prototype,"dataType",null),(0,V._)([(0,W.MZ)({type:f.A,json:{write:!0}})],E.prototype,"extent",void 0),(0,V._)([(0,W.MZ)({type:f.A,json:{write:!0}})],E.prototype,"nativeExtent",null),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"nativePixelSize",null),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"format",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"height",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"width",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"hasMultidimensionalTranspose",null),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"histograms",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"keyProperties",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"multidimensionalInfo",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"noDataValue",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"pixelSize",void 0),(0,V._)([(0,W.MZ)({type:q.e8.apiValues,json:{write:!0}})],E.prototype,"pixelType",void 0),(0,V._)([(0,W.MZ)()],E.prototype,"isPseudoSpatialReference",void 0),(0,V._)([(0,W.MZ)({readOnly:!0})],E.prototype,"sensorInfo",null),(0,V._)([(0,W.MZ)({type:lt.A,json:{write:!0}})],E.prototype,"spatialReference",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"statistics",void 0),(0,V._)([(0,W.MZ)({type:T.A,json:{write:!0}})],E.prototype,"storageInfo",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],E.prototype,"transform",void 0),E=M=(0,V._)([(0,ft.$)("esri.layers.support.RasterInfo")],E);const x=E},61599:(Pt,Et,z)=>{z.d(Et,{A:()=>ut});var lt,V=z(8189),pt=z(71065),mt=z(77806),W=z(85211),ft=(z(3248),z(35150),z(76576)),f=z(1749);let J=lt=class extends pt.A{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new lt({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,mt.o8)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,mt.o8)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,mt.o8)(this.tileInfo),transposeInfo:(0,mt.o8)(this.transposeInfo),blockBoundary:(0,mt.o8)(this.blockBoundary)})}};(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"blockWidth",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"blockHeight",void 0),(0,V._)([(0,W.MZ)({type:String,json:{write:!0}})],J.prototype,"compression",void 0),(0,V._)([(0,W.MZ)({type:f.A,json:{write:!0}})],J.prototype,"origin",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"firstPyramidLevel",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"maximumPyramidLevel",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],J.prototype,"pyramidResolutions",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"pyramidScalingFactor",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"pyramidBlockWidth",void 0),(0,V._)([(0,W.MZ)({type:Number,json:{write:!0}})],J.prototype,"pyramidBlockHeight",void 0),(0,V._)([(0,W.MZ)({type:Boolean,json:{write:!0}})],J.prototype,"isVirtualTileInfo",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],J.prototype,"tileInfo",void 0),(0,V._)([(0,W.MZ)()],J.prototype,"transposeInfo",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],J.prototype,"blockBoundary",void 0),J=lt=(0,V._)([(0,ft.$)("esri.layers.support.RasterStorageInfo")],J);const ut=J},38497:(Pt,Et,z)=>{function V(pt,mt){let W=0,At="",bt=0,ft=0;const f=pt.length;for(;W<f;)ft=pt[W++],bt=ft>>4,bt<8?bt=1:15===bt?(bt=4,ft=(7&ft)<<18|(63&pt[W++])<<12|(63&pt[W++])<<6|63&pt[W++]):14===bt?(bt=3,ft=(15&ft)<<12|(63&pt[W++])<<6|63&pt[W++]):(bt=2,ft=(31&ft)<<6|63&pt[W++]),(0!==ft||mt)&&(At+=String.fromCharCode(ft));return At}z.d(Et,{w:()=>V})},9932:(Pt,Et,z)=>{z.d(Et,{SZ:()=>pt,e8:()=>W,hm:()=>mt});var V=z(49976);const pt=(0,V.O)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),mt=(0,V.O)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),W=(0,V.O)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"})},7957:(Pt,Et,z)=>{z.d(Et,{D4:()=>J,Hh:()=>W});var V=z(90261);const pt=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let mt=null;function W(){return mt||(mt=z.e(5310).then(z.bind(z,35310)).then($=>$.l).then(({default:$})=>$({locateFile:it=>(0,V.s)(`esri/layers/support/rasterFormats/${it}`)})).then($=>{!function f($){const{_malloc:it,_free:ct,_lerc_getBlobInfo:q,_lerc_getDataRanges:nt,_lerc_decode_4D:H,asm:Q}=$;let Y;const a=Object.values(Q).find(T=>T&&"buffer"in T&&T.buffer===$.HEAPU8.buffer),_=T=>{const M=T.map(l=>function bt($){return 16+($>>3<<3)}(l)),E=M.reduce((l,n)=>l+n),x=it(E);Y=new Uint8Array(a.buffer);let c=M[0];M[0]=x;for(let l=1;l<M.length;l++){const n=M[l];M[l]=M[l-1]+c,c=n}return M};At.getBlobInfo=T=>{const x=new Uint8Array(48),c=new Uint8Array(24),[l,n,h]=_([T.length,x.length,c.length]);Y.set(T,l),Y.set(x,n),Y.set(c,h);let r=q(l,T.length,n,h,12,3);if(r)throw ct(l),new Error(`lerc-getBlobInfo: error code is ${r}`);Y=new Uint8Array(a.buffer),ft(Y,n,x),ft(Y,h,c);const y=new Uint32Array(x.buffer),p=new Float64Array(c.buffer),[A,I,,R,L,C,S,N,P,X,j]=y,v={version:A,depthCount:X,width:R,height:L,validPixelCount:S,bandCount:C,blobSize:N,maskCount:P,dataType:I,minValue:p[0],maxValue:p[1],maxZerror:p[2],statistics:[],bandCountWithNoData:j};if(j&&X>1)return ct(l),v;if(1===X&&1===C)return ct(l),v.statistics.push({minValue:p[0],maxValue:p[1]}),v;const s=X*C*8,b=new Uint8Array(s),O=new Uint8Array(s);let G=l,B=0,K=0,t=!1;if(Y.byteLength<l+2*s?(ct(l),t=!0,[G,B,K]=_([T.length,s,s]),Y.set(T,G)):[B,K]=_([s,s]),Y.set(b,B),Y.set(O,K),r=nt(G,T.length,X,C,B,K),r)throw ct(G),t||ct(B),new Error(`lerc-getDataRanges: error code is ${r}`);Y=new Uint8Array(a.buffer),ft(Y,B,b),ft(Y,K,O);const o=new Float64Array(b.buffer),i=new Float64Array(O.buffer),d=v.statistics;for(let g=0;g<C;g++)if(X>1){const m=o.slice(g*X,(g+1)*X),w=i.slice(g*X,(g+1)*X),U=Math.min.apply(null,m),k=Math.max.apply(null,w);d.push({minValue:U,maxValue:k,depthStats:{minValues:m,maxValues:w}})}else d.push({minValue:o[g],maxValue:i[g]});return ct(G),t||ct(B),v},At.decode=(T,M)=>{const{maskCount:E,depthCount:x,bandCount:c,width:l,height:n,dataType:h,bandCountWithNoData:r}=M,y=pt[h],p=l*n,A=new Uint8Array(p*c),R=new Uint8Array(p*x*c*y.size),L=new Uint8Array(c),C=new Uint8Array(8*c),[S,N,P,X,j]=_([T.length,A.length,R.length,L.length,C.length]);Y.set(T,S),Y.set(A,N),Y.set(R,P),Y.set(L,X),Y.set(C,j);const v=H(S,T.length,E,N,x,l,n,c,h,P,X,j);if(v)throw ct(S),new Error(`lerc-decode: error code is ${v}`);Y=new Uint8Array(a.buffer),ft(Y,P,R),ft(Y,N,A);let s=null;if(r){ft(Y,X,L),ft(Y,j,C),s=[];const b=new Float64Array(C.buffer);for(let O=0;O<L.length;O++)s.push(L[O]?b[O]:null)}return ct(S),{data:R,maskData:A,noDataValues:s}}}($)}),mt)}const At={getBlobInfo:null,decode:null};function ft($,it,ct){ct.set($.slice(it,it+ct.length))}function lt($,it,ct,q,nt){if(ct<2)return $;const H=new q(it*ct);for(let Q=0,Y=0;Q<it;Q++)for(let a=0,_=Q;a<ct;a++,_+=it)H[_]=$[Y++];return H}function J($,it={}){const ct=it.inputOffset??0,q=$ instanceof Uint8Array?$.subarray(ct):new Uint8Array($,ct),nt=At.getBlobInfo(q),{data:H,maskData:Q,noDataValues:Y}=At.decode(q,nt),{width:a,height:_,bandCount:T,depthCount:M,dataType:E,maskCount:x,statistics:c}=nt,l=pt[E],n=new l.ctor(H.buffer),h=[],r=[],y=a*_,p=y*M;for(let S=0;S<T;S++){const N=n.subarray(S*p,(S+1)*p);if(it.returnInterleaved)h.push(N);else{const P=lt(N,y,M,l.ctor);h.push(P)}r.push(Q.subarray(S*p,(S+1)*p))}const A=0===x?null:1===x?r[0]:new Uint8Array(y);if(x>1){A.set(r[0]);for(let S=1;S<r.length;S++){const N=r[S];for(let P=0;P<y;P++)A[P]=A[P]&N[P]}}const{noDataValue:I}=it;if(x>0&&null!=I&&l.range[0]<=I&&l.range[1]>=I)for(let S=0;S<T;S++){const N=h[S],P=r[S]||A;for(let X=0;X<y;X++)0===P[X]&&(N[X]=I)}const L=x===T&&T>1?r:null,{pixelType:C}=l;return{width:a,height:_,bandCount:T,pixelType:C,depthCount:M,statistics:c,pixels:h,mask:A,bandMasks:L,noDataValues:Y}}},39878:(Pt,Et,z)=>{function pt(){const bt=[];for(let ft=0;ft<=257;ft++)bt[ft]=[ft];return bt}function mt(bt,ft){for(let f=0;f<ft.length;f++)bt.push(ft[f])}z.d(Et,{D:()=>At});const W=new Set;function At(bt,ft,f,lt=!0){const J=function V(bt,ft,f,lt=!0){if(ft%4!=0||f%4!=0){const J=new ArrayBuffer(4*Math.ceil(f/4)),ut=new Uint8Array(J),$=new Uint8Array(bt,ft,f);if(lt)for(let it=0;it<ut.length;it+=4)ut[it]=$[it+3],ut[it+1]=$[it+2],ut[it+2]=$[it+1],ut[it+3]=$[it];else ut.set($);return new Uint32Array(ut.buffer)}if(lt){const J=new Uint8Array(bt,ft,f),ut=new Uint8Array(J.length);for(let $=0;$<ut.length;$+=4)ut[$]=J[$+3],ut[$+1]=J[$+2],ut[$+2]=J[$+1],ut[$+3]=J[$];return new Uint32Array(ut.buffer)}return new Uint32Array(bt,ft,f/4)}(bt,ft,f,lt);let ut=9,$=pt(),it=32,ct=$.length,q=[],nt=1,H=J[0],Q=0;const Y=J.length,a=8*(4*Y-f),_=[];for(;null!=H;){if(it>=ut)it-=ut,Q=H>>>32-ut,H<<=ut;else{Q=H>>>32-it,H=J[nt++];const M=ut-it;it=32-M,Q=(Q<<M)+(H>>>it),H<<=M}if(257===Q)break;if(256===Q){ut=9,$=pt(),ct=$.length,q=[];continue}const T=$[Q];if(null==T){if(Q>$.length)throw new Error("data integrity issue: code does not exist on code page");q.push(q[0]),$[ct++]=q.slice(),mt(_,q)}else mt(_,T),q.push(T[0]),q.length>1&&($[ct++]=q.slice()),q=T.slice();if(W.has(ct)&&ut++,0===it&&(H=J[nt++],it=32),nt>Y||nt===Y&&it<=a)break}return new Uint8Array(_)}W.add(511),W.add(1023),W.add(2047),W.add(4095),W.add(8191)},99263:(Pt,Et,z)=>{z.d(Et,{D:()=>X,g:()=>P});var V=z(10467),pt=z(5922),mt=z(11432),W=z(21980),At=z(855),bt=z(56492),ft=z(97244);class f{constructor(s){this._canvas=null,this._ctx=null,s&&(this._canvas=s.canvas,this._ctx=s.ctx||s.canvas&&s.canvas.getContext("2d"))}decode(s,b,O){if(!s||s.byteLength<10)throw new pt.A("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:G=0,height:B=0,format:K}=b;const{applyJpegMask:t}=b;if(t&&(!G||!B))throw new pt.A("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((o,i)=>{let d=null;"jpg"===K&&t&&(d=f._getMask(s,{width:G,height:B}));const g=new Blob([new Uint8Array(s)],{type:"image/"+K=="jpg"?"jpeg":K}),m=URL.createObjectURL(g),w=new Image;let U;w.src=m,w.onload=()=>{if(URL.revokeObjectURL(m),(0,bt.G4)(O))return void i((0,bt.NK)());G=w.width,B=w.height,this._canvas&&this._ctx?(this._canvas.width===G&&this._canvas.height===B||(this._canvas.width=G,this._canvas.height=B),this._ctx.clearRect(0,0,G,B)):(this._canvas=document.createElement("canvas"),this._canvas.width=G,this._canvas.height=B,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(w,0,0);const k=this._ctx.getImageData(0,0,G,B);let D;if(U=k.data,b.renderOnCanvas){if(d)for(D=0;D<d.length;D++)U[4*D+3]=d[D]?255:0;return this._ctx.putImageData(k,0,0),void o(null)}const rt=G*B,at=new Uint8Array(rt),yt=new Uint8Array(rt),st=new Uint8Array(rt);if(d)for(D=0;D<rt;D++)at[D]=U[4*D],yt[D]=U[4*D+1],st[D]=U[4*D+2];else for(d=new Uint8Array(rt),D=0;D<rt;D++)at[D]=U[4*D],yt[D]=U[4*D+1],st[D]=U[4*D+2],d[D]=U[4*D+3];o({width:G,height:B,pixels:[at,yt,st],mask:d,pixelType:"u8"})},w.onerror=()=>{URL.revokeObjectURL(m),i("cannot load image")}})}static _getMask(s,b){let O=null;try{const G=new Uint8Array(s),B=Math.ceil(G.length/2);let K=0;const t=G.length-2;for(K=B;K<t&&(255!==G[K]||217!==G[K+1]);K++);if(K+=2,K<G.length-1){const o=new ft.Z(G.subarray(K)).getBytes();O=new Uint8Array(b.width*b.height);let i=0;for(let d=0;d<o.length;d++)for(let g=7;g>=0;g--)O[i++]=o[d]>>g&1}}catch{}return O}}var lt=z(92782);class J{static decode(s,b=!1){const O=new Uint8Array(s),G=new lt.J;G.parse(O);const{width:B,height:K,numComponents:t,eof:o}=G,i=G.getData(B,K,!0),d=B*K;let g,m=null,w=0,U=0,k=0;if(!b&&o<O.length-1)try{const D=new ft.Z(O.subarray(o)).getBytes();m=new Uint8Array(d);let rt=0;for(w=0;w<D.length;w++)for(k=7;k>=0;k--)m[rt++]=D[w]>>k&1}catch{}if(1===t&&i.length===B*K){const D=new Uint8Array(i.buffer);g=[D,D,D]}else{for(g=[],w=0;w<3;w++)g.push(new Uint8Array(d));for(k=0,U=0;U<d;U++)for(w=0;w<3;w++)g[w][U]=i[k++]}return{width:B,height:K,pixels:g,mask:m}}}var ut=z(7957),$=z(39878),it=z(96115);const ct=(v,s)=>Math.floor(v.byteLength/(s.width*s.height*q(s.pixelType))),q=v=>{let s=1;switch(v){case Uint8Array:case Int8Array:s=1;break;case Uint16Array:case Int16Array:s=2;break;case Uint32Array:case Int32Array:case Float32Array:s=4;break;case Float64Array:s=8}return s};class H{static decode(s,b){const O=b.pixelType,G=[],B=b.width*b.height,K=ct(s,b),{bandIds:t,format:o}=b,i=t?.length||ct(s,b),d=s.byteLength-s.byteLength%(B*q(O)),g=new O(s,0,B*K);let m,w,U,k,D=null;if("bip"===o)for(m=0;m<i;m++){for(U=new O(B),k=t?t[m]:m,w=0;w<B;w++)U[w]=g[w*K+k];G.push(U)}else if("bsq"===o)for(m=0;m<i;m++)k=t?t[m]:m,G.push(g.subarray(k*B,(k+1)*B));return d<s.byteLength-1&&(D=((v,s)=>{if(8*v.byteLength<s)return null;const b=new Uint8Array(v,0,Math.ceil(s/8)),O=new Uint8Array(s);let G=0,B=0,K=0,t=0;for(K=0;K<b.length-1;K++)for(B=b[K],t=7;t>=0;t--)O[G++]=B>>t&1;for(t=7;G<s-1;)B=b[b.length-1],O[G++]=B>>t&1,t--;return O})(s.slice(d),B)),{pixels:G,mask:D}}}var Q=z(59520),Y=z(79892),a=function(v){var G,B,K;function t(o){var i,g,m,w,U,k,D,rt,at,yt,st,ot;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},w=null;;){switch(i=this.readUInt32(),D=function(){var ht,vt;for(vt=[],ht=0;ht<4;++ht)vt.push(String.fromCharCode(this.data[this.pos++]));return vt}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":w&&this.animation.frames.push(w),this.pos+=4,w={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),g=this.readUInt16()||100,w.delay=1e3*m/g,w.disposeOp=this.data[this.pos++],w.blendOp=this.data[this.pos++],w.data=[];break;case"IDAT":case"fdAT":for("fdAT"===D&&(this.pos+=4,i-=4),o=w?.data||this.imgData,yt=0;0<=i?yt<i:yt>i;0<=i?++yt:--yt)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(i),(rt=255-this.transparency.indexed.length)>0)for(st=0;0<=rt?st<rt:st>rt;0<=rt?++st:--st)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":U=(at=this.read(i)).indexOf(0),k=String.fromCharCode.apply(String,at.slice(0,U)),this.text[k]=String.fromCharCode.apply(String,at.slice(U+1));break;case"IEND":return w&&this.animation.frames.push(w),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ot=this.colorType)||6===ot,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return t.load=function(o,i,d){var g;return"function"==typeof i&&(d=i),(g=new XMLHttpRequest).open("GET",o,!0),g.responseType="arraybuffer",g.onload=function(){var m;return m=new t(new Uint8Array(g.response||g.mozResponseArrayBuffer)),"function"==typeof i?.getContext&&m.render(i),"function"==typeof d?d(m):void 0},g.send(null)},t.prototype.read=function(o){var i,d;for(d=[],i=0;0<=o?i<o:i>o;0<=o?++i:--i)d.push(this.data[this.pos++]);return d},t.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.decodePixels=function(o){var i,d,g,m,w,U,k,D,at,yt,st,ot,ht,vt,tt,F,Z,et,dt,gt,Ct,wt;if(null==o&&(o=this.imgData),0===o.length)return new Uint8Array(0);for(o=(o=new ft.Z(o)).getBytes(),tt=(st=this.pixelBitlength/8)*this.width,ot=new Uint8Array(tt*this.height),U=o.length,vt=0,ht=0,d=0;ht<U;){switch(o[ht++]){case 0:for(m=et=0;et<tt;m=et+=1)ot[d++]=o[ht++];break;case 1:for(m=dt=0;dt<tt;m=dt+=1)i=o[ht++],w=m<st?0:ot[d-st],ot[d++]=(i+w)%256;break;case 2:for(m=gt=0;gt<tt;m=gt+=1)i=o[ht++],g=(m-m%st)/st,ot[d++]=((F=vt&&ot[(vt-1)*tt+g*st+m%st])+i)%256;break;case 3:for(m=Ct=0;Ct<tt;m=Ct+=1)i=o[ht++],g=(m-m%st)/st,w=m<st?0:ot[d-st],F=vt&&ot[(vt-1)*tt+g*st+m%st],ot[d++]=(i+Math.floor((w+F)/2))%256;break;case 4:for(m=wt=0;wt<tt;m=wt+=1)i=o[ht++],g=(m-m%st)/st,0===vt?F=Z=0:(F=ot[(vt-1)*tt+g*st+m%st],Z=g&&ot[(vt-1)*tt+(g-1)*st+m%st]),k=(w=m<st?0:ot[d-st])+F-Z,D=Math.abs(k-w),at=Math.abs(k-F),yt=Math.abs(k-Z),ot[d++]=(i+(D<=at&&D<=yt?w:at<=yt?F:Z))%256;break;default:throw new Error("Invalid filter algorithm: "+o[ht-1])}vt++}return ot},t.prototype.decodePalette=function(){var o,i,d,g,m,w,U,k,D;for(d=this.palette,w=this.transparency.indexed||[],m=new Uint8Array((w.length||0)+d.length),g=0,o=0,i=U=0,k=d.length;U<k;i=U+=3)m[g++]=d[i],m[g++]=d[i+1],m[g++]=d[i+2],m[g++]=null!=(D=w[o++])?D:255;return m},t.prototype.copyToImageData=function(o,i){var d,g,m,w,U,k,D,rt,at,yt,st;if(g=this.colors,at=null,d=this.hasAlphaChannel,this.palette.length&&(at=null!=(st=this._decodedPalette)?st:this._decodedPalette=this.decodePalette(),g=4,d=!0),rt=(m=o.data||o).length,U=at||i,w=k=0,1===g)for(;w<rt;)D=at?4*i[w/4]:k,yt=U[D++],m[w++]=yt,m[w++]=yt,m[w++]=yt,m[w++]=d?U[D++]:this.transparency.grayscale&&this.transparency.grayscale===yt?0:255,k=D;else for(;w<rt;)D=at?4*i[w/4]:k,m[w++]=U[D++],m[w++]=U[D++],m[w++]=U[D++],m[w++]=d?U[D++]:this.transparency.rgb&&this.transparency.rgb[1]===U[D-3]&&this.transparency.rgb[3]===U[D-2]&&this.transparency.rgb[5]===U[D-1]?0:255,k=D},t.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o},B=v.document&&v.document.createElement("canvas"),K=B&&B.getContext("2d"),G=function(o){var i;return K.width=o.width,K.height=o.height,K.clearRect(0,0,o.width,o.height),K.putImageData(o,0,0),(i=new Image).src=B.toDataURL(),i},t.prototype.decodeFrames=function(o){var i,d,g,m,w,U,k,D;if(this.animation){for(D=[],d=w=0,U=(k=this.animation.frames).length;w<U;d=++w)g=o.createImageData((i=k[d]).width,i.height),m=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(g,m),i.imageData=g,D.push(i.image=G(g));return D}},t.prototype.renderFrame=function(o,i){var d,g,m;return d=(g=this.animation.frames)[i],m=g[i-1],0===i&&o.clearRect(0,0,this.width,this.height),1===m?.disposeOp?o.clearRect(m.xOffset,m.yOffset,m.width,m.height):2===m?.disposeOp&&o.putImageData(m.imageData,m.xOffset,m.yOffset),0===d.blendOp&&o.clearRect(d.xOffset,d.yOffset,d.width,d.height),o.drawImage(d.image,d.xOffset,d.yOffset)},t.prototype.animate=function(o){var i,d,g,m,w,U,k=this;return d=0,m=(U=this.animation).numFrames,g=U.frames,w=U.numPlays,(i=function(){var D,rt;if(D=d++%m,rt=g[D],k.renderFrame(o,D),m>1&&d/m<w)return k.animation._timeout=setTimeout(i,rt.delay)})()},t.prototype.stopAnimation=function(){var o;return clearTimeout(null!=(o=this.animation)?o._timeout:void 0)},t.prototype.render=function(o){var i,d;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,i=o.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(d=i.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),i.putImageData(d,0,0))},t}(self);const _=new Set(["jpg","png","bmp","gif"]);function T(v,s){return M.apply(this,arguments)}function M(){return(M=(0,V.A)(function*(v,s){if(!Y.Z)throw new pt.A("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,ut.Hh)();const{offset:b}=s,{width:O,height:G,pixelType:B,statistics:K,depthCount:t,noDataValues:o,bandMasks:i,pixels:d,mask:g}=(0,ut.D4)(v,{inputOffset:b,returnInterleaved:s.returnInterleaved}),m=new W.A({width:O,height:G,pixelType:B.toLowerCase(),pixels:d,mask:g,statistics:K.map(({minValue:w,maxValue:U})=>new At.z(w,U)),bandMasks:i,depthCount:t,noDataValues:o});return K?.length||m.updateStatistics(),m})).apply(this,arguments)}function E(v,s){return x.apply(this,arguments)}function x(){return(x=(0,V.A)(function*(v,s){const b=yield(0,Q.D4)(v,{...s,noDataValue:s.tiffNoDataValue,matchAllNoData:s.matchAllNoData});(0,mt.Lw)(b);const O=new W.A({width:b.width,height:b.height,pixels:b.pixels,pixelType:b.pixelType.toLowerCase(),mask:b.mask,bandMasks:b.bandMasks,statistics:null});return O.updateStatistics(),O})).apply(this,arguments)}function l(){return(l=(0,V.A)(function*(v,s){const b=yield(0,Q.s$)(v,s.customOptions),O=new W.A({width:b.width,height:b.height,pixels:b.pixels,pixelType:b.pixelType.toLowerCase(),mask:b.mask,statistics:null});return O.updateStatistics(),O})).apply(this,arguments)}function n(v,s){const b=s.pixelType||"u8",O=W.A.getPixelArrayConstructor(b),G="u8"===b?v:new O(v.buffer),B=[],K=s.planes||1;if(1===K)B.push(G);else for(let o=0;o<K;o++){const i=(s.width||1)*(s.height||v.length),d=new O(i);for(let g=0;g<i;g++)d[g]=G[g*K+o];B.push(d)}const t=new W.A({width:s.width||1,height:s.height||v.length,pixels:B,pixelType:b,statistics:null});return t.updateStatistics(),t}function h(v,s){return n(new ft.Z(new Uint8Array(v)).getBytes(),s)}function r(v,s){return n((0,$.D)(v,s.offset,s.eof,!s.isInputBigEndian),s)}function p(v,s){const b=J.decode(v,s.hasNoZlibMask??void 0),O=new W.A({width:b.width,height:b.height,pixels:b.pixels,pixelType:"u8",mask:b.mask,statistics:null});return O.updateStatistics(),O}function A(v,s){const b=new Uint8Array(v),O=new a(b),{width:G,height:B}=s,K=G*B,t=O.decode();let o,i=0,d=0;const g=new Uint8Array(K);for(i=0;i<K;i++)g[i]=t[4*i+3];const m=new W.A({width:G,height:B,pixels:[],pixelType:"u8",mask:g,statistics:[]});for(i=0;i<3;i++){for(o=new Uint8Array(K),d=0;d<K;d++)o[d]=t[4*d+i];m.addData({pixels:o})}return m.updateStatistics(),m}function R(){return(R=(0,V.A)(function*(v,s,b,O){const G=new f,B={applyJpegMask:!1,format:s,...b},K=yield G.decode(v,B,O),t=new W.A(K);return t.updateStatistics(),t})).apply(this,arguments)}function L(v){if(null==v)throw new pt.A("rasterCodec:decode","parameter encodeddata is required.");const s=new Uint8Array(v,0,10);let b="";return 255===s[0]&&216===s[1]?b="jpg":137===s[0]&&80===s[1]&&78===s[2]&&71===s[3]?b="png":67===s[0]&&110===s[1]&&116===s[2]&&90===s[3]&&73===s[4]&&109===s[5]&&97===s[6]&&103===s[7]&&101===s[8]&&32===s[9]?b="lerc":76===s[0]&&101===s[1]&&114===s[2]&&99===s[3]&&50===s[4]&&32===s[5]?b="lerc2":73===s[0]&&73===s[1]&&42===s[2]&&0===s[3]||77===s[0]&&77===s[1]&&0===s[2]&&42===s[3]||73===s[0]&&73===s[1]&&43===s[2]&&0===s[3]||77===s[0]&&77===s[1]&&0===s[2]&&43===s[3]?b="tiff":71===s[0]&&73===s[1]&&70===s[2]?b="gif":66===s[0]&&77===s[1]?b="bmp":String.fromCharCode.apply(null,s).toLowerCase().includes("error")&&(b="error"),b}function P(v){let s=L(v);return"lerc2"===s?s="lerc":"error"===s&&(s=""),s}function X(v){return j.apply(this,arguments)}function j(){return j=(0,V.A)(function*(v,s={},b){if(null==v)throw new pt.A("rasterCodec:decode","missing encodeddata parameter.");let O=s.format?.toLowerCase();if(!("bsq"!==O&&"bip"!==O||null!=s.width&&null!=s.height))throw new pt.A("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===O&&s.customOptions)return function c(v,s){return l.apply(this,arguments)}(v,s);if((!O||"bsq"!==O&&"bip"!==O&&"deflate"!==O&&"lzw"!==O)&&(O=L(v)),s.useCanvas&&_.has(O))return function I(v,s,b,O){return R.apply(this,arguments)}(v,O,s,b);const G=function C(v){let s=null;switch(v){case"lerc":case"lerc2":s=T;break;case"jpg":s=p;break;case"png":s=A;break;case"bsq":case"bip":s=(b,O)=>function y(v,s,b){const{pixelTypeCtor:O}=function S(v){let s=null,b=null;switch(v?v.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":b=255,s=Uint8Array;break;case"u16":b=b||65535,s=Uint16Array;break;case"u32":b=b||2**32-1,s=Uint32Array;break;case"s8":b=b||-128,s=Int8Array;break;case"s16":b=b||-32768,s=Int16Array;break;case"s32":b=b||0-2**31,s=Int32Array;break;default:s=Float32Array}return{pixelTypeCtor:s,noDataValue:b}}(s.pixelType),G=(0,H.decode)(v,{width:s.width,height:s.height,pixelType:O,format:b}),B=new W.A({width:s.width,height:s.height,pixels:G.pixels,pixelType:s.pixelType,mask:G.mask,statistics:null});return B.updateStatistics(),B}(b,O,v);break;case"tiff":s=E;break;case"deflate":s=h;break;case"lzw":s=r;break;case"error":s=()=>{throw new pt.A("rasterCodec:decode","input data contains error")};break;default:s=()=>{throw new pt.A("rasterCodec:decode","unsupported raster format")}}return s}(O);let B;s.isPoint&&(null!=(s={...s}).width&&s.width++,null!=s.height&&s.height++);const{offsets:K}=s;if(K&&K.length>1){const t=K.map((d,g)=>G(v.slice(d,K[g+1]),s)),o=yield Promise.all(t);B=o[0],B.pixels=o.map(d=>d.pixels[0]);const i=o.map(d=>d.mask);o.some(d=>null!=d)&&(i.forEach((d,g)=>{null==d&&(i[g]=new Uint8Array(B.width*B.height).fill(255))}),B.bandMasks=i,B.mask=W.A.combineBandMasks(i)),B.updateStatistics()}else B=yield G(v,{...s,offset:K?.[0]??s.offset});return"jpg"!==O&&null!=s.noDataValue&&1===B.depthCount&&(0,it.Sp)(B,s.noDataValue,{customFloatTolerance:s.tolerance}),s.isPoint&&function N(v,s=1){if(!v)return;const{pixels:b,width:O,height:G,mask:B}=v;if(!b||0===b.length)return;const K=b.length,t=O-1,o=G-1,i=[];let d,g,m,w,U,k,D=null;const rt=W.A.getPixelArrayConstructor(v.pixelType);if(0===s){for(d=0;d<K;d++){for(U=b[d],k=new rt(t*o),g=0;g<o;g++)for(w=g*O,m=0;m<t;m++)k[g*t+m]=U[w+m];i.push(k)}if(null!=B)for(D=new Uint8Array(t*o),g=0;g<o;g++)for(w=g*O,m=0;m<t;m++)D[g*t+m]=B[w+m]}else{for(d=0;d<K;d++){for(U=b[d],k=new rt(t*o),g=0;g<o;g++)for(w=g*O,m=0;m<t;m++)k[g*t+m]=(U[w+m]+U[w+m+1]+U[w+O+m]+U[w+O+m+1])/4;i.push(k)}if(B)for(D=new Uint8Array(t*o),g=0;g<o;g++)for(w=g*O,m=0;m<t;m++)D[g*t+m]=Math.min.apply(null,[B[w+m],B[w+m+1],B[w+O+m],B[w+O+m+1]])}v.width=t,v.height=o,v.mask=D,v.pixels=i}(B),B}),j.apply(this,arguments)}},59520:(Pt,Et,z)=>{z.d(Et,{Cr:()=>A,D4:()=>B,JM:()=>v,XO:()=>R,r9:()=>C,s$:()=>O,uT:()=>j,uc:()=>I,zS:()=>L});var V=z(10467),mt=(z(3248),z(38497)),W=z(92782),At=z(7957),bt=z(39878),ft=z(96115),f=z(77835),lt=z(79892),J=z(97244);const ut=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],$=4294967296,it=new Set([1,5,6,7,8,34712,34887]);function ct(t,o){let i="unknown";return 3===t?i=64===o?"f64":"f32":1===t?1===o?i="u1":2===o?i="u2":4===o?i="u4":o<=8?i="u8":o<=16?i="u16":o<=32&&(i="u32"):2===t&&(o<=8?i="s8":o<=16?i="s16":o<=32&&(i="s32")),i}function q(t){let o=null;switch(t?t.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":o=Uint8Array;break;case"u16":o=Uint16Array;break;case"u32":o=Uint32Array;break;case"s8":o=Int8Array;break;case"s16":o=Int16Array;break;case"s32":o=Int32Array;break;case"f64":o=Float64Array;break;default:o=Float32Array}return o}function nt(t,o){return{x:o[0]*t.x+o[1]*t.y+o[2],y:o[3]*t.x+o[4]*t.y+o[5]}}function H(t,o){return t.get(o)?.values}function Q(t,o){return t.get(o)?.values}function Y(t,o){return t.get(o)?.values?.[0]}function a(t,o){return t.get(o)?.values?.[0]}function _(t,o,i,d=0,g=f.A.tiffTags,m=4){const w=8===m,U=w?N(new DataView(t,i,8),0,o):new DataView(t,i,2).getUint16(0,o),k=4+2*m,D=w?8:2,rt=D+U*k;if(i+rt>t.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:rt};const at=i+rt+4<=t.byteLength?X(new DataView(t,i+rt,8===m?8:4),0,o,8===m):null,yt=i+D,st=new Map;let ot,ht,vt,tt,F,Z=0,et=0;for(let dt=0;dt<U;dt++){ht=new DataView(t,yt+k*dt,k),vt=ht.getUint16(0,o),F=ht.getUint16(2,o),tt=f.A.getTagName(vt,g);const gt=[];2===m?(Z=ht.getUint16(4,o),et=ht.getUint16(6,o)):4===m?(Z=ht.getUint32(4,o),et=ht.getUint32(8,o)):8===m&&(Z=X(ht,4,o,!0),et=X(ht,12,o,!0),gt.push(ht.getUint32(12,o)),gt.push(ht.getUint32(16,o))),ot={id:vt,type:F,valueCount:Z,valueOffset:et,valueOffsets:gt,values:null},A(t,o,ot,d,!1,m),st.set(tt,ot)}return{success:!0,ifd:st,nextIFD:at,requiredBufferSize:rt}}const T=(t,o)=>(0,At.D4)(t,{inputOffset:o}).pixels[0];function M(t,o){if(1!==o&&2!==o&&4!==o)return t;const i=new Uint8Array(t),d=8/o,g=new Uint8Array(t.byteLength*d);let m=0;const w=2**o-1;for(let U=0;U<i.length;U++){const k=i[U];for(let D=0;D<d;D++)g[m++]=k<<o*D>>>8-o&w}return g.buffer}function E(t,o,i){const d=new W.J;d.parse(t),d.colorTransform=6===i?-1:0;const g=d.getData(d.width,d.height,1!==o&&4!==o);return new Uint8Array(g.buffer)}function x(t){const o=new J.Z(t).getBytes(),i=new ArrayBuffer(o.length),d=new Uint8Array(i);return d.set(o),d}function c(t,o,i,d,g){return l.apply(this,arguments)}function l(){return(l=(0,V.A)(function*(t,o,i,d,g){const m=lt.Z===o,w=a(i,"BITSPERSAMPLE"),U=a(i,"SAMPLESPERPIXEL")??1,k=a(i,"PHOTOMETRICINTERPRETATION"),D=a(i,"SAMPLEFORMAT")??1,rt=ct(D,w),at=a(i,"COMPRESSION")??1,yt=q(rt);let st,ot,ht;if(34887===at)return yield(0,At.Hh)(),T(t,d);if(1===at)st=t.slice(d,d+g),ot=new Uint8Array(st);else if(8===at||32946===at)ot=new Uint8Array(t,d,g),ot=x(ot),st=ot.buffer;else if(6===at)ot=new Uint8Array(t,d,g),ot=E(ot,U,k),st=ot.buffer;else if(7===at){const Z=i.get("JPEGTABLES").values,et=Z.length-2;ot=new Uint8Array(et+g-2);for(let gt=0;gt<et;gt++)ot[gt]=Z[gt];const dt=new Uint8Array(t,d+2,g-2);for(let gt=0;gt<dt.length;gt++)ot[et+gt]=dt[gt];ot=E(ot,U,k),st=ot.buffer}else{if(5!==at)throw new Error("tiff-decode: unsupport compression "+at);ot=(0,bt.D)(t,d,g,o),st=ot.buffer}if(st=M(st,w),"u8"===rt||"s8"===rt||m)ht=new yt(st);else{st=new ArrayBuffer(ot.length);const Z=new Uint8Array(st);switch(rt){case"u16":case"s16":for(let et=0;et<ot.length;et+=2)Z[et]=ot[et+1],Z[et+1]=ot[et];break;case"u32":case"s32":case"f32":for(let et=0;et<ot.length;et+=4)Z[et]=ot[et+3],Z[et+1]=ot[et+2],Z[et+2]=ot[et+1],Z[et+3]=ot[et]}ht=new yt(st)}const vt=a(i,"PREDICTOR")??1,tt=a(i,"TILEWIDTH"),F=a(i,"TILELENGTH");if(vt>1&&(5===at||8===at||32946===at)&&tt&&F){const Z=R(i),et=new yt(ht.length);et.set(ht),ht=function b(t,o,i,d,g){const m=d?4:1,w=i*m*g;d&&(t=new Uint8Array(t.buffer));for(let D=0;D<o;D++){const rt=D*w;for(let at=g;at<w;at++)t[rt+at]+=t[rt+at-g]}if(!d)return t;const U=new Uint8Array(t.length),k=i*g;for(let D=0;D<o;D++){const rt=D*w;for(let at=0;at<k;at++)for(let yt=0;yt<m;yt++)U[rt+at*m+yt]=t[rt+at+(m-yt-1)*k]}return new Float32Array(U.buffer)}(et,F,tt,3===D&&3===vt,Z?1:U)}return ht})).apply(this,arguments)}function h(){return(h=(0,V.A)(function*(t,o,i){const d=Q(i,"TILEOFFSETS");if(void 0===d)return null;const g=Q(i,"TILEBYTECOUNTS"),{width:m,height:w,pixelType:U,tileWidth:k,tileHeight:D}=I([i]),rt=R(i,o),at=a(i,"SAMPLESPERPIXEL")||o.planes,yt=m*w,st=a(i,"BITSPERSAMPLE"),ot=34887===(a(i,"COMPRESSION")??1),ht=q(U),vt=[];for(let Lt=0;Lt<at;Lt++)vt.push(new ht(yt));let tt,F,Z,et,dt,gt,Ct,wt,_t,Tt,It,Ot,kt;const Dt=Math.ceil(m/k),xt=new Uint8Array(yt).fill(255);let Rt=!1;if(st%8==0)if(ot&&rt&&at>1){const Lt=Math.round(d.length/at);for(tt=0;tt<Lt;tt++){gt=Math.floor(tt/Dt)*D,Ct=tt%Dt*k,wt=gt*m+Ct;for(let Ut=0;Ut<at;Ut++){const Nt=tt*at+Ut;for(0===g[Nt]?(Z=null,Rt=!0):Z=yield c(t,o.littleEndian,i,d[Nt],g[Nt]),Tt=0,_t=wt,Ot=Math.min(k,m-Ct),It=Math.min(D,w-gt),kt=vt[Ut],et=0;et<It;et++)for(_t=wt+et*m,Tt=et*k,dt=0;dt<Ot;dt++,_t++,Tt++)Z?kt[_t]=Z[Tt]:xt[_t]=0}}}else for(tt=0;tt<d.length;tt++)for(gt=Math.floor(tt/Dt)*D,Ct=tt%Dt*k,wt=gt*m+Ct,0===g[tt]?(Z=null,Rt=!0):Z=yield c(t,o.littleEndian,i,d[tt],g[tt]),Tt=0,_t=wt,Ot=Math.min(k,m-Ct),It=Math.min(D,w-gt),F=0;F<at;F++)if(kt=vt[F],rt||ot)for(et=0;et<It;et++)for(_t=wt+et*m,Tt=k*D*F+et*k,dt=0;dt<Ot;dt++,_t++,Tt++)Z?kt[_t]=Z[Tt]:xt[_t]=0;else for(et=0;et<It;et++)for(_t=wt+et*m,Tt=et*k*at+F,dt=0;dt<Ot;dt++,_t++,Tt+=at)Z?kt[_t]=Z[Tt]:xt[_t]=0;return{width:m,height:w,pixelType:U,pixels:vt,mask:Rt?xt:void 0}})).apply(this,arguments)}const r=(t,o,i)=>{const d=lt.Z===o.littleEndian,g=Q(i,"STRIPOFFSETS");if(void 0===g)return null;const{width:m,height:w,pixelType:U}=I([i]),k=a(i,"SAMPLESPERPIXEL")||o.planes,D=a(i,"PHOTOMETRICINTERPRETATION"),rt=m*w,at=a(i,"BITSPERSAMPLE"),yt=q(U),st=new yt(rt*k),ot=Q(i,"STRIPBYTECOUNTS"),ht=a(i,"ROWSPERSTRIP"),vt=a(i,"COMPRESSION")??1;let tt,F,Z,et,dt,gt,Ct,wt,_t;if(at%8==0)for(tt=0;tt<g.length;tt++){if(dt=tt*(ht*m)*k,"u8"===U||"s8"===U||d)8===vt||32946===vt?(Ct=new Uint8Array(t,g[tt],ot[tt]),Ct=x(Ct),gt=Ct.buffer):6===vt?(Ct=new Uint8Array(t,g[tt],ot[tt]),Ct=E(Ct,k,D),gt=Ct.buffer):5===vt?(Ct=(0,bt.D)(t,g[tt],ot[tt],o.littleEndian),gt=Ct.buffer):gt=t.slice(g[tt],g[tt]+ot[tt]),gt=M(gt,at),et=new yt(gt);else{switch(6===vt||8===vt||32946===vt?(Ct=new Uint8Array(t,g[tt],ot[tt]),wt=x(Ct),gt=wt.buffer):(gt=new ArrayBuffer(ot[tt]),Ct=new Uint8Array(t,g[tt],ot[tt]),wt=new Uint8Array(gt)),U){case"u16":case"s16":for(Z=0;Z<Ct.length;Z+=2)wt[Z]=Ct[Z+1],wt[Z+1]=Ct[Z];break;case"u32":case"s32":case"f32":for(Z=0;Z<Ct.length;Z+=4)wt[Z]=Ct[Z+3],wt[Z+1]=Ct[Z+2],wt[Z+2]=Ct[Z+1],wt[Z+3]=Ct[Z]}gt=M(gt,at),et=new yt(gt)}st.set(et,dt)}const Tt=[];if(1===k)Tt.push(st);else for(tt=0;tt<k;tt++){for(_t=new yt(rt),F=0;F<rt;F++)_t[F]=st[F*k+tt];Tt.push(_t)}return{width:m,height:w,pixelType:U,pixels:Tt}},y=(t,o,i)=>{if(!(t.length>0&&o&&i))return null;let d,g,m;const w=t[0].length,U=t.length,k=new Uint8Array(w);for(let D=0;D<U;D++)if(d=t[D],g=o[D],m=i[D],0===D)for(let rt=0;rt<w;rt++)k[rt]=d[rt]<g||d[rt]>m?0:1;else for(let rt=0;rt<w;rt++)k[rt]&&(k[rt]=d[rt]<g||d[rt]>m?0:1);return k},p=t=>{if(!t)return null;const o=t.match(/<Item(.*?)Item>/gi);if(!o||0===o.length)return null;const i=new Map;let d,g,m,w,U;for(let tt=0;tt<o.length;tt++)d=o[tt],g=d.slice(6,d.indexOf(">")),w=d.indexOf("sample="),w>-1&&(U=d.slice(w+8,d.indexOf('"',w+8))),w=d.indexOf("name="),w>-1&&(g=d.slice(w+6,d.indexOf('"',w+6))),g&&(m=d.slice(d.indexOf(">")+1,d.indexOf("</Item>")).trim(),null!=U?i.has(g)?i.get(g)[U]=m:i.set(g,[m]):i.set(g,m)),U=null;const k=i.get("STATISTICS_MINIMUM"),D=i.get("STATISTICS_MAXIMUM"),rt=i.get("STATISTICS_MEAN"),at=i.get("STATISTICS_STDDEV");let yt=null;if(k&&D){yt=[];for(let tt=0;tt<k.length;tt++)yt.push({min:parseFloat(k[tt]),max:parseFloat(D[tt]),avg:rt&&parseFloat(rt[tt]),stddev:at&&parseFloat(at[tt])})}const st=i.get("BandName"),ot=i.get("WavelengthMin"),ht=i.get("WavelengthMax");let vt=null;if(st){vt=[];for(let tt=0;tt<st.length;tt++)vt.push({BandName:st[tt],WavelengthMin:ot&&parseFloat(ot[tt]),WavelengthMax:ht&&parseFloat(ht[tt])})}return{statistics:yt,bandProperties:vt,dataType:i.get("DataType"),rawMetadata:i}};function A(t,o,i,d=0,g=!1,m=4){if(i.values)return!0;const w=i.type,U=i.valueCount;let k=i.valueOffset,D=[];const rt=ut[w],at=8*rt,yt=U*rt,st=U*ut[w]*8;let ot,ht;const vt=8===m?64:32,tt=i.valueOffsets;if(st>vt&&yt>(g?t.byteLength:t?t.byteLength-k+d:0))return i.offlineOffsetSize=[k,yt],i.values=null,!1;if(st<=vt){if(!o)if(vt<=32)k>>>=32-st;else{const F=tt?.length?tt[0]:k>>>0,Z=tt?.length?tt[1]:Math.round((k-F)/$);st<=32?(k=F>>>32-st,tt[0]=k):(k=F*2**(32-st)+(Z>>>32-st),tt[0]=F,tt[1]=Z>>>32-st)}if(1===U&&at===vt)D=[k];else if(64===vt){const F=tt?.length?tt[0]:k>>>0,Z=tt?.length?tt[1]:Math.round((k-F)/$);let et=F,dt=32;for(ht=1;ht<=U;ht++){const gt=32-at*ht%32;if(dt<at){const Ct=et<<gt>>>32-dt;et=Z,D.push(Ct+(Z<<32-dt>>>32-dt)*2**(at-dt)),dt-=32-(at-dt)}else D.push(et<<gt>>>32-at),dt-=at;0===dt&&(dt=32,et=Z)}}else for(ht=1;ht<=U;ht++)D.push(k<<32-at*ht>>>32-at)}else{k-=d,g&&(k=0);for(let F=k;F<k+yt;F+=rt){switch(w){case 1:case 2:case 7:ot=new DataView(t,F,1).getUint8(0);break;case 3:ot=new DataView(t,F,2).getUint16(0,o);break;case 4:case 13:ot=new DataView(t,F,4).getUint32(0,o);break;case 5:ot=new DataView(t,F,4).getUint32(0,o)/new DataView(t,F+4,4).getUint32(0,o);break;case 6:ot=new DataView(t,F,1).getInt8(0);break;case 8:ot=new DataView(t,F,2).getInt16(0,o);break;case 9:ot=new DataView(t,F,4).getInt32(0,o);break;case 10:ot=new DataView(t,F,4).getInt32(0,o)/new DataView(t,F+4,4).getInt32(0,o);break;case 11:ot=new DataView(t,F,4).getFloat32(0,o);break;case 12:ot=new DataView(t,F,8).getFloat64(0,o);break;case 16:case 18:ot=N(new DataView(t,F,8),0,o);break;case 17:ot=P(new DataView(t,F,8),0,o);break;default:ot=null}D.push(ot)}}if(2===w){let F="";const Z=D;for(D=[],ht=0;ht<Z.length;ht++)0===Z[ht]&&""!==F?(D.push(F),F=""):F+=String.fromCharCode(Z[ht]);""===F&&0!==D.length||D.push(F)}return i.values=D,!0}function I(t){const o=t[0],i=a(o,"TILEWIDTH"),d=a(o,"TILELENGTH"),g=a(o,"IMAGEWIDTH"),m=a(o,"IMAGELENGTH"),w=a(o,"BITSPERSAMPLE"),U=a(o,"SAMPLESPERPIXEL"),k=a(o,"SAMPLEFORMAT")??1,D=ct(k,w),rt=R(o),at=H(o,"GDAL_NODATA");let yt=null;at?.length&&(yt=at.map(Mt=>parseFloat(Mt)),yt.some(Mt=>isNaN(Mt))&&(yt=null));const st=a(o,"COMPRESSION")??1;let ot;switch(st){case 1:ot="NONE";break;case 2:case 3:case 4:case 32771:ot="CCITT";break;case 5:ot="LZW";break;case 6:case 7:ot="JPEG";break;case 32773:ot="PACKBITS";break;case 8:case 32946:ot="DEFLATE";break;case 34712:ot="JPEG2000";break;case 34887:ot="LERC";break;default:ot=String(st)}let ht=!0,vt="";it.has(st)||(ht=!1,vt+="unsupported tag compression "+st),k>3&&(ht=!1,vt+="unsupported tag sampleFormat "+k),1!==w&&2!==w&&4!==w&&w%8!=0&&(ht=!1,vt+="unsupported tag bitsPerSample "+w);const tt=Y(o,"GEOASCIIPARAMS");let F;if(tt){const Mt=tt.split("|").find(Bt=>Bt.includes("ESRI PE String = ")),St=Mt?Mt.replace("ESRI PE String = ",""):"";F=St.startsWith("COMPD_CS")||St.startsWith("PROJCS")||St.startsWith("GEOGCS")?{wkid:null,wkt:St}:null}const Z=Q(o,"GEOTIEPOINTS"),et=Q(o,"GEOPIXELSCALE"),dt=Q(o,"GEOTRANSMATRIX"),gt=o.has("GEOKEYDIRECTORY")?o.get("GEOKEYDIRECTORY").data:null;let Ct,wt,_t=!1,Tt=!1;if(gt){_t=2===a(gt,"GTRasterTypeGeoKey");const Mt=a(gt,"GTModelTypeGeoKey");if(2===Mt){const St=a(gt,"GeographicTypeGeoKey");St>=1024&&St<=32766&&(F={wkid:St}),F||32767!==St||(Tt=!0,F={wkid:4326})}else if(1===Mt){const St=a(gt,"ProjectedCSTypeGeoKey");St>=1024&&St<=32766&&(F={wkid:St})}}if(et&&Z&&Z.length>=6?(Ct=[et[0],0,Z[3]-Z[0]*et[0],0,-Math.abs(et[1]),Z[4]-Z[1]*et[1]],_t&&(Ct[2]-=.5*Ct[0]+.5*Ct[1],Ct[5]-=.5*Ct[3]+.5*Ct[4])):dt&&16===dt.length&&(Ct=_t?[dt[0],dt[1],dt[3]-.5*dt[0],dt[4],dt[5],dt[7]-.5*dt[5]]:[dt[0],dt[1],dt[3],dt[4],dt[5],dt[7]]),Ct){const Mt=[{x:0,y:m},{x:0,y:0},{x:g,y:m},{x:g,y:0}];let St,Bt=Number.POSITIVE_INFINITY,Gt=Number.POSITIVE_INFINITY,Ft=Number.NEGATIVE_INFINITY,jt=Number.NEGATIVE_INFINITY;for(let Vt=0;Vt<Mt.length;Vt++)St=nt(Mt[Vt],Ct),Bt=St.x>Bt?Bt:St.x,Ft=St.x<Ft?Ft:St.x,Gt=St.y>Gt?Gt:St.y,jt=St.y<jt?jt:St.y;wt={xmin:Bt,xmax:Ft,ymin:Gt,ymax:jt,spatialReference:F}}else wt={xmin:-.5,ymin:.5-m,xmax:g-.5,ymax:.5,spatialReference:F};Tt&&(wt.xmax-wt.xmin>400||Math.max(Math.abs(wt.xmin),Math.abs(wt.xmax))>361)&&(F=null,wt.spatialReference=null);const It=L(t);let Ot,kt,Dt,xt,Rt;if(It.length>0){Dt=Math.round(Math.log(g/a(It[0],"IMAGEWIDTH"))/Math.LN2);const Mt=It[It.length-1];xt=It.length,Ot=a(Mt,"TILEWIDTH"),kt=a(Mt,"TILELENGTH")}Ot=null!=xt&&xt>0?Ot||i:null,kt=null!=xt&&xt>0?kt||d:null,i&&(Rt=[{maxCol:Math.ceil(g/i)-1,maxRow:Math.ceil(m/d)-1,minRow:0,minCol:0}],It.forEach(Mt=>{Rt.push({maxCol:Math.ceil(a(Mt,"IMAGEWIDTH")/a(Mt,"TILEWIDTH"))-1,maxRow:Math.ceil(a(Mt,"IMAGELENGTH")/a(Mt,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Lt=Y(t[0],"GDAL_METADATA"),Ut=p(Lt);vt+=" "+s({width:g,height:m,tileWidth:i,tileHeight:d,planes:U,ifds:t});const Nt=C(t).length===It.length+1,Wt=It?.length?It.map(Mt=>({x:g/a(Mt,"IMAGEWIDTH"),y:m/a(Mt,"IMAGELENGTH")})):void 0;return{width:g,height:m,tileWidth:i,tileHeight:d,planes:U,isBSQ:rt,pixelType:D,compression:ot,noData:yt,hasMaskBand:Nt,isSupported:ht,pyramidResolutions:Wt,message:vt,extent:wt,isPseudoGeographic:Tt,affine:et?null:Ct,firstPyramidLevel:Dt,maximumPyramidLevel:xt,pyramidBlockWidth:Ot,pyramidBlockHeight:kt,tileBoundary:Rt,metadata:Ut}}function R(t,o){const i=H(t,"PLANARCONFIGURATION");return i?2===i[0]:!!o&&o.isBSQ}function L(t){return t.filter(o=>1===a(o,"NEWSUBFILETYPE"))}function C(t){return t.filter(o=>{const i=!(4&~(a(o,"NEWSUBFILETYPE")??0)),d=4===a(o,"PHOTOMETRICINTERPRETATION");return i&&d})}function N(t,o,i){const d=t.getUint32(o,i),g=t.getUint32(o+4,i);return i?g*$+d:d*$+g}function P(t,o,i){let d=i?t.getInt32(o,i):t.getUint32(o,i),g=i?t.getUint32(o+4,i):t.getInt32(o+4,i);const m=(i?d:g)>=0?1:-1;return i?d*=m:g*=m,m*(i?g*$+d:d*$+g)}function X(t,o,i,d){return d?N(t,o,i):t.getUint32(o,i)}function j(t){const o=new DataView(t,0,16),i=o.getUint16(0,!1);let d=null;if(18761===i)d=!0;else{if(19789!==i)throw new Error("unexpected endianess byte");d=!1}const g=o.getUint16(2,d);if(42!==g&&43!==g)throw new Error("unexpected tiff identifier");let m=4;const w=43===g;if(w){const U=o.getUint16(m,d);if(m+=2,8!==U)throw new Error("unsupported bigtiff version");if(0!==o.getUint16(m,d))throw new Error("unsupported bigtiff version");m+=2}return{littleEndian:d,isBigTiff:w,firstIFDPos:X(o,m,d,w)}}function v(t,o,i,d=0,g=f.A.tiffTags,m=4){const w=_(t,o,i,d,g,m);let U;const k=w.ifd;if(k){if(f.A.ifdTags.forEach((D,rt)=>{k.has(rt)&&(U=k.get(rt),U.data=_(t,o,U.valueOffset-d,d,D).ifd)}),k.has("GEOKEYDIRECTORY")){U=k.get("GEOKEYDIRECTORY");const D=U.values;if(D&&D.length>4){const rt=D[0]+"."+D[1]+"."+D[2];U.data=_(t,o,U.valueOffset+6-d,d,f.A.geoKeys,2).ifd,U.data&&U.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[rt]})}}if(k.has("XMP")){U=k.get("XMP");const D=U.values;"number"==typeof D[0]&&7===U.type&&(U.values=[(0,mt.w)(new Uint8Array(D))])}}return w}function s(t){const{width:o,height:i,tileHeight:d,tileWidth:g}=t,m=t.planes,w=g?g*d:o*i,U=a(t.ifds[0],"BITSPERSAMPLE");let k="";return w*m>2**30/(U>8?U/8:1)&&(k=g?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),k}function O(t,o){return G.apply(this,arguments)}function G(){return(G=(0,V.A)(function*(t,o){const{headerInfo:i,ifd:d,offsets:g,sizes:m}=o,w=[];for(let _t=0;_t<g.length;_t++){const Tt=yield c(t,i.littleEndian,d,g[_t],m[_t]||t.byteLength);w.push(Tt)}const U=R(d,i),k=a(d,"BITSPERSAMPLE"),D=ct(a(d,"SAMPLEFORMAT")??1,k),rt=a(d,"SAMPLESPERPIXEL")||i.planes,at=q(D),yt=a(d,"TILEWIDTH"),st=a(d,"TILELENGTH"),ot=a(d,"COMPRESSION")??1,ht=yt*st;let vt;const tt=[];let F=w[0];const Z=34887===ot;for(let _t=0;_t<rt;_t++){if(vt=new at(ht),w.length===rt)F=w[_t],F.length===ht&&(vt=F);else if(F.length)if(U||Z)vt=F.length===ht?F:F.slice(ht*_t,ht*(_t+1));else for(let Tt=0;Tt<ht;Tt++)vt[Tt]=F[Tt*rt+_t];tt.push(vt)}const et=i.noData?i.noData[0]:o.noDataValue,dt=i.metadata?i.metadata.statistics:null,gt=dt?dt.map(_t=>_t.min):null,Ct=dt?dt.map(_t=>_t.max):null,wt={pixelType:D,width:yt,height:st,pixels:tt,noDataValue:et};return null!=et?(0,ft.Sp)(wt,et,{matchAllNoData:o?.matchAllNoData}):gt&&Ct&&o.applyMinMaxConstraint&&(wt.mask=y(tt,gt,Ct)),wt})).apply(this,arguments)}function B(t){return K.apply(this,arguments)}function K(){return K=(0,V.A)(function*(t,o={}){const i=o.pyramidLevel||0,d=o.headerInfo||function S(t){const{littleEndian:o,isBigTiff:i,firstIFDPos:d}=j(t);let g=d;const m=[];do{const w=v(t,o,g,0,f.A.tiffTags,i?8:4);if(!w.success)break;m.push(w.ifd),g=w.nextIFD}while(g>0);return{...I(m),littleEndian:o,isBigTiff:i,ifds:m,pyramidIFDs:L(m),maskIFDs:C(m)}}(t),{ifds:g,noData:m}=d;if(0===g.length)throw new Error("no valid image file directory");const w=s(d);if(w)throw w;let U=null;const k=-1===i?g[g.length-1]:g[i],D=m??o.noDataValue;return U=d.tileWidth?yield function n(t,o,i){return h.apply(this,arguments)}(t,d,k):r(t,d,k),U&&(null!=D&&(0,ft.Sp)(U,D,{matchAllNoData:null==m&&o?.matchAllNoData}),U)}),K.apply(this,arguments)}},77835:(Pt,Et,z)=>{z.d(Et,{A:()=>ft});const V=(()=>{const f=[];return f[254]="NEWSUBFILETYPE",f[255]="SUBFILETYPE",f[256]="IMAGEWIDTH",f[257]="IMAGELENGTH",f[258]="BITSPERSAMPLE",f[259]="COMPRESSION",f[262]="PHOTOMETRICINTERPRETATION",f[263]="THRESHHOLDING",f[264]="CELLWIDTH",f[265]="CELLLENGTH",f[266]="FILLORDER",f[269]="DOCUMENTNAME",f[270]="IMAGEDESCRIPTION",f[271]="MAKE",f[272]="MODEL",f[273]="STRIPOFFSETS",f[274]="ORIENTATION",f[277]="SAMPLESPERPIXEL",f[278]="ROWSPERSTRIP",f[279]="STRIPBYTECOUNTS",f[280]="MINSAMPLEVALUE",f[281]="MAXSAMPLEVALUE",f[282]="XRESOLUTION",f[283]="YRESOLUTION",f[284]="PLANARCONFIGURATION",f[285]="PAGENAME",f[286]="XPOSITION",f[287]="YPOSITION",f[288]="FREEOFFSETS",f[289]="FREEBYTECOUNTS",f[290]="GRAYRESPONSEUNIT",f[291]="GRAYRESPONSECURVE",f[292]="T4OPTIONS",f[293]="T6OPTIONS",f[296]="RESOLUTIONUNIT",f[297]="PAGENUMBER",f[300]="COLORRESPONSEUNIT",f[301]="TRANSFERFUNCTION",f[305]="SOFTWARE",f[306]="DATETIME",f[315]="ARTIST",f[316]="HOSTCOMPUTER",f[317]="PREDICTOR",f[318]="WHITEPOINT",f[319]="PRIMARYCHROMATICITIES",f[320]="COLORMAP",f[321]="HALFTONEHINTS",f[322]="TILEWIDTH",f[323]="TILELENGTH",f[324]="TILEOFFSETS",f[325]="TILEBYTECOUNTS",f[326]="BADFAXLINES",f[327]="CLEANFAXDATA",f[328]="CONSECUTIVEBADFAXLINES",f[330]="SUBIFD",f[332]="INKSET",f[333]="INKNAMES",f[334]="NUMBEROFINKS",f[336]="DOTRANGE",f[337]="TARGETPRINTER",f[338]="EXTRASAMPLES",f[339]="SAMPLEFORMAT",f[340]="SMINSAMPLEVALUE",f[341]="SMAXSAMPLEVALUE",f[342]="TRANSFERRANGE",f[347]="JPEGTABLES",f[512]="JPEGPROC",f[513]="JPEGIFOFFSET",f[514]="JPEGIFBYTECOUNT",f[515]="JPEGRESTARTINTERVAL",f[517]="JPEGLOSSLESSPREDICTORS",f[518]="JPEGPOINTTRANSFORM",f[519]="JPEGQTABLES",f[520]="JPEGDCTABLES",f[521]="JPEGACTABLES",f[529]="YCBCRCOEFFICIENTS",f[530]="YCBCRSUBSAMPLING",f[531]="YCBCRPOSITIONING",f[532]="REFERENCEBLACKWHITE",f[700]="XMP",f[33550]="GEOPIXELSCALE",f[33922]="GEOTIEPOINTS",f[33432]="COPYRIGHT",f[42112]="GDAL_METADATA",f[42113]="GDAL_NODATA",f[50844]="RPCCOEFFICIENT",f[34264]="GEOTRANSMATRIX",f[34735]="GEOKEYDIRECTORY",f[34736]="GEODOUBLEPARAMS",f[34737]="GEOASCIIPARAMS",f[34665]="EXIFIFD",f[34853]="GPSIFD",f[40965]="INTEROPERABILITYIFD",f})(),pt=(()=>{const f=V.slice();return f[36864]="ExifVersion",f[40960]="FlashpixVersion",f[40961]="ColorSpace",f[42240]="Gamma",f[37121]="ComponentsConfiguration",f[37122]="CompressedBitsPerPixel",f[40962]="PixelXDimension",f[40963]="PixelYDimension",f[37500]="MakerNote",f[37510]="UserComment",f[40964]="RelatedSoundFile",f[36867]="DateTimeOriginal",f[36868]="DateTimeDigitized",f[36880]="OffsetTime",f[36881]="OffsetTimeOriginal",f[36882]="OffsetTimeDigitized",f[37520]="SubSecTime",f[37521]="SubSecTimeOriginal",f[37522]="SubSecTimeDigitized",f[37888]="Temperature",f[37889]="Humidity",f[37890]="Pressure",f[37891]="WaterDepth",f[37892]="Acceleration",f[37893]="CameraElevationAngle",f[42016]="ImageUniqueID",f[42032]="CameraOwnerName",f[42033]="BodySerialNumber",f[42034]="LensSpecification",f[42035]="LensMake",f[42036]="LensModel",f[42037]="LensSerialNumber",f[33434]="ExposureTime",f[33437]="FNumber",f[34850]="ExposureProgram",f[34852]="SpectralSensitivity",f[34855]="PhotographicSensitivity",f[34856]="OECF",f[34864]="SensitivityType",f[34865]="StandardOutputSensitivity",f[34866]="RecommendedExposureIndex",f[34867]="ISOSpeed",f[34868]="ISOSpeedLatitudeyyy",f[34869]="ISOSpeedLatitudezzz",f[37377]="ShutterSpeedValue",f[37378]="ApertureValue",f[37379]="BrightnessValue",f[37380]="ExposureBiasValue",f[37381]="MaxApertureValue",f[37382]="SubjectDistance",f[37383]="MeteringMode",f[37384]="LightSource",f[37385]="Flash",f[37386]="FocalLength",f[37396]="SubjectArea",f[41483]="FlashEnergy",f[41484]="SpatialFrequencyResponse",f[41486]="FocalPlaneXResolution",f[41487]="FocalPlaneYResolution",f[41488]="FocalPlaneResolutionUnit",f[41492]="SubjectLocation",f[41493]="ExposureIndex",f[41495]="SensingMethod",f[41728]="FileSource",f[41729]="SceneType",f[41730]="CFAPattern",f[41985]="CustomRendered",f[41986]="ExposureMode",f[41987]="WhiteBalance",f[41988]="DigitalZoomRatio",f[41989]="FocalLengthIn35mmFilm",f[41990]="SceneCaptureType",f[41991]="GainControl",f[41992]="Contrast",f[41993]="Saturation",f[41994]="Sharpness",f[41995]="DeviceSettingDescription",f[41996]="SubjectDistanceRange",f})(),W=(()=>{const f=[];return f[1024]="GTModelTypeGeoKey",f[1025]="GTRasterTypeGeoKey",f[1026]="GTCitationGeoKey",f[2048]="GeographicTypeGeoKey",f[2049]="GeogCitationGeoKey",f[2050]="GeogGeodeticDatumGeoKey",f[2051]="GeogPrimeMeridianGeoKey",f[2052]="GeogLinearUnitsGeoKey",f[2053]="GeogLinearUnitSizeGeoKey",f[2054]="GeogAngularUnitsGeoKey",f[2055]="GeogAngularUnitSizeGeoKey",f[2056]="GeogEllipsoidGeoKey",f[2057]="GeogSemiMajorAxisGeoKey",f[2058]="GeogSemiMinorAxisGeoKey",f[2059]="GeogInvFlatteningGeoKey",f[2061]="GeogPrimeMeridianLongGeoKey",f[2060]="GeogAzimuthUnitsGeoKey",f[3072]="ProjectedCSTypeGeoKey",f[3073]="PCSCitationGeoKey",f[3074]="ProjectionGeoKey",f[3075]="ProjCoordTransGeoKey",f[3076]="ProjLinearUnitsGeoKey",f[3077]="ProjLinearUnitSizeGeoKey",f[3078]="ProjStdParallel1GeoKey",f[3079]="ProjStdParallel2GeoKey",f[3080]="ProjNatOriginLongGeoKey",f[3081]="ProjNatOriginLatGeoKey",f[3082]="ProjFalseEastingGeoKey",f[3083]="ProjFalseNorthingGeoKey",f[3084]="ProjFalseOriginLongGeoKey",f[3085]="ProjFalseOriginLatGeoKey",f[3086]="ProjFalseOriginEastingGeoKey",f[3087]="ProjFalseOriginNorthingGeoKey",f[3088]="ProjCenterLongGeoKey",f[3090]="ProjCenterEastingGeoKey",f[3091]="ProjCenterNorthingGeoKey",f[3092]="ProjScaleAtNatOriginGeoKey",f[3093]="ProjScaleAtCenterGeoKey",f[3094]="ProjAzimuthAngleGeoKey",f[3095]="ProjStraightVertPoleLongGeoKey",f[4096]="VerticalCSTypeGeoKey",f[4097]="VerticalCitationGeoKey",f[4098]="VerticalDatumGeoKey",f[4099]="VerticalUnitsGeoKey",f})(),bt=new Map;bt.set("EXIFIFD",pt),bt.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const ft={tiffTags:V,ifdTags:bt,geoKeys:W,getTagName:(f,lt)=>{let J=(lt||V)[f];return void 0===J&&(J="unknown"+String(f)),J}}},79892:(Pt,Et,z)=>{z.d(Et,{Z:()=>V});const V=(()=>{const pt=new ArrayBuffer(4),mt=new Uint8Array(pt);return new Uint32Array(pt)[0]=1,1===mt[0]})()},48104:(Pt,Et,z)=>{z.d(Et,{DP:()=>nt,Nh:()=>Q,Pg:()=>q,RP:()=>f,WF:()=>ft,_N:()=>Y,eH:()=>it,f4:()=>ct,fP:()=>J,zj:()=>lt});var V=z(11432),pt=z(21980),mt=z(96115),W=z(97890);const At=1,bt=[.299,.587,.114];function ft(a,_=256){_=Math.min(_,256);const{size:T,counts:M}=a,E=new Uint8Array(T),x=M.reduce((r,y)=>r+y/_,0);let c=0,l=0,n=0,h=x;for(let r=0;r<T;r++)if(n+=M[r],!(r<T-1&&n+M[r+1]<h)){for(;c<_-1&&h<n;)c++,h+=x;for(let y=l;y<=r;y++)E[y]=c;l=r+1}for(let r=l;r<T;r++)E[r]=_-1;return E}function f(a){const{minCutOff:_,maxCutOff:T,gamma:M,pixelType:E,rounding:x}=a;if(!["u8","u16","s8","s16"].includes(E))return null;const c=_.length,l="s8"===E?-127:"s16"===E?-32767:0,n=["u16","s16"].includes(E)?65536:256,h=[],r=[],{minOutput:y=0,maxOutput:p=255}=a,A=p-y;for(let R=0;R<c;R++)r[R]=T[R]-_[R],h[R]=0===r[R]?0:A/r[R];const I=[];if(M&&M.length>=c){const R=Q(c,M);for(let L=0;L<c;L++){const C=[];for(let S=0;S<n;S++){if(0===r[L]){C[S]=y;continue}const N=S+l,P=(N-_[L])/r[L];let X=1;if(M[L]>1&&(X-=(1/A)**(P*R[L])),N<T[L]&&N>_[L]){const j=X*A*P**(1/M[L])+y;C[S]="floor"===x?Math.floor(j):"round"===x?Math.round(j):j}else C[S]=N>=T[L]?p:y}I[L]=C}}else for(let R=0;R<c;R++){const L=[];for(let C=0;C<n;C++){const S=C+l;if(S<=_[R])L[C]=y;else if(S>=T[R])L[C]=p;else{const N=(S-_[R])*h[R]+y;L[C]="floor"===x?Math.floor(N):"round"===x?Math.round(N):N}}I[R]=L}if(null!=a.contrastOffset){const R=lt(a.contrastOffset,a.brightnessOffset);for(let L=0;L<c;L++){const C=I[L];for(let S=0;S<n;S++)C[S]=R[C[S]]}}return{lut:I,offset:l}}function lt(a,_){const T=Math.min(Math.max(a,-100),100),M=Math.min(Math.max(_??0,-100),100),c=new Uint8Array(256);for(let l=0;l<256;l++){let n=0;T>0&&T<100?n=(200*l-25500+510*M)/(2*(100-T))+128:T<=0&&T>-100?n=(200*l-25500+510*M)*(100+T)/2e4+128:100===T?(n=200*l-25500+256*(100-T)+510*M,n=n>0?255:0):-100===T&&(n=128),c[l]=n>255?255:n<0?0:n}return c}function J(a,_,T){const M=[];for(let E=0;E<_.length;E++){let x=0,c=0,l=0;"min"in _[E]?({min:x,max:c,avg:l}=_[E]):[x,c,l]=_[E];let n=l??0;"u8"!==a&&(n=255*(n-x)/(c-x)),T&&(n*=bt[E]),M.push(ut(n))}return M}function ut(a){if(a<=0||a>=255)return At;const T=a+(150===a?0:a<150?45*Math.cos(.01047*a):17*Math.sin(.021*a)),M=Math.log(a/255),E=Math.log(T/255);if(0===E)return At;const x=M/E;return isNaN(x)?At:Math.min(9.9,Math.max(.01,x))}function it(a){const{pixels:_,mask:T,pixelType:M,bandMasks:E}=a,x=_.map((c,l)=>function $(a,_,T,M){let E=1/0,x=-1/0,c=0,l=0,n=0,h=0;const r=a.length,y=new Map,p=[];for(let v=0;v<r;v++){const s=a[v];if(!_||_[v]){p.push(s);const b=(y.get(s)??0)+1;y.set(s,b),b>h&&(h=b,n=s),E=s<E?s:E,x=s>x?s:x,c+=s,l++}}if(0===l)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const A=c/l;let I=0;for(let v=0;v<r;v++)_&&!_[v]||(I+=(a[v]-A)**2);const R=_?_.filter(v=>v).length:r,L=R<=1?0:Math.sqrt(I/(R-1));p.sort((v,s)=>v-s);const C=l>>>1,S={min:E,max:x,avg:A,stddev:L,mode:n,median:l%2?p[Math.floor(C)]:(p[C-1]+p[C])/2};if(["u8","s8","u4","u2","u1"].includes(T)){const v=x-E+1,s=new Uint32Array(v);for(let b=0;b<r;b++)_&&!_[b]||s[a[b]-E]++;return{statistics:S,histogram:{min:E-.5,max:x+.5,size:v,counts:s}}}const N=256,P=new Uint32Array(N),X=(x-E)/N;if(0===X)return{statistics:S,histogram:{min:E,max:x,size:1,counts:new Uint32Array(1).fill(l)}};const j=new Uint32Array(257);for(let v=0;v<r;v++)_&&!_[v]||j[Math.floor((a[v]-E)/X)]++;for(let v=0;v<255;v++)P[v]=j[v];return P[255]=j[255]+j[N],{statistics:S,histogram:{min:E,max:x,size:N,counts:P}}}(c,E?.[l]??T,M));return{statistics:x.map(({statistics:c})=>c),histograms:x.map(({histogram:c})=>c)}}function ct(a){if(!a?.pixels?.length)return null;const{pixels:_,mask:T,bandMasks:M,pixelType:E}=a,x=a.width*a.height,c=_.length,l=[],n=[],h=256;let r,y;for(let p=0;p<c;p++){let A=new Uint32Array(h);const I=_[p],R=M?.[p]??T;if("u8"===E){if(r=255,y=0,R){for(let O=0;O<x;O++)if(R[O]){const G=I[O];r=G<r?G:r,y=G>y?G:y,A[G]++}}else for(let O=0;O<x;O++){const G=I[O];r=G<r?G:r,y=G>y?G:y,A[G]++}A=A.slice(r,y+1)}else{let O=!1;a.statistics||(a.updateStatistics(),O=!0);const G=a.statistics;r=G[p].minValue,y=G[p].maxValue;const B=(y-r)/h;if(0===B){!G||a.validPixelCount||O||a.updateStatistics();const K=(a.validPixelCount||a.width*a.height)/h;for(let t=0;t<h;t++)A[t]=Math.round(K*(t+1))-Math.round(K*t)}else{const K=new Uint32Array(257);for(let t=0;t<x;t++)R&&!R[t]||K[Math.floor((I[t]-r)/B)]++;for(let t=0;t<255;t++)A[t]=K[t];A[255]=K[255]+K[h]}}const L="u8"===E?r-.5:r,C="u8"===E?y+.5:y;l.push({min:L,max:C,size:A.length,counts:A});let S=0,N=0,P=0;for(let O=0;O<A.length;O++)S+=A[O],N+=O*A[O];const X=N/S;for(let O=0;O<A.length;O++)P+=A[O]*(O-X)**2;const j=Math.sqrt(P/(S-1)),v=(C-L)/A.length;n.push({min:r,max:y,avg:(X+("u8"===E?0:.5))*v+r,stddev:j*v})}return{statistics:n,histograms:l}}function q(a){const _=[];for(let T=0;T<a.length;T++){const{min:M,max:E,size:x,counts:c}=a[T];let l=0,n=0;for(let I=0;I<x;I++)l+=c[I],n+=I*c[I];const h=n/l;let r=0;for(let I=0;I<x;I++)r+=c[I]*(I-h)**2;const y=(E-M)/x,p=(h+.5)*y+M,A=Math.sqrt(r/(l-1))*y;_.push({min:M,max:E,avg:p,stddev:A})}return _}function nt(a,_){const{pixelBlock:T,bandIds:M,returnHistogramLut:E,rasterInfo:x}=_;let c=null,l=null,n=a.stretchType;if("number"==typeof n&&(n=W.x[n]),a.dra)if("minMax"===n&&T?.statistics)c=T.statistics.map(C=>[C.minValue,C.maxValue,0,0]);else{const C=ct(T);c=null!=C?C.statistics:null,l=null!=C?C.histograms:null}else c=a.statistics?.length?a.statistics:x.statistics,l="histograms"in a?a.histograms:void 0,l||(l=x.histograms);"percentClip"!==n&&"histogramEqualization"!==n||l?.length||(n="minMax");const h=c?.length||l?.length||x.bandCount,r=[],y=[];c&&!Array.isArray(c[0])&&(c=c.map(C=>[C.min,C.max,C.avg,C.stddev]));const[p,A]=(0,mt.hP)(x.pixelType);if(!c?.length){c=[];for(let C=0;C<h;C++)c.push([p,A,1,1]);"standardDeviation"===n&&(n="minMax")}switch(n){case"none":for(let C=0;C<h;C++)r[C]=p,y[C]=A;break;case"minMax":for(let C=0;C<h;C++){const S=c[C];r[C]=S[0],y[C]=S[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:C=2}=a;for(let S=0;S<h;S++){const N=c[S];r[S]=N[2]-C*N[3],y[S]=N[2]+C*N[3],r[S]<N[0]&&(r[S]=N[0]),y[S]>N[1]&&(y[S]=N[1])}}break;case"histogramEqualization":(0,V.Lw)(l);for(let C=0;C<h;C++)r[C]=l[C].min,y[C]=l[C].max;break;case"percentClip":(0,V.Lw)(l);for(let C=0;C<l.length;C++){const S=l[C],N=new Uint32Array(S.size),P=[...S.counts];P.length>=20&&(P[0]=P[1]=P[2]=P[P.length-1]=P[P.length-2]=0);let X=0;const j=(S.max-S.min)/S.size,v=-.5===S.min&&1===j?.5:0;for(let b=0;b<S.size;b++)X+=P[b],N[b]=X;let s=(a.minPercent||0)*X/100;r[C]=S.min+v;for(let b=0;b<S.size;b++)if(N[b]>s){r[C]=S.min+j*(b+v);break}s=(1-(a.maxPercent||0)/100)*X,y[C]=S.max+v;for(let b=S.size-2;b>=0;b--)if(N[b]<s){y[C]=S.min+j*(b+2-v);break}if(y[C]<r[C]){const b=r[C];r[C]=y[C],y[C]=b}}break;default:for(let C=0;C<h;C++){const S=c[C];r[C]=S[0],y[C]=S[1]}}let I,R,L;return"histogramEqualization"===n?((0,V.Lw)(l),R=l[0].size||256,I=0,E&&(L=l.map(C=>ft(C)))):(R=a.max||255,I=a.min||0),function H(a,_){if(null==_||0===_.length)return a;const T=Math.max.apply(null,_),{minCutOff:M,maxCutOff:E,minOutput:x,maxOutput:c,histogramLut:l}=a;return M.length===_.length||M.length<=T?a:{minCutOff:_.map(n=>M[n]),maxCutOff:_.map(n=>E[n]),histogramLut:l?_.map(n=>l[n]):null,minOutput:x,maxOutput:c}}({minCutOff:r,maxCutOff:y,maxOutput:R,minOutput:I,histogramLut:L},M)}function Q(a,_){const T=new Float32Array(a);for(let M=0;M<a;M++)T[M]=_[M]>1?_[M]>2?6.5+(_[M]-2)**2.5:6.5+100*(2-_[M])**4:1;return T}function Y(a,_){if(!a?.pixels?.length)return a;const{mask:T,bandMasks:M,width:E,height:x,pixels:c}=a,{minCutOff:l,maxCutOff:n,minOutput:h,maxOutput:r,gamma:y}=_,p=E*x,A=_.outputPixelType||"u8",I=a.pixels.map(()=>pt.A.createEmptyBand(A,p)),R=I.length,L=r-h,C=[],S=[];for(let v=0;v<R;v++)S[v]=n[v]-l[v],C[v]=0===S[v]?0:L/S[v];const N=A.startsWith("u")||A.startsWith("s"),X=!!_.isRenderer;if(y&&y.length>=R){const v=Q(R,y);for(let s=0;s<R;s++){const b=M?.[s]??T;for(let O=0;O<p;O++)if(null==b||b[O]){if(0===S[s]){I[s][O]=h;continue}const G=c[s][O],B=(G-l[s])/S[s];let K=1;if(y[s]>1&&(K-=(1/L)**(B*v[s])),G<n[s]&&G>l[s]){const t=K*L*B**(1/y[s])+h;I[s][O]=X?Math.floor(t):N?Math.round(t):t}else I[s][O]=G>=n[s]?r:h}}}else for(let v=0;v<R;v++){const s=M?.[v]??T;for(let b=0;b<p;b++)if(null==s||s[b]){const O=c[v][b];if(O<n[v]&&O>l[v]){const G=(O-l[v])*C[v]+h;I[v][b]=X?Math.floor(G):N?Math.round(G):G}else I[v][b]=O>=n[v]?r:h}}const j=new pt.A({width:E,height:x,mask:T,bandMasks:M,pixels:I,pixelType:A});return j.updateStatistics(),j}},14870:(Pt,Et,z)=>{z.d(Et,{E0:()=>it,PP:()=>ct,SC:()=>J,di:()=>$,fw:()=>lt,ng:()=>bt,rk:()=>At,yy:()=>ut});var V=z(21980),pt=z(855),mt=z(40275);const W=1,At=1/111e3;function bt(q){let{altitude:nt,azimuth:H}=q;const{hillshadeType:Q,pixelSizePower:Y=1,pixelSizeFactor:a=1,scalingType:_,isGCS:T,resolution:M}=q,E="multi-directional"===Q?2*q.zFactor:q.zFactor,{x,y:c}=M;let l=E/(8*x),n=E/(8*c);if(T&&E>.001&&(l/=At,n/=At),"adjusted"===_)if(T){const v=x*At,s=c*At;l=(E+v**Y*a)/(8*v),n=(E+s**Y*a)/(8*s)}else l=(E+x**Y*a)/(8*x),n=(E+c**Y*a)/(8*c);let h=(90-nt)*Math.PI/180,r=Math.cos(h),y=(360-H+90)*Math.PI/180,p=Math.sin(h)*Math.cos(y),A=Math.sin(h)*Math.sin(y);const I=[315,270,225,360,180,0],R=[60,60,60,60,60,90],L=new Float32Array([3,5,3,2,1,4]),C=L.reduce((v,s)=>v+s),S=L.map(v=>v/C),N="multi-directional"===Q?I.length:1,P=new Float32Array(6),X=new Float32Array(6),j=new Float32Array(6);if("multi-directional"===Q)for(let v=0;v<N;v++)nt=R[v],H=I[v],h=(90-nt)*Math.PI/180,r=Math.cos(h),y=(360-H+90)*Math.PI/180,p=Math.sin(h)*Math.cos(y),A=Math.sin(h)*Math.sin(y),P[v]=r,X[v]=p,j[v]=A;else P.fill(r),X.fill(p),j.fill(A);return{resolution:M,factor:[l,n],sinZcosA:p,sinZsinA:A,cosZ:r,sinZcosAs:[...X],sinZsinAs:[...j],cosZs:[...P],weights:[...S],hillshadeType:["traditional","multi-directional"].indexOf(Q)}}function ft(q,nt){const{width:H,height:Q}=q,Y=H*Q,a=new Uint8Array(Y),_=null!=q.mask;let T;if(_){T=new Uint8Array(q.mask);for(let C=0;C<T.length;C++)T[C]&&(a[C]=1,T[C]=1)}const M=q.pixels[0],E=new Float32Array(Y),x=new Float32Array(Y);let c,l=0;if(nt){const{resolution:C}=nt,S=C?(C.x+C.y)/2:1;l=200*nt.zFactor/(S*S),c=new Float32Array(Y)}const n=nt?.curvatureType;let h,r,y,p,A,I,R,L;for(let C=W;C<Q-W;C++){const S=C*H;for(let N=W;N<H-W;N++){const P=S+N;if(!T||0!==T[P]){if(T){if(T[P-H-1]+T[P-H]+T[P-H+1]+T[P-1]+T[P+1]+T[P+H-1]+T[P+H]+T[P+H+1]<7){a[P]=0;continue}h=T[P-H-1]?M[P-H-1]:M[P],r=T[P-H]?M[P-H]:M[P],y=T[P-H+1]?M[P-H+1]:M[P],p=T[P-1]?M[P-1]:M[P],A=T[P+1]?M[P+1]:M[P],I=T[P+H-1]?M[P+H-1]:M[P],R=T[P+H]?M[P+H]:M[P],L=T[P+H+1]?M[P+H+1]:M[P]}else h=M[P-H-1],r=M[P-H],y=M[P-H+1],p=M[P-1],A=M[P+1],I=M[P+H-1],R=M[P+H],L=M[P+H+1];if(E[P]=y+A+A+L-(h+p+p+I),x[P]=I+R+R+L-(h+r+r+y),null!=c){const X=M[P],j=.5*(p+A)-X,v=.5*(r+R)-X;if("standard"===n)c[P]=-l*(j+v);else{const s=(-h+y+I-L)/4,b=(-p+A)/2,O=(r-R)/2,G=b*b,B=O*O,K=G+B;K&&(c[P]="profile"===n?l*(j*G+v*B+s*b*O)/K:-l*(j*B+v*G-s*b*O)/K)}}}}}return{outMask:_?a:null,dzxs:E,dzys:x,curvatures:c}}function f(q,nt,H){for(let Q=0;Q<H;Q++)q[Q*nt]=q[Q*nt+1],q[(Q+1)*nt-1]=q[(Q+1)*nt-2];for(let Q=1;Q<nt-1;Q++)q[Q]=q[Q+nt],q[Q+(H-1)*nt]=q[Q+(H-2)*nt]}function lt(q,nt){if(!(0,mt.AB)(q))return q;const{factor:H,sinZcosA:Q,sinZsinA:Y,cosZ:a,sinZcosAs:_,sinZsinAs:T,cosZs:M,weights:E}=bt(nt),[x,c]=H,l="traditional"===nt.hillshadeType,{width:n,height:h}=q,r=new Uint8Array(n*h),{dzxs:y,dzys:p,outMask:A}=ft(q);for(let I=W;I<h-W;I++){const R=I*n;for(let L=W;L<n-W;L++){const C=R+L;if(!A||A[C]){const S=y[C]*x,N=p[C]*c,P=Math.sqrt(1+S*S+N*N);let X=0;if(l){let j=255*(a+Y*N-Q*S)/P;j<0&&(j=0),X=j}else{const j=T.length;for(let v=0;v<j;v++){let s=255*(M[v]+T[v]*N-_[v]*S)/P;s<0&&(s=0),X+=s*E[v]}}r[C]=255&X}}}return f(r,n,h),new V.A({width:n,height:h,pixels:[r],mask:A,pixelType:"u8",validPixelCount:q.validPixelCount,statistics:[new pt.z(0,255)]})}function J(q,nt,H,Q){if(!(0,mt.AB)(q)||!(0,mt.AB)(nt))return;const{min:Y,max:a}=Q,_=q.pixels[0],{pixels:T,mask:M}=nt,E=T[0],x=255.00001/(a-Y),c=new Uint8ClampedArray(E.length),l=new Uint8ClampedArray(E.length),n=new Uint8ClampedArray(E.length),h=H.length-1;for(let r=0;r<E.length;r++){if(M&&0===M[r])continue;const y=Math.floor((E[r]-Y)*x),[p,A]=H[y<0?0:y>h?h:y],I=_[r],R=I*A,L=R*(1-Math.abs(p%2-1)),C=I-R;switch(Math.floor(p)){case 0:c[r]=R+C,l[r]=L+C,n[r]=C;break;case 1:c[r]=L+C,l[r]=R+C,n[r]=C;break;case 2:c[r]=C,l[r]=R+C,n[r]=L+C;break;case 3:c[r]=C,l[r]=L+C,n[r]=R+C;break;case 4:c[r]=L+C,l[r]=C,n[r]=R+C;break;case 5:case 6:c[r]=R+C,l[r]=C,n[r]=L+C}}q.pixels=[c,l,n],q.updateStatistics()}function ut(q,nt){if(!(0,mt.AB)(q))return q;const H=nt.zFactor,Q=nt.pixelSizePower??1,Y=nt.pixelSizeFactor??1,a=nt.slopeType,_=nt.isGCS,{x:T,y:M}=nt.resolution;let E=H/(8*T),x=H/(8*M);_&&Math.abs(H-1)<1e-4&&(E/=At,x/=At),"adjusted"===a&&(E=(H+T**Q*Y)/(8*T),x=(H+M**Q*Y)/(8*M));const{dzxs:c,dzys:l,outMask:n}=ft(q),{width:h,height:r}=q,y=new Float32Array(h*r);for(let A=W;A<r-W;A++){const I=A*h;for(let R=W;R<h-W;R++){const L=I+R;if(!n||n[L]){const C=c[L]*E,S=l[L]*x,N=Math.sqrt(C*C+S*S);y[I+R]="percent-rise"===a?100*N:57.2957795*Math.atan(N)}}}f(y,h,r);const p=new V.A({width:h,height:r,pixels:[y],mask:n,pixelType:"f32",validPixelCount:q.validPixelCount});return p.updateStatistics(),p}function $(q,nt={}){if(!(0,mt.AB)(q))return q;const{resolution:H}=nt,Q=H?1/H.x:1,Y=H?1/H.y:1,{dzxs:a,dzys:_,outMask:T}=ft(q),{width:M,height:E}=q,x=new Float32Array(M*E);for(let c=W;c<E-W;c++){const l=c*M;for(let n=W;n<M-W;n++){const h=l+n;if(!T||T[h]){const r=a[h]*Q,y=_[h]*Y;let p=-1;0===r&&0===y||(p=90-57.29578*Math.atan2(y,-r),p<0&&(p+=360),360===p?p=0:p>360&&(p%=360)),x[l+n]=p}}}return f(x,M,E),new V.A({width:M,height:E,pixels:[x],mask:T,pixelType:"f32",validPixelCount:q.validPixelCount,statistics:[new pt.z(-1,360)]})}function it(q,nt){if(!(0,mt.AB)(q))return q;const{curvatures:H,outMask:Q}=ft(q,nt),{width:Y,height:a}=q;f(H,Y,a);const _=new V.A({width:Y,height:a,pixels:[H],mask:Q,pixelType:"f32",validPixelCount:q.validPixelCount});return _.updateStatistics(),_}function ct(q,nt,H){const{hillshadeType:Q,altitude:Y,azimuth:a,zFactor:_,pixelSizeFactor:T,pixelSizePower:M,slopeType:E}=q;return{hillshadeType:Q,altitude:Y,azimuth:a,zFactor:_,pixelSizePower:M,pixelSizeFactor:T,scalingType:"scaled"===E?"adjusted":"none",resolution:nt,isGCS:H}}},54636:(Pt,Et,z)=>{z.d(Et,{A:()=>q});var V=z(8189),pt=z(71065),mt=z(35150),W=z(85211),ft=(z(3248),z(40707),z(76576)),f=z(83179),lt=z(40275),J=z(48104),ut=z(14870),$=z(32681),it=z(78290);let ct=class extends pt.A{constructor(a){super(a)}bind(){const{rendererJSON:a}=this;if(!a)return{success:!1};let _;switch(this.lookup={rendererJSON:{}},a.type){case"uniqueValue":_=this._updateUVRenderer(a);break;case"rasterColormap":_=this._updateColormapRenderer(a);break;case"rasterStretch":_=this._updateStretchRenderer(a);break;case"classBreaks":_=this._updateClassBreaksRenderer(a);break;case"rasterShadedRelief":_=this._updateShadedReliefRenderer(a);break;case"vectorField":_=this._updateVectorFieldRenderer();break;case"flowRenderer":_=this._updateFlowRenderer()}return _}symbolize(a){let _=a?.pixelBlock;if(!Q(_))return _;if(a.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(_,a.simpleStretchParams);try{let T;switch(_.pixels.length>3&&(_=_.extractBands(a.bandIds??[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":T=this._symbolizeColormap(_);break;case"classBreaks":T=this._symbolizeClassBreaks(_);break;case"rasterStretch":T=this._symbolizeStretch(_,a.bandIds);break;case"rasterShadedRelief":{const M=a.extent;T=this._symbolizeShadedRelief(_,{isGCS:M.spatialReference.isGeographic,resolution:{x:(M.xmax-M.xmin)/_.width,y:(M.ymax-M.ymin)/_.height}});break}}return T}catch(T){return mt.A.getLogger(this).error("symbolize",T.message),_}}simpleStretch(a,_){if(!Q(a))return a;try{return a.pixels.length>3&&(a=a.extractBands([0,1,2])),(0,J._N)(a,{..._,isRenderer:!0})}catch(T){return mt.A.getLogger(this).error("symbolize",T.message),a}}generateWebGLParameters(a){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:c,offset:l}=this.lookup.colormapLut||{};return{colormap:c,colormapOffset:l,isClassBreaks:"classBreaks"===this.rendererJSON.type,type:"lut"}}const{pixelBlock:_,isGCS:T,resolution:M,bandIds:E}=a,{rendererJSON:x}=this;return"rasterStretch"===x.type?this._generateStretchWebGLParams(_,x,E):"rasterShadedRelief"===x.type?this._generateShadedReliefWebGLParams(x,T,M??void 0):"vectorField"===x.type?this._generateVectorFieldWebGLParams(x):null}_isLUTChanged(a){return!this.lookup||!this.lookup.rendererJSON||("colorRamp"in this.rendererJSON&&a?JSON.stringify(this.rendererJSON.colorRamp)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}_symbolizeColormap(a){return this._isLUTChanged()&&!this.bind().success?a:(0,lt.qL)(a,this.lookup.colormapLut)}_symbolizeClassBreaks(a){const{canUseIndexedLUT:_}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?a:_?(0,lt.qL)(a,this.lookup.colormapLut):(0,lt.Hx)(a,this.lookup.remapLut??[])}_symbolizeStretch(a,_){const{rasterInfo:T}=this,{pixelType:M,bandCount:E}=T,x=this.rendererJSON,c=["u8","u16","s8","s16"].includes(M);let l,n;const{dra:h}=x,{gamma:r}=this.lookup;if("histogramEqualization"===x.stretchType){const y=h?null:this.lookup?.histogramLut,p=(0,J.DP)(x,{rasterInfo:T,pixelBlock:a,bandIds:_,returnHistogramLut:!y}),A=(0,J._N)(a,{...p,gamma:r,isRenderer:!0});n=(0,lt.eH)(A,{lut:h?p.histogramLut:y,offset:0})}else if(c){if(h){const y=(0,J.DP)(x,{rasterInfo:T,pixelBlock:a,bandIds:_});l=(0,J.RP)({pixelType:M,...y,gamma:r,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return a;l=this.lookup?this.lookup.stretchLut:null}else l=this.lookup?this.lookup.stretchLut:null;if(!l)return a;E>1&&null!=_&&_.length===a?.pixels.length&&l?.lut.length===E&&(l={lut:_.map(y=>l.lut[y]),offset:l.offset}),n=(0,lt.eH)(a,l)}else{const y=(0,J.DP)(x,{rasterInfo:T,pixelBlock:a,bandIds:_});n=(0,J._N)(a,{...y,gamma:r,isRenderer:!0})}if(x.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return a;n=(0,lt.qL)(n,this.lookup?.colormapLut)}return n}_symbolizeShadedRelief(a,_){const T=this.rendererJSON,M={...T,..._},E=(0,ut.fw)(a,M);if(!T.colorRamp)return E;let x;if(this._isLUTChanged(!0)){if(!this.bind().success)return E;x=this.lookup?this.lookup.hsvMap:null}else x=this.lookup?this.lookup.hsvMap:null;return x?((0,ut.SC)(E,a,x,this.rasterInfo.statistics?.[0]??{min:0,max:8e3}),E):E}_isVectorFieldData(){const{bandCount:a,dataType:_}=this.rasterInfo;return 2===a&&("vector-magdir"===_||"vector-uv"===_)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(a){const{bandCount:_,attributeTable:T,pixelType:M}=this.rasterInfo,E=a.field1;if(!E)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const x=a.defaultSymbol,c=1===_&&["u8","s8"].includes(M);if(!(0,it.hu)(this.rasterInfo,E)&&!c)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const l=[];if(null!=T){const h=T.fields.find(r=>"value"===r.name.toLowerCase());if(!h)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};T.features.forEach(r=>{const y=a.uniqueValueInfos?.find(A=>String(A.value)===String(r.attributes[E])),p=y?.symbol?.color;p?l.push([r.attributes[h.name]].concat(p)):x&&l.push([r.attributes[h.name]].concat(x.color))})}else{if("value"!==E.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not available.'};a.uniqueValueInfos?.forEach(h=>{const r=h?.symbol?.color;r?l.push([parseInt(""+h.value,10)].concat(r)):x&&l.push([parseInt(""+h.value,10)].concat(x?.color))})}if(0===l.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const n=(0,lt.zg)({colormap:l});return this.lookup={rendererJSON:a,colormapLut:n},this.canRenderInWebGL=(0,it.WN)(n?.indexedColormap),{success:!0}}_updateColormapRenderer(a){if(!(0,it.FA)(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const _=a.colormapInfos.map(M=>[M.value].concat(M.color)).sort((M,E)=>M[0]-E[0]);if(!_||0===_.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const T=(0,lt.zg)({colormap:_});return this.lookup={rendererJSON:a,colormapLut:T},this.canRenderInWebGL=(0,it.WN)(T?.indexedColormap),{success:!0}}_updateShadedReliefRenderer(a){if(!(0,it.iL)(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(a.colorRamp){const _=(0,$.R8)(a.colorRamp,{interpolateAlpha:!0}),T=(0,lt.zg)({colormap:_}),M=(0,$.S2)(T.indexedColormap);this.lookup={rendererJSON:a,colormapLut:T,hsvMap:M}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(a){const{attributeTable:_,pixelType:T}=this.rasterInfo,M=null!=_?_.fields.find(c=>"value"===c.name.toLowerCase()):null,E=null!=_?_.fields.find(c=>c.name.toLowerCase()===a.field.toLowerCase()):null,x=null!=M&&null!==E;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(T)||x,tableValueField:M,tableBreakField:E}}_updateClassBreaksRenderer(a){const{attributeTable:_}=this.rasterInfo,{canUseIndexedLUT:T,tableValueField:M,tableBreakField:E}=this._analyzeClassBreaks(a),x=a.classBreakInfos;if(!x?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const c=x.sort((y,p)=>y.classMaxValue-p.classMaxValue),l=c[c.length-1];let n=a.minValue;if(!T){const y=[];for(let p=0;p<c.length;p++)y.push({value:c[p].classMinValue??n,mappedColor:c[p].symbol.color}),n=c[p].classMaxValue;return y.push({value:l.classMaxValue,mappedColor:l.symbol.color}),this.lookup={rendererJSON:a,remapLut:y},this.canRenderInWebGL=!1,{success:!0}}const h=[];if(null!=_&&null!=M&&null!==E&&M!==E){const y=M.name,p=E.name,A=c[c.length-1],{classMaxValue:I}=A;n=a.minValue;for(const R of _.features){const L=R.attributes[y],C=R.attributes[p],S=C===I?A:C<n?null:c.find(({classMaxValue:N})=>N>C);S&&h.push([L].concat(S.symbol.color))}}else{n=Math.floor(a.minValue);for(let y=0;y<c.length;y++){const p=c[y];for(let A=n;A<p.classMaxValue;A++)h.push([A].concat(p.symbol.color));n=Math.ceil(p.classMaxValue)}l.classMaxValue===n&&h.push([l.classMaxValue].concat(l.symbol.color))}const r=(0,lt.zg)({colormap:h,fillUnspecified:!1});return this.lookup={rendererJSON:a,colormapLut:r},this.canRenderInWebGL=(0,it.WN)(r?.indexedColormap),{success:!0}}_updateStretchRenderer(a){let{stretchType:_,dra:T}=a;if(!("none"===_||a.statistics?.length||function H(a){return null!=a&&a.length>0&&null!=a[0].min&&null!=a[0].max}(this.rasterInfo.statistics)||T))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const M=a.histograms||this.rasterInfo.histograms;!function nt(a){return"percentClip"===a||"histogramEqualization"===a}(a.stretchType)||M?.length||T||(_="minMax");const{computeGamma:E,useGamma:x,colorRamp:c}=a;let{gamma:l}=a;x&&E&&!l?.length&&(l=(0,J.fP)(this.rasterInfo.pixelType,a.statistics?.length?a.statistics:this.rasterInfo.statistics));const n=this.rasterInfo.pixelType,h=!T&&["u8","u16","s8","s16"].includes(n);if("histogramEqualization"===_){const r=M.map(y=>(0,J.WF)(y));this.lookup={rendererJSON:a,histogramLut:r}}else if(h){const r=(0,J.DP)(a,{rasterInfo:this.rasterInfo}),y=(0,J.RP)({pixelType:n,...r,gamma:x?l:null,rounding:"floor"});this.lookup={rendererJSON:a,stretchLut:y}}if(c&&!function Y(a){return"algorithmic"===a.type&&["0,0,0,255","0,0,0"].includes(a.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(a.toColor.join(","))}(c)){const r=(0,$.R8)(c,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:a}),this.lookup.colormapLut=(0,lt.zg)({colormap:r}),this.lookup.rendererJSON=a}return this.lookup.gamma=x&&l?.length?l:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(a,_,T){let M=null,E=null;const x=this.lookup?.colormapLut;_.colorRamp&&x&&(M=x.indexedColormap,E=x.offset),"histogramEqualization"===_.stretchType&&(_={..._,stretchType:"minMax"});const{gamma:c}=this.lookup,l=!(!_.useGamma||!c?.some(P=>1!==P)),{minCutOff:n,maxCutOff:h,minOutput:r,maxOutput:y}=(0,J.DP)(_,{rasterInfo:this.rasterInfo,pixelBlock:a,bandIds:T});let p=0;null!=a&&(p=a.getPlaneCount(),2===p&&((a=a.clone()).statistics=[a.statistics[0]],a.pixels=[a.pixels[0]]));const{bandCount:A}=this.rasterInfo,I=Math.min(3,T?.length||p||A,A),R=M||l?1:255,L=new Float32Array(I);if(l&&c)for(let P=0;P<I;P++)L[P]=c[P]>1?c[P]>2?6.5+(c[P]-2)**2.5:6.5+100*(2-c[P])**4:1;1===n.length&&(n[2]=n[1]=n[0]),1===h.length&&(h[2]=h[1]=h[0]);const C=l&&c?[c[0],c[1]??c[0],c[2]??c[0]]:[1,1,1],S=l?[L[0],L[1]??L[0],L[2]??L[0]]:[1,1,1],N=h.map((P,X)=>h[X]===n[X]?0:(y-r)/(h[X]-n[X])/R);return{bandCount:I,minOutput:r/R,maxOutput:y/R,minCutOff:n,maxCutOff:h,factor:N,useGamma:l,gamma:C,gammaCorrection:S,colormap:M,colormapOffset:E,stretchType:_.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(a,_=!1,T={x:0,y:0}){let M=null,E=null;const x=this.lookup?.colormapLut;a.colorRamp&&x&&(M=x.indexedColormap,E=x.offset);const c={...a,isGCS:_,resolution:T},l=(0,ut.ng)(c),n=this.rasterInfo.statistics?.[0];return{...l,minValue:n?.min??0,maxValue:n?.max??8e3,hillshadeType:"traditional"===a.hillshadeType?0:1,type:"hillshade",colormap:M,colormapOffset:E}}_generateVectorFieldWebGLParams(a){const{style:_,inputUnit:T,outputUnit:M,visualVariables:E,symbolTileSize:x,flowRepresentation:c}=a;let l;const n=this.rasterInfo.statistics?.[0].min??0,h=this.rasterInfo.statistics?.[0].max??50,r=E?.find(C=>"sizeInfo"===C.type)??{type:"sizeInfo",field:"Magnitude",maxDataValue:h,maxSize:.8*x,minDataValue:n,minSize:.2*x},y=r.minDataValue??n,p=r.maxDataValue??h,A=null!=r.maxSize&&null!=r.minSize?[r.minSize/x,r.maxSize/x]:[.2,.8];"wind_speed"===_&&(A[0]=A[1]=(A[0]+A[1])/2);const I=null!=y&&null!=p?[y,p]:null;if("classified_arrow"===_)if(null!=y&&null!=p&&null!=r){l=[];const C=(r.maxDataValue-r.minDataValue)/5;for(let S=0;S<6;S++)l.push(r.minDataValue+C*S)}else l=[0,1e-6,3.5,7,10.5,14];const R="flow_to"===c==("ocean_current_kn"===_||"ocean_current_m"===_)?0:Math.PI,L=E?.find(C=>"rotationInfo"===C.type);return{breakValues:l,dataRange:I,inputUnit:T,outputUnit:M,symbolTileSize:x,symbolPercentRange:A,style:_||"single_arrow",rotation:R,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":L?.rotationType||a.rotationType,type:"vectorField"}}};(0,V._)([(0,W.MZ)({json:{write:!0}})],ct.prototype,"rendererJSON",void 0),(0,V._)([(0,W.MZ)({type:f.A,json:{write:!0}})],ct.prototype,"rasterInfo",void 0),(0,V._)([(0,W.MZ)({json:{write:!0}})],ct.prototype,"lookup",void 0),(0,V._)([(0,W.MZ)()],ct.prototype,"canRenderInWebGL",void 0),ct=(0,V._)([(0,ft.$)("esri.renderers.support.RasterSymbolizer")],ct);const q=ct;function Q(a){return(0,lt.AB)(a)&&0!==a.validPixelCount}},32681:(Pt,Et,z)=>{z.d(Et,{L7:()=>At,M5:()=>ct,R8:()=>T,S2:()=>M,hf:()=>c,hs:()=>it,iv:()=>_,kH:()=>ft,vL:()=>l,vj:()=>bt});var V=z(68677),pt=z(29430),mt=z(49976),W=z(71065);const At=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],bt=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],ft=new mt.J({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function f(n,h){if(!n||!h||n.length!==h.length)return!1;for(let r=0;r<n.length;r++)if(n[r]>h[r]+2||n[r]<h[r]-2)return!1;return!0}function lt(n){const h=n.clone();return h.fromColor=n.toColor,h.toColor=n.fromColor,h.algorithm=n.algorithm,h}function ut(n,h){if(!n)return;const r=h??bt;let y=null;return"algorithmic"===n.type?r.some(p=>{if(f(n.fromColor.toRgb(),p.fromColor)&&f(n.toColor.toRgb(),p.toColor))return y=p.id,!0}):"multipart"===n.type&&r.some(p=>{const A=n.colorRamps,I=p.colorRamps;if(A&&I&&A.length===I.length&&!I.some((R,L)=>{if(!f(A[L].fromColor.toRgb(),new V.A(R.fromColor).toRgb())||!f(A[L].toColor.toRgb(),new V.A(R.toColor).toRgb()))return!0})){if(y)return!0;y=p.id}}),y}function it(n,h=!1){const r="string"==typeof n?n:function $(n,h,r=!1){if(!n)return;let y=!1,p=ut(n,h);return null!=p||r||(y=!0,p=ut(n=function J(n){if("multipart"===n.type){const h=n.clone();return h.colorRamps?.length&&(h.colorRamps=h.colorRamps.reverse().map(r=>lt(r))),h}return lt(n)}(n),h)),p?{id:p,inverted:y}:void 0}(n,void 0,h)?.id;return r?ft.toJSON(r):null}function ct(n,h="esriCIELabAlgorithm"){const r=bt.find(({id:y})=>y===n);return r?r.colorRamps?{type:"multipart",colorRamps:r.colorRamps.map(y=>({type:"algorithmic",algorithm:h,fromColor:[...y.fromColor],toColor:[...y.toColor]}))}:{type:"algorithmic",algorithm:h,fromColor:[...r.fromColor],toColor:[...r.toColor]}:null}function q(n){const h=(n=n||{}).numColors||256,r=n.distanceOffset||0,y=null!=n.isCustomInterval?n.isCustomInterval:null!==n.distanceInterval&&n.distanceInterval!==1/(h-1),p=n.distanceInterval||1/(h-1);return{...n,numColors:h,distanceOffset:r,interpolateAlpha:!!n.interpolateAlpha,distanceInterval:p,isCustomInterval:y,weights:n.weights}}function Y(n,h){let{fromColor:r,toColor:y}=n;r=[...r],y=[...y],3===r.length&&(r=r.concat([255])),3===y.length&&(y=y.concat([255]));const p=n.algorithm||"esriCIELabAlgorithm",A=q(h),{numColors:I,distanceOffset:R,isCustomInterval:L,interpolateAlpha:C}=A;if(1===I&&0===R)return[r];if(2===I&&0===R&&!L)return[r,y];const S={r:r[0],g:r[1],b:r[2]},N={r:y[0],g:y[1],b:y[2]},P="esriCIELabAlgorithm"===p?function H(n,h,r){const{numColors:y,distanceOffset:p,distanceInterval:A,isCustomInterval:I}=r;let{l:R,a:L,b:C}=n;const S=(h.l-R)*A,N=(h.a-L)*A,P=(h.b-C)*A,X=[];if(p){const j=p/A;R+=j*S,L+=j*N,C+=j*P}for(let j=0;j<y-1;j++)X.push({l:R,a:L,b:C}),R+=S,L+=N,C+=P;return X.push(I?{l:R,a:L,b:C}:h),X}((0,pt.ZD)(S),(0,pt.ZD)(N),A):"esriHSVAlgorithm"===p?function nt(n,h,r){const{numColors:y,distanceOffset:p,distanceInterval:A,isCustomInterval:I}=r,R=0===n.s,L=0===h.s;let C=n.h,S=h.h;R&&!L?C=S:L&&!R&&(h={...h,h:C},S=C);let N,P=Math.abs(S-C);const X=360;P<180?N=(S-C)*A:(P=X-P,N=C>S?P*A:-P*A);const j=(h.s-n.s)*A,v=(h.v-n.v)*A;let{s,v:b}=n,O=C;if(p){const B=p/A;O=(O+B*N+X)%X,s+=B*j,b+=B*v}const G=[];for(let B=0;B<y-1;B++)G.push({h:O,s,v:b}),O=(O+N+X)%X,s+=j,b+=v;return G.push(I?{h:O,s,v:b}:h),G}((0,pt.N2)(S),(0,pt.N2)(N),A):function Q(n,h,r){const{numColors:y,distanceOffset:p,distanceInterval:A,isCustomInterval:I}=r,R=n.h,L=h.h,C=2*Math.PI;let S;if(R<=L){const O=L-R,G=L-R-C;S=Math.abs(G)<Math.abs(O)?G:O}else{const O=L+C-R,G=L-R;S=Math.abs(G)<Math.abs(O)?G:O}const N=S*A,P=(h.l-n.l)*A,X=(h.c-n.c)*A;let{l:j,c:v,h:s}=n;if(p){const O=p/A;j+=O*P,v+=O*X,s=(s+O*N+C)%C}const b=[];for(let O=0;O<y-1;O++)b.push({l:j,c:v,h:s}),j+=P,v+=X,s=(s+N+C)%C;return b.push(I?{l:j,c:v,h:s}:h),b}((0,pt.RH)(S),(0,pt.RH)(N),A),X=[],j=r[3]??255,v=((y[3]??255)-j)/(I-1);for(let s=0;s<I;s++){const{r:b,g:O,b:G}=(0,pt.$)(P[s]),B=C?Math.round(j+v*s):255;X.push([b,O,G,B])}return X}function _(n,h){const r=W.A.isSerializable(n)?n.toJSON():n;return"multipart"===r.type?function a(n,h){const{numColors:r,interpolateAlpha:y}=q(h);let p=h?.weights;const{colorRamps:A}=n;if(p){const N=p.reduce((P,X)=>P+X);p=p.map(P=>P/N)}else{p=[];for(let N=0;N<A.length;N++)p[N]=1/A.length}const I=[],R=1/(r-1);let L=0,C=!1;for(let N=0;N<A.length;N++){const P=I.length,X=C?0:P*R-L;L+=p[N];let j=N===A.length-1?r-1-P:(p[N]-X)/R;if(C=Math.ceil(j)===j,j=Math.ceil(j),0===j)continue;const v=Y(A[N],{numColors:j,interpolateAlpha:y,distanceOffset:X/p[N],distanceInterval:R/p[N]});I.push(...v)}const S=[...A[A.length-1].toColor];return 3===S.length&&S.push(255),I.push(S),I}(r,h):Y(r,h)}function T(n,h){const r=_(n,h),y=h?.interpolateAlpha;return r.forEach((p,A)=>{p.unshift(A),y||p.pop()}),r}function M(n){const h=[];for(let r=0;r<n.length;r+=4){const y=(0,pt.N2)({r:n[r],g:n[r+1],b:n[r+2]});h.push([y.h/60,y.s/100,255*y.v/100])}return h}function E(n){const h=(0,pt.N2)(n);return{type:"HsvColor",Hue:h.h,Saturation:h.s,Value:h.v,AlphaValue:255}}function x(n){return{Algorithm:n.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:E(n.fromColor),ToColor:E(n.toColor)}}function c(n){const h=it(n);if(!h)return null;if("algorithmic"===n.type)return{...x(n),Name:h};if(n.colorRamps){const r=n.colorRamps.map(x);return{type:"MultiPartColorRamp",NumColorRamps:r.length,ArrayOfColorRamp:r,Name:h}}return null}function l(n){const h=n.reverse().map(r=>{const y=r.toString(16);return y.length<2?"0"+y:y});return 4294967295&Number.parseInt(h.join(""),16)}},78290:(Pt,Et,z)=>{function pt(lt,J){const{attributeTable:ut,bandCount:$}=lt;return!(null!=ut||!function V(lt){return["u8","s8"].includes(lt.pixelType)&&null!=lt.statistics?.[0]?.min&&null!=lt.statistics[0]?.max&&1===lt.bandCount}(lt))||!(null==ut||$>1||J&&null==ut.fields.find(it=>it.name.toLowerCase()===J.toLowerCase()))}function mt(lt){const{bandCount:J,dataType:ut,pixelType:$}=lt;return"elevation"===ut||"generic"===ut&&1===J&&("s16"===$||"s32"===$||"f32"===$||"f64"===$)}function W(lt,J=!1){const{bandCount:ut,colormap:$,pixelType:it}=lt;return 1===ut&&(!!$?.length||!J&&"u8"===it)}function At(lt,J=!1){const{attributeTable:ut,bandCount:$}=lt;return 1===$&&(!J||null!=ut||null!=lt.histograms)}function bt(lt){const{dataType:J}=lt;return"vector-uv"===J||"vector-magdir"===J}function ft(lt){const{dataType:J}=lt;return"vector-uv"===J||"vector-magdir"===J}function f(lt){return!!lt?.length&&lt.length<=16384}z.d(Et,{FA:()=>W,QJ:()=>ft,WN:()=>f,hu:()=>pt,iL:()=>mt,rd:()=>bt,xX:()=>At})},97890:(Pt,Et,z)=>{z.d(Et,{u:()=>pt,x:()=>mt});const pt=new(z(49976).J)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),mt={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}}}]);