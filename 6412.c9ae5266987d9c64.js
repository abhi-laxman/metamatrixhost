"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[6412],{3567:(Q,b,d)=>{d.d(b,{E:()=>S,w:()=>X});var A=d(89952),T=d(69690),B=(d(3248),d(12438)),P=d(17694);class X{constructor(t=9,s){this._compareMinX=W,this._compareMinY=a,this._toBBox=e=>e,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),s&&("function"==typeof s?this._toBBox=s:this._initFormat(s)),this.clear()}destroy(){this.clear(),I.prune(),L.prune(),E.prune(),j.prune()}all(t){Y(this._data,t)}search(t,s){let e=this._data;const r=this._toBBox;if(x(t,e))for(I.clear();e;){for(let i=0,h=e.children.length;i<h;i++){const u=e.children[i],f=e.leaf?r(u):u;x(t,f)&&(e.leaf?s(u):R(t,f)?Y(u,s):I.push(u))}e=I.pop()}}collides(t){let s=this._data;const e=this._toBBox;if(!x(t,s))return!1;for(I.clear();s;){for(let r=0,i=s.children.length;r<i;r++){const h=s.children[r],u=s.leaf?e(h):h;if(x(t,u)){if(s.leaf||R(t,u))return!0;I.push(h)}}s=I.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}let s=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===s.height)this._splitRoot(this._data,s);else{if(this._data.height<s.height){const e=this._data;this._data=s,s=e}this._insert(s,this._data.height-s.height-1,!0)}else this._data=s;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new K([]),this}remove(t){if(!t)return this;let s,e=this._data,r=null,i=0,h=!1;const u=this._toBBox(t);for(E.clear(),j.clear();e||E.length>0;){if(e||(e=E.pop(),r=E.data[E.length-1],i=j.pop()??0,h=!0),e.leaf&&(s=(0,A.qh)(e.children,(0,T.zI)(t),e.children.length,e.indexHint),-1!==s))return e.children.splice(s,1),E.push(e),this._condense(E),this;h||e.leaf||!R(e,u)?r?(i++,e=r.children[i],h=!1):e=null:(E.push(e),j.push(i),i=0,r=e,e=e.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,s,e,r){const i=e-s+1;let h=this._maxEntries;if(i<=h){const g=new K(t.slice(s,e+1));return _(g,this._toBBox),g}r||(r=Math.ceil(Math.log(i)/Math.log(h)),h=Math.ceil(i/h**(r-1)));const u=new F([]);u.height=r;const f=Math.ceil(i/h),M=f*Math.ceil(Math.sqrt(h));O(t,s,e,M,this._compareMinX);for(let g=s;g<=e;g+=M){const C=Math.min(g+M-1,e);O(t,g,C,f,this._compareMinY);for(let z=g;z<=C;z+=f){const J=Math.min(z+f-1,C);u.children.push(this._build(t,z,J,r-1))}}return _(u,this._toBBox),u}_insert(t,s,e){const i=e?t:(0,this._toBBox)(t);E.clear();const h=function U(n,t,s,e){for(;e.push(t),!0!==t.leaf&&e.length-1!==s;){let r,i=1/0,h=1/0;for(let u=0,f=t.children.length;u<f;u++){const M=t.children[u],g=l(M),C=o(n,M)-g;C<h?(h=C,i=g<i?g:i,r=M):C===h&&g<i&&(i=g,r=M)}t=r||t.children[0]}return t}(i,this._data,s,E);for(h.children.push(t),v(h,i);s>=0&&E.data[s].children.length>this._maxEntries;)this._split(E,s),s--;!function D(n,t,s){for(let e=s;e>=0;e--)v(t.data[e],n)}(i,E,s)}_split(t,s){const e=t.data[s],r=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,r);const h=this._chooseSplitIndex(e,i,r);if(!h)return;const u=e.children.splice(h,e.children.length-h),f=e.leaf?new K(u):new F(u);f.height=e.height,_(e,this._toBBox),_(f,this._toBBox),s?t.data[s-1].children.push(f):this._splitRoot(e,f)}_splitRoot(t,s){this._data=new F([t,s]),this._data.height=t.height+1,_(this._data,this._toBBox)}_chooseSplitIndex(t,s,e){let r,i,h;r=i=1/0;for(let u=s;u<=e-s;u++){const f=m(t,0,u,this._toBBox),M=m(t,u,e,this._toBBox),g=p(f,M),C=l(f)+l(M);g<r?(r=g,h=u,i=C<i?C:i):g===r&&C<i&&(i=C,h=u)}return h}_chooseSplitAxis(t,s,e){const r=t.leaf?this._compareMinX:W,i=t.leaf?this._compareMinY:a;this._allDistMargin(t,s,e,r)<this._allDistMargin(t,s,e,i)&&t.children.sort(r)}_allDistMargin(t,s,e,r){t.children.sort(r);const i=this._toBBox,h=m(t,0,s,i),u=m(t,e-s,e,i);let f=c(h)+c(u);for(let M=s;M<e-s;M++){const g=t.children[M];v(h,t.leaf?i(g):g),f+=c(h)}for(let M=e-s-1;M>=s;M--){const g=t.children[M];v(u,t.leaf?i(g):g),f+=c(u)}return f}_condense(t){for(let s=t.length-1;s>=0;s--){const e=t.data[s];if(0===e.children.length)if(s>0){const r=t.data[s-1],i=r.children;i.splice((0,A.qh)(i,e,i.length,r.indexHint),1)}else this.clear();else _(e,this._toBBox)}}_initFormat(t){const s=["return a"," - b",";"];this._compareMinX=new Function("a","b",s.join(t[0])),this._compareMinY=new Function("a","b",s.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function Y(n,t){let s=n;for(L.clear();s;){if(!0===s.leaf)for(const e of s.children)t((0,T.zI)(e));else L.pushArray(s.children);s=L.pop()??null}}function _(n,t){m(n,0,n.children.length,t,n)}function m(n,t,s,e,r){r||(r=new K([])),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let i,h=t;h<s;h++)i=n.children[h],v(r,n.leaf?e(i):i);return r}function v(n,t){n.minX=Math.min(n.minX,t.minX),n.minY=Math.min(n.minY,t.minY),n.maxX=Math.max(n.maxX,t.maxX),n.maxY=Math.max(n.maxY,t.maxY)}function W(n,t){return n.minX-t.minX}function a(n,t){return n.minY-t.minY}function l(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function c(n){return n.maxX-n.minX+(n.maxY-n.minY)}function o(n,t){return(Math.max(t.maxX,n.maxX)-Math.min(t.minX,n.minX))*(Math.max(t.maxY,n.maxY)-Math.min(t.minY,n.minY))}function p(n,t){const s=Math.max(n.minX,t.minX),e=Math.max(n.minY,t.minY),r=Math.min(n.maxX,t.maxX),i=Math.min(n.maxY,t.maxY);return Math.max(0,r-s)*Math.max(0,i-e)}function R(n,t){return n.minX<=t.minX&&n.minY<=t.minY&&t.maxX<=n.maxX&&t.maxY<=n.maxY}function x(n,t){return t.minX<=n.maxX&&t.minY<=n.maxY&&t.maxX>=n.minX&&t.maxY>=n.minY}function O(n,t,s,e,r){const i=[t,s];for(;i.length;){const h=i.pop(),u=i.pop();if(h-u<=e)continue;const f=u+Math.ceil((h-u)/e/2)*e;(0,P.q)(n,f,u,h,r),i.push(u,f,f,h)}}const I=new B.A,L=new B.A,E=new B.A,j=new B.A({deallocator:void 0});class S{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends S{constructor(){super(...arguments),this.height=1,this.indexHint=new A.vW}}class K extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class F extends w{constructor(t){super(),this.children=t,this.leaf=!1}}},59894:(Q,b,d)=>{d.d(b,{F:()=>Y});var A=d(3248),T=d(3567),y=d(51995);const P={minX:0,minY:0,maxX:0,maxY:0};class Y{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new T.w(9,(0,A.A)("esri-csp-restrictions")?_=>({minX:_[0],minY:_[1],maxX:_[2],maxY:_[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const _=new Array(this._idByBounds.size);let m=0;this._idByBounds.forEach((v,W)=>{_[m++]=W}),this._indexInvalid=!1,this._index.clear(),this._index.load(_)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter(_=>this._idByBounds.has(_))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const _=(0,y.Ie)();for(const m of this._boundsById.values())m&&(_[0]=Math.min(m[0],_[0]),_[1]=Math.min(m[1],_[1]),_[2]=Math.max(m[2],_[2]),_[3]=Math.max(m[3],_[3]));return _}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(_){const m=this._boundsById.get(_);this._boundsById.delete(_),m&&(this._idByBounds.delete(m),this._indexInvalid||this._index.remove(m))}forEachInBounds(_,m){this._loadIndex(),function U(D,_,m){(function X(D){P.minX=D[0],P.minY=D[1],P.maxX=D[2],P.maxY=D[3]})(_),D.search(P,m)}(this._index,_,v=>m(this._idByBounds.get(v)))}get(_){return this._boundsById.get(_)}has(_){return this._boundsById.has(_)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(_,m){if(!this._indexInvalid){const v=this._boundsById.get(_);v&&(this._index.remove(v),this._idByBounds.delete(v))}this._boundsById.set(_,m),m&&(this._idByBounds.set(m,_),this._indexInvalid||(this._boundsToLoad.push(m),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},64373:(Q,b,d)=>{d.d(b,{A:()=>v});var A=d(89952),T=d(5922),y=d(42425),B=d(35150),P=d(2296),X=d(51995),U=d(31732),Y=d(59894),D=d(95985),_=d(50690);const m=(0,P.vt)();class v{constructor(a){this.geometryInfo=a,this._boundsStore=new Y.F,this._featuresById=new Map,this._usedMemory=0,this.events=new y.A,this.featureAdapter=_.T}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let a=0;return this._featuresById.forEach(l=>{null!=l.geometry&&l.geometry.coords&&(a+=l.geometry.coords.length)}),{featureCount:this._featuresById.size,vertexCount:a/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(a){if(null==this.fullBounds)return null;const[l,c,o,p]=this.fullBounds;return{xmin:l,ymin:c,xmax:o,ymax:p,spatialReference:(0,D.ag)(a)}}add(a){this._add(a),this._emitChanged()}addMany(a){for(const l of a)this._add(l);this._emitChanged()}upsertMany(a){const l=a.map(c=>this._upsert(c));return this._emitChanged(),l.filter(A.Ru)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(a){const l=this._featuresById.get(a);return l?(this._remove(l),this._emitChanged(),l):null}removeManyById(a){this._boundsStore.invalidateIndex();for(const l of a){const c=this._featuresById.get(l);c&&this._remove(c)}this._emitChanged()}forEachBounds(a,l){for(const c of a){const o=this._boundsStore.get(c.objectId);o&&l((0,P.Jt)(m,o))}}getFeature(a){return this._featuresById.get(a)}has(a){return this._featuresById.has(a)}forEach(a){this._featuresById.forEach(l=>a(l))}forEachInBounds(a,l){this._boundsStore.forEachInBounds(a,c=>{l(this._featuresById.get(c))})}_emitChanged(){this.events.emit("changed",void 0)}_add(a){if(!a)return;const l=a.objectId;if(null==l)return void B.A.getLogger("esri.layers.graphics.data.FeatureStore").error(new T.A("featurestore:invalid-feature","feature id is missing",{feature:a}));const c=this._featuresById.get(l);let o;if(c?(a.displayId=c.displayId,o=this._boundsStore.get(l),this._boundsStore.delete(l),this._usedMemory-=this.estimateFeatureUsedMemory?.(c)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(a),!a.geometry?.coords?.length)return this._boundsStore.set(l,null),void this._featuresById.set(l,a);o=(0,U.jQ)(o??(0,X.vt)(),a.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=o&&this._boundsStore.set(l,o),this._featuresById.set(l,a),this._usedMemory+=this.estimateFeatureUsedMemory?.(a)??0}_upsert(a){const l=a?.objectId;if(null==l)return B.A.getLogger("esri.layers.graphics.data.FeatureStore").error(new T.A("featurestore:invalid-feature","feature id is missing",{feature:a})),null;const c=this._featuresById.get(l);if(!c)return this._add(a),a;this._usedMemory-=this.estimateFeatureUsedMemory?.(c)??0;const{geometry:o,attributes:p}=a;for(const R in p)c.attributes[R]=p[R];return o&&(c.geometry=o,this._boundsStore.set(l,(0,U.jQ)((0,X.vt)(),o,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(c)??0,c}_remove(a){null!=this.onFeatureRemove&&this.onFeatureRemove(a);const l=a.objectId;return this._boundsStore.delete(l),this._featuresById.delete(l),this._usedMemory-=this.estimateFeatureUsedMemory?.(a)??0,a}}},17256:(Q,b,d)=>{d.d(b,{J:()=>W});var A=d(10467),T=d(77806),y=d(56492),B=d(61320),P=d(77098),X=d(58701),U=d(88840),Y=d(47960),D=d(93587),_=d(871),m=d(98606),v=d(18633);function W(o,p,R){return a.apply(this,arguments)}function a(){return a=(0,A.A)(function*(o,p,R){const x=(0,y.Mq)(R),{point:O,distance:I,returnEdge:L,vertexMode:E}=p;if(!L&&"none"===E)return{candidates:[]};let j=(0,T.o8)(p.query);j=yield o.schedule(()=>(0,_.T2)(j,o.definitionExpression,o.spatialReference),x),j=yield o.reschedule(()=>(0,m.B4)(j,{availableFields:o.availableFields,fieldsIndex:o.fieldsIndex,geometryType:o.geometryType,spatialReference:o.spatialReference}),x);const S=!(0,X.aI)(O.spatialReference,o.spatialReference);S&&(yield(0,U.Nk)(O.spatialReference,o.spatialReference));const w="number"==typeof I?I:I.x,K="number"==typeof I?I:I.y,F={xmin:O.x-w,xmax:O.x+w,ymin:O.y-K,ymax:O.y+K,spatialReference:O.spatialReference},n=S?(0,U.Cv)(F,o.spatialReference):F;if(!n)return{candidates:[]};const t=(yield(0,P.el)((0,B.rS)(O),null,{signal:x}))[0],s=(yield(0,P.el)((0,B.rS)(n),null,{signal:x}))[0];if(null==t||null==s)return{candidates:[]};const e=new D.G(yield o.reschedule(()=>o.searchFeatures((0,Y.ux)(s.toJSON())),x),j,o);yield o.reschedule(()=>o.executeObjectIdsQuery(e),x),yield o.reschedule(()=>o.executeTimeQuery(e),x),yield o.reschedule(()=>o.executeAttributesQuery(e),x),yield o.reschedule(()=>function l(o,p,R){return c.apply(this,arguments)}(o,e,x),x);const r=t.toJSON(),i=S?(0,U.Cv)(r,o.spatialReference):r,h=S?Math.max(n.xmax-n.xmin,n.ymax-n.ymin)/2:I;return e.createSnappingResponse({...p,point:i,distance:h},O.spatialReference)}),a.apply(this,arguments)}function c(){return(c=(0,A.A)(function*(o,p,R){const{query:x}=p,{spatialRel:O}=x;if(!p?.items?.length||!x.geometry||!O)return;const I=yield(0,v.xt)(O,x.geometry,o.geometryType,o.hasZ,o.hasM),L=yield o.runSpatialFilter(p.items,E=>I(E.geometry),R);p.items=L})).apply(this,arguments)}},50690:(Q,b,d)=>{d.d(b,{T:()=>T});var A=d(42086);const T={getObjectId:y=>y.objectId,getAttributes:y=>y.attributes,getAttribute:(y,B)=>y.attributes[B],cloneWithGeometry:(y,B)=>new A.Om(B,y.attributes,null,y.objectId),getGeometry:y=>y.geometry,getCentroid:(y,B)=>y.ensureCentroid(B)}}}]);