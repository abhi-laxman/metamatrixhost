"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[4753],{44753:(y,p,t)=>{t.r(p),t.d(p,{registerFunctions:()=>Y});var s=t(10467),E=t(23098),D=t(45369),O=t(53787),c=t(55279),e=t(42686),M=t(32832),a=t(68643),n=t(13970),d=t(32034),P=t(55039),L=t(73874),j=t(46577),Z=t(66456),Q=t(36775),N=t(74490),F=t(49238),J=t(36303),X=t(97870),z=t(77436),u=t(68778);let g=null;function W(){return(W=(0,s.A)(function*(_){const o=E.A.geometryServiceUrl??"";if(!o){(0,n.isLoaded)()||(yield(0,n.load)());for(const r of _)r.container[r.indexer]=(0,n.project)(r.container[r.indexer],d.A.WGS84);return}const l=_.map(r=>r.container[r.indexer]),A=new z.A({geometries:l,outSpatialReference:d.A.WGS84}),h=yield(0,Z.C)(o,A);for(let r=0;r<h.length;r++){const i=_[r];i.container[i.indexer]=h[r]}})).apply(this,arguments)}function S(_,o){return K.apply(this,arguments)}function K(){return(K=(0,s.A)(function*(_,o){const l=new j.default({portal:_,id:o});return yield l.load(),null===g&&(g=yield Promise.all([t.e(6565),t.e(4965)]).then(t.bind(t,4965))),yield g.fetchKnowledgeGraph(l.url)})).apply(this,arguments)}function U(_,o,l,A,h){if(null===_)return null;if((0,u.Kg)(_)||(0,u.Et)(_))return _;if((0,e.g)(_)||(0,e.g)(_))return _.toJSDate();if((0,e.j)(_))return _.toStorageFormat();if((0,e.k)(_))return _.toStorageString();if((0,e.q)(_)){const r={};for(const i of _.keys())r[i]=U(_.field(i),o,l,A,h),r[i]instanceof a.A&&h.push({container:r,indexer:i});return r}if((0,u.cy)(_)){const r=_.map(i=>U(i,o,l,A,h));for(let i=0;i<r.length;i++)r[i]instanceof a.A&&h.push({container:r,indexer:i});return r}return(0,e.l)(_)?_.spatialReference.isWGS84?_:_.spatialReference.isWebMercator&&o?(0,P.ci)(_):_:void 0}function B(_,o){if(!_)return null;const l={};for(const A in _)l[A]=m(_[A],o);return l}function m(_,o){return null===_?null:(0,u.cy)(_)?_.map(l=>m(l,o)):_ instanceof Q.A?{graphTypeName:_.typeName,id:_.id,graphType:"entity",properties:B(_.properties,o)}:_ instanceof F.A?{graphType:"object",properties:B(_.properties,o)}:_ instanceof X.A?{graphTypeName:_.typeName,id:_.id,graphType:"relationship",originId:_.originId??null,destinationId:_.destinationId??null,properties:B(_.properties,o)}:_ instanceof J.A?{graphType:"path",path:_.path?_.path.map(l=>m(l,o)):null}:(0,e.l)(_)?function H(_,o){if(!_)return _;if(_.spatialReference.isWGS84&&o.spatialReference.isWebMercator)return(0,P.Gh)(_);if(_.spatialReference.equals(o.spatialReference))return _;throw new c.D$(o,c.TX.WrongSpatialReference,null)}(_,o):(0,u.Kg)(_)||(0,u.Et)(_)||(0,u.$P)(_)?_:null}function Y(_){"async"===_.mode&&(_.functions.knowledgegraphbyportalitem=function(o,l){return _.standardFunctionAsync(o,l,(A,h,r)=>{if((0,e.D)(r,2,2,o,l),null===r[0])throw new c.D$(o,c.TX.PortalRequired,l);if(r[0]instanceof D.A){const f=(0,e.f)(r[1]);let C;return C=o.services?.portal?o.services.portal:L.A.getDefault(),S((0,M.R)(r[0],C),f)}if(!1===(0,u.Kg)(r[0]))throw new c.D$(o,c.TX.InvalidParameter,l);const i=(0,e.f)(r[0]);return S(o.services?.portal??L.A.getDefault(),i)})},_.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),_.functions.querygraph=function(o,l){return _.standardFunctionAsync(o,l,function(){var A=(0,s.A)(function*(h,r,i){(0,e.D)(i,2,4,o,l);const f=i[0];if(!(0,e.r)(f))throw new c.D$(o,c.TX.InvalidParameter,l);const C=i[1];if(!(0,u.Kg)(C))throw new c.D$(o,c.TX.InvalidParameter,l);null===g&&(g=yield Promise.all([t.e(6565),t.e(4965)]).then(t.bind(t,4965)));let x=null;const T=(0,e.J)(i[2],null);if(!(T instanceof O.A||null===T))throw new c.D$(o,c.TX.InvalidParameter,l);if(T){let v=[];x=U(T,!0,!1,o,v),v=v.filter(R=>!R.container[R.indexer].spatialReference.isWGS84),v.length>0&&(yield function V(_){return W.apply(this,arguments)}(v))}const $=new N.A({openCypherQuery:C,bindParameters:x});(f?.serviceDefinition?.currentVersion??11.3)>11.2&&($.outputSpatialReference=o.spatialReference);const w=(yield g.executeQueryStreaming(f,$)).resultRowsStream.getReader(),G=[];try{for(;;){const{done:v,value:R}=yield w.read();if(v)break;if((0,u.cy)(R))for(const I of R)G.push(m(I,o));else{const I=[];for(const b of R)I.push(m(R[b],o));G.push(I)}}}catch(v){throw v}return O.A.convertJsonToArcade(G,(0,e.K)(o),!1,!0)});return function(h,r,i){return A.apply(this,arguments)}}())},_.signatures.push({name:"querygraph",min:2,max:4}))}},32832:(y,p,t)=>{t.d(p,{R:()=>E});var s=t(73874);function E(D,O){return null===D?O:new s.A({url:D.field("url")})}},36775:(y,p,t)=>{t.d(p,{A:()=>d});var s=t(8189),E=t(85211),e=(t(3248),t(35150),t(40707),t(76576)),M=t(1749),a=t(14430);let n=class extends a.A{constructor(P){super(P),this.layoutGeometry=null}};(0,s._)([(0,E.MZ)({type:M.A,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.Entity")],n);const d=n},14430:(y,p,t)=>{t.d(p,{A:()=>n});var s=t(8189),E=t(85211),e=(t(3248),t(35150),t(40707),t(76576)),M=t(53805);let a=class extends M.A{constructor(d){super(d),this.typeName=null,this.id=null}};(0,s._)([(0,E.MZ)({type:String,json:{write:!0}})],a.prototype,"typeName",void 0),(0,s._)([(0,E.MZ)({type:String,json:{write:!0}})],a.prototype,"id",void 0),a=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.GraphNamedObject")],a);const n=a},53805:(y,p,t)=>{t.d(p,{A:()=>n});var s=t(8189),E=t(71065),D=t(85211),M=(t(3248),t(35150),t(40707),t(76576));let a=class extends E.A{constructor(d){super(d),this.properties=null}};(0,s._)([(0,D.MZ)({json:{write:!0}})],a.prototype,"properties",void 0),a=(0,s._)([(0,M.$)("esri.rest.knowledgeGraph.GraphObject")],a);const n=a},74490:(y,p,t)=>{t.d(p,{A:()=>L});var s=t(8189),E=t(85211),e=(t(3248),t(35150),t(40707),t(76576)),M=t(32034),a=t(98877);let n=class extends a.A{constructor(j){super(j),this.openCypherQuery=""}};(0,s._)([(0,E.MZ)()],n.prototype,"openCypherQuery",void 0),n=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.GraphQuery")],n);const d=n;let P=class extends d{constructor(j){super(j),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,s._)([(0,E.MZ)()],P.prototype,"bindParameters",void 0),(0,s._)([(0,E.MZ)()],P.prototype,"bindGeometryQuantizationParameters",void 0),(0,s._)([(0,E.MZ)()],P.prototype,"outputQuantizationParameters",void 0),(0,s._)([(0,E.MZ)({type:M.A})],P.prototype,"outputSpatialReference",void 0),(0,s._)([(0,E.MZ)()],P.prototype,"provenanceBehavior",void 0),P=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],P);const L=P},49238:(y,p,t)=>{t.d(p,{A:()=>n});var s=t(8189),e=(t(35150),t(3248),t(40707),t(5922),t(76576)),M=t(53805);let a=class extends M.A{constructor(d){super(d)}};a=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.ObjectValue")],a);const n=a},36303:(y,p,t)=>{t.d(p,{A:()=>d});var s=t(8189),E=t(71065),D=t(85211),M=(t(3248),t(35150),t(40707),t(76576)),a=t(53805);let n=class extends E.A{constructor(P){super(P),this.path=[]}};(0,s._)([(0,D.MZ)({type:[a.A],json:{write:!0}})],n.prototype,"path",void 0),n=(0,s._)([(0,M.$)("esri.rest.knowledgeGraph.Path")],n);const d=n},97870:(y,p,t)=>{t.d(p,{A:()=>d});var s=t(8189),E=t(85211),e=(t(3248),t(35150),t(40707),t(76576)),M=t(93615),a=t(14430);let n=class extends a.A{constructor(P){super(P),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,s._)([(0,E.MZ)({type:String,json:{write:!0}})],n.prototype,"originId",void 0),(0,s._)([(0,E.MZ)({type:String,json:{write:!0}})],n.prototype,"destinationId",void 0),(0,s._)([(0,E.MZ)({type:M.A,json:{write:!0}})],n.prototype,"layoutGeometry",void 0),n=(0,s._)([(0,e.$)("esri.rest.knowledgeGraph.Relationship")],n);const d=n}}]);