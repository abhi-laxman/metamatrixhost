"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[5340],{3567:(N,Y,_)=>{_.d(Y,{E:()=>L,w:()=>C});var B=_(89952),X=_(69690),A=(_(3248),_(12438)),w=_(17694);class C{constructor(t=9,s){this._compareMinX=g,this._compareMinY=c,this._toBBox=n=>n,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),s&&("function"==typeof s?this._toBBox=s:this._initFormat(s)),this.clear()}destroy(){this.clear(),M.prune(),W.prune(),D.prune(),T.prune()}all(t){I(this._data,t)}search(t,s){let n=this._data;const l=this._toBBox;if(i(t,n))for(M.clear();n;){for(let a=0,h=n.children.length;a<h;a++){const f=n.children[a],y=n.leaf?l(f):f;i(t,y)&&(n.leaf?s(f):U(t,y)?I(f,s):M.push(f))}n=M.pop()}}collides(t){let s=this._data;const n=this._toBBox;if(!i(t,s))return!1;for(M.clear();s;){for(let l=0,a=s.children.length;l<a;l++){const h=s.children[l],f=s.leaf?n(h):h;if(i(t,f)){if(s.leaf||U(t,f))return!0;M.push(h)}}s=M.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let n=0,l=t.length;n<l;n++)this.insert(t[n]);return this}let s=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===s.height)this._splitRoot(this._data,s);else{if(this._data.height<s.height){const n=this._data;this._data=s,s=n}this._insert(s,this._data.height-s.height-1,!0)}else this._data=s;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new j([]),this}remove(t){if(!t)return this;let s,n=this._data,l=null,a=0,h=!1;const f=this._toBBox(t);for(D.clear(),T.clear();n||D.length>0;){if(n||(n=D.pop(),l=D.data[D.length-1],a=T.pop()??0,h=!0),n.leaf&&(s=(0,B.qh)(n.children,(0,X.zI)(t),n.children.length,n.indexHint),-1!==s))return n.children.splice(s,1),D.push(n),this._condense(D),this;h||n.leaf||!U(n,f)?l?(a++,n=l.children[a],h=!1):n=null:(D.push(n),T.push(a),a=0,l=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,s,n,l){const a=n-s+1;let h=this._maxEntries;if(a<=h){const P=new j(t.slice(s,n+1));return v(P,this._toBBox),P}l||(l=Math.ceil(Math.log(a)/Math.log(h)),h=Math.ceil(a/h**(l-1)));const f=new Z([]);f.height=l;const y=Math.ceil(a/h),R=y*Math.ceil(Math.sqrt(h));p(t,s,n,R,this._compareMinX);for(let P=s;P<=n;P+=R){const z=Math.min(P+R-1,n);p(t,P,z,y,this._compareMinY);for(let V=P;V<=z;V+=y){const F=Math.min(V+y-1,z);f.children.push(this._build(t,V,F,l-1))}}return v(f,this._toBBox),f}_insert(t,s,n){const a=n?t:(0,this._toBBox)(t);D.clear();const h=function G(o,t,s,n){for(;n.push(t),!0!==t.leaf&&n.length-1!==s;){let l,a=1/0,h=1/0;for(let f=0,y=t.children.length;f<y;f++){const R=t.children[f],P=u(R),z=d(o,R)-P;z<h?(h=z,a=P<a?P:a,l=R):z===h&&P<a&&(a=P,l=R)}t=l||t.children[0]}return t}(a,this._data,s,D);for(h.children.push(t),E(h,a);s>=0&&D.data[s].children.length>this._maxEntries;)this._split(D,s),s--;!function K(o,t,s){for(let n=s;n>=0;n--)E(t.data[n],o)}(a,D,s)}_split(t,s){const n=t.data[s],l=n.children.length,a=this._minEntries;this._chooseSplitAxis(n,a,l);const h=this._chooseSplitIndex(n,a,l);if(!h)return;const f=n.children.splice(h,n.children.length-h),y=n.leaf?new j(f):new Z(f);y.height=n.height,v(n,this._toBBox),v(y,this._toBBox),s?t.data[s-1].children.push(y):this._splitRoot(n,y)}_splitRoot(t,s){this._data=new Z([t,s]),this._data.height=t.height+1,v(this._data,this._toBBox)}_chooseSplitIndex(t,s,n){let l,a,h;l=a=1/0;for(let f=s;f<=n-s;f++){const y=x(t,0,f,this._toBBox),R=x(t,f,n,this._toBBox),P=O(y,R),z=u(y)+u(R);P<l?(l=P,h=f,a=z<a?z:a):P===l&&z<a&&(a=z,h=f)}return h}_chooseSplitAxis(t,s,n){const l=t.leaf?this._compareMinX:g,a=t.leaf?this._compareMinY:c;this._allDistMargin(t,s,n,l)<this._allDistMargin(t,s,n,a)&&t.children.sort(l)}_allDistMargin(t,s,n,l){t.children.sort(l);const a=this._toBBox,h=x(t,0,s,a),f=x(t,n-s,n,a);let y=m(h)+m(f);for(let R=s;R<n-s;R++){const P=t.children[R];E(h,t.leaf?a(P):P),y+=m(h)}for(let R=n-s-1;R>=s;R--){const P=t.children[R];E(f,t.leaf?a(P):P),y+=m(f)}return y}_condense(t){for(let s=t.length-1;s>=0;s--){const n=t.data[s];if(0===n.children.length)if(s>0){const l=t.data[s-1],a=l.children;a.splice((0,B.qh)(a,n,a.length,l.indexHint),1)}else this.clear();else v(n,this._toBBox)}}_initFormat(t){const s=["return a"," - b",";"];this._compareMinX=new Function("a","b",s.join(t[0])),this._compareMinY=new Function("a","b",s.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function I(o,t){let s=o;for(W.clear();s;){if(!0===s.leaf)for(const n of s.children)t((0,X.zI)(n));else W.pushArray(s.children);s=W.pop()??null}}function v(o,t){x(o,0,o.children.length,t,o)}function x(o,t,s,n,l){l||(l=new j([])),l.minX=1/0,l.minY=1/0,l.maxX=-1/0,l.maxY=-1/0;for(let a,h=t;h<s;h++)a=o.children[h],E(l,o.leaf?n(a):a);return l}function E(o,t){o.minX=Math.min(o.minX,t.minX),o.minY=Math.min(o.minY,t.minY),o.maxX=Math.max(o.maxX,t.maxX),o.maxY=Math.max(o.maxY,t.maxY)}function g(o,t){return o.minX-t.minX}function c(o,t){return o.minY-t.minY}function u(o){return(o.maxX-o.minX)*(o.maxY-o.minY)}function m(o){return o.maxX-o.minX+(o.maxY-o.minY)}function d(o,t){return(Math.max(t.maxX,o.maxX)-Math.min(t.minX,o.minX))*(Math.max(t.maxY,o.maxY)-Math.min(t.minY,o.minY))}function O(o,t){const s=Math.max(o.minX,t.minX),n=Math.max(o.minY,t.minY),l=Math.min(o.maxX,t.maxX),a=Math.min(o.maxY,t.maxY);return Math.max(0,l-s)*Math.max(0,a-n)}function U(o,t){return o.minX<=t.minX&&o.minY<=t.minY&&t.maxX<=o.maxX&&t.maxY<=o.maxY}function i(o,t){return t.minX<=o.maxX&&t.minY<=o.maxY&&t.maxX>=o.minX&&t.maxY>=o.minY}function p(o,t,s,n,l){const a=[t,s];for(;a.length;){const h=a.pop(),f=a.pop();if(h-f<=n)continue;const y=f+Math.ceil((h-f)/n/2)*n;(0,w.q)(o,y,f,h,l),a.push(f,y,y,h)}}const M=new A.A,W=new A.A,D=new A.A,T=new A.A({deallocator:void 0});class L{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class S extends L{constructor(){super(...arguments),this.height=1,this.indexHint=new B.vW}}class j extends S{constructor(t){super(),this.children=t,this.leaf=!0}}class Z extends S{constructor(t){super(),this.children=t,this.leaf=!1}}},38352:(N,Y,_)=>{_.d(Y,{A:()=>E});var v,B=_(8189),X=_(90660),b=_(71065),A=_(85211),I=(_(3248),_(35150),_(40707),_(15463)),K=_(76576);let x=v=class extends(X.A.ClonableMixin(b.A)){constructor(g){super(g),this.type="georeferenced",this.origin=null}};x.absolute=new v,(0,B._)([(0,I.e)({georeferenced:"georeferenced"},{readOnly:!0})],x.prototype,"type",void 0),(0,B._)([(0,A.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],x.prototype,"origin",void 0),x=v=(0,B._)([(0,K.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],x);const E=x},58315:(N,Y,_)=>{_.d(Y,{A:()=>E});var B=_(8189),X=_(90660),b=_(71065),A=_(85211),I=(_(3248),_(35150),_(40707),_(15463)),K=_(76576),v=_(25866);let x=class extends(X.A.ClonableMixin(b.A)){constructor(g){super(g),this.type="local",this.origin=(0,v.vt)()}};(0,B._)([(0,I.e)({local:"local"},{readOnly:!0})],x.prototype,"type",void 0),(0,B._)([(0,A.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],x.prototype,"origin",void 0),x=(0,B._)([(0,K.$)("esri.geometry.support.MeshLocalVertexSpace")],x);const E=x},78559:(N,Y,_)=>{_.d(Y,{CK:()=>G,E9:()=>w,Hq:()=>C,MW:()=>I,TE:()=>K,yJ:()=>x});var B=_(28714),X=_(1749),b=_(38352),A=_(58315);function w(E){return null==E.origin}function C(E){return null!=E.origin}function G(E){return C(E.vertexSpace)}function I(E,g){if(!C(E))return null;const[c,u,m]=E.origin;return new X.A({x:c,y:u,z:m,spatialReference:g})}function K(E,g){const{x:c,y:u,z:m,spatialReference:d}=E,O=[c,u,m??0];return"local"===(g?.vertexSpace??function v(E){return E.isGeographic||E.isWebMercator?"local":"georeferenced"}(d))?new A.A({origin:O}):new b.A({origin:O})}function x(E,g){return E.type===g.type&&(E.origin===g.origin||null!=E.origin&&null!=g.origin&&(0,B.p)(E.origin,g.origin))}},97669:(N,Y,_)=>{_.d(Y,{EL:()=>O,RS:()=>U,gr:()=>I,wP:()=>x,wZ:()=>E});var B=_(81098),b=(_(3248),_(77806)),A=_(79139),w=_(32034),C=_(61320),G=_(8675);function I(i){return"declaredClass"in i}function K(i){return"declaredClass"in i}function x(i,p){return i?function v(i){return"declaredClass"in i}(i)?i:new B.A({layer:p,sourceLayer:p,visible:i.visible,symbol:(0,b.o8)(i.symbol),attributes:(0,b.o8)(i.attributes),geometry:E(i.geometry)}):null}function E(i){return null==i?null:I(i)?i:(0,C.rS)(function g(i){const{wkid:p,wkt:M,wkt2:W,latestWkid:D}=i.spatialReference,T={wkid:p,wkt:M,wkt2:W,latestWkid:D};switch(i.type){case"point":{const{x:L,y:S,z:j,m:Z}=i;return{x:L,y:S,z:j,m:Z,spatialReference:T}}case"polygon":{const{rings:L,hasZ:S,hasM:j}=i;return{rings:c(L),hasZ:S,hasM:j,spatialReference:T}}case"polyline":{const{paths:L,hasZ:S,hasM:j}=i;return{paths:c(L),hasZ:S,hasM:j,spatialReference:T}}case"extent":{const{xmin:L,xmax:S,ymin:j,ymax:Z,zmin:o,zmax:t,mmin:s,mmax:n,hasZ:l,hasM:a}=i;return{xmin:L,xmax:S,ymin:j,ymax:Z,zmin:o,zmax:t,mmin:s,mmax:n,hasZ:l,hasM:a,spatialReference:T}}case"multipoint":{const{points:L,hasZ:S,hasM:j}=i;return{points:d(L)?u(L):L,hasZ:S,hasM:j,spatialReference:T}}default:return}}(i))}function c(i){return function m(i){for(const p of i)if(0!==p.length)return d(p);return!1}(i)?i.map(p=>u(p)):i}function u(i){return i.map(p=>Array.from(p))}function d(i){return i.length>0&&((0,A.vZ)(i[0])||(0,A.aI)(i[0]))}function O(i,p){if(!i)return null;let M;if(K(i)){if(null==p)return i.clone();if(K(p))return p.copy(i)}return null!=p?(M=p,M.x=i.x,M.y=i.y,M.spatialReference=i.spatialReference,i.hasZ?(M.z=i.z,M.hasZ=i.hasZ):(M.z=void 0,M.hasZ=!1),i.hasM?(M.m=i.m,M.hasM=!0):(M.m=void 0,M.hasM=!1)):(M=(0,G.T)(i.x,i.y,i.z,i.spatialReference),i.hasM&&(M.m=i.m,M.hasM=!0)),M}function U(i){const{wkid:p,wkt:M,wkt2:W,latestWkid:D}=i;return w.A.fromJSON({wkid:p,wkt:M,wkt2:W,latestWkid:D})}},36369:(N,Y,_)=>{_.d(Y,{h:()=>A}),_(8978);var X=_(95263);_(32705);class A extends X.R6{constructor(G,I,K,v,x){super(G,I),this.layerUid=G,this.graphicUid=I,this.triangleNr=K,this.baseBoundingSphere=v,this.numLodLevels=x}}},35404:(N,Y,_)=>{_.d(Y,{Fe:()=>E,Rn:()=>G,dI:()=>I,hr:()=>x,iC:()=>v});var B=_(89952),X=_(11445),b=_(16126),A=_(8978),w=_(40972),C=_(36369);class G{constructor(c,u,m,d){this.material=c,this.bufferWriter=c.createBufferWriter(),this.vertexBufferLayout=this.bufferWriter.vertexBufferLayout,this.buffer=u,this.elementCount=m,this.boundingInfo=d}get numTriangles(){return this.elementCount/3}get numVertices(){return this.elementCount}computeUsedMemory(){return this.buffer.byteLength+X.i5}getRenderGeometry(){return this}intersect(c,u,m,d,O,U,i,p){this.bufferWriter.intersect(this.buffer,c,m,d,(D,T,L,S,j)=>K(D,T,L,j,c,u,U,i,O,p))}}class I{constructor(c){this.engineGeometry=c}get material(){return this.engineGeometry.material}get numVertices(){return this.engineGeometry.attributes.get(w.r.POSITION).indices.length}get numTriangles(){return this.engineGeometry.indexCount/3}get boundingInfo(){return this.engineGeometry.boundingInfo}computeUsedMemory(){return Array.from(this.engineGeometry.attributes.values()).reduce((c,u)=>c+(0,X.Qf)(u.data,u.indices),0)}getRenderGeometry(){const c=this.material,u=this.engineGeometry,m=u.attributes,d=u.boundingInfo,O=c.createBufferWriter(),U=O.vertexBufferLayout,i=O.elementCount(m),p=U.createBuffer(i);return O.write(null,null,m,null,p,0),new G(c,p.buffer,i,d)}intersect(c,u,m,d,O,U,i,p){this.material.intersect(this.engineGeometry,c.transform.transform,c,m,d,(W,D,T,L,S)=>K(W,D,T,S,c,u,U,i,O,p))}}function K(g,c,u,m,d,O,U,i,p,M){if(g<0||O&&!O(d.rayBegin,d.rayEnd,g))return;const W=new C.h(U.layerUid,U.graphicUid(p),u,i,M);if((null==d.results.min.drapedLayerOrder||m>=d.results.min.drapedLayerOrder)&&(null==d.results.min.dist||g<d.results.min.dist)&&d.results.min.set(A.dz.LOD,W,g,c,d.transform.transform,m),d.options.store!==A.oH.MIN&&(null==d.results.max.drapedLayerOrder||m>=d.results.max.drapedLayerOrder)&&(null==d.results.max.dist||g>d.results.max.dist)&&d.results.max.set(A.dz.LOD,W,g,c,d.transform.transform,m),d.options.store===A.oH.ALL){const D=(0,b.G7)(d.results.min.ray);D.set(A.dz.LOD,W,g,c,d.transform.transform,m),d.results.all.push(D)}}class v{constructor(c,u=null){this.geometry=c,this.textures=u}get material(){return this.geometry.material}get numTriangles(){return this.geometry.numTriangles}}class x{constructor(c,u,m){this.components=c,this.minScreenSpaceRadius=u,this.pivotOffset=m;const d=(0,B.Am)(this.components.map(O=>O.geometry));this.numVertices=d.reduce((O,U)=>O+U.numVertices,0)}}class E{constructor(c){this.levels=c,this.levels.sort((u,m)=>u.minScreenSpaceRadius===m.minScreenSpaceRadius?u.numVertices-m.numVertices:u.minScreenSpaceRadius-m.minScreenSpaceRadius)}getMaterials(){const c=[];return this.levels.forEach(u=>u.components.forEach(m=>c.push(m.geometry.material))),(0,B.Am)(c)}getTextures(){const c=new Array;return this.levels.forEach(u=>u.components.forEach(m=>{null!=m.textures&&c.push(...m.textures)})),(0,B.Am)(c)}getGeometries(){const c=new Array;return this.levels.forEach(u=>u.components.forEach(m=>{c.push(m.geometry)})),(0,B.Am)(c)}getEngineGeometries(){return this.getGeometries().map(c=>c.engineGeometry).filter(c=>null!=c)}computeUsedMemory(){const c=this.getGeometries(),u=this.getTextures(),m=c.reduce((d,O)=>d+O.computeUsedMemory(),0);return u.reduce((d,O)=>d+O.memoryEstimate,0)+m}}}}]);