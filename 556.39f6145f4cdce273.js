"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[556],{31555:(pe,q,b)=>{b.d(q,{A:()=>ne});var D=b(8189),w=b(98877),P=b(89952),L=b(90660),K=b(3046),X=b(71065),h=b(85211),G=(b(3248),b(35150),b(76576));let Z=0,B=class extends(X.A.JSONSupportMixin(L.A.ClonableMixin(K.A.IdentifiableMixin(w.A)))){constructor(k){super(k),this.id=`${Date.now().toString(16)}-analysis-${Z++}`,this.title=null}get parent(){return this._get("parent")}set parent(k){const N=this.parent;if(null!=N)switch(N.type){case"line-of-sight":case"dimension":case"viewshed":N.releaseAnalysis(this);break;case"2d":case"3d":N.analyses.includes(this)&&N.analyses.remove(this)}this._set("parent",k)}get isEditable(){return this.requiredPropertiesForEditing.every(P.Ru)}};(0,D._)([(0,h.MZ)({type:String,constructOnly:!0,clonable:!1})],B.prototype,"id",void 0),(0,D._)([(0,h.MZ)({type:String})],B.prototype,"title",void 0),(0,D._)([(0,h.MZ)({clonable:!1,value:null})],B.prototype,"parent",null),(0,D._)([(0,h.MZ)({readOnly:!0})],B.prototype,"isEditable",null),B=(0,D._)([(0,G.$)("esri.analysis.Analysis")],B);const ne=B},13925:(pe,q,b)=>{b.d(q,{xH:()=>ve,N1:()=>be}),b(28714);var w=b(25866),P=b(55703);function ve(_,E){return Ie(_)===Ie(E)}function Ie(_){if(null==_)return null;let m=null;return m=null!=_.objectId?_.objectId:null!=_.layer&&"objectIdField"in _.layer&&null!=_.layer.objectIdField&&null!=_.attributes?_.attributes[_.layer.objectIdField]:_.uid,null==m?null:`o-${null!=_.layer?_.layer.id:""}-${m}`}b(8978),b(92771),b(2296),b(83989),b(95263),b(32705),b(36369),(0,w.vt)();const be={json:{write:{writer:function me(_,E){null!=_?.layer?.objectIdField&&null!=_.attributes&&(E.feature={layerId:_.layer.id,objectId:_.attributes[_.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function ce(_){if(null!=_.layerId&&null!=_.objectId)return{uid:null,layer:{id:_.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:_.objectId}}}}}}};(0,P.vt)(),(0,w.vt)()},33096:(pe,q,b)=>{b.d(q,{a:()=>x,b:()=>ge,d:()=>ie,f:()=>R,g:()=>re,h:()=>ce,u:()=>W}),b(3248);var w=b(35150),P=b(69287),L=b(84149),K=b(92771),X=b(62789),h=b(28714),U=b(25866),J=b(51995),G=b(41510),Z=b(71548),B=b(93617),ne=b(55703),k=b(99608),N=b(19741);const se=()=>w.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function ie(f=Te){return{plane:(0,B.vt)(f.plane),origin:(0,U.o8)(f.origin),basis1:(0,U.o8)(f.basis1),basis2:(0,U.o8)(f.basis2)}}function x(f,M=ie()){return R(f.origin,f.basis1,f.basis2,M)}function R(f,M,I,A=ie()){return(0,h.c)(A.origin,f),(0,h.c)(A.basis1,M),(0,h.c)(A.basis2,I),W(A),function Le(f,M){Math.abs((0,h.f)(f.basis1,f.basis2)/((0,h.l)(f.basis1)*(0,h.l)(f.basis2)))>1e-6&&se().warn(M,"Provided basis vectors are not perpendicular"),Math.abs((0,h.f)(f.basis1,T(f)))>1e-6&&se().warn(M,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,h.f)(T(f),f.origin)-f.plane[3])>1e-6&&se().warn(M,"Plane offset is not consistent with plane origin")}(A,"fromValues()"),A}function W(f){(0,B.mR)(f.basis2,f.basis1,f.origin,f.plane)}function j(f,M,I){f!==I&&x(f,I);const A=(0,h.h)(N.rq.get(),T(f),M);return(0,h.g)(I.origin,I.origin,A),I.plane[3]-=M,I}function re(f,M=ie()){const I=(f[2]-f[0])/2,A=(f[3]-f[1])/2;return(0,h.i)(M.origin,f[0]+I,f[1]+A,0),(0,h.i)(M.basis1,I,0,0),(0,h.i)(M.basis2,0,A,0),(0,B.fA)(0,0,1,0,M.plane),M}function ee(f,M,I){return!!(0,B.Ui)(f.plane,M,I)&&te(f,I)}function z(f,M,I){const A=Pe.get();_e(f,M,A,Pe.get());let $=Number.POSITIVE_INFINITY;for(const Q of Se){const le=Me(f,Q,Oe.get()),ye=N.rq.get();if((0,B.T7)(A,le,ye)){const ue=(0,h.o)(N.rq.get(),M.origin,ye),fe=Math.abs((0,P.XM)((0,h.f)(M.direction,ue)));fe<$&&($=fe,(0,h.c)(I,ye))}}return $===Number.POSITIVE_INFINITY?ve(f,M,I):I}function ve(f,M,I){if(ee(f,M,I))return I;const A=Pe.get(),$=Pe.get();_e(f,M,A,$);let Q=Number.POSITIVE_INFINITY;for(const le of Se){const ye=Me(f,le,Oe.get()),ue=N.rq.get();if((0,B.gv)(A,ye,ue)){const fe=(0,ne.kb)(M,ue);if(!(0,B.Tj)($,ue))continue;fe<Q&&(Q=fe,(0,h.c)(I,ue))}}return me(f,M.origin)<Q&&Ie(f,M.origin,I),I}function Ie(f,M,I){const A=(0,B._I)(f.plane,M,N.rq.get()),$=(0,Z.H6)(ae(f,f.basis1),A,-1,1,N.rq.get()),Q=(0,Z.H6)(ae(f,f.basis2),A,-1,1,N.rq.get());return(0,h.d)(I,(0,h.g)(N.rq.get(),$,Q),f.origin),I}function be(f,M,I){const{origin:A,basis1:$,basis2:Q}=f,le=(0,h.d)(N.rq.get(),M,A),ye=(0,k.gr)($,le),ue=(0,k.gr)(Q,le),fe=(0,k.gr)(T(f),le);return(0,h.i)(I,ye,ue,fe)}function me(f,M){const I=be(f,M,N.rq.get()),{basis1:A,basis2:$}=f,Q=(0,h.l)(A),le=(0,h.l)($),ye=Math.max(Math.abs(I[0])-Q,0),ue=Math.max(Math.abs(I[1])-le,0),fe=I[2];return ye*ye+ue*ue+fe*fe}function ce(f,M){return Math.sqrt(me(f,M))}function v(f,M){const I=-f.plane[3];return(0,k.gr)(T(f),M)-I}function T(f){return(0,B.Qj)(f.plane)}function te(f,M){const I=(0,h.d)(N.rq.get(),M,f.origin),A=(0,h.k)(f.basis1),$=(0,h.k)(f.basis2),Q=(0,h.f)(f.basis1,I),le=(0,h.f)(f.basis2,I);return-Q-A<0&&Q-A<0&&-le-$<0&&le-$<0}function ae(f,M){const I=Oe.get();return(0,h.c)(I.origin,f.origin),(0,h.c)(I.vector,M),I}function Me(f,M,I){const{basis1:A,basis2:$,origin:Q}=f,le=(0,h.h)(N.rq.get(),A,M.origin[0]),ye=(0,h.h)(N.rq.get(),$,M.origin[1]);(0,h.g)(I.origin,le,ye),(0,h.g)(I.origin,I.origin,Q);const ue=(0,h.h)(N.rq.get(),A,M.direction[0]),fe=(0,h.h)(N.rq.get(),$,M.direction[1]);return(0,h.h)(I.vector,(0,h.g)(ue,ue,fe),2),I}function _e(f,M,I,A){const $=T(f);(0,B.mR)($,M.direction,M.origin,I),(0,B.mR)((0,B.Qj)(I),$,M.origin,A)}const Te={plane:(0,B.vt)(),origin:(0,U.fA)(0,0,0),basis1:(0,U.fA)(1,0,0),basis2:(0,U.fA)(0,1,0)},Pe=new L.I(B.vt),Oe=new L.I(Z.vt),Re=(0,U.vt)(),De=new L.I(()=>ie()),Se=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],Ae=(0,X.vt)(),je=(0,X.vt)(),ge=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:class de{constructor(){this.plane=(0,B.vt)(),this.origin=(0,U.vt)(),this.basis1=(0,U.vt)(),this.basis2=(0,U.vt)()}},altitudeAt:v,axisAt:function y(f,M,I,A){return function Y(f,M,I){switch(M){case G._.X:(0,h.c)(I,f.basis1),(0,h.n)(I,I);break;case G._.Y:(0,h.c)(I,f.basis2),(0,h.n)(I,I);break;case G._.Z:(0,h.c)(I,T(f))}return I}(f,I,A)},cameraFrustumCoverage:function he(f,M){return(M-f)/M},closestPoint:ve,closestPointOnSilhouette:z,copy:x,copyWithoutVerify:function C(f,M){(0,h.c)(M.origin,f.origin),(0,h.c)(M.basis1,f.basis1),(0,h.c)(M.basis2,f.basis2),(0,B.C)(M.plane,f.plane)},create:ie,distance:ce,distance2:me,distanceToSilhouette:function Ee(f,M){let I=Number.NEGATIVE_INFINITY;for(const A of Se){const $=Me(f,A,Oe.get()),Q=(0,Z.kb)($,M);Q>I&&(I=Q)}return Math.sqrt(I)},elevate:j,equals:function _(f,M){return(0,h.p)(f.basis1,M.basis1)&&(0,h.p)(f.basis2,M.basis2)&&(0,h.p)(f.origin,M.origin)},extrusionContainsPoint:function d(f,M){return(0,B.Tj)(f.plane,M)&&te(f,M)},fromAABoundingRect:re,fromValues:R,getExtent:function H(f,M){const I=f.basis1[0],A=f.basis2[1],[$,Q]=f.origin;return(0,J.fA)($-I,Q-A,$+I,Q+A,M)},intersectRay:ee,intersectRayClosestSilhouette:function V(f,M,I){if(ee(f,M,I))return I;const A=z(f,M,N.rq.get());return(0,h.g)(I,M.origin,(0,h.h)(N.rq.get(),M.direction,(0,h.j)(M.origin,A)/(0,h.l)(M.direction))),I},normal:T,projectPoint:Ie,projectPointLocal:be,rotate:function m(f,M,I,A){return f!==A&&x(f,A),(0,K.$0)(je,M,I),(0,h.t)(A.basis1,f.basis1,je),(0,h.t)(A.basis2,f.basis2,je),W(A),A},setAltitudeAt:function O(f,M,I,A){const $=v(f,M),Q=(0,h.h)(Re,T(f),I-$);return(0,h.g)(A,M,Q),A},setExtent:function F(f,M,I){return re(M,I),j(I,v(f,f.origin),I),I},transform:function E(f,M,I){return f!==I&&x(f,I),(0,K.B8)(Ae,M),(0,K.mg)(Ae,Ae),(0,h.t)(I.basis1,f.basis1,Ae),(0,h.t)(I.basis2,f.basis2,Ae),(0,h.t)((0,B.Qj)(I.plane),(0,B.Qj)(f.plane),Ae),(0,h.t)(I.origin,f.origin,M),(0,B.mP)(I.plane,I.plane,I.origin),I},up:Te,updateUnboundedPlane:W,wrap:function S(f,M,I){const A=De.get();return A.origin=f,A.basis1=M,A.basis2=I,A.plane=(0,B.LV)(0,0,0,0),W(A),A}},Symbol.toStringTag,{value:"Module"}))},53781:(pe,q,b)=>{b.d(q,{a:()=>ee,b:()=>k,c:()=>w,d:()=>de,e:()=>V,f:()=>ie,g:()=>K,h:()=>R,j:()=>oe,l:()=>W,n:()=>C,s:()=>L,t:()=>F});var D=b(85952);function w(d,y){return d[0]=y[0],d[1]=y[1],d[2]=y[2],d[3]=y[3],d}function L(d,y,v,O,_){return d[0]=y,d[1]=v,d[2]=O,d[3]=_,d}function K(d,y,v){return d[0]=y[0]+v[0],d[1]=y[1]+v[1],d[2]=y[2]+v[2],d[3]=y[3]+v[3],d}function X(d,y,v){return d[0]=y[0]-v[0],d[1]=y[1]-v[1],d[2]=y[2]-v[2],d[3]=y[3]-v[3],d}function h(d,y,v){return d[0]=y[0]*v[0],d[1]=y[1]*v[1],d[2]=y[2]*v[2],d[3]=y[3]*v[3],d}function U(d,y,v){return d[0]=y[0]/v[0],d[1]=y[1]/v[1],d[2]=y[2]/v[2],d[3]=y[3]/v[3],d}function k(d,y,v){return d[0]=y[0]*v,d[1]=y[1]*v,d[2]=y[2]*v,d[3]=y[3]*v,d}function se(d,y){const v=y[0]-d[0],O=y[1]-d[1],_=y[2]-d[2],E=y[3]-d[3];return Math.sqrt(v*v+O*O+_*_+E*E)}function de(d,y){const v=y[0]-d[0],O=y[1]-d[1],_=y[2]-d[2],E=y[3]-d[3];return v*v+O*O+_*_+E*E}function oe(d){const y=d[0],v=d[1],O=d[2],_=d[3];return Math.sqrt(y*y+v*v+O*O+_*_)}function ie(d){const y=d[0],v=d[1],O=d[2],_=d[3];return y*y+v*v+O*O+_*_}function C(d,y){const v=y[0],O=y[1],_=y[2],E=y[3];let m=v*v+O*O+_*_+E*E;return m>0&&(m=1/Math.sqrt(m),d[0]=v*m,d[1]=O*m,d[2]=_*m,d[3]=E*m),d}function R(d,y){return d[0]*y[0]+d[1]*y[1]+d[2]*y[2]+d[3]*y[3]}function W(d,y,v,O){const _=y[0],E=y[1],m=y[2],T=y[3];return d[0]=_+O*(v[0]-_),d[1]=E+O*(v[1]-E),d[2]=m+O*(v[2]-m),d[3]=T+O*(v[3]-T),d}function F(d,y,v){const O=y[0],_=y[1],E=y[2],m=y[3];return d[0]=v[0]*O+v[4]*_+v[8]*E+v[12]*m,d[1]=v[1]*O+v[5]*_+v[9]*E+v[13]*m,d[2]=v[2]*O+v[6]*_+v[10]*E+v[14]*m,d[3]=v[3]*O+v[7]*_+v[11]*E+v[15]*m,d}function ee(d,y){return d[0]===y[0]&&d[1]===y[1]&&d[2]===y[2]&&d[3]===y[3]}function V(d,y){const v=d[0],O=d[1],_=d[2],E=d[3],m=y[0],T=y[1],Y=y[2],te=y[3],ae=(0,D.FD)();return Math.abs(v-m)<=ae*Math.max(1,Math.abs(v),Math.abs(m))&&Math.abs(O-T)<=ae*Math.max(1,Math.abs(O),Math.abs(T))&&Math.abs(_-Y)<=ae*Math.max(1,Math.abs(_),Math.abs(Y))&&Math.abs(E-te)<=ae*Math.max(1,Math.abs(E),Math.abs(te))}Object.freeze(Object.defineProperty({__proto__:null,add:K,ceil:function J(d,y){return d[0]=Math.ceil(y[0]),d[1]=Math.ceil(y[1]),d[2]=Math.ceil(y[2]),d[3]=Math.ceil(y[3]),d},copy:w,copyVec3:function P(d,y){return d[0]=y[0],d[1]=y[1],d[2]=y[2],d},dist:se,distance:se,div:U,divide:U,dot:R,equals:V,exactEquals:ee,floor:function G(d,y){return d[0]=Math.floor(y[0]),d[1]=Math.floor(y[1]),d[2]=Math.floor(y[2]),d[3]=Math.floor(y[3]),d},inverse:function x(d,y){return d[0]=1/y[0],d[1]=1/y[1],d[2]=1/y[2],d[3]=1/y[3],d},len:oe,length:oe,lerp:W,max:function B(d,y,v){return d[0]=Math.max(y[0],v[0]),d[1]=Math.max(y[1],v[1]),d[2]=Math.max(y[2],v[2]),d[3]=Math.max(y[3],v[3]),d},min:function Z(d,y,v){return d[0]=Math.min(y[0],v[0]),d[1]=Math.min(y[1],v[1]),d[2]=Math.min(y[2],v[2]),d[3]=Math.min(y[3],v[3]),d},mul:h,multiply:h,negate:function S(d,y){return d[0]=-y[0],d[1]=-y[1],d[2]=-y[2],d[3]=-y[3],d},normalize:C,random:function j(d,y=1){const v=D.Ov;let O,_,E,m,T,Y;do{O=2*v()-1,_=2*v()-1,T=O*O+_*_}while(T>=1);do{E=2*v()-1,m=2*v()-1,Y=E*E+m*m}while(Y>=1);const te=Math.sqrt((1-T)/Y);return d[0]=y*O,d[1]=y*_,d[2]=y*E*te,d[3]=y*m*te,d},round:function ne(d,y){return d[0]=Math.round(y[0]),d[1]=Math.round(y[1]),d[2]=Math.round(y[2]),d[3]=Math.round(y[3]),d},scale:k,scaleAndAdd:function N(d,y,v,O){return d[0]=y[0]+v[0]*O,d[1]=y[1]+v[1]*O,d[2]=y[2]+v[2]*O,d[3]=y[3]+v[3]*O,d},set:L,sqrDist:de,sqrLen:ie,squaredDistance:de,squaredLength:ie,str:function re(d){return"vec4("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")"},sub:X,subtract:X,transformMat4:F,transformQuat:function H(d,y,v){const O=y[0],_=y[1],E=y[2],m=v[0],T=v[1],Y=v[2],te=v[3],ae=te*O+T*E-Y*_,Me=te*_+Y*O-m*E,Le=te*E+m*_-T*O,_e=-m*O-T*_-Y*E;return d[0]=ae*te+_e*-m+Me*-Y-Le*-T,d[1]=Me*te+_e*-T+Le*-m-ae*-Y,d[2]=Le*te+_e*-Y+ae*-T-Me*-m,d[3]=y[3],d}},Symbol.toStringTag,{value:"Module"}))},32954:(pe,q,b)=>{function D(){return[1,0,0,0,1,0,0,0,1]}function P(h,U,J,G,Z,B,ne,k,N){return[h,U,J,G,Z,B,ne,k,N]}b.d(q,{fA:()=>P,vt:()=>D,zK:()=>K});const K=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:K,clone:function w(h){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8]]},create:D,createView:function L(h,U){return new Float64Array(h,U,9)},fromValues:P},Symbol.toStringTag,{value:"Module"}))},89141:(pe,q,b)=>{function D(){return[0,0,0,0]}function w(S){return[S[0],S[1],S[2],S[3]]}function P(S,x,C,R){return[S,x,C,R]}function L(S,x,C,R){return[S,x,C,R]}function K(S,x=[0,0,0,0]){const C=Math.min(4,S.length);for(let R=0;R<C;++R)x[R]=S[R];return x}function U(){return P(1,1,1,1)}function J(){return P(1,0,0,0)}function G(){return P(0,1,0,0)}function Z(){return P(0,0,1,0)}function B(){return P(0,0,0,1)}b.d(q,{CN:()=>L,Un:()=>k,ci:()=>K,fA:()=>P,o8:()=>w,uY:()=>ne,vt:()=>D});const ne=[0,0,0,0],k=U(),N=J(),se=G(),de=Z(),oe=B();Object.freeze(Object.defineProperty({__proto__:null,ONES:k,UNIT_W:oe,UNIT_X:N,UNIT_Y:se,UNIT_Z:de,ZEROS:ne,clone:w,create:D,createView:function X(S,x){return new Float64Array(S,x,4)},freeze:L,fromArray:K,fromValues:P,ones:U,unitW:B,unitX:J,unitY:G,unitZ:Z,zeros:function h(){return[0,0,0,0]}},Symbol.toStringTag,{value:"Module"}))},71548:(pe,q,b)=>{b.d(q,{C:()=>U,Cr:()=>G,H6:()=>k,_I:()=>B,dz:()=>N,fA:()=>J,kb:()=>Z,ld:()=>se,sd:()=>ne,vt:()=>X});var D=b(69287),w=b(84149),P=b(28714),L=b(25866),K=b(19741);function X(S){return S?{origin:(0,L.o8)(S.origin),vector:(0,L.o8)(S.vector)}:{origin:(0,L.vt)(),vector:(0,L.vt)()}}function U(S,x=X()){return J(S.origin,S.vector,x)}function J(S,x,C=X()){return(0,P.c)(C.origin,S),(0,P.c)(C.vector,x),C}function G(S,x,C=X()){return(0,P.c)(C.origin,S),(0,P.d)(C.vector,x,S),C}function Z(S,x){const C=(0,P.d)(K.rq.get(),x,S.origin),R=(0,P.f)(S.vector,C),W=(0,P.f)(S.vector,S.vector),j=(0,D.qE)(R/W,0,1),F=(0,P.d)(K.rq.get(),(0,P.h)(K.rq.get(),S.vector,j),C);return(0,P.f)(F,F)}function B(S,x,C){return k(S,x,0,1,C)}function ne(S,x,C){return(0,P.g)(C,S.origin,(0,P.h)(C,S.vector,x))}function k(S,x,C,R,W){const{vector:j,origin:F}=S,H=(0,P.d)(K.rq.get(),x,F),re=(0,P.f)(j,H)/(0,P.k)(j);return(0,P.h)(W,j,(0,D.qE)(re,C,R)),(0,P.g)(W,W,S.origin)}function N(S,x){if(de(S,function h(S,x){const C=ie.get();return C.origin=S,C.vector=x,C}(x.origin,x.direction),!1,oe)){const{tA:C,pB:R,distance2:W}=oe;if(C>=0&&C<=1)return W;if(C<0)return(0,P.s)(S.origin,R);if(C>1)return(0,P.s)((0,P.g)(K.rq.get(),S.origin,S.vector),R)}return null}function se(S,x,C){return!!de(S,x,!0,oe)&&((0,P.c)(C,oe.pA),!0)}function de(S,x,C,R){const j=S.origin,F=(0,P.g)(K.rq.get(),j,S.vector),H=x.origin,re=(0,P.g)(K.rq.get(),H,x.vector),ee=K.rq.get(),V=K.rq.get();if(ee[0]=j[0]-H[0],ee[1]=j[1]-H[1],ee[2]=j[2]-H[2],V[0]=re[0]-H[0],V[1]=re[1]-H[1],V[2]=re[2]-H[2],Math.abs(V[0])<1e-6&&Math.abs(V[1])<1e-6&&Math.abs(V[2])<1e-6)return!1;const z=K.rq.get();if(z[0]=F[0]-j[0],z[1]=F[1]-j[1],z[2]=F[2]-j[2],Math.abs(z[0])<1e-6&&Math.abs(z[1])<1e-6&&Math.abs(z[2])<1e-6)return!1;const he=ee[0]*V[0]+ee[1]*V[1]+ee[2]*V[2],ve=V[0]*z[0]+V[1]*z[1]+V[2]*z[2],Ie=ee[0]*z[0]+ee[1]*z[1]+ee[2]*z[2],be=V[0]*V[0]+V[1]*V[1]+V[2]*V[2],me=(z[0]*z[0]+z[1]*z[1]+z[2]*z[2])*be-ve*ve;if(Math.abs(me)<1e-6)return!1;let ce=(he*ve-Ie*be)/me,Ee=(he+ve*ce)/be;C&&(ce=(0,D.qE)(ce,0,1),Ee=(0,D.qE)(Ee,0,1));const d=K.rq.get(),y=K.rq.get();return d[0]=j[0]+ce*z[0],d[1]=j[1]+ce*z[1],d[2]=j[2]+ce*z[2],y[0]=H[0]+Ee*V[0],y[1]=H[1]+Ee*V[1],y[2]=H[2]+Ee*V[2],R.tA=ce,R.tB=Ee,R.pA=d,R.pB=y,R.distance2=(0,P.s)(d,y),!0}const oe={tA:0,tB:0,pA:(0,L.vt)(),pB:(0,L.vt)(),distance2:0},ie=new w.I(()=>X())},17049:(pe,q,b)=>{b.d(q,{q:()=>S});var D=b(8189),w=b(5922),P=b(45272),L=b(85211),K=b(55739),U=(b(3248),b(40707),b(17221)),J=b(76576),G=b(50305),Z=b(50501),B=b(34813),ne=b(56558);const k={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},N={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},se={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},de={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":k,"web-map/basemap":N,"web-map/tables":se,"link-chart/operational-layers":{...k,LinkChartLayer:!0},"link-chart/basemap":N,"link-chart/tables":se,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var oe=b(22329),ie=b(17181);const S=C=>{let R=class extends C{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(W,j,F){return"Group Layer"===F?.portalItem?.type?void 0:W}writeListMode(W,j,F,H){(H&&"ground"===H.layerContainerType||W&&(0,ne.R)(this,F,{},H))&&(j[F]=W)}writeOperationalLayerType(W,j,F){W&&(j[F]=W)}writeTitle(W,j){j.title=W??"Layer"}readVisibilityTimeExtent(W){return W?ie.A.fromArray(W):null}writeVisibilityTimeExtent(W,j,F,H){W&&"tables"!==H.layerContainerType&&(W.isEmpty?H?.messages&&H.messages.push(new w.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):j[F]=W.toArray())}read(W,j){j&&(j.layer=this),(0,B.t)(this,W,F=>super.read(W,F),j)}write(W,j){if(!this.persistenceEnabled&&!j?.ignorePersistenceEnabled)return null;if(j?.origin){const re=`${j.origin}/${j.layerContainerType||"operational-layers"}`;let V=!!de[re]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===re&&(V=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===re&&(V=!1),!V)return j.messages?.push(new w.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${re}'`,{layer:this})),null}const F=super.write(W,{...j,layer:this}),H=!!j&&!!j.messages&&!!j.messages.filter(re=>re instanceof w.A&&"web-document-write:property-required"===re.name).length;return(0,P.w8)(F?.url)?(j?.messages?.push(new w.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&H?null:F}beforeSave(){}};return(0,D._)([(0,L.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],R.prototype,"id",void 0),(0,D._)([(0,U.w)("id",["id"])],R.prototype,"readId",null),(0,D._)([(0,L.MZ)(oe.C1)],R.prototype,"listMode",void 0),(0,D._)([(0,G.K)("listMode")],R.prototype,"writeListMode",null),(0,D._)([(0,L.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Z.K,isRequired:!0}}}}})],R.prototype,"operationalLayerType",void 0),(0,D._)([(0,G.K)("operationalLayerType")],R.prototype,"writeOperationalLayerType",null),(0,D._)([(0,L.MZ)(oe.ke)],R.prototype,"opacity",void 0),(0,D._)([(0,L.MZ)({type:Boolean,readOnly:!1})],R.prototype,"persistenceEnabled",void 0),(0,D._)([(0,L.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],R.prototype,"title",void 0),(0,D._)([(0,G.K)("title"),(0,G.K)(["web-scene"],"title")],R.prototype,"writeTitle",null),(0,D._)([(0,L.MZ)({type:ie.A,json:{origins:{"web-scene":{write:{layerContainerTypes:Z.K}}}}})],R.prototype,"visibilityTimeExtent",void 0),(0,D._)([(0,U.w)("visibilityTimeExtent")],R.prototype,"readVisibilityTimeExtent",null),(0,D._)([(0,G.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[K.jz,K.Uv]]}})],R.prototype,"writeVisibilityTimeExtent",null),(0,D._)([(0,L.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:Z.K}}})],R.prototype,"visible",void 0),R=(0,D._)([(0,J.$)("esri.layers.mixins.OperationalLayer")],R),R}},8978:(pe,q,b)=>{var D,w,L;b.d(q,{H6:()=>P,dz:()=>D,oH:()=>w}),(L=D||(D={}))[L.OBJECT=0]="OBJECT",L[L.HUD=1]="HUD",L[L.TERRAIN=2]="TERRAIN",L[L.OVERLAY=3]="OVERLAY",L[L.I3S=4]="I3S",L[L.PCL=5]="PCL",L[L.LOD=6]="LOD",L[L.VOXEL=7]="VOXEL",L[L.TILES3D=8]="TILES3D";class P{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=w.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(L){L[L.MIN=0]="MIN",L[L.MINMAX=1]="MINMAX",L[L.ALL=2]="ALL"}(w||(w={}))},95263:(pe,q,b)=>{b.d(q,{B$:()=>P,HE:()=>K,R6:()=>X});var D=b(25866);class w{constructor(U,J,G){this.object=U,this.geometryId=J,this.triangleNr=G}}class P extends w{constructor(U,J,G,Z){super(U,J,G),this.center=null!=Z?(0,D.o8)(Z):null}}class K{constructor(U){this.layerUid=U}}class X extends K{constructor(U,J){super(U),this.graphicUid=J}}},32705:(pe,q,b)=>{b.d(q,{i3:()=>K}),b(28714);var w=b(25866);function K(G){return null!=G?.dist}b(33096),b(8978),(0,w.vt)()},36369:(pe,q,b)=>{b.d(q,{h:()=>L}),b(8978);var w=b(95263);b(32705);class L extends w.R6{constructor(h,U,J,G,Z){super(h,U),this.layerUid=h,this.graphicUid=U,this.triangleNr=J,this.baseBoundingSphere=G,this.numLodLevels=Z}}}}]);