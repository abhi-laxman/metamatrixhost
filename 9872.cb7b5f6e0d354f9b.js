"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[9872],{19872:(xe,re,u)=>{u.r(re),u.d(re,{MMMapsModule:()=>kc});var z,d=u(60177),p=u(50303),w=u(30540),_=u(8189),I=u(4360),F=u(10467),R=u(68677),T=u(31178),y=u(5605),E=u(69690),P=u(5922),C=u(71065),N=u(77806),U=u(55098),W=u(4879),O=u(35150),v=u(11432),M=u(56492),m=u(85211),Z=u(55739),D=u(76576),L=u(50305),b=u(3248),Y=(u(40707),u(15463));let te=z=class extends C.A{constructor(f){super(f),this.type="none"}clone(){return new z({type:this.type})}};(0,_._)([(0,Y.e)({none:"none",stayAbove:"stay-above"}),(0,m.MZ)({json:{write:{isRequired:!0}}})],te.prototype,"type",void 0),te=z=(0,_._)([(0,D.$)("esri.ground.NavigationConstraint")],te);const ee=Symbol("GroundInstance");var j,X,q=u(46873);let A=X=class extends(C.A.JSONSupportMixin(U.A)){constructor(f){super(f),this[j]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new T.A;const g=V=>{V.parent&&V.parent!==this&&"remove"in V.parent&&V.parent.remove(V),V.parent=this,"elevation"!==V.type&&"base-elevation"!==V.type&&O.A.getLogger(this).error(`Layer '${V.title}, id:${V.id}' of type '${V.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",V=>g(V.item)),this.layers.on("after-remove",V=>(V=>{V.parent=null})(V.item))])}initialize(){this.when().catch(f=>{(0,M.zf)(f)||O.A.getLogger(this).error("#load()","Failed to load ground",f)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const f=this.layers.removeAll();for(const g of f)(0,v.pR)(g);this.layers.destroy()}normalizeCtorArgs(f){return f&&"resourceInfo"in f&&(this._set("resourceInfo",f.resourceInfo),delete(f={...f}).resourceInfo),f}get layers(){return this._get("layers")}set layers(f){this._set("layers",(0,y.V)(f,this._get("layers")))}writeLayers(f,g,x,V){const ne=[];f&&(V={...V,layerContainerType:"ground"},f.forEach(ye=>{if("write"in ye){const De={};(0,E.GB)(ye)().write(De,V)&&ne.push(De)}else V?.messages&&V.messages.push(new P.A("layer:unsupported",`Layers (${ye.title}, ${ye.id}) of type '${ye.declaredClass}' cannot be persisted in the ground`,{layer:ye}))})),g.layers=ne}load(f){return this.addResolvingPromise(this._loadFromSource(f)),Promise.resolve(this)}loadAll(){return(0,W.g)(this,f=>{f(this.layers)})}queryElevation(f,g){var x=this;return(0,F.A)(function*(){yield x.load({signal:g?.signal});const{ElevationQuery:V}=yield u.e(6848).then(u.bind(u,96848));(0,M.Te)(g);const ne=new V,ye=x.layers.filter(K).toArray();return ne.queryAll(ye,f,g)})()}createElevationSampler(f,g){var x=this;return(0,F.A)(function*(){yield x.load({signal:g?.signal});const{ElevationQuery:V}=yield u.e(6848).then(u.bind(u,96848));(0,M.Te)(g);const ne=new V,ye=x.layers.filter(K).toArray();return ne.createSamplerAll(ye,f,g)})()}clone(){const f={opacity:this.opacity,surfaceColor:(0,N.o8)(this.surfaceColor),navigationConstraint:(0,N.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(f.loadStatus="loaded"),new X({resourceInfo:this.resourceInfo}).set(f)}read(f,g){this.resourceInfo||this._set("resourceInfo",{data:f,context:g}),super.read(f,g)}_loadFromSource(f){const g=this.resourceInfo;return g?this._loadLayersFromJSON(g.data,g.context,f):Promise.resolve()}_loadLayersFromJSON(f,g,x){var V=this;return(0,F.A)(function*(){const ne=g?.origin||"web-scene",ye=g?.portal||null,De=g?.url||null,{populateOperationalLayers:Ge}=yield Promise.all([u.e(6323),u.e(2076)]).then(u.bind(u,66323));(0,M.Te)(x);const $e=[];f.layers&&Array.isArray(f.layers)&&$e.push(Ge(V.layers,f.layers,{context:{origin:ne,url:De,portal:ye,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"})),yield Promise.allSettled($e)})()}};function K(f){return"elevation"===f.type||function ie(f){return f&&"createElevationSampler"in f}(f)}j=ee,(0,_._)([(0,m.MZ)({json:{read:!1,write:{isRequired:!0}}})],A.prototype,"layers",null),(0,_._)([(0,L.K)("layers")],A.prototype,"writeLayers",null),(0,_._)([(0,m.MZ)({readOnly:!0})],A.prototype,"resourceInfo",void 0),(0,_._)([(0,m.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Z.jz,read:{reader:q.D,source:"transparency"},write:{writer:(f,g)=>{g.transparency=(0,q.p)(f)},target:"transparency"}}})],A.prototype,"opacity",void 0),(0,_._)([(0,m.MZ)({type:R.A,json:{type:[Z.jz],write:(f,g)=>{g.surfaceColor=f.toJSON().slice(0,3)}}})],A.prototype,"surfaceColor",void 0),(0,_._)([(0,m.MZ)({type:te,json:{write:!0}})],A.prototype,"navigationConstraint",void 0),A=X=(0,_._)([(0,D.$)("esri.Ground")],A);const B=A;var G=u(98877),se=u(2993),J=u(42425),ce=u(48669),_e=u(17715),Ce=u(48900);const Oe=new WeakMap;function fe(f){return!f.destroyed&&(Oe.has(f)||f.addHandles([(0,Ce.wB)(()=>{const g=f.parent;return!(!g||!("type"in g))&&("catalog-dynamic-group"===g.type||fe(g))},g=>Oe.set(f,g),Ce.pc),(0,_e.hA)(()=>Oe.delete(f))]),Oe.get(f))}var ge=u(58443);function Le(f){return!(!function Be(f){return"object"==typeof f&&null!=f&&"loaded"in f&&!0===f.loaded&&"type"in f}(f)||!(0,ge.BR)(f)?.operations?.supportsEditing||"editingEnabled"in f&&!(0,ge.tk)(f)||fe(f))}var Re=u(23098),oe=u(37361);u(71470);const k=()=>O.A.getLogger("esri.support.basemapUtils");var Ue=u(76227);const We={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var Te=u(74613),we=u(93480);let ze=class extends((0,we.l)((0,Te.Q)(J.A.EventedMixin(G.A)))){constructor(f){super(f),this.allLayers=new se.A({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:g=>"layers"in g?g.layers:null}),this.allTables=(0,Ue.Z)(this),this.basemap=null,this.editableLayers=new se.A({getCollections:()=>[this.allLayers],itemFilterFunction:Le}),this.ground=new B,this._basemapCache={}}destroy(){(function he(f){for(const g in f)(0,v.pR)(f[g]),delete f[g]})(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,v.pR)(this.basemap),(0,v.pR)(this.ground),this._set("ground",null)}castBasemap(f){return function Ae(f,g){let x;if("string"==typeof f){const V=f in oe.H,ne=!V&&f.includes("/");if(!V&&!ne){if(Re.A.apiKey)k().warn(`Unable to find basemap definition for: ${f}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const ye=Object.entries(oe.H).filter(([De,Ge])=>Ge.classic||Ge.is3d).map(([De])=>`"${De}"`).sort().join(", ");k().warn(`Unable to find basemap definition for: ${f}. Try one of these: ${ye}`)}return null}g&&(x=g[f]),x||(x=V?I.default.fromId(f):new I.default({style:{id:f}}),g&&(g[f]=x))}else x=(0,Z.dp)(I.default,f);return x?.destroyed&&(k().warn("The provided basemap is already destroyed",{basemap:x}),x=null),x}(f,this._basemapCache)}castGround(f){return function ue(f){let g=null;return"string"==typeof f?f in We?g=new B({resourceInfo:{data:{layers:[We[f]]}}}):O.A.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${f}. Try "world-elevation"`):g=(0,Z.dp)(B,f),g}(f)??this._get("ground")}findLayerById(f){return this.allLayers.find(g=>g.id===f)}findTableById(f){return this.allTables.find(g=>g.id===f)}};(0,_._)([(0,m.MZ)({readOnly:!0,dependsOn:[]})],ze.prototype,"allLayers",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ze.prototype,"allTables",void 0),(0,_._)([(0,m.MZ)({type:I.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ze.prototype,"basemap",void 0),(0,_._)([(0,ce.w)("basemap")],ze.prototype,"castBasemap",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ze.prototype,"editableLayers",void 0),(0,_._)([(0,m.MZ)({type:B,nonNullable:!0})],ze.prototype,"ground",void 0),(0,_._)([(0,ce.w)("ground")],ze.prototype,"castGround",null),(0,_._)([(0,m.MZ)()],ze.prototype,"undoRedo",void 0),ze=(0,_._)([(0,D.$)("esri.Map")],ze);const Ee=ze;var Me=u(20351),ve=u(19284),Ie=u(55861),be=u(13970),Je=u(11333),tt=u(56595);const lt={widthBreakpoint:{getValue(f){const g=f.viewSize[0],x=f.breakpoints,V=this.values;return g<=x.xsmall?V.xsmall:g<=x.small?V.small:g<=x.medium?V.medium:g<=x.large?V.large:V.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(f){const g=f.viewSize[1],x=f.breakpoints,V=this.values;return g<=x.xsmall?V.xsmall:g<=x.small?V.small:g<=x.medium?V.medium:g<=x.large?V.large:V.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(f){const g=f.viewSize,ne=this.values;return g[1]>=g[0]?ne.portrait:ne.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},ft={xsmall:544,small:768,medium:992,large:1200};function St(f,g){return g?lt[f].valueToClassName[g].split(" "):[]}const Rt=f=>{let g=class extends f{constructor(...x){super(...x),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=ft}initialize(){this.addHandles((0,Ce.wB)(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ce.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(x){if(x!==this._get("breakpoints")){if(!function Et(f){return f&&f.xsmall<f.small&&f.small<f.medium&&f.medium<f.large}(x)){const V=JSON.stringify(ft,null,2);console.warn("provided breakpoints are not valid, using defaults:"+V),x=ft}this._set("breakpoints",{...x})}}_updateClassNames(){if(!this.container)return;const x=tt.A.acquire(),V=tt.A.acquire();let ne,ye=!1;for(ne in lt){const De=this[ne],Ge=lt[ne].getValue({viewSize:this.size,breakpoints:this.breakpoints});De!==Ge&&(ye=!0,this[ne]=Ge,St(ne,De).forEach($e=>V.push($e)),St(ne,Ge).forEach($e=>x.push($e)))}ye&&(this._applyClassNameChanges(x,V),tt.A.release(x),tt.A.release(V))}_applyClassNameChanges(x,V){const ne=this.container;ne&&(V.forEach(ye=>ne.classList.remove(ye)),x.forEach(ye=>ne.classList.add(ye)))}_removeActiveClassNames(){const x=this.container;if(!x)return;let V;for(V in lt)St(V,this[V]).forEach(ne=>x.classList.remove(ne))}};return(0,_._)([(0,m.MZ)()],g.prototype,"breakpoints",null),(0,_._)([(0,m.MZ)()],g.prototype,"orientation",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"widthBreakpoint",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"heightBreakpoint",void 0),g=(0,_._)([(0,D.$)("esri.views.BreakpointsOwner")],g),g};var Lt=u(52827),Kt=u(40611),Vt=u(3804),zt=u(56985),Wt=(u(92129),u(76062));let Ne=class extends G.A{constructor(){super(...arguments),this.items=new T.A,this._watchUpdatingTracking=new zt.U,this._callbacks=new Map,this._projector=(0,Wt.F)(),this._hiddenProjector=(0,Wt.F)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const f=document.createElement("div");f.className="esri-overlay-surface",this._set("surface",f),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),f.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,g=>{for(const x of g.added){const V=()=>x.render();this._callbacks.set(x,V),this._projector.append(this.surface,V)}for(const x of g.removed){const V=this._projector.detach(this._callbacks.get(x));this.surface.removeChild(V.domNode),this._callbacks.delete(x)}})}addItem(f){this.items.add(f)}removeItem(f){this.items.remove(f)}destroy(){this.items.removeAll(),this._callbacks.forEach(f=>this._projector.detach(f)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(f){const g=this._hiddenSurface,x=this._hiddenProjector;let V;const ne=()=>(V=f.render(),V);x.append(g,ne),x.renderNow();const ye={left:0,top:0,right:0,bottom:0};if(V?.domNode){const De=V.domNode.getBoundingClientRect();ye.left=De.left,ye.top=De.top,ye.right=De.right,ye.bottom=De.bottom}for(x.detach(ne);g.firstChild;)g.removeChild(g.firstChild);return ye}overlaps(f,g){const x=this.computeBoundingRect(f),V=this.computeBoundingRect(g);return Math.max(x.left,V.left)<=Math.min(x.right,V.right)&&Math.max(x.top,V.top)<=Math.min(x.bottom,V.bottom)}get hasVisibleItems(){return this.items.some(f=>f.visible)}prepare(){var f=this;return(0,F.A)(function*(){yield document.fonts.load(f._fontString()).catch(()=>{})})()}renderCanvas(f,g){const x=!!g?.disableDecorations;if(!this.items.some(ne=>ne.visible&&!(x&&ne.isDecoration)))return;const V=f.getContext("2d");V.save(),V.font=this._fontString(),this.items.forEach(ne=>{x&&ne.isDecoration||(V.save(),ne.renderCanvas(V),V.restore())}),V.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,_._)([(0,m.MZ)({readOnly:!0})],Ne.prototype,"surface",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Ne.prototype,"items",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Ne.prototype,"needsRender",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Ne.prototype,"_watchUpdatingTracking",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Ne.prototype,"updating",null),Ne=(0,_._)([(0,D.$)("esri.views.overlay.ViewOverlay")],Ne);const st=Ne,dt=[0,0];function gt(f){f&&(f.textContent="",f.parentNode&&f.parentNode.removeChild(f))}const kt=f=>{let g=class extends f{constructor(...x){super(...x),this._freqInfo={freq:16,time:750},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,Ce.wB)(()=>this.cursor,V=>{const{surface:ne}=this;ne&&ne.setAttribute("data-cursor",V)}),(0,Ce.wB)(()=>this.navigating,V=>{const{surface:ne}=this;ne&&ne.setAttribute("data-navigating",V.toString())})])}initialize(){this.addHandles([(0,Ce.wB)(()=>this.ui,(x,V)=>this._handleUIChange(x,V),Ce.Vh),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(x){const V=this._get("container"),ne=(0,Lt.$)(x);if(ne||"string"!=typeof x||O.A.getLogger(this).error("#container",`element with id '${x}' not found`),V===ne)return;if(this._stopMeasuring(),V&&(V.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(gt(this.root),this._set("root",null)),this.userContent&&((0,Lt.y)(this.userContent,V),gt(this.userContent),this._set("userContent",null))),!ne)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);ne.classList.add("esri-view");const ye=document.createElement("div");ye.className="esri-view-user-storage",(0,Lt.y)(ne,ye),ne.appendChild(ye),this._set("userContent",ye);const De=document.createElement("div");De.className="esri-view-root",ne.insertBefore(De,ne.firstChild),this._set("root",De);const Ge=document.createElement("div");Ge.className="esri-view-surface",Ge.setAttribute("role","application"),Ge.tabIndex=0,De.appendChild(Ge),this._set("surface",Ge);const $e=new st;De.appendChild($e.surface),this._set("overlay",$e),this.addHandles((0,Ce.wB)(()=>$e.needsRender,Qe=>{this._overlayRenderTaskHandle=Qe&&!this._overlayRenderTaskHandle?(0,Vt.mg)({render:()=>this.overlay?.render()}):(0,v.xt)(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",ne),this._startMeasuring()}get focused(){const x=document.activeElement===this.surface;return document.hasFocus()&&x}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(x,V,ne){const ye=this.position;return x-=ye?ye[0]:0,V-=ye?ye[1]:0,ne?(ne[0]=x,ne[1]=V):ne=[x,V],ne}containerToPage(x,V,ne){const ye=this.position;return x+=ye?ye[0]:0,V+=ye?ye[1]:0,ne?(ne[0]=x,ne[1]=V):ne=[x,V],ne}_handleUIChange(x,V){this.removeHandles("ui"),V&&V!==x&&V.destroy(),x&&(x.view=this,this.addHandles((0,Ce.wB)(()=>this.root,ne=>{x.container=ne?function Tt(f){const g=document.createElement("div");return f.appendChild(g),g}(ne):null},Ce.Vh),"ui")),this._set("ui",x)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const x=this._freqInfo;x.freq=16,x.time=750;const V=(0,Vt.mg)({prepare:De=>{const Ge=this._measure(),$e=this._freqInfo;if($e.time+=De.deltaTime,Ge&&($e.freq=16,this._get("resizing")||this._set("resizing",!0)),$e.time<$e.freq)return;$e.time=0;const Qe=this._position();$e.freq=Qe||Ge?16:Math.min(750,2*$e.freq),!Ge&&$e.freq>=512&&(V.pause(),this._get("resizing")&&this._set("resizing",!1))}}),ne=new ResizeObserver(De=>{x.freq=16,x.time=750,V.resume()});null!=this.container&&ne.observe(this.container);const ye=(0,_e.hA)(()=>ne.disconnect());this.addHandles([(0,Kt.on)(window,"resize",()=>{x.freq=16,x.time=750,V.resume()}),ye,V],"measuring"),this._measure(),this._position()}_measure(){const x=this.container,V=x?x.clientWidth:0,ne=x?x.clientHeight:0;if(0===V||0===ne)return this.suspended||this._set("suspended",!0),!1;const ye=this.width,De=this.height;return V===ye&&ne===De?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",V),this._set("height",ne),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:ye,oldHeight:De,width:V,height:ne}),!0)}_position(){const x=this.container,V=this.position,ne=x&&function nt(f){const g=(f.ownerDocument||window.document).defaultView,x=f.getBoundingClientRect();return dt[0]=x.left+(g?.pageXOffset??0),dt[1]=x.top+(g?.pageYOffset??0),dt}(x);return!(!ne||V&&ne[0]===V[0]&&ne[1]===V[1]||(this._set("position",[ne[0],ne[1]]),0))}forceDOMReadyCycle(){}};return(0,_._)([(0,m.MZ)()],g.prototype,"container",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"focused",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"height",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"messagesCommon",void 0),(0,_._)([(0,m.MZ)({type:st})],g.prototype,"overlay",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"position",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"resizing",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"root",void 0),(0,_._)([(0,m.MZ)({value:null,readOnly:!0})],g.prototype,"size",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"surface",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"suspended",void 0),(0,_._)([(0,m.MZ)({nonNullable:!0})],g.prototype,"ui",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"userContent",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"width",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"widthBreakpoint",void 0),g=(0,_._)([(0,D.$)("esri.views.DOMContainer")],g),g};var Nt=u(89447),us=u(19824);function hs(f){return null!=f&&"open"in f&&"declaredClass"in f}function Rs(f){return null!=f&&"declaredClass"in f&&"dockOptions"in f}const gs=f=>{let g=class extends f{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){var x=this;this.addHandles([(0,Ce.wB)(()=>[this.ui,this.popup],([V,ne],ye)=>{if(ye){const[$e,Qe]=ye;$e&&hs(Qe)&&(Qe.view=null,Rs(Qe)&&$e.remove(Qe,"popup"))}V&&hs(ne)&&(ne.view=this,Rs(ne)&&V.add(ne,{key:"popup",position:"manual",internal:!0}))},Ce.Vh),this.on("click",V=>{this.popup&&this.popupEnabled&&("mouse"!==V.pointerType||0===V.button)&&(hs(this.popup)?this.popup.viewModel.handleViewClick(V):V.async((0,F.A)(function*(){yield x.setupPopup(),hs(x.popup)&&!x.destroyed&&x.ready&&x.popupEnabled&&x.popup.viewModel.handleViewClick(V)})))},us.o.WIDGET)]),(0,Ce.C_)(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{Promise.all([u.e(9845),u.e(3325),u.e(6160),u.e(2253),u.e(3318),u.e(1595),u.e(1196),u.e(9750),u.e(4792),u.e(4057),u.e(8304),u.e(680),u.e(5940),u.e(3958),u.e(9266),u.e(2076),u.e(6038)]).then(u.bind(u,70542))})}destroy(){this.destroyed||this.closePopup()}openPopup(x){var V=this;return(0,F.A)(function*(){if(hs(V.popup))return V.popup.open(x);try{if(yield V.setupPopup(),!V.popup)return void O.A.getLogger(V).error(new P.A("view:null-popup","Popup is null and can't be opened"));V.popup.open(x)}catch{}})()}closePopup(){this._popupSetupTask?.abort(),hs(this.popup)&&this.popup.close()}fetchPopupFeatures(x,V){var ne=this;return(0,F.A)(function*(){return yield ne.when(),ne._popupHitsToFeatures(yield ne._getPopupHits(x,V),V)})()}setupPopup(){var x=this;return(0,F.A)(function*(){if(x._popupSetupTask?.abort(),x.popup&&!hs(x.popup))return x._popupSetupTask=(0,Nt.UT)(function(){var V=(0,F.A)(function*(ne){const{default:ye}=yield Promise.all([u.e(9845),u.e(3325),u.e(6160),u.e(2253),u.e(3318),u.e(1595),u.e(1196),u.e(9750),u.e(4792),u.e(4057),u.e(8304),u.e(680),u.e(5940),u.e(3958),u.e(9266),u.e(2076),u.e(6038)]).then(u.bind(u,70542));if((0,M.Te)(ne),!x.popup||hs(x.popup))return;const De=x.popup;delete De.open,delete De.close,x.popup=new ye(De)});return function(ne){return V.apply(this,arguments)}}()),x._popupSetupTask.promise})()}_popupHitsToFeatures({location:x,hits:V},ne){return(0,F.A)(function*(){const ye=[],De=[];let Ge=!1;const $e=(0,M.YL)(ne,(0,b.A)("popup-view-fetch-timeout")??at),pt=_t=>{const jt=De.at(-1);return jt&&jt.layerView===_t&&!Ge?jt:(_t=>{const jt=new Ve(_t);return De.push(jt),ye.push(jt.promise),jt})(_t)};for(const _t of V)"graphic"in _t?(pt(_t.layerView).graphics.push(_t.graphic),Ge=!1):(ye.push(_t.layerView.fetchPopupFeaturesAtLocation(_t.mapPoint,$e)),Ge=!0);De.map(_t=>_t.resolve($e));const Mt=(0,M.nA)(ye).then(_t=>_t.filter(jt=>!!jt).flat());return{pendingFeatures:ye,allGraphicsPromise:Mt,location:x}})()}_getPopupHits(x,V){var ne=this;return(0,F.A)(function*(){const{hits:ye,location:De}=yield ne.popupHitTest(x);(0,M.Te)(V);const Ge=[];for(const $e of ye)if("graphic"in $e){if(ne._isValidPopupGraphic($e.graphic,V)){const Qe=ne._isValidPopupGraphicsLayerView($e.layerView)?$e.layerView:void 0;Ge.push({graphic:$e.graphic,layerView:Qe})}}else ne._isValidPopupLocationLayerView($e.layerView)&&Ge.push({mapPoint:$e.mapPoint,layerView:$e.layerView});return{hits:Ge,location:De}})()}_isValidPopupGraphic(x,V){return x&&!!x.getEffectivePopupTemplate(V?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(x){return!x||(!("layer"in x)||!x.suspended)&&"fetchPopupFeaturesFromGraphics"in x}_isValidPopupLocationLayerView(x){return(!("layer"in x)||!x.suspended)&&"fetchPopupFeaturesAtLocation"in x}};return(0,_._)([(0,m.MZ)()],g.prototype,"popup",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"popupEnabled",void 0),g=(0,_._)([(0,D.$)("esri.views.PopupView")],g),g};class Ve{constructor(g){this.layerView=g,this._resolver=(0,M.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(g){const{layerView:x,graphics:V,_resolver:ne}=this;if(!x)return ne.resolve(V),ne.promise;let ye;return x.fetchPopupFeaturesFromGraphics(V,g).catch(De=>(ye=De,null)).then(De=>{De?ne.resolve(De):ne.reject(ye)}),ne.promise}}const at=5e3;var it=u(86807),ut=u(64261),At=u(88494),mt=u(28067),Zt=u(33119),_s=u(32034),Os=u(58701);let Ts=class extends At.X{constructor(f){super(f),this.addHandles(this.on("before-add",g=>{null!=g.item&&g.item.parent===this.owner&&(O.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(f){f.parent=this.owner}_release(f){f.parent=null}};Ts=(0,_._)([(0,D.$)("esri.support.AnalysesCollection")],Ts);var Fs=u(27641),le=u(20543),et=u(17181),Ye=u(22639);let ht=class extends G.A{constructor(f){super(f),this.view=null,this.baseLayerViews=new T.A,this.referenceLayerViews=new T.A,this._loadingHandle=(0,Ce.wB)(()=>this.view?.map?.basemap,g=>{g&&g.load().catch(()=>{})},Ce.Vh)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const f of this.baseLayerViews)f.destroy();this.baseLayerViews.length=0;for(const f of this.referenceLayerViews)f.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){return!this.view?.suspended&&!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(g=>g.updating)||this.referenceLayerViews.some(g=>g.updating))}};(0,_._)([(0,m.MZ)({constructOnly:!0})],ht.prototype,"view",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ht.prototype,"baseLayerViews",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ht.prototype,"referenceLayerViews",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ht.prototype,"suspended",null),(0,_._)([(0,m.MZ)({type:Boolean,readOnly:!0})],ht.prototype,"updating",null),ht=(0,_._)([(0,D.$)("esri.views.BasemapView")],ht);const yt=ht;var Ke=u(60797),He=u(92073),qe=u(95478);function Dt(f){return null!=f&&"object"==typeof f&&"layerViews"in f}class Ct{constructor(g,x,V){this.layer=g,this.view=x,this.layerViewImporter=V,this._controller=new AbortController,this._deferred=(0,M.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,M.u7)(this._controller.signal,()=>{const ne=new P.A("cancelled:layerview-create","layerview creation cancelled",{layer:g});this._deferred.reject(ne)})}tryRecycle(g){if(!this.done||!this.layerView||!function ot(f){return"tryRecycleWith"in f}(this.layerView))return null;const x=this.layer.type,V=this._controller.signal;for(let ne=0;ne<g.length;ne++){const ye=g[ne];if(ye.type!==x)continue;const De=this.layerView.tryRecycleWith(ye,{signal:V});if(De){g.splice(ne,1),this.layer=ye;const Ge=this.layerView,$e=Ge.view;return this.promise=Promise.race([De.then(()=>((0,M.Te)(this._controller.signal),ye.emit("layerview-destroy",{view:$e,layerView:Ge}),$e.emit("layerview-destroy",{view:$e,layerView:Ge}),ye.emit("layerview-create",{view:$e,layerView:Ge}),$e.emit("layerview-create",{view:$e,layerView:Ge}),Ge)),new Promise((Qe,pt)=>(0,M.u7)(this._controller.signal,()=>pt((0,M.NK)())))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:g}=this;if(g){const{layer:x,view:V}=this;x.emit("layerview-destroy",{view:V,layerView:g}),V.emit("layerview-destroy",{layer:x,layerView:g})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}start(){var g=this;return(0,F.A)(function*(){if(g._started)return;g._started=!0;const{_controller:{signal:x},layer:V,view:ne}=g;g._map=ne.map;try{let ye,De;if(yield V.load({signal:x}),V.prefetchResources&&(yield V.prefetchResources({signal:x})),function is(f){return f.createLayerView!==qe.A.prototype.createLayerView}(V))ye=yield V.createLayerView(ne,{signal:x});else{if(!g.layerViewImporter.hasLayerViewModule(V))throw new P.A("layer:view-not-supported","No layerview implementation was found");const Qe=yield g.layerViewImporter.importLayerView(V);(0,M.Te)(x),ye="default"in Qe?new Qe.default({layer:V,view:ne}):new Qe({layer:V,view:ne})}const Ge=()=>{De=(0,v.xt)(De),ye.destroyed||ye.destroy(),ye.layer=null,ye.parent=null,ye.view=null,g.done=!0};De=(0,M.u7)(x,Ge),(0,M.Te)(x);try{yield ye.when()}catch(Qe){throw Ge(),Qe}if(!g._map?.allLayers?.includes(V))return Ge(),void g._deferred.reject(new P.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:V}));g.layerView=ye,V.emit("layerview-create",{view:ne,layerView:ye}),ne.emit("layerview-create",{layer:V,layerView:ye}),g.done=!0,g._deferred.resolve(ye)}catch(ye){V.emit("layerview-create-error",{view:ne,error:ye}),ne.emit("layerview-create-error",{layer:V,error:ye}),g.done=!0,g._deferred.reject(new P.A("layerview:create-error","layerview creation failed",{layer:V,error:ye}))}})()}}let wt=class extends G.A{constructor(f){super(f),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new zt.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const g=this.view.map?.allLayers;if(g)for(const x of g)this.layerViewImporter.hasLayerViewModule(x)&&this.layerViewImporter.importLayerView(x)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,M.Tw)(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles((0,Vt._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const g=this.view.map;if(this._map!==g&&(this.clear(),this._map=g),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const x=new Set,V=[],ne=this.view.ready,ye=Ge=>{if(null!=Ge)for(const $e of Ge)if($e){x.add($e);const Qe=this._layerLayerViewInfoMap.get($e);Qe&&ne?Qe.start():Qe||this._recyclingInfoMap.has($e)||V.push($e),"layers"in $e&&$e.layers&&ye($e.layers)}};for(const Ge of this._rootCollectionNames)ye((0,He.Jt)(this,Ge));for(const[Ge,$e]of this._layerLayerViewInfoMap)if(!x.has(Ge)){this._layerLayerViewInfoMap.delete($e.layer);const Qe=$e.tryRecycle(V);Qe?(this.notifyChange("updating"),this._recyclingInfoMap.set($e.layer,$e),Qe.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete($e.layer),this._layerLayerViewInfoMap.set($e.layer,$e),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete($e.layer),$e.destroy(),this._reschedule()})):$e.destroy()}for(const[Ge,$e]of this._recyclingInfoMap)x.has(Ge)||(this.notifyChange("updating"),this._recyclingInfoMap.delete($e.layer),$e.destroy());for(const Ge of V)this._createLayerView(Ge);this._refreshCollections();const De=[g?.ground?.layers,g?.basemap?.baseLayers,g?.basemap?.referenceLayers,g?.layers].filter(Ge=>!!Ge);x.forEach(Ge=>"layers"in Ge&&De.push(Ge.layers)),this.addHandles(De.map(Ge=>this._watchUpdatingTracking.addOnCollectionChange(()=>Ge,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,Ce.on)(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,Ce.wB)(()=>{const f=this.view,g=f?.map;return[g?.basemap,g?.ground,g?.layers,f?.ready]},()=>this._reschedule(),Ce.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,Ue.X)(this._recyclingInfoMap),(0,Ue.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,M.NK)()),this._workPromise=null)}get _layersToLayerViews(){const f=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&f.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(f)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,Ke.Bs)(this._layerLayerViewInfoMap,f=>!f.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let f=0;for(const g of this._layerLayerViewInfoMap.values())g.done||++f;return f}clear(){this.destroyed||((0,Ue.X)(this._layerLayerViewInfoMap),this._refreshCollections())}whenLayerView(f){var g=this;return(0,F.A)(function*(){if(yield g._reschedule(),!g._layerLayerViewInfoMap.has(f)){if(g._recyclingInfoMap.has(f))return g._recyclingInfoMap.get(f).promise;throw new P.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:f})}return g._layerLayerViewInfoMap.get(f).promise})()}isCreatingLayerViewsForLayer(f,g){this.commitProperty("updatingRemaining");const x=this._layerLayerViewInfoMap.get(f);if(!x?.done)return!0;const V=x.layerView;return!(!V||!g||V.parent===g)||!!(x.done&&V&&"layers"in f&&f.layers?.length)&&f.layers.some(ne=>this.isCreatingLayerViewsForLayer(ne,V))}_refreshCollections(){for(const[f,g]of this._layersToLayerViews)this._populateLayerViewsOwners((0,He.Jt)(this,f),(0,He.Jt)(this,g),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(f,g,x){if(!f||!g)return void(g&&g.removeAll());let V=0;for(const ne of f){const ye=this._layerLayerViewInfoMap.get(ne);if(!ye?.layerView)continue;const De=ye.layerView;De.layer=ne,De.parent=x,g.at(V)!==De&&g.splice(V,0,De),"layers"in ne&&Dt(De)&&this._populateLayerViewsOwners(ne.layers,De.layerViews,De),V+=1}V<g.length&&g.splice(V,g.length)}_createLayerView(f){f.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(f)&&this.layerViewImporter.importLayerView(f);const g=new Ct(f,this.view,this.layerViewImporter);g.promise.then(()=>this._refreshCollections(),x=>{x&&((0,M.zf)(x)||"cancelled:layerview-create"===x.name)||O.A.getLogger(this).error(`Failed to create layerview for layer title:'${f.title??"no title"}', id:'${f.id??"no id"}' of type '${f.type}'.`,{layer:f,error:x}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(f,g),this.view.ready&&g.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,_._)([(0,m.MZ)()],wt.prototype,"_workPromise",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],wt.prototype,"_watchUpdatingTracking",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],wt.prototype,"_layersToLayerViews",null),(0,_._)([(0,m.MZ)({readOnly:!0})],wt.prototype,"_rootCollectionNames",null),(0,_._)([(0,m.MZ)()],wt.prototype,"layerViewImporter",void 0),(0,_._)([(0,m.MZ)()],wt.prototype,"supportsGround",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],wt.prototype,"updating",null),(0,_._)([(0,m.MZ)({readOnly:!0})],wt.prototype,"updatingRemaining",null),(0,_._)([(0,m.MZ)({constructOnly:!0})],wt.prototype,"view",void 0),wt=(0,_._)([(0,D.$)("esri.views.LayerViewManager")],wt);const ls=wt;var $t=u(67685);let qt=class extends G.A{constructor(f){super(f),this.factor=1.5,this.offset=(0,$t.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,_._)([(0,m.MZ)({type:Number})],qt.prototype,"factor",void 0),(0,_._)([(0,m.MZ)({nonNullable:!0})],qt.prototype,"offset",void 0),(0,_._)([(0,m.MZ)()],qt.prototype,"position",void 0),(0,_._)([(0,m.MZ)({type:Number,range:{min:0}})],qt.prototype,"size",void 0),(0,_._)([(0,m.MZ)()],qt.prototype,"maskUrl",void 0),(0,_._)([(0,m.MZ)()],qt.prototype,"maskEnabled",void 0),(0,_._)([(0,m.MZ)()],qt.prototype,"overlayUrl",void 0),(0,_._)([(0,m.MZ)()],qt.prototype,"overlayEnabled",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],qt.prototype,"version",null),(0,_._)([(0,m.MZ)({type:Boolean})],qt.prototype,"visible",void 0),qt=(0,_._)([(0,D.$)("esri.views.Magnifier")],qt);const ds=qt;var Xs=u(89952),Zs=u(12619),Qs=u(17435),Sn=u(87086);function qs(f){return!!(null!=f&&"object"==typeof f&&"createQuery"in f&&f.createQuery&&"on"in f&&f.on)}let Ds=class extends J.A.EventedAccessor{constructor(f){super(f),this._selectionMap=new Zs.A,this._sources=new T.A,this._trashCan=[],this._layerEditHandles=new T.A,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([(0,Ce.wB)(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),(0,Ce.on)(()=>this.sources,"change",g=>{const x=this._selectionMap;for(const V of g.removed)x.delete(V);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const f=new T.A;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(g=>"sublayers"in g&&g.sublayers?g.sublayers:null).forEach(g=>{(qs(g)&&!(0,ge.F2)(g)||(0,ge.Sv)(g))&&f.add(g)}),this.sources=f)})}destroy(){this._layerEditHandles.drain(v.xt)}get selections(){return Array.from(this._selectionMap.entries()).map(f=>{const[g,x]=f;return{layer:g,selection:[...x.selection]}})}get count(){let f=0;for(const g of this._selectionMap.values())f+=g.selection.length;return f}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(f){(0,y.V)(f,this._sources)}getSelectedFeatures(f,g={},x="layerView"){var V=this;return(0,F.A)(function*(){const{view:ne,selections:ye}=V,De=(void 0!==f?ye.filter(Ge=>f.includes(Ge.layer)):ye).filter(Ge=>Ge.selection.length>0).map(function(){var Ge=(0,F.A)(function*($e){const{layer:Qe,selection:pt}=$e,Mt=(0,ge.Sv)(Qe)?Qe.parent:Qe;if(null==Mt||!en(Mt))return null;if("layer"===x)return ni(Mt,pt,g);if(Us(Mt))return null;const _t=yield ne.whenLayerView(Mt).catch(()=>null);return _t?ni(_t,pt,g):null});return function($e){return Ge.apply(this,arguments)}}());return(yield Promise.all(De)).filter(Ge=>null!=Ge)})()}updateSelection(f){const g=new Map;for(const[ne,ye]of this._selectionMap)g.set(ne,[...ye.selection]);let x=!1;const V=f.current.concat(f.added);for(const ne of V){const ye=ne.sourceLayer,De=ne.getObjectId();if(this.sources.includes(ye)&&(qs(ye)||(0,ge.Sv)(ye))&&null!==De){const Ge=(0,Ke.tE)(g,ye,()=>[]);Ge.includes(De)||(Ge.push(De),x=!0)}}for(const ne of f.removed){const ye=ne.sourceLayer,De=ne.getObjectId();if(this.sources.includes(ye)&&(qs(ye)||(0,ge.Sv)(ye))&&null!==De){const Ge=g.get(ye),$e=Ge?.indexOf(De);void 0!==$e&&$e>=0&&(Ge?.splice($e,1),x=!0)}}if(x){const{_selectionMap:ne,_trashCan:ye}=this,De=[];for(const[Ge,$e]of g){const Qe=ne.get(Ge);void 0!==Qe&&ye.push(Qe),ne.set(Ge,{selection:$e}),De.push({layer:Ge,selection:$e,...(0,Xs.iv)(void 0!==Qe?Qe.selection:[],$e)})}this._onSelectionChange(De)}}setSelection(f,g){this._setSelection(f,g)}getSelection(f){return this._selectionMap.get(f)?.selection}appendToSelection(f,g){const x=this._selectionMap.get(f),V=void 0!==x?[...x.selection]:[];for(const ne of g)V.includes(ne)||V.push(ne);this._setSelection(f,V)}removeFromSelection(f,g){const x=this._selectionMap.get(f);if(!x)return;const V=[];for(const ne of x.selection)g.includes(ne)||V.push(ne);this._setSelection(f,V)}toggleInSelection(f,g){const x=this._selectionMap.get(f);if(!x||0===x.selection.length)return void this._setSelection(f,g);const V=new Set(x.selection),ne=new Set(g),ye=(0,Qs.BT)(V,ne);this._setSelection(f,Array.from(ye))}clear(){const f=this._selectionMap.values();this._trashCan.push(...f);const g=[];for(const[x,V]of this._selectionMap.entries())g.push({layer:x,added:[],removed:[...V.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(g)}_onSelectionChange(f){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:f})}_refreshVisualization(){if(null==this.view||null==this.sources)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();const{sources:f,view:g,_selectionMap:x,showHighlight:V}=this,ne=this._vizTaskId;for(const ye of f){const De=x.get(ye),Ge=(0,ge.Sv)(ye)?ye.parent:ye;if(null!=Ge&&en(Ge)){if(Us(Ge))continue;g.whenLayerView(Ge).then($e=>{De?.highlightHandle?.remove(),null!=De&&V&&ne===this._vizTaskId&&"highlight"in $e&&"function"==typeof $e.highlight&&De.selection.length>0&&(De.highlightHandle=$e.highlight(De.selection,this.highlightName))}).catch(()=>{De?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(v.xt);for(const f of this.sources){const g=(0,ge.Sv)(f)?f.parent:f;if(null!=g&&qs(g)){const x=g.on("edits",V=>{this._handleEditChanges(V,f)});this._layerEditHandles.push(x)}}}_handleEditChanges(f,g){if(void 0!==f.deletedFeatures&&f.deletedFeatures.length>0&&this._selectionMap.has(g)){const x=f.deletedFeatures.filter(V=>null==V.error).map(V=>V.objectId).filter(Xs.Ru);this.removeFromSelection(g,x)}}_setSelection(f,g){if(!this.sources.includes(f))throw new Error(`Cannot set selection on layer ${f.title} because it is not in 'sources'`);const x=this._selectionMap.get(f);if(void 0===x||!es(x,{selection:g})){void 0!==x&&this._trashCan.push(x),this._selectionMap.set(f,{selection:[...g]});const V={layer:f,selection:[...g],...(0,Xs.iv)(void 0!==x?x.selection:[],g)};this._onSelectionChange([V])}}};(0,_._)([(0,m.MZ)({readOnly:!0,nonNullable:!0})],Ds.prototype,"selections",null),(0,_._)([(0,m.MZ)({readOnly:!0,nonNullable:!0})],Ds.prototype,"count",null),(0,_._)([(0,m.MZ)({constructOnly:!0,nonNullable:!0})],Ds.prototype,"view",void 0),(0,_._)([(0,m.MZ)({readOnly:!0,nonNullable:!0})],Ds.prototype,"hasSelection",null),(0,_._)([(0,m.MZ)()],Ds.prototype,"showHighlight",void 0),(0,_._)([(0,m.MZ)()],Ds.prototype,"sources",null),(0,_._)([(0,m.MZ)()],Ds.prototype,"highlightName",void 0),Ds=(0,_._)([(0,D.$)("esri.views.SelectionManager")],Ds);const Us=f=>(0,ge.Sv)(f)?!0===f.parent?.isTable:f.isTable,en=f=>void 0!==f?.when,es=(f,g)=>{if(null==f&&null==g)return!0;if(null!=f&&null==g||null==f&&null!=g)return!1;if(null!=f&&null!=g&&null!=f.selection&&null!=g.selection){const x=[...f.selection],V=[...g.selection];if(x.length!==V.length)return!1;x.sort(),V.sort();for(let ne=0;ne<x.length;ne++)if(x[ne]!==V[ne])return!1}return!0},ni=function(){var f=(0,F.A)(function*(g,x,V={}){let ne;if((f=>void 0!==f.layer)(g)){const ye=g;ne=void 0===ye?null:yield ye.queryFeatures(new Sn.A({...V,objectIds:x})).then(De=>({data:De,layer:g.layer}))}else{const ye=g;ne=void 0===ye?null:yield ye.queryFeatures(new Sn.A({...V,objectIds:x})).then(De=>({data:De,layer:ye}))}return ne});return function(x,V){return f.apply(this,arguments)}}(),ri=Ds;var Xi=u(90660);let Cn=class extends(Xi.A.ClonableMixin(G.A)){constructor(f){super(f),this.accentColor=new R.A([255,127,0]),this.textColor=new R.A([255,255,255])}};(0,_._)([(0,m.MZ)({type:R.A,nonNullable:!0})],Cn.prototype,"accentColor",void 0),(0,_._)([(0,m.MZ)({type:R.A,nonNullable:!0})],Cn.prototype,"textColor",void 0),Cn=(0,_._)([(0,D.$)("esri.views.Theme")],Cn);const cr=Cn;var Rn=u(64294),tn=u(69287),vs=u(33171);u(27111);const ii=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],oi={};function ai(f){return!!oi[f]}ii.forEach(f=>{oi[f]=!0});class ci{constructor(g){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=g,this.inputManager=null}connect(g){g&&this.disconnect(),this.inputManager=g,this._handlers.forEach(({handler:x,priority:V},ne)=>this.inputManager?.installHandlers(ne,[x],V))}disconnect(){this.inputManager&&this._handlers.forEach((g,x)=>this.inputManager?.uninstallHandlers(x)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(g,x,V,ne){const ye=Array.isArray(g)?g:g.split(",");if(!function li(f){for(const g of f)if(!ai(g))return!1;return!0}(ye))return ye.some(ai)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let De,Ge;Array.isArray(x)?Ge=x:(De=x,Ge=[]),"function"==typeof V?De=V:ne=V,ne=ne??us.o.DEFAULT;const $e=this._createUniqueGroupName(),Qe=new qi(this.view,ye,Ge,De);this._handlers.set($e,{handler:Qe,priority:ne});for(const pt of ye){const Mt=this._handlerCounts.get(pt)||0;this._handlerCounts.set(pt,Mt+1)}return this.inputManager&&this.inputManager.installHandlers($e,[Qe],ne),(0,_e.hA)(()=>this._removeHandler($e,ye))}hasHandler(g){return!!this._handlerCounts.get(g)}_removeHandler(g,x){if(this._handlers.has(g)){this._handlers.delete(g);for(const V of x){const ne=this._handlerCounts.get(V);void 0===ne||(1===ne?this._handlerCounts.delete(V):this._handlerCounts.set(V,ne-1))}}this.inputManager&&this.inputManager.uninstallHandlers(g)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class qi extends vs.l{constructor(g,x,V,ne){super(!0),this._latestDragStart=void 0,this.view=g;for(const ye of x)switch(ye){case"click":this.registerIncoming("click",V,De=>ne(so(g,De)));break;case"double-click":this.registerIncoming("double-click",V,De=>ne(ea(g,De)));break;case"immediate-click":this.registerIncoming("immediate-click",V,De=>ne(ui(g,De)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",V,De=>ne(no(g,De)));break;case"hold":this.registerIncoming("hold",V,De=>ne(Ms(g,De)));break;case"drag":this.registerIncoming("drag",V,De=>{const Ge=this._wrapDrag(De);Ge&&ne(Ge)});break;case"key-down":this.registerIncoming("key-down",V,De=>ne(wn(De)));break;case"key-up":this.registerIncoming("key-up",V,De=>ne(Ln(De)));break;case"pointer-down":this.registerIncoming("pointer-down",V,De=>ne(Gs(De,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",V,De=>ne(Gs(De,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",V,De=>ne(Gs(De,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",V,De=>ne(hi(De)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",V,De=>ne(di(De)));break;case"pointer-enter":this.registerIncoming("pointer-enter",V,De=>ne(Gs(De,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",V,De=>ne(Gs(De,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",V,De=>{ne(ro(De))});break;case"focus":this.registerIncoming("focus",V,De=>{var f;ne({type:"focus",timestamp:(f=De).timestamp,native:f.data.native,cancelable:f.cancelable,stopPropagation:()=>f.stopPropagation(),async:g=>f.async(g),preventDefault:()=>f.preventDefault()})});break;case"blur":this.registerIncoming("blur",V,De=>{var f;ne({type:"blur",timestamp:(f=De).timestamp,native:f.data.native,cancelable:f.cancelable,stopPropagation:()=>f.stopPropagation(),async:g=>f.async(g),preventDefault:()=>f.preventDefault()})})}}_wrapDrag(g){const x=g.data,{x:V,y:ne}=x.center,{action:ye,pointerType:De,button:Ge}=x;if("start"===ye&&(this._latestDragStart=x),!this._latestDragStart)return;const $e=x.pointer.native,Qe=x.buttons,{cancelable:pt,timestamp:Mt}=g,_t={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===ye&&(this._latestDragStart=void 0),{type:"drag",action:ye,x:V,y:ne,origin:_t,pointerType:De,button:Ge,buttons:Qe,radius:x.radius,angle:(0,tn.KJ)(x.angle),native:$e,timestamp:Mt,cancelable:pt,stopPropagation:()=>g.stopPropagation(),async:jt=>g.async(jt),preventDefault:()=>g.preventDefault()}}}function so(f,g){const{pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,eventId:$e}=g.data,{cancelable:Qe,timestamp:pt}=g;return{type:"click",pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,timestamp:pt,screenPoint:(0,$t.tc)(ye,De),mapPoint:In(f,ye,De),eventId:$e,cancelable:Qe,stopPropagation:()=>g.stopPropagation(),async:Mt=>g.async(Mt),preventDefault:()=>g.preventDefault()}}function ea(f,g){const{pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,eventId:$e}=g.data,{cancelable:Qe,timestamp:pt}=g;return{type:"double-click",pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,timestamp:pt,mapPoint:In(f,ye,De),eventId:$e,cancelable:Qe,stopPropagation:()=>g.stopPropagation(),async:Mt=>g.async(Mt),preventDefault:()=>g.preventDefault()}}function ui(f,g){const{pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,eventId:$e}=g.data,Qe=Ge.pointerId,{cancelable:pt,timestamp:Mt}=g;return{type:"immediate-click",pointerId:Qe,pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,timestamp:Mt,mapPoint:In(f,ye,De),eventId:$e,cancelable:pt,stopPropagation:()=>g.stopPropagation(),async:_t=>g.async(_t),preventDefault:()=>g.preventDefault()}}function no(f,g){const{pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,eventId:$e}=g.data,Qe=Ge.pointerId,{cancelable:pt,timestamp:Mt}=g;return{type:"immediate-double-click",pointerId:Qe,pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,timestamp:Mt,mapPoint:In(f,ye,De),eventId:$e,cancelable:pt,stopPropagation:()=>g.stopPropagation(),async:_t=>g.async(_t),preventDefault:()=>g.preventDefault()}}function Ms(f,g){const{pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge}=g.data,{cancelable:$e,timestamp:Qe}=g;return{type:"hold",pointerType:x,button:V,buttons:ne,x:ye,y:De,native:Ge,timestamp:Qe,mapPoint:In(f,ye,De),cancelable:$e,stopPropagation:()=>g.stopPropagation(),async:pt=>g.async(pt),preventDefault:()=>g.preventDefault()}}function In(f,g,x){return f.toMap((0,$t.tc)(g,x),{exclude:[]})}function wn(f){const{key:g,repeat:x,native:V}=f.data,{cancelable:ne,timestamp:ye}=f;return{type:"key-down",key:g,repeat:x,native:V,timestamp:ye,cancelable:ne,stopPropagation:()=>f.stopPropagation(),async:De=>f.async(De),preventDefault:()=>f.preventDefault()}}function Ln(f){const{key:g,native:x}=f.data,{cancelable:V,timestamp:ne}=f;return{type:"key-up",key:g,native:x,timestamp:ne,cancelable:V,stopPropagation:()=>f.stopPropagation(),async:ye=>f.async(ye),preventDefault:()=>f.preventDefault()}}function Gs(f,g){const{x,y:V,button:ne,buttons:ye,native:De,eventId:Ge}=f.data,$e=De.pointerId,Qe=De.pointerType,{cancelable:pt,timestamp:Mt}=f;return{type:g,x,y:V,pointerId:$e,pointerType:Qe,button:ne,buttons:ye,native:De,timestamp:Mt,eventId:Ge,cancelable:pt,stopPropagation:()=>f.stopPropagation(),async:_t=>f.async(_t),preventDefault:()=>f.preventDefault()}}function hi(f){const{x:g,y:x,buttons:V,native:ne,eventId:ye}=f.data.currentEvent,{button:De}=f.data.startEvent,Ge=f.data.startEvent.native.pointerId,$e=f.data.startEvent.native.pointerType,Qe=f.data.action,pt={x:f.data.startEvent.x,y:f.data.startEvent.y},{cancelable:Mt,timestamp:_t}=f;return{type:"pointer-drag",x:g,y:x,pointerId:Ge,pointerType:$e,button:De,buttons:V,action:Qe,origin:pt,native:ne,timestamp:_t,eventId:ye,cancelable:Mt,stopPropagation:()=>f.stopPropagation(),async:jt=>f.async(jt),preventDefault:()=>f.preventDefault()}}function di(f){const{cancelable:g,data:x,timestamp:V}=f,{x:ne,y:ye,deltaY:De,native:Ge}=x;return{type:"mouse-wheel",x:ne,y:ye,deltaY:De,native:Ge,timestamp:V,cancelable:g,stopPropagation:()=>f.stopPropagation(),async:$e=>f.async($e),preventDefault:()=>f.preventDefault()}}function ro(f){const{action:g,state:x,device:V}=f.data,{cancelable:ne,timestamp:ye}=f,{buttons:De,axes:Ge}=x;return{type:"gamepad",device:V,timestamp:ye,action:g,buttons:De,axes:Ge,cancelable:ne,stopPropagation:()=>f.stopPropagation(),async:$e=>f.async($e),preventDefault:()=>f.preventDefault()}}var Zn=u(29014);function Gn(f){return f.visible&&null!=f.getEditableFlag&&f.getEditableFlag(Zn.PK.USER)&&f.getEditableFlag(Zn.PK.MANAGER)}var Sr=u(5191),Ss=u(77498);class io{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(g,x){const V=()=>g.stopPropagation();switch(g.type){case"pointer-move":mi(g.pointerType)&&this._pointerLocations.set(g.pointerId,{x:g.x,y:g.y,pointerType:g.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===g.action?this._externallyDragging=!0:"end"===g.action&&(this._externallyDragging=!1),this._stopDrag&&(V(),"end"===g.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!Cr(g))break;const ne=(0,Ss.ZV)(g),ye=bn(ne,g.pointerType,x.forEachTool);if(null==ye)break;const De=ye.manipulator,Ge=ye.tool;null==De||null==Ge||!De.interactive||De.grabbable&&De.grabbableForEvent(g)||!De.grabbing||De.dragging||this._releaseManipulatorBeforeDragging(De,g,x),null!=De&&null!=Ge&&De.interactive&&De.grabbable&&De.grabbableForEvent(g)&&!De.grabbing&&(this._grabbedManipulators.set(g.pointerId,{manipulator:De,tool:Ge,start:ne,pointerType:g.pointerType}),1===this._grabbedManipulators.size&&null==x.activeTool&&(this._revertToNullActiveTool=!0,x.setActiveTool(ye.tool)),De.grabbing=!0,De.events.emit("grab-changed",{action:"start",pointerType:g.pointerType,screenPoint:ne}),V());break}case"pointer-up":this._draggedManipulators.has(g.pointerId)||this._handlePointerEnd(g,x);break;case"pointer-drag":{if(!Cr(g))break;const ne=this._grabbedManipulators.get(g.pointerId),ye=ne?.manipulator,De=ne?.tool;if(null==ye||null==De)break;const Ge=(0,Ss.ZV)(g);Ge.x=(0,tn.qE)(Ge.x,0,x.view.width),Ge.y=(0,tn.qE)(Ge.y,0,x.view.height);const $e=ne.start,Qe=this._draggedManipulators.get(g.pointerId);switch(g.action){case"start":case"update":"update"!==g.action&&1!==this._grabbedManipulators.size||(ye.dragging=!0,ye.events.emit("drag",Qe?{action:"update",start:$e,screenPoint:Ge}:{action:"start",start:$e,screenPoint:Ge,pointerType:g.pointerType}),this._draggedManipulators.set(g.pointerId,{tool:De,manipulator:ye,start:$e}));break;case"end":ye.dragging=!1,Qe&&ye.events.emit("drag",{action:"end",start:$e,screenPoint:Ge}),this._draggedManipulators.delete(g.pointerId),this._handlePointerEnd(g,x)}V();break}case"immediate-click":{const ne=(0,Ss.ZV)(g),ye=bn(ne,g.pointerType,x.forEachTool);if(function oo(f){return!!f.native.shiftKey}(g)||x.forEachTool(Qe=>{if((null==ye||ye.tool!==Qe||Qe.automaticManipulatorSelection)&&Qe.manipulators){let pt=!1;Qe.manipulators.forEach(({manipulator:Mt})=>{Mt.selected&&(Mt.selected=!1,pt=!0)}),pt&&Qe.onManipulatorSelectionChanged&&Qe.onManipulatorSelectionChanged()}}),null==ye)break;const{manipulator:De,tool:Ge}=ye;if(!De.interactive)break;De.selectable&&Ge.automaticManipulatorSelection&&(De.selected=!De.selected,Ge.onManipulatorSelectionChanged&&Ge.onManipulatorSelectionChanged()),De.events.emit("immediate-click",{screenPoint:ne,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:V}),nn(De,V);break}case"click":{const ne=(0,Ss.ZV)(g),ye=bn(ne,g.pointerType,x.forEachTool),De=ye?.manipulator;if(null==De||!De.interactive)break;De.events.emit(g.type,{screenPoint:ne,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey}),V();break}case"double-click":{const ne=(0,Ss.ZV)(g),ye=bn(ne,g.pointerType,x.forEachTool),De=null!=ye?ye.manipulator:null;if(null==De||!De.interactive)break;De.events.emit("double-click",{screenPoint:ne,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:V}),nn(De,V);break}case"immediate-double-click":{const ne=(0,Ss.ZV)(g),ye=bn(ne,g.pointerType,x.forEachTool),De=null!=ye?ye.manipulator:null;if(null==De||!De.interactive)break;De.events.emit("immediate-double-click",{screenPoint:ne,button:g.button,pointerType:g.pointerType,shiftKey:g.native.shiftKey,stopPropagation:V}),"mouse"===g.pointerType&&nn(De,V);break}}this._onFocusChange(x.forEachTool)}_releaseManipulatorBeforeDragging(g,x,V){g.grabbing=!1,g.events.emit("grab-changed",{action:"end",pointerType:x.pointerType,screenPoint:(0,Ss.ZV)(x)}),this._grabbedManipulators.forEach(({manipulator:ne},ye)=>{ne===g&&this._grabbedManipulators.delete(ye)}),this._afterManipulatorRelease(V.setActiveTool)}_handlePointerEnd(g,x){const V=this._grabbedManipulators.get(g.pointerId)?.manipulator;null!=V&&V.grabbing&&(V.grabbing=!1,V.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:(0,Ss.ZV)(g)}),this._grabbedManipulators.delete(g.pointerId),this._afterManipulatorRelease(x.setActiveTool))}_onFocusChange(g){this._updateCursor(),this._updateFocusedManipulatorTools(g)}_updateCursor(){this._cursor=this._grabbedManipulators.size>0?fi(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?fi(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(g){const x=new Set,V=new Set;this._grabbedManipulators.forEach(({tool:ne})=>{x.add(ne)}),this._hoveredManipulators.forEach(({tool:ne})=>{V.add(ne)}),g(ne=>{ne.hasGrabbedManipulators=x.has(ne),ne.hasHoveredManipulators=V.has(ne);const ye=this._grabbedManipulators.values(),De=(0,Sr.I6)(ye,({tool:Ge})=>Ge===ne);ne.firstGrabbedManipulator=null!=De?De.manipulator:null})}clearPointers(g,{forEachTool:x,setActiveTool:V},ne=!0,ye){const De=(Ge,$e)=>Ge===g&&(null==ye||ye===$e);this._grabbedManipulators.forEach(({tool:Ge,manipulator:$e,pointerType:Qe},pt)=>{De(Ge,$e)&&(this._grabbedManipulators.delete(pt),$e.grabbing=!1,$e.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:Qe}))}),this._draggedManipulators.forEach(({tool:Ge,manipulator:$e},Qe)=>{De(Ge,$e)&&(this._draggedManipulators.delete(Qe),$e.dragging=!1,$e.events.emit("drag",{action:"cancel"}))}),ne&&this._hoveredManipulators.forEach(({tool:Ge,manipulator:$e},Qe)=>{De(Ge,$e)&&(this._hoveredManipulators.delete(Qe),$e.hovering=!1)}),this._afterManipulatorRelease(V),this._onFocusChange(x)}updateHoveredStateFromKnownPointers(g){this._pointerLocations.forEach((x,V)=>{this._updateHoveredStateForPointerAtScreenPosition((0,$t.tc)(x.x,x.y),V,x.pointerType,g)})}handleHoverEvent(g,x){const V=g.type;"pointer-up"!==V&&"immediate-click"!==V&&"pointer-move"!==V||!mi(g.pointerType)||("pointer-up"!==V&&this._externallyDragging?this._clearHoveredManipulatorStates(g.pointerId):this._updateHoveredStateForPointerAtScreenPosition((0,Ss.ZV)(g),g.pointerId,g.pointerType,x))}_updateHoveredStateForPointerAtScreenPosition(g,x,V,ne){let ye=bn(g,V,ne);const De=this._hoveredManipulators.get(x)?.manipulator;null==ye||ye.manipulator.interactive||(ye=null),null!=ye&&De===ye.manipulator||(null!=De&&(De.hovering=!1),null!=ye?(ye.manipulator.hovering=!0,this._hoveredManipulators.set(x,ye)):this._hoveredManipulators.delete(x),this._onFocusChange(ne))}_afterManipulatorRelease(g){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(g(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(g){this._hoveredManipulators.forEach(({manipulator:x},V)=>{g===V&&(this._hoveredManipulators.delete(g),x.hovering=!1)})}}function fi(f){for(const{manipulator:g}of f.values())if(null!=g&&g.interactive){if(g.grabbing&&g.grabCursor)return g.grabCursor;if(g.cursor)return g.cursor}return null}function bn(f,g,x){let V=null;return x(ne=>{if(null==ne.manipulators||!Gn(ne))return!1;const ye=ne.manipulators.intersect(f,g);return null!=ye&&(V={tool:ne,manipulator:ye},!0)}),V}function mi(f){return"mouse"===f}function Cr(f){return"mouse"!==f.pointerType||0===f.button}function nn(f,g){f?.consumesClicks&&g()}const _i="attached",rn="tools";let Cs=class extends G.A{constructor(f){super(f),this._updatingHandles=new zt.U,this._clock=Rn.p,this._manipulatorState=new io,this.tools=new T.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=g=>{for(const x of this.tools.items)if(g(x))return}}initialize(){var f;this.addHandles([this.view.on(ii,f=>{this._handleInputEvent(f)},us.o.TOOL),...(f=this.tools,[f.on("before-add",g=>{const x=g.item;if(null==x||f.includes(x))return O.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void g.preventDefault();x.onAdd()}),f.on("after-remove",g=>{const x=g.item;x.active&&(x.view.activeTool=null),x.destroy()})]),this.tools.on("before-add",({item:f})=>{this._updateToolEditableFlag(f)}),this.tools.on("before-remove",({item:f})=>{this._manipulatorState.clearPointers(f,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(f=>f.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:f=>{this.activeTool=f},view:this.view}}set activeTool(f){if(null!=f&&!this.view.ready)return void O.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(f===this.activeTool)return;const g=this.activeTool;this._set("activeTool",f),g?.deactivate(),f?.activate(),this._removeIncompleteTools(f);for(const x of this.tools){this._updateToolEditableFlag(x);const V=Gn(x);null!=this.activeTool&&V||this._manipulatorState.clearPointers(x,this._manipulatorStateEventArgs,!V)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(f=>f.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,v.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,Ce.wB)(()=>{const{state:f}=this.view;return"camera"in f&&f.camera},()=>this._forEachManipulator(f=>f.onViewChange())),this.view.elevationProvider?.on("elevation-change",f=>this._forEachManipulator(g=>g.onElevationChange(f)))],_i):this.addHandles((0,Ce.wB)(()=>this.view.extent,()=>this._forEachManipulator(f=>f.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(_i),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(f){this._forEachTool(g=>{g.manipulators&&g.manipulators.forEach(({manipulator:x})=>f(x,g))})}_handleInputEvent(f){let g=!1;const x={...f,stopPropagation:()=>{g=!0,f.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(x):this._forEachTool(V=>{!g&&V.visible&&V.handleInputEvent(x)}),!g&&"key-down"===f.type&&"Escape"===f.key&&this.activeTool&&(f.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(x,this._manipulatorStateEventArgs),g||null==this.activeTool||this.activeTool.handleInputEventAfter(x),this._manipulatorState.handleHoverEvent(x,this._forEachTool),this._updateCursor(),"pointer-move"===f.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(rn),this._forEachTool(f=>{if(f instanceof G.A){const g=(0,Ce.wB)(()=>[f.cursor,f.visible,f.editable],()=>{Gn(f)||this._manipulatorState.clearPointers(f,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(g,rn)}f.manipulators&&this.addHandles([f.manipulators.on("after-remove",g=>{this._manipulatorState.clearPointers(f,this._manipulatorStateEventArgs,!0,g.item.manipulator)}),f.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],rn)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(f){f.setEditableFlag?.(Zn.PK.MANAGER,null==this.activeTool||f===this.activeTool)}_updateCursor(){let f=this._manipulatorState.cursor;null==f&&this._forEachTool(g=>!(null==g.cursor||!g.visible||(f=g.cursor,0))),this._get("cursor")!==f&&this._set("cursor",f)}_removeIncompleteTools(f){this.tools.filter(g=>(null==f||g!==f)&&!g.created&&g.removeIncompleteOnCancel).forEach(g=>{this.tools.remove(g)})}get test(){}};(0,_._)([(0,m.MZ)({constructOnly:!0,nonNullable:!0})],Cs.prototype,"view",void 0),(0,_._)([(0,m.MZ)({value:null})],Cs.prototype,"activeTool",null),(0,_._)([(0,m.MZ)({readOnly:!0,type:T.A})],Cs.prototype,"tools",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Cs.prototype,"cursor",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Cs.prototype,"updating",null),(0,_._)([(0,m.MZ)()],Cs.prototype,"_interacting",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Cs.prototype,"interacting",null),Cs=(0,_._)([(0,D.$)("esri.views.ToolViewManager")],Cs);var Rr=u(56253),xn=u(33553);let Un=class extends G.A{constructor(f){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",this._detectedDeviceType="standard"===f.mapping?"standard":lo.test(f.id)?"spacemouse":"unknown",this.nativeIndex=f.index}get native(){const f=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<f.length?f[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return co[this.deviceType]}};(0,_._)([(0,m.MZ)({nonNullable:!0,readOnly:!0})],Un.prototype,"nativeIndex",void 0),(0,_._)([(0,m.MZ)({type:String,readOnly:!0})],Un.prototype,"deviceType",null),(0,_._)([(0,m.MZ)({type:Number,readOnly:!0})],Un.prototype,"axisThreshold",null),Un=(0,_._)([(0,D.$)("esri.views.input.gamepad.GamepadInputDevice")],Un);const Vn=Un,lo=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),co={standard:.15,spacemouse:.025,unknown:0};let $n=class extends G.A{constructor(...f){super(...f),this.devices=new T.A,this.enabledFocusMode="document"}};(0,_._)([(0,m.MZ)({type:T.A.ofType(Vn),readOnly:!0})],$n.prototype,"devices",void 0),(0,_._)([(0,m.MZ)({type:["document","view","none"]})],$n.prototype,"enabledFocusMode",void 0),$n=(0,_._)([(0,D.$)("esri.views.input.gamepad.GamepadSettings")],$n);const uo=$n;let ur=class extends G.A{constructor(){super(...arguments),this.gamepad=new uo}};(0,_._)([(0,m.MZ)({readOnly:!0})],ur.prototype,"gamepad",void 0),ur=(0,_._)([(0,D.$)("esri.views.input.Input")],ur);const ho=ur;var Ir=u(76157),po=u(23159);const wr=()=>(0,m.MZ)({type:["pan","rotate","zoom","none"],nonNullable:!0});let yn=class extends G.A{constructor(f){super(f),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};(0,_._)([wr()],yn.prototype,"dragPrimary",void 0),(0,_._)([wr()],yn.prototype,"dragSecondary",void 0),(0,_._)([wr()],yn.prototype,"dragTertiary",void 0),(0,_._)([(0,m.MZ)({type:["zoom","none"],nonNullable:!0})],yn.prototype,"mouseWheel",void 0),yn=(0,_._)([(0,D.$)("esri.views.navigation.NavigationActionMap")],yn);const Lr=yn;let on=class extends G.A{constructor(f){super(f),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,_._)([(0,m.MZ)({type:Boolean,nonNullable:!0})],on.prototype,"enabled",void 0),(0,_._)([(0,m.MZ)({type:Vn})],on.prototype,"device",void 0),(0,_._)([(0,m.MZ)({type:["pan","zoom"],nonNullable:!0})],on.prototype,"mode",void 0),(0,_._)([(0,m.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],on.prototype,"tiltDirection",void 0),(0,_._)([(0,m.MZ)({type:Number,nonNullable:!0})],on.prototype,"velocityFactor",void 0),on=(0,_._)([(0,D.$)("esri.views.navigation.gamepad.GamepadSettings")],on);const br=on;let an=class extends G.A{constructor(f){super(f),this.actionMap=new Lr,this.browserTouchPanEnabled=!0,this.gamepad=new br,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,Ir.O)()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(f){(0,po.Lx)(O.A.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=f?"zoom":"none"}};(0,_._)([(0,m.MZ)({type:Lr,nonNullable:!0})],an.prototype,"actionMap",void 0),(0,_._)([(0,m.MZ)({type:Boolean})],an.prototype,"browserTouchPanEnabled",void 0),(0,_._)([(0,m.MZ)({type:br,nonNullable:!0})],an.prototype,"gamepad",void 0),(0,_._)([(0,m.MZ)({type:Boolean})],an.prototype,"momentumEnabled",void 0),(0,_._)([(0,m.MZ)({type:Boolean})],an.prototype,"mouseWheelZoomEnabled",null),an=(0,_._)([(0,D.$)("esri.views.navigation.Navigation")],an);const hr=an;var yi=u(3846),gi=u(23191);let xr,Ur=null;function fo(f){return jr.apply(this,arguments)}function jr(){return(jr=(0,F.A)(function*(f){Ur||(Ur=u.e(2076).then(u.bind(u,65385)).then(g=>xr=g)),yield Ur,(0,M.Te)(f)})).apply(this,arguments)}function vi(f,g,x,V){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,F.A)(function*(f,g,x,V){if(!f)return null;const ne=f.spatialReference;return(0,be.isLoaded)()||(0,be.canProjectWithoutEngine)(ne,g)?(0,be.project)(f,g):xr?xr.projectGeometry(f,g,x,V):(yield Promise.race([fo(V),(0,be.load)(V)]),vi(f,g,x,V))})).apply(this,arguments)}let ts=class extends G.A{constructor(f){super(f),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,v.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const f=this.map?.(),g=[];return null!=this.priorityCollection&&g.push(this.priorityCollection),g.push({parent:f?.basemap,layers:f?.basemap?.baseLayers},{layers:f?.layers},{parent:f?.ground,layers:f?.ground?.layers},{parent:f?.basemap,layers:f?.basemap?.referenceLayers}),g}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let f;if(this._collectLayers(this.mapCollections,x=>{const V=this._getSupportedSpatialReferences(x);if(V.length>0){const ne=this._narrowDownSpatialReferenceCandidates(f,V);null!=ne&&(f=ne)}return 1===f?.length})&&1!==f?.length)return{updating:!0};const g=this._pickSpatialReferenceCandidate(f);return{spatialReference:g?.spatialReference??null,viewingMode:g?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const f=this.map?.(),g=this.spatialReference;if(!g)return{updating:this._spatialReferenceTask.updating};let x;const V=this._collectLayers([{parent:f?.basemap,layers:f?.basemap?.baseLayers},{layers:f?.layers}],ne=>!(!("tileInfo"in ne)||!ne.tileInfo?.spatialReference.equals(g)||(x=ne,0)),ne=>"tileInfo"in ne);return x?{tileInfo:x.tileInfo,updating:!1}:{updating:V}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let f={};const g=this._collectLayers(this.mapCollections,x=>{const V=(0,yi.zy)(x);return!!V&&(f={heightModelInfo:V,vcsWkid:x.spatialReference?.vcsWkid,latestVcsWkid:x.spatialReference?.latestVcsWkid},!0)},x=>(0,yi.jI)(x));return{...f,updating:g}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const f=[],g=this._collectLayers(this.mapCollections,x=>{const V="fullExtents"in x&&x.fullExtents||(null!=x.fullExtent?[x.fullExtent]:[]),ne=this.requiresExtentInSpatialReference?null:V[0],ye=V.find(De=>De.spatialReference.equals(this.spatialReference))??ne;if(ye)return f.push({extent:ye,layer:x}),!0;if(this._getSupportedSpatialReferences(x).length>0)for(const De of V)f.push({extent:De,layer:x});return!1});return{candidates:f,updating:g}}get _extentTask(){var f=this;const{candidates:g,updating:x}=this._extentCandidatesTask;if(x)return{updating:x};if(null==g||0===g.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const V=this._pickExtentCandidate(g),ne=this.spatialReference;return V.extent.equals(this._projectExtentTask.input)&&ne.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,v.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:V.extent.clone(),output:null,spatialReference:ne.clone(),task:(0,Nt.UT)(function(){var ye=(0,F.A)(function*(De){try{const Ge=yield vi(V.extent,ne,"portalItem"in V.layer?V.layer.portalItem:void 0,De);f._projectExtentTask={...f._projectExtentTask,task:null,output:Ge}}catch{if((0,M.G4)(De))return;f._projectExtentTask={...f._projectExtentTask,task:null}}});return function(De){return ye.apply(this,arguments)}}())},{updating:!0})}_narrowDownSpatialReferenceCandidates(f,g){if(null==f)return g;const x=new Array;for(const V of f)for(const ne of g){if(!V.spatialReference.equals(ne.spatialReference))continue;const ye=_o(V.viewingMode,ne.viewingMode);if(!1!==ye){x.push({spatialReference:V.spatialReference,viewingMode:ye});break}}return x.length>0?x:null}_pickSpatialReferenceCandidate(f){const g=this.defaultSpatialReference;return null==f||f.length<1?g?{spatialReference:g,viewingMode:null}:null:(null!=g&&f.length>1&&f.some(({spatialReference:x})=>x.equals(g))&&(f=f.filter(({spatialReference:x})=>x.equals(g))),f.length>1&&f.some(({viewingMode:x})=>x!==gi.RT.Local)&&(f=f.filter(({viewingMode:x})=>x!==gi.RT.Local)),f[0])}_getSupportedSpatialReferences(f){const g="supportedSpatialReferences"in f&&f.supportedSpatialReferences||(f.spatialReference?[f.spatialReference]:[]);if(0===g.length)return[];const x=[];for(const V of g){const ne=this.getSpatialReferenceSupport(V,f);if(null!=ne){const ye=ne.constraints??[{spatialReference:V,viewingMode:null}];for(const{spatialReference:De,viewingMode:Ge}of ye)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!De.equals(this.userSpatialReference)||x.push({spatialReference:De,viewingMode:Ge})}}return x}_pickExtentCandidate(f){const g=this.spatialReference;return f.find(({extent:x})=>g.equals(x.spatialReference))||f[0]}_collectLayers(f,g,x=(()=>!0)){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const V=new mo(x,g);for(const ne of f)if(this._collectCollection(ne,V),V.done||V.preloading===this.sourcePreloadCount)break;return V.updating}_collectCollection(f,g){if(f.layers){switch(this._loadMaybe(f.parent)){case"loading":return g.updating=!0,void++g.preloading;case"failed":return}for(const x of f.layers)if(g.layerFilter(x)){switch(this._loadMaybe(x)){case"failed":continue;case"loading":g.updating=!0,++g.preloading;break;case"loaded":if(g.updating||(g.done=g.pushLayer(x)),g.done||g.preloading===this.sourcePreloadCount)break;"layers"in x&&this._collectCollection({layers:x.layers},g)}if(g.done||g.preloading===this.sourcePreloadCount)break}}}_loadMaybe(f){return f&&"loadStatus"in f&&null!=f.loadStatus?"not-loaded"===f.loadStatus?(f.load().catch(g=>{(0,M.zf)(g)}),"loading"):f.loadStatus:"loaded"}};(0,_._)([(0,m.MZ)()],ts.prototype,"required",void 0),(0,_._)([(0,m.MZ)({constructOnly:!0})],ts.prototype,"map",void 0),(0,_._)([(0,m.MZ)({constructOnly:!0})],ts.prototype,"getSpatialReferenceSupport",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"defaultSpatialReference",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"userSpatialReference",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"sourcePreloadCount",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"priorityCollection",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"requiresExtentInSpatialReference",void 0),(0,_._)([(0,m.MZ)()],ts.prototype,"suspended",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"ready",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"heightModelInfoReady",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"spatialReference",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"extent",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"heightModelInfo",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"vcsWkid",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"latestVcsWkid",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"viewingMode",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"tileInfo",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"mapCollections",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"_spatialReferenceTask",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"_tileInfoTask",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"_heightModelInfoTask",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ts.prototype,"_extentCandidatesTask",null),(0,_._)([(0,m.MZ)()],ts.prototype,"_extentTask",null),(0,_._)([(0,m.MZ)()],ts.prototype,"_projectExtentTask",void 0),ts=(0,_._)([(0,D.$)("esri.views.support.DefaultsFromMap")],ts);class mo{constructor(g,x){this.layerFilter=g,this.pushLayer=x,this.preloading=-1,this.updating=!1,this.done=!1}}function _o(f,g){return null!=f?null!=g?f===g&&f:f:g}let gn=class extends G.A{constructor(f){super(f),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};(0,_._)([(0,m.MZ)()],gn.prototype,"featureTitleFields",void 0),(0,_._)([(0,m.MZ)()],gn.prototype,"utilityNetworkFields",void 0),(0,_._)([(0,m.MZ)()],gn.prototype,"globalIdField",void 0),gn=(0,_._)([(0,D.$)("esri.views.support.RequiredFieldsOptions")],gn);const Ei=gn;var Hn;let Pt=Hn=class extends(J.A.EventedMixin(ut.A.EsriPromiseMixin(G.A))){constructor(f){super(f),this._userSpatialReference=null,this._cursor=null,this.handles=new it.A,this.updatingHandles=new zt.U,this.allLayerViews=new se.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:vn}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new Fs.Y,this.analyses=new Ts,this.typeSpecificPreconditionsReady=!0,this.layerViews=new T.A,this.magnifier=new ds,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new ho,this.navigation=new hr,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new ci(this),this.persistableViewModels=new T.A,this.requiredFieldsOptions=new Ei,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add((0,Ce.wB)(()=>this.preconditionsReady,g=>{const x=this.ready;if(g?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,Hn.views.add(this)):(this._lockedSpatialReference=null,Hn.views.remove(this)),this.notifyChange("spatialReference"),!g&&x)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(g&&!x){try{this._startup()}catch(V){return void queueMicrotask(()=>{this.fatalError=new P.A("startup-error",null,V)})}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Ce.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,(0,Ce.C_)(()=>this.ready)))),this.basemapView=new yt({view:this}),this.layerViewManager=new ls({view:this,layerViewImporter:{importLayerView:f=>this.importLayerView(f),hasLayerViewModule:f=>this.hasLayerViewModule(f)},supportsGround:this.supportsGround}),this.toolViewManager=new Cs({view:this}),this.selectionManager=new ri({view:this}),this.addHandles([(0,Ce.z7)(()=>"map-content-error"===this.readyState&&!this.spatialReference,()=>{O.A.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),(0,Ce.wB)(()=>this.initialExtentRequired,f=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:f},Ce.pc),(0,Ce.wB)(()=>this.ready,f=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=f,this.defaultsFromMap.userSpatialReference=f?this.spatialReference:this._userSpatialReference)},Ce.OH),(0,Ce.wB)(()=>this._userSpatialReference,f=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=f)},Ce.pc)])}destroy(){this.destroyed||(Hn.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,v.pR)(this.graphics),this.analyses=(0,v.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,v.pR)(this.analysisViewManager),this.toolViewManager=(0,v.pR)(this.toolViewManager),this.layerViewManager=(0,v.pR)(this.layerViewManager),this.selectionManager=(0,v.pR)(this.selectionManager),this.basemapView=(0,v.pR)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(f=>f.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,v.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return O.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(f){this.toolViewManager&&(this.toolViewManager.activeTool=f)}get animation(){return this._get("animation")}set animation(f){this._set("animation",f)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new ts({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(f,g)=>this.getSpatialReferenceSupport(f,g),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(f){this._set("extent",f)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??function ao(){return new(T.A.ofType(xn.A))([new xn.A({name:Rr.Tv}),new xn.A({name:Rr.n4,color:Rr.lH})])}()}set highlights(f){this._set("highlights",(0,y.V)(f,this._get("highlights"),T.A.ofType(xn.A)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||U.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(f){f!==this._get("map")&&(f?.destroyed&&(O.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:f}),f=null),U.A.isLoadable(f)&&f.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",f))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if(this.defaultsFromMap?.ready&&!this.spatialReference){const g=this.map.ground.loaded;return"loaded"in this.map&&!this.map.loaded||!(this.map.basemap?.loaded??1)||!g||this.map?.allLayers.length?(this._readyStateWaitingTask||(this._readyStateWaitingTask=(0,Nt.UT)(V=>(0,M.Pl)((0,b.A)("view-readyState-waiting-delay"),null,V)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading"):"empty-map"}return this._readyStateWaitingTask=(0,v.DC)(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const f=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(f&&this.defaultsFromMap?.required?.heightModelInfo){const g=f.clone();return g.vcsWkid=this.defaultsFromMap.vcsWkid,g.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,g}return f}set spatialReference(f){const g=!(0,Os.aI)(f,this._get("spatialReference"));this._set("_userSpatialReference",f),g&&(this._set("spatialReference",f),this._spatialReferenceChanged(f))}_spatialReferenceChanged(f){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(f){this._userTimeExtent=f}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??le.qU}set timeZone(f){this._userTimeZone=f,(0,Ye.wr)(f)||O.A.getLogger(this).warn("#timeZone",`the parsed value '${f}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(f){this._cursor=f,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new cr}whenLayerView(f){return this.layerViewManager?.whenLayerView(f)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(f){throw new P.A("importLayerView() not implemented")}hasLayerViewModule(f){return!1}validate(){return(0,F.A)(function*(){})()}loadAsyncDependencies(){return(0,F.A)(function*(){})()}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(f){return null!=this.getSpatialReferenceSupport(f)}when(f,g){return this.isResolved()&&!this.ready&&O.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(f,g)}forceReadyCycle(){this.ready&&((0,Ce.z7)(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(f){this.toolViewManager.tools.add(f),this.activeTool=f}tryFatalErrorRecovery(){this.fatalError=null}};Pt.views=new T.A,(0,_._)([(0,m.MZ)()],Pt.prototype,"_userSpatialReference",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"activeTool",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"allLayerViews",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"groundView",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"animation",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"basemapView",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"center",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"defaultsFromMapSettings",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"defaultsFromMap",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"displayFilterEnabled",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"fatalError",void 0),(0,_._)([(0,m.MZ)({type:mt.A})],Pt.prototype,"extent",null),(0,_._)([(0,m.MZ)((0,At.C)(Fs.Y,"graphics"))],Pt.prototype,"graphics",void 0),(0,_._)([(0,m.MZ)((0,At.C)(Ts,"analyses"))],Pt.prototype,"analyses",void 0),(0,_._)([(0,m.MZ)({readOnly:!0,type:Zt.A})],Pt.prototype,"heightModelInfo",null),(0,_._)([(0,m.MZ)({type:T.A.ofType(xn.A)})],Pt.prototype,"highlights",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"interacting",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"navigating",null),(0,_._)([(0,m.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Pt.prototype,"preconditionsReady",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"typeSpecificPreconditionsReady",void 0),(0,_._)([(0,m.MZ)({type:T.A,readOnly:!0})],Pt.prototype,"layerViews",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"resolution",null),(0,_._)([(0,m.MZ)({type:ds})],Pt.prototype,"magnifier",void 0),(0,_._)([(0,m.MZ)({value:null,type:Ee})],Pt.prototype,"map",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"padding",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"ready",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_readyStateWaitingTask",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"readyState",null),(0,_._)([(0,m.MZ)({type:_s.A})],Pt.prototype,"spatialReference",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"stationary",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"supportsGround",void 0),(0,_._)([(0,m.MZ)({type:et.A})],Pt.prototype,"timeExtent",null),(0,_._)([(0,m.MZ)({type:String,nonNullable:!0})],Pt.prototype,"timeZone",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"tools",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"toolViewManager",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"type",void 0),(0,_._)([(0,m.MZ)({type:Number})],Pt.prototype,"scale",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"updating",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"initialExtentRequired",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"initialExtent",null),(0,_._)([(0,m.MZ)()],Pt.prototype,"cursor",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"input",void 0),(0,_._)([(0,m.MZ)({type:hr,nonNullable:!0})],Pt.prototype,"navigation",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"layerViewManager",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"analysisViewManager",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"selectionManager",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"width",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"height",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"resizing",void 0),(0,_._)([(0,m.MZ)({value:null,readOnly:!0})],Pt.prototype,"size",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"suspended",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"viewEvents",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Pt.prototype,"persistableViewModels",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_isValid",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_readyCycleForced",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_lockedSpatialReference",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_userTimeZone",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_lockedTimeZone",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_userTimeExtent",void 0),(0,_._)([(0,m.MZ)()],Pt.prototype,"_lockedTimeExtent",void 0),(0,_._)([(0,m.MZ)({type:cr})],Pt.prototype,"theme",void 0),(0,_._)([(0,m.MZ)({readOnly:!0,type:cr})],Pt.prototype,"effectiveTheme",null),Pt=Hn=(0,_._)([(0,D.$)("esri.views.View")],Pt);const ln=globalThis.$arcgis;ln&&!ln.views&&Object.defineProperty(ln,"views",{configurable:!1,enumerable:!0,writable:!1,value:Pt.views});const yo=Pt;function vn(f){return f.layerViews}var Is=u(83953),zs=u(45475),Yt=u(6126),kn=u(85952),dr=u(76329),Jt=u(3672),cn=u(44999),jn=u(31610),ns=u(12273),Jn=u(88532);function Br(f){return function Mi(f){return f instanceof Float32Array&&f.length>=2}(f)||function go(f){return Array.isArray(f)&&f.length>=2}(f)}var Ai,Ps=u(1749),Xt=u(77098);const Vs=[0,0];let $s=Ai=class extends C.A{constructor(f){super(f),this._viewpoint2D={center:(0,zs.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new mt.A,this.id=0,this.inverseTransform=(0,cn.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,cn.vt)(),this.transformNoRotation=(0,cn.vt)(),this.displayMat3=(0,ns.vt)(),this.displayViewMat3=(0,ns.vt)(),this.viewMat3=(0,ns.vt)(),this.viewMat2d=(0,Jt.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(f){this._set("pixelRatio",f),this._update()}set size(f){this._set("size",f),this._update()}set viewpoint(f){if(f){const g=this._viewpoint2D,x=f.targetGeometry;g.center[0]=x.x,g.center[1]=x.y,g.rotation=f.rotation,g.scale=f.scale,g.spatialReference=x.spatialReference}this._update()}get visibleArea(){const[f,g]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,g),this.toMap([0,0],f,g),this.toMap([0,0],f,0)]}copy(f){const g=this.size,x=this.viewpoint;return x&&g?(this.viewpoint=(0,Yt.C)(x,f.viewpoint),this._set("size",(0,Is.C)(g,f.size))):(this.viewpoint=f.viewpoint.clone(),this._set("size",[f.size[0],f.size[1]])),this._set("pixelRatio",f.pixelRatio),this}clone(){return new Ai({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(f,g,x){return Br(g)?(0,Is.l0)(f,g,this.inverseTransform):(Vs[0]=g,Vs[1]=x,(0,Is.l0)(f,Vs,this.inverseTransform))}toScreen(f,g,x){return Br(g)?(0,Is.l0)(f,g,this.transform):(Vs[0]=g,Vs[1]=x,(0,Is.l0)(f,Vs,this.transform))}toScreenNoRotation(f,g,x){return Br(g)?(0,Is.l0)(f,g,this.transformNoRotation):(Vs[0]=g,Vs[1]=x,(0,Is.l0)(f,Vs,this.transformNoRotation))}wrapMapCoordinate(f,g){(0,Is.C)(f,g);const[x]=g,[V]=this.center,{extent:ne,spatialReference:ye}=this;let{xmin:De,xmax:Ge}=ne;if(ye.isWrappable){const $e=(0,Yt.FT)(ye)/2;De=Math.max(De,V-$e),Ge=Math.min(Ge,V+$e)}return(x<De||x>Ge)&&(f[0]=(0,Xt.O7)(x,V,ye)),f}getScreenTransform(f,g){const{center:x}=this._viewpoint2D,V=this._get("pixelRatio")||1,ne=this._get("size");return(0,Yt.GL)(f,x,ne,g,0,V),f}_update(){const{center:f,spatialReference:g,scale:x,rotation:V}=this._viewpoint2D,ne=this._get("pixelRatio")||1,ye=this._get("size"),De=new Me.A({targetGeometry:new Ps.A(f[0],f[1],g),scale:x,rotation:V});if(this._set("viewpoint",De),!ye||!g||!x)return;this.resolution=(0,Yt.Hn)(De),this.rotation=V,this.scale=x,this.spatialReference=g,(0,Is.C)(this.center,f),(0,jn.hZ)(this.displayMat3,0!==ye[0]?2/ye[0]:0,0,0,0,0!==ye[1]?-2/ye[1]:0,0,-1,1,1);const Qe=(0,jn.D_)(this.viewMat3),pt=(0,Jn.fA)(ye[0]/2,ye[1]/2),Mt=(0,Jn.fA)(-ye[0]/2,-ye[1]/2),_t=(0,kn.DF)(V);(0,jn.Tl)(Qe,Qe,pt),(0,jn.e$)(Qe,Qe,_t),(0,jn.Tl)(Qe,Qe,Mt),(0,jn.lw)(this.displayViewMat3,this.displayMat3,Qe);const jt=(0,dr.kN)(this.viewMat2d,pt);return(0,dr.e$)(jt,jt,_t),(0,dr.Tl)(jt,jt,Mt),(0,Yt.Z7)(this.extent,De,ye),(0,Yt.RG)(this.transform,De,ye,ne),(0,dr.B8)(this.inverseTransform,this.transform),(0,Yt.cp)(this.transformNoRotation,De,ye,ne),this.worldScreenWidth=(0,Yt.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};(0,_._)([(0,m.MZ)({readOnly:!0})],$s.prototype,"id",void 0),(0,_._)([(0,m.MZ)({value:1,json:{write:!0}})],$s.prototype,"pixelRatio",null),(0,_._)([(0,m.MZ)({json:{write:!0}})],$s.prototype,"size",null),(0,_._)([(0,m.MZ)()],$s.prototype,"spatialReference",void 0),(0,_._)([(0,m.MZ)({type:Me.A,json:{write:!0}})],$s.prototype,"viewpoint",null),(0,_._)([(0,m.MZ)({readOnly:!0})],$s.prototype,"visibleArea",null),$s=Ai=(0,_._)([(0,D.$)("esri.views.2d.ViewState")],$s);const Pi=$s;var pr,ws;let Hs=pr=class extends G.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new pr({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,_._)([(0,m.MZ)()],Hs.prototype,"left",void 0),(0,_._)([(0,m.MZ)()],Hs.prototype,"top",void 0),(0,_._)([(0,m.MZ)()],Hs.prototype,"right",void 0),(0,_._)([(0,m.MZ)()],Hs.prototype,"bottom",void 0),Hs=pr=(0,_._)([(0,D.$)("esri.views.2d.PaddedViewState.Padding")],Hs);let sn=ws=class extends Pi{constructor(...f){super(...f),this.paddedViewState=new Pi,this._updateContent=(()=>{const g=(0,zs.vt)();return()=>{const x=this._get("size"),V=this._get("padding");if(!x||!V)return;const ne=this.paddedViewState;(0,Is.hZ)(g,V.left+V.right,V.top+V.bottom),(0,Is.Re)(g,x,g),(0,Is.C)(ne.size,g);const ye=ne.viewpoint;ye&&(this.viewpoint=ye)}})(),this.addHandles((0,Ce.wB)(()=>[this.size,this.padding],()=>this._updateContent(),Ce.OH)),this.padding=new Hs,this.size=[0,0]}set padding(f){this._set("padding",f||new Hs)}set viewpoint(f){if(f){this.paddedViewState.viewpoint=f;let g=f;const x=this._get("padding");x&&(g=(0,Yt.nr)(f.clone(),f,this._get("size"),x));const{targetGeometry:V,rotation:ne,scale:ye}=g,{x:De,y:Ge,spatialReference:$e}=V,Qe=this._viewpoint2D;Qe.center[0]=De,Qe.center[1]=Ge,Qe.rotation=ne,Qe.scale=ye,Qe.spatialReference=$e,this._update()}}clone(){return new ws({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,_._)([(0,m.MZ)()],sn.prototype,"paddedViewState",void 0),(0,_._)([(0,m.MZ)({type:Hs})],sn.prototype,"padding",null),(0,_._)([(0,m.MZ)()],sn.prototype,"viewpoint",null),sn=ws=(0,_._)([(0,D.$)("esri.views.2d.PaddedViewState")],sn);const Wr=sn;var fr=u(40830),vo=u(34150);class Eo{constructor(g){this.view=g,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=(0,vo.mj)(),this._schedulerHandle=(0,Ce.z7)(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==this.view.animation?.target||(0,M.$X)(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=x=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:V,graphicsView:ne,labelManager:ye,state:{id:De}}=this.view;V?.forEach(this._updateLayerView,this),null!=ye&&(ye.lastUpdateId!==De&&(ye.viewChange(),ye.lastUpdateId=De),ye.updateRequested&&ye.processUpdate(this._updateParameters)),null!=ne&&(ne.lastUpdateId!==De&&(ne.viewChange(),ne.lastUpdateId=De),ne.updateRequested&&ne.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this._scheduler.state=this.view.animation?fr.M.ANIMATING:this.view.interacting?fr.M.INTERACTING:fr.M.IDLE,this._scheduler.frame(x)||this._updateRequested||this._scheduler.state!==fr.M.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const g=this.view;this.stationary=g.stationary,this._updateParameters={state:g.state,targetState:new Wr,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:g.renderingOptions},this._stationaryHandle=(0,Ce.wB)(()=>g.stationary,x=>{this.stationary=x,this.requestFrame()}),this._frameTaskHandle=(0,Vt.mg)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(g){if(!g.attached)return void this.requestUpdate();const x=this.view.state,V=g.lastUpdateId;null!=V&&(this.stationary||g.moving)||(g.moving=!0),V!==x.id&&g.viewChange(),this.stationary&&g.moving&&(g.moving=!1,g.moveEnd()),g.lastUpdateId=x.id,g.updateRequested&&g.processUpdate(this._updateParameters),"layerViews"in g&&g.layerViews?.forEach(this._updateLayerView,this)}}let un=class extends ut.A{constructor(f){super(f),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,M.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new P.A("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(f,g){g||(g=(0,M.$X)(f)?"waiting-for-target":"running"),this._set("target",f),this._set("state",g)}};(0,_._)([(0,m.MZ)({readOnly:!0})],un.prototype,"done",null),(0,_._)([(0,m.MZ)({readOnly:!0,type:String})],un.prototype,"state",void 0),(0,_._)([(0,m.MZ)()],un.prototype,"target",void 0),un=(0,_._)([(0,D.$)("esri.views.ViewAnimation")],un),(un||(un={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};const Fr=un;let mr=class extends G.A{constructor(f){super(f),this._gotoTask=null}destroy(){this._gotoTask=null}goTo(f,g){var x=this;return(0,F.A)(function*(){if(!f)return void O.A.getLogger(x).error("#goTo()","target cannot be null or undefined");const V=new Fr;x.view.animation=V,yield(0,Ce.C_)(()=>x.view.ready,g);const ne={...g,animate:g?.animate??!(0,Ir.O)(),animationMode:g?.animationMode??"auto"},{extent:ye,spatialReference:De,size:Ge,viewpoint:$e,constraints:Qe,padding:pt,allLayerViews:Mt}=x.view,_t=(0,Yt.vt)(f,{extent:ye,spatialReference:De,size:Ge,viewpoint:$e,constraints:Qe,padding:pt,allLayerViews:Mt,pickClosestTarget:g?.pickClosestTarget??!0});return V?.update(_t),x._gotoTask={},ne.animate?x._gotoAnimated(_t,ne):x._gotoImmediate(_t,ne)})()}_gotoImmediate(f,g){const x=this._gotoTask,V=this.view.animation,ne=f.then(ye=>{if((0,M.Te)(g),x!==this._gotoTask)throw new P.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=V.target=ye,V.finish()});return this._cancellableGoTo(x,V,ne,g)}_gotoAnimated(f,g){const x=this._gotoTask,V=this.view.animation;if(!V)return Promise.resolve();const ne=f.then(ye=>{if((0,M.Te)(g),x!==this._gotoTask)throw new P.A("view:goto-interrupted","Goto was interrupted");return V.update(ye),this.view.animationManager.animate(V,this.view.viewpoint,g),V.when().then(()=>{},()=>{})});return this._cancellableGoTo(x,V,ne,g)}_cancellableGoTo(f,g,x,V){const ne=()=>f===this._gotoTask;return(0,M.qr)(x,V).finally(()=>{ne()&&(g.done||g.stop())})}};(0,_._)([(0,m.MZ)({constructOnly:!0})],mr.prototype,"view",void 0),mr=(0,_._)([(0,D.$)("esri.views.2d.GoToManager")],mr);var zr,Kr=u(29598),Zr=u(3046),Gr=u(8190),Oi=u(15268);let hn=zr=class extends(Zr.A.NumericIdentifiableMixin(G.A)){constructor(f){super(f),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,be.project)(this.geometry,this.spatialReference)}catch(f){return O.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:f}),null}return this.geometry}constrain(f,g){if(null==this.normalizedGeometry)return f;const x=f.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,Gr.qz)(this.normalizedGeometry,x):(0,Gr.m3)(this.normalizedGeometry,x))return f;const{coordinate:V}=function Ti(f,g){const{spatialReference:x}=g,V=[g.x,g.y];let ne,ye,De,Ge;const $e=[0,0],Qe=function Di(f){switch(f.type){case"extent":return[[[f.xmin,f.ymin],[f.xmin,f.ymax],[f.xmax,f.ymax],[f.xmax,f.ymin],[f.xmin,f.ymin]]];case"polygon":return f.rings;case"polyline":return f.paths}}(f);for(let _t=0;_t<Qe.length;_t++){const jt=Qe[_t];for(let cs=0;cs<jt.length-1;cs++){(0,Oi.B1)($e,V,jt,cs);const bs=(0,Is.Io)(V,$e);(null==ne||bs<ne)&&(ne=bs,ye=[...$e],De=_t,Ge=cs)}}if(null==ne||!ye||null==De||null==Ge)throw new P.A("nearest-coordinate:failed","Failed to find the nearest coordinate");const[pt,Mt]=ye;return{coordinate:new Ps.A({x:pt,y:Mt,spatialReference:x}),distance:ne}}(this.normalizedGeometry,x);return V&&(f.targetGeometry=V),f}clone(){return new zr({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var Yn;(0,_._)([(0,m.MZ)({constructOnly:!0})],hn.prototype,"geometry",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],hn.prototype,"normalizedGeometry",null),(0,_._)([(0,m.MZ)({constructOnly:!0})],hn.prototype,"spatialReference",void 0),hn=zr=(0,_._)([(0,D.$)("esri.views.2d.constraints.GeometryConstraint")],hn);let Nn=Yn=class extends(Zr.A.NumericIdentifiableMixin(G.A)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(f,g){return this.enabled&&g&&(this.rotationEnabled||(f.rotation=g.rotation)),f}clone(){return new Yn({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,_._)([(0,m.MZ)()],Nn.prototype,"enabled",void 0),(0,_._)([(0,m.MZ)()],Nn.prototype,"rotationEnabled",void 0),Nn=Yn=(0,_._)([(0,D.$)("esri.views.2d.constraints.RotationConstraint")],Nn);const Bn=Nn;var Xn;let As=Xn=class extends(Zr.A.NumericIdentifiableMixin(G.A)){constructor(f){super(f),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let f,{lods:g,minScale:x,maxScale:V,minZoom:ne,maxZoom:ye}=this,De=-1,Ge=-1,$e=!1,Qe=!1;if(0!==x&&0!==V&&x<V&&([x,V]=[V,x]),!g?.length)return this._set("effectiveMinScale",x),void this._set("effectiveMaxScale",V);g=g.map(pt=>pt.clone()),g.sort((pt,Mt)=>Mt.scale-pt.scale),g.forEach((pt,Mt)=>pt.level=Mt);for(const pt of g)!$e&&x>0&&x>=pt.scale&&(De=pt.level,$e=!0),!Qe&&V>0&&V>=pt.scale&&(Ge=f?f.level:-1,Qe=!0),f=pt;-1===ne&&(ne=0===x?0:De),-1===ye&&(ye=0===V?g.length-1:Ge),ne=Math.max(ne,0),ne=Math.min(ne,g.length-1),ye=Math.max(ye,0),ye=Math.min(ye,g.length-1),ne>ye&&([ne,ye]=[ye,ne]),x=g[ne].scale,V=g[ye].scale,g.splice(0,ne),g.splice(ye-ne+1,g.length),g.forEach((pt,Mt)=>{this._lodByScale[pt.scale]=pt,this._scales[Mt]=pt.scale}),this._set("effectiveLODs",g),this._set("effectiveMinZoom",ne),this._set("effectiveMaxZoom",ye),this._set("effectiveMinScale",x),this._set("effectiveMaxScale",V)}constrain(f,g){if(g&&f.scale===g.scale)return f;const x=this.effectiveMinScale,V=this.effectiveMaxScale,ne=f.targetGeometry,ye=g&&g.targetGeometry,Ge=0!==x&&f.scale>x;if(0!==V&&f.scale<V||Ge){const $e=Ge?x:V;if(g&&ye){const Qe=($e-g.scale)/(f.scale-g.scale);ne.x=ye.x+(ne.x-ye.x)*Qe,ne.y=ye.y+(ne.y-ye.y)*Qe}f.scale=$e}return this.snapToZoom&&this.effectiveLODs&&(f.scale=this._getClosestScale(f.scale)),f}fit(f){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(f,null);const g=this.scaleToZoom(f.scale),x=Math.abs(g-Math.floor(g));return f.scale=this.zoomToScale(x>.99?Math.round(g):Math.floor(g)),f}zoomToScale(f){if(!this.effectiveLODs)return 0;f-=this.effectiveMinZoom,f=Math.max(0,f);const g=this._scales;if(f<=0)return g[0];if(f>=g.length)return g[g.length-1];const x=Math.floor(f),V=Math.ceil(f);return g[x]+(f-x)*(g[V]-g[x])}scaleToZoom(f){if(!this.effectiveLODs)return-1;const g=this._scales;let x,V;if(f>=g[0])return this.effectiveMinZoom;if(f<=g[g.length-1])return this.effectiveMaxZoom;for(let ne=0;ne<g.length-1;ne++){if(x=g[ne],V=g[ne+1],V===f)return ne+this.effectiveMinZoom+1;if(x>f&&V<f)return ne+this.effectiveMinZoom+1-(f-V)/(x-V)}return-1}snapToClosestScale(f){if(!this.effectiveLODs)return f;const g=this.scaleToZoom(f);return this.zoomToScale(Math.round(g))}snapToNextScale(f,g=.5){if(!this.effectiveLODs)return f*g;const x=Math.round(this.scaleToZoom(f));return this.zoomToScale(x+1)}snapToPreviousScale(f,g=2){if(!this.effectiveLODs)return f*g;const x=Math.round(this.scaleToZoom(f));return this.zoomToScale(x-1)}clone(){return new Xn({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(f){return this._lodByScale[f]||(f=this._scales.reduce((g,x)=>Math.abs(x-f)<=Math.abs(g-f)?x:g,this._scales[0])),this._lodByScale[f].scale}};(0,_._)([(0,m.MZ)({readOnly:!0})],As.prototype,"effectiveLODs",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],As.prototype,"effectiveMinZoom",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],As.prototype,"effectiveMaxZoom",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],As.prototype,"effectiveMinScale",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],As.prototype,"effectiveMaxScale",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"lods",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"minZoom",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"maxZoom",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"minScale",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"maxScale",void 0),(0,_._)([(0,m.MZ)()],As.prototype,"snapToZoom",void 0),As=Xn=(0,_._)([(0,D.$)("esri.views.2d.constraints.ZoomConstraint")],As);const dn=As,Si={base:null,key:"type",typeMap:{extent:mt.A,polygon:Ie.A}};let ss=class extends G.A{constructor(f){super(f),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new T.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(f){this._set("geometry",f||null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const f=this._get("_geometry");return f&&this.geometry===f.geometry&&this.view?.constraintsInfo.spatialReference===f.spatialReference?f:new hn({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new Bn({rotationEnabled:this.rotationEnabled})}get _zoom(){const f=this._get("_zoom"),g=this.lods||this.view?.constraintsInfo.lods,x=this.minZoom,V=this.maxZoom,ne=this.minScale,ye=this.maxScale,De=this.snapToZoom;return f&&f.lods===g&&f.minZoom===x&&f.maxZoom===V&&f.minScale===ne&&f.maxScale===ye&&f.snapToZoom===De?f:new dn({lods:g,minZoom:x,maxZoom:V,minScale:ne,maxScale:ye,snapToZoom:De})}canZoomInTo(f){const g=this.effectiveMaxScale;return 0===g||f>=g}canZoomOutTo(f){const g=this.effectiveMinScale;return 0===g||f<=g}constrain(f,g){return this._zoom.constrain(f,g),this._rotation.constrain(f,g),this._geometry.constrain(f,g),this.customConstraints.forEach(x=>x.constrain(f,g)),f}constrainByGeometry(f){return this._geometry.constrain(f),this.customConstraints.forEach(g=>g.applyPanConstraint?.(f)),f}fit(f){return this._zoom.fit(f)}zoomToScale(f){return this._zoom.zoomToScale(f)}scaleToZoom(f){return this._zoom.scaleToZoom(f)}snapScale(f){return this._zoom.snapToClosestScale(f)}snapToNextScale(f){return this._zoom.snapToNextScale(f)}snapToPreviousScale(f){return this._zoom.snapToPreviousScale(f)}};(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"effectiveLODs",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"effectiveMinScale",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"effectiveMaxScale",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"effectiveMinZoom",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"effectiveMaxZoom",null),(0,_._)([(0,m.MZ)({types:Si,value:null})],ss.prototype,"geometry",null),(0,_._)([(0,m.MZ)({type:[Kr.A]})],ss.prototype,"lods",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"minScale",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"maxScale",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"minZoom",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"maxZoom",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"rotationEnabled",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"snapToZoom",void 0),(0,_._)([(0,m.MZ)({type:T.A})],ss.prototype,"customConstraints",void 0),(0,_._)([(0,m.MZ)()],ss.prototype,"view",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ss.prototype,"version",null),(0,_._)([(0,m.MZ)({type:hn,readOnly:!0})],ss.prototype,"_geometry",null),(0,_._)([(0,m.MZ)({type:Bn})],ss.prototype,"_rotation",null),(0,_._)([(0,m.MZ)({readOnly:!0,type:dn})],ss.prototype,"_zoom",null),ss=(0,_._)([(0,D.$)("esri.views.2d.MapViewConstraints")],ss);const Qn=ss;var Vr=u(96996),Wn=u(33658);let ys=class extends G.A{constructor(f){super(f),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,Ce.wB)(()=>this.constraints?.version,g=>{this.constraints&&g&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Ce.OH)])}get center(){if(!this.ready)return this._get("center");const{center:f,spatialReference:g}=this.state.paddedViewState;return this.state.commitProperty("id"),new Ps.A({x:f[0],y:f[1],spatialReference:g})}set center(f){if(null==f)return;if(!this.ready)return void this._set("center",f);let g;try{g=this._project(f,this.state.spatialReference)}catch(V){return void O.A.getLogger(this).error(new P.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:f,error:V}))}const x=this.viewpoint;(0,Yt.Ji)(x,x,g),this.viewpoint=x}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(f){if(null==f)return;if(!f.width||!f.height)return void O.A.getLogger(this).error(new P.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",f),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let g;try{g=this._project(f,this.state.spatialReference)}catch(V){return void O.A.getLogger(this).error(new P.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:V}))}const x=this.viewpoint;(0,Yt.b)(x,x,g,this.state.size,{constraints:this.constraints}),this.viewpoint=x}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(f){this.ready?(this.state.padding=f,this._set("padding",this.state.padding)):this._set("padding",f)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(f){if(isNaN(f))return;if(!this.ready)return void this._set("rotation",f);const g=this.viewpoint;(0,Yt.$0)(g,g,f),this.viewpoint=g}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(f){if(!f||isNaN(f))return;if(!this.ready){this._set("scale",f),this._set("zoom",void 0);const x=this._get("extent");return void(x&&(this._set("extent",void 0),this._set("center",x.center)))}const g=this.viewpoint;(0,Yt.UR)(g,g,f),this.viewpoint=g}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(f){if(null==f)return;if(!this.ready)return this._set("viewpoint",f),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let g,x;try{g=this._project(f,this.state.spatialReference),!f.scale||isNaN(f.scale)?x=new P.A("mapview:invalid-viewpoint",`invalid scale value of ${f.scale}`):null==f.targetGeometry&&(x=new P.A("mapview:invalid-viewpoint","geometry not defined"))}catch(ne){x=new P.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:ne})}if(x)return void O.A.getLogger(this).error(x);this._scaleBeforeChangingSpatialReference=null;const V=new Me.A({targetGeometry:new Ps.A,scale:0,rotation:0});(0,Yt.C)(V,g),this.constraints?.constrain(V,this.state.paddedViewState.viewpoint),this.state.viewpoint=V,this._set("viewpoint",V)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(f){if(!(f>=0))return;if(!this.ready){this._set("zoom",f),this._set("scale",void 0);const V=this._get("extent");return void(V&&(this._set("extent",void 0),this._set("center",V.center)))}const g=this.constraints?.zoomToScale(f)??0;if(!g)return void this._set("zoom",-1);const x=this.viewpoint;(0,Yt.UR)(x,x,g),this.viewpoint=x,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(f){if(!f[0]&&!f[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:g,constraints:x}=this,V=this._get("center"),ne=this._get("extent"),ye=this._get("scale"),De=this._get("rotation"),Ge=this._get("viewpoint"),$e=this._get("zoom"),Qe=null!=$e&&null!=x&&x.zoomToScale($e)||void 0;let pt,Mt,_t;const jt=Ge?.rotation,cs=Ge?.targetGeometry;"extent"===cs?.type?pt=cs:"point"===cs?.type&&(Mt=cs,_t=Ge?.scale);const bs=ne??pt;return{center:V??Mt??bs?.center,rotation:De??jt,scale:(ye??Qe??_t??(bs&&(0,Yt.AU)(bs,[f[0]-g.left-g.right,f[1]-g.top-g.bottom])))||void 0}}startup(f,g,x,V){const ne=f.targetGeometry;try{this._project(f,x)}catch(ye){O.A.getLogger(this).warn(new Vr.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:ne.toJSON(),spatialReference:x,error:ye})),f.targetGeometry=V||new Ps.A({x:0,y:0,spatialReference:x})}this.constraints?.fit(f),this._set("state",new Wr({padding:this.padding,size:g,viewpoint:f})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[f,g],spatialReference:x,rotation:V,scale:ne}=this.state.paddedViewState,ye=new Ps.A({x:f,y:g,spatialReference:x});this._set("viewpoint",null),this._set("extent",null),this._set("center",ye),this._set("zoom",-1),this._set("rotation",V),this._set("scale",ne),this._set("state",null)}changeSpatialReference(f){const g=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=g.scale;else{const Ge=g.viewpoint.clone();Ge.scale=this._scaleBeforeChangingSpatialReference,g.viewpoint=Ge}const x=g.clone(),[V,ne]=g.center;let ye=null;try{ye=this._project(new Ps.A({x:V,y:ne,spatialReference:g.spatialReference}),f)}catch(Ge){(0,Wn.i)()||O.A.getLogger(this).warn(new Vr.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:ye?.toJSON(),spatialReference:f,error:Ge}))}ye||(ye=new Ps.A({x:0,y:0,spatialReference:f}));const De=(0,Yt.Ji)(new Me.A({targetGeometry:new Ps.A,scale:0,rotation:0}),g.viewpoint,ye);x.viewpoint=De;try{const $e=[g.size[0]/2,g.size[1]/2],Qe=[$e[0]+20,$e[1]],pt=g.toMap([0,0],Qe),{x:Mt,y:_t}=this._project(new Ps.A({x:pt[0],y:pt[1],spatialReference:g.spatialReference}),f);pt[0]=Mt,pt[1]=_t,x.toScreen(pt,pt);const jt=(0,Yt.s5)($e,pt,Qe),cs=Math.hypot(pt[0]-$e[0],pt[1]-$e[1])/20;!Number.isFinite(cs)||Math.abs(cs)>4?(De.rotation=0,De.targetGeometry=new Ps.A({x:0,y:0,spatialReference:f})):(De.scale*=cs,De.scale>(0,b.A)("mapview-srswitch-adjust-rotation-scale-threshold")?De.rotation=0:De.rotation+=Number.isFinite(jt)?jt:0)}catch{}this._get("constraints")?.constrain(De,void 0),this._get("state").viewpoint=De}resize(f,g){if(!this.ready)return;const x=this.state;let V=this.state.paddedViewState.viewpoint;const ne=this.state.paddedViewState.size.slice();x.size=[f,g],(0,Yt.XR)(V,V,ne,this.state.paddedViewState.size,this.resizeAlign),V=this.constraints?.constrain(V,void 0)??V,this.state.viewpoint=V}toMap(f){if(!this.ready)return null;const[x,V]=this.state.toMap([0,0],[f.x,f.y]);return new Ps.A({x,y:V,spatialReference:this.state.spatialReference})}toScreen(f,g){if(!this.ready)return null;const x=this._project(f,this.state.spatialReference),V=[x.x,x.y];return!1===g?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(V,V),this.state.toScreen(V,V),(0,$t.tc)(V[0],V[1])}_project(f,g){const x=f?.targetGeometry||f;if(!g)return f;if(!x)return null;if(g.imageCoordinateSystem||x.spatialReference?.imageCoordinateSystem||(0,Os.aI)(g,x.spatialReference))return f;const V=(0,be.project)(x,g);if(!V)throw new P.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:x,spatialReference:g});return function $r(f){return"esri.Viewpoint"===f?.declaredClass}(f)?(f.targetGeometry=V,f):V}};function Hr(f,g){switch(g){case"primary":return"touch"===f.pointerType||0===f.button;case"secondary":return"touch"!==f.pointerType&&2===f.button;case"tertiary":return"touch"!==f.pointerType&&1===f.button}}function kr(f,g){return g.some(x=>Hr(f,x))}function Ci(f,{dragPrimary:g,dragSecondary:x,dragTertiary:V}){return[{key:"primary",value:g},{key:"secondary",value:x},{key:"tertiary",value:V}].filter(ne=>ne.value===f).map(ne=>ne.key)}(0,_._)([(0,m.MZ)({type:Ps.A})],ys.prototype,"center",null),(0,_._)([(0,m.MZ)()],ys.prototype,"constraints",void 0),(0,_._)([(0,m.MZ)({type:mt.A})],ys.prototype,"extent",null),(0,_._)([(0,m.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:f=>({top:0,right:0,bottom:0,left:0,...f})})],ys.prototype,"padding",null),(0,_._)([(0,m.MZ)()],ys.prototype,"ready",void 0),(0,_._)([(0,m.MZ)()],ys.prototype,"resizeAlign",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],ys.prototype,"resolution",null),(0,_._)([(0,m.MZ)({type:Number})],ys.prototype,"rotation",null),(0,_._)([(0,m.MZ)({type:Number})],ys.prototype,"scale",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ys.prototype,"state",void 0),(0,_._)([(0,m.MZ)({type:Me.A})],ys.prototype,"viewpoint",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ys.prototype,"visibleArea",null),(0,_._)([(0,m.MZ)()],ys.prototype,"zoom",null),ys=(0,_._)([(0,D.$)("esri.views.2d.ViewStateManager")],ys);class Jr extends vs.l{constructor(g,x){super(!0),this._view=g,this.registerIncoming("double-click",x,V=>this._handleDoubleClick(V,x))}_handleDoubleClick(g,x){Hr(g.data,"primary")&&(g.stopPropagation(),x?this._view.mapViewNavigation.zoomOut([g.data.x,g.data.y]):this._view.mapViewNavigation.zoomIn([g.data.x,g.data.y]))}}class Mo extends vs.l{constructor(g,x,V){super(!0),this.view=g,this.pointerType=x,this.registerIncoming("double-tap-drag",V,ne=>this._handleDoubleTapDrag(ne))}_handleDoubleTapDrag(g){const{data:x}=g,{pointerType:V}=x;if(V!==this.pointerType)return;g.stopPropagation();const{action:ne,delta:ye}=x,{view:De}=this,{mapViewNavigation:Ge}=De;switch(ne){case"begin":{const{scale:$e}=De;this._startScale=$e,this._currentScale=$e,this._previousDelta=ye,Ge.begin();break}case"update":{if(this._previousDelta.y===ye.y)return;this._previousDelta=ye;const Qe=this._startScale*1.015**ye.y;Ge.setViewpointImmediate(Qe/this._currentScale),this._currentScale=Qe;break}case"end":{const{constraints:$e}=De,{effectiveLODs:Qe,snapToZoom:pt}=$e;if(!pt||!Qe)return void Ge.end();const Mt=$e.snapScale(this._currentScale),_t=(ye.y>0?Math.max(Mt,$e.snapToPreviousScale(this._startScale)):Math.min(Mt,$e.snapToNextScale(this._startScale)))/this._currentScale;Ge.zoom(_t).then(()=>{Ge.end()});break}}}}class _r{constructor(g){this._callbacks=g,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(g){const x=g.data,V=x.pointers.size;switch(x.action){case"start":this._currentCount=V,this._emitStart(g);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=V,this._emitStart(g);break;case"update":this._emitUpdate(g);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=V,this._emitStart(g);break;case"end":this._emitEnd(g),this._currentCount=0}this._previousEvent=g}_emitStart(g){this._startEvent=g,this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.start(this._currentCount,g,this._startEvent)}_emitUpdate(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.update(this._currentCount,g,this._startEvent)}_emitEnd(g){this._callbacks.condition?.(this._currentCount,g)&&this._callbacks.end(this._currentCount,g,this._startEvent),this._startEvent=null}}class Ao extends vs.l{constructor(g,x,V){super(!0),this.view=g,this.pointerActions=x,this.registerIncoming("drag",V,ne=>this._handleDrag(ne)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(g){super.onInstall(g),this._dragEventSeparator=new _r({start:(x,V)=>{this.view.mapViewNavigation.pan.begin(this.view,V.data),V.stopPropagation()},update:(x,V)=>{this.view.mapViewNavigation.pan.update(this.view,V.data),V.stopPropagation()},end:(x,V)=>{this.view.mapViewNavigation.pan.end(this.view,V.data),V.stopPropagation()},condition:(x,V)=>1===x&&kr(V.data,this.pointerActions)})}_handleDrag(g){const x=this.view.mapViewNavigation;x.pinch.zoomMomentum||x.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(g)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class Ri extends vs.l{constructor(g,x,V){super(!0),this._view=g,this.pointerActions=x;const ne=this._view.mapViewNavigation;this._dragEventSeparator=new _r({start:(ye,De)=>{ne.rotate.begin(this._view,De.data),De.stopPropagation()},update:(ye,De)=>{ne.rotate.update(this._view,De.data),De.stopPropagation()},end:(ye,De)=>{ne.rotate.end(),De.stopPropagation()},condition:(ye,De)=>1===ye&&kr(De.data,this.pointerActions)}),this.registerIncoming("drag",V,ye=>this._dragEventSeparator.handle(ye))}}var Po=u(28714);function Ns(f){let g=f*f;return f<0&&(g*=-1),g}class Bt extends vs.l{constructor(g){super(!0),this._view=g,this._frameTask=null,this._watchHandles=new it.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",x=>this._handleGamePadEvent(x)),this._handle.pause()}onInstall(g){super.onInstall(g),this._watchHandles.add([(0,Ce.wB)(()=>this._view.navigation.gamepad?.enabled,x=>{x?(this._handle.resume(),this._frameTask||(this._frameTask=(0,Vt.mg)({update:V=>this._frameUpdate(V.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Ce.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(g){const x=this._view.navigation.gamepad.device;x&&g.data.device!==x||this._currentDevice&&this._currentDevice!==g.data.device||("end"===g.data.action?(this._currentDevice=null,function Ii(f){f.translation[0]=0,f.translation[1]=0,f.translation[2]=0,f.heading=0,f.tilt=0}(this._transformation)):(this._currentDevice=g.data.device,function wi(f,g,x){const V=x,ne=f.state,ye=f.device,De="forward-down"===g.tiltDirection?1:-1;"standard"===ye.deviceType?(V.translation[0]=Ns(ne.axes[0]),V.translation[1]=Ns(ne.axes[1]),V.translation[2]=Ns(ne.buttons[7])-Ns(ne.buttons[6]),V.heading=Ns(ne.axes[2]),V.tilt=Ns(ne.axes[3])):"spacemouse"===ye.deviceType&&(V.translation[0]=1.2*Ns(ne.axes[0]),V.translation[1]=1.2*Ns(ne.axes[1]),V.translation[2]=2*-Ns(ne.axes[2]),V.heading=1.2*Ns(ne.axes[5]),V.tilt=1.2*Ns(ne.axes[3])),V.tilt*=De,(0,Po.h)(V.translation,V.translation,1)}(g.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(g){const x=this._transformation;if(function yr(f){return 0===f.translation[0]&&0===f.translation[1]&&0===f.translation[2]&&0===f.heading&&0===f.tilt&&0===f.zoom}(x))return void this._frameTask?.pause();const V=this._view.viewpoint.clone(),ye=sa*this._view.navigation.gamepad.velocityFactor*g;(0,Yt.aA)(V,V,[x.translation[0]*ye,-x.translation[1]*ye]);const $e=this._view.size;(0,Yt.WK)(V,V,1+x.translation[2]*pe*g,this._view.constraints.rotationEnabled?-x.heading*qn*g:0,[$e[0]/2,$e[1]],$e);const pt=this._view.constraints.constrain(V,this._view.viewpoint);this._view.viewpoint=pt}}const qn=.06,sa=.7,pe=6e-4;function $(f){const g=()=>f("visible"===document.visibilityState);return document.addEventListener("visibilitychange",g),(0,_e.hA)(()=>document.removeEventListener("visibilitychange",g))}class de extends vs.l{constructor(g,x,V){super(!0),this.view=g,this.keys=x,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=ne=>{const ye=this._keyMap[ne.data.key];if(ne.modifiers.has("Meta")||ne.modifiers.has("Control"))return void this._stopMovement();if(null==ye)return;ne.stopPropagation(),ne.preventDefault();const De="key-down"===ne.type;if(this._pressedKeys[De?"add":"delete"](ye),De){if(this._direction===ye)return;this._direction=ye,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else void 0===this._timeout||this._pressedKeys.size>0?this._handlePopKey():this._isSticky=!0},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[x.left]:"left",[x.right]:"right",[x.up]:"up",[x.down]:"down"},this.registerIncoming("key-down",V,this._handleKey),this.registerIncoming("key-up",V,this._handleKey),this.registerIncoming("blur",V,this._stopMovement),this._visibilityHandle=$(ne=>ne?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(g){const x=null!=this._currentDirection;if(null!=g){if(x||this.view.mapViewNavigation.begin(),this._currentDirection!==g)switch(g){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else x&&this.view.mapViewNavigation.stop();this._currentDirection=g}_setTimeout(g){clearTimeout(this._timeout),this._timeout=void 0===g?void 0:setTimeout(()=>{this._timeout=void 0,g()},this._stickyKeyDuration)}}class Pe extends vs.l{constructor(g,x,V){super(!0),this.view=g,this.keys=x,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(x),this.registerIncoming("key-down",V,ne=>this._handleKeyDown(ne)),this.registerIncoming("key-up",V,ne=>this._handleKeyUp(ne)),this.registerIncoming("blur",V,()=>this._handleStop()),this._visibilityHandle=$(ne=>ne?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(g){this._addKeyMapping(g.clockwise,"clockwise"),this._addKeyMapping(g.counterClockwise,"counterClockwise"),this._addKeyMapping(g.reset,"reset")}_addKeyMapping(g,x){for(const V of g)this._keyToDirection.set(V,x)}_handleKeyDown(g){g.data.repeat||this._handleKey(g,!0)}_handleKeyUp(g){this._handleKey(g,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(g,x){const V=g.modifiers;if(V.size>0&&!V.has("Shift")||!this.view.constraints.rotationEnabled)return;const ne=this._keyToDirection.get(g.data.key);if(this._pressed=null!=ne,this._pressed){if(g.preventDefault(),x)switch(this.view.mapViewNavigation.begin(),ne){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();g.stopPropagation()}}}var Ze,f;(f=Ze||(Ze={}))[f.IN=0]="IN",f[f.OUT=1]="OUT";class ke extends vs.l{constructor(g,x,V){super(!0),this.view=g,this.keys=x,this._keysToZoomAction={},this.registerIncoming("key-down",V,ne=>this._handleKeyDown(ne)),x.zoomIn.forEach(ne=>this._keysToZoomAction[ne]=Ze.IN),x.zoomOut.forEach(ne=>this._keysToZoomAction[ne]=Ze.OUT)}_handleKeyDown(g){this._handleKey(g)}_handleKey(g){const x=g.modifiers;if(x.size>0&&!x.has("Shift"))return;const{key:V}=g.data;if(!(V in this._keysToZoomAction))return;const ne=this._keysToZoomAction[V],{mapViewNavigation:ye}=this.view;let De=null;switch(ne){case Ze.IN:De=ye.zoomIn();break;case Ze.OUT:De=ye.zoomOut();break;default:return}ye.begin(),De.then(()=>ye.end()),g.stopPropagation()}}class rt extends vs.l{constructor(g,x){super(!0),this._view=g,this._canZoom=!0,this.registerIncoming("mouse-wheel",x,V=>this._handleMouseWheel(V))}_handleMouseWheel(g){if("zoom"!==this._view.navigation.actionMap.mouseWheel||(g.preventDefault(),g.stopPropagation(),!this._canZoom))return;const x=this._view.mapViewNavigation,{x:V,y:ne,deltaY:ye}=g.data,Ge=x.zoom(1/.6**(1/60*ye),[V,ne]);Ge&&(this._canZoom=!1,Ge.catch(()=>{}).then(()=>{this._canZoom=!0,x.end()}))}}class ct extends vs.l{constructor(g){super(!0),this.view=g,this.registerIncoming("drag",V=>this._handleDrag(V)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const x=this.view.mapViewNavigation;this._dragEventSeparator=new _r({start:(V,ne)=>{x.pinch.begin(this.view,ne.data),ne.stopPropagation()},update:(V,ne)=>{x.pinch.update(this.view,ne.data),ne.stopPropagation()},end:(V,ne)=>{x.pinch.end(this.view),ne.stopPropagation()},condition:V=>V>=2})}_handleDrag(g){this._dragEventSeparator.handle(g)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function vt(f){const g=f.native;return g?{buttons:g.buttons.map(x=>x.pressed?x.value||1:0),axes:g.axes.map(x=>function ps(f,g){const x=Math.abs(f);return x<g?0:Math.sign(f)*(x-g)/(1-g)}(x,f.axisThreshold))}:{buttons:[],axes:[]}}class Ft{constructor(g,x){this._element=g,this._input=x,this._hasEventListeners=!1,this._onConnectGamepad=ye=>{this._connectGamepad(ye.gamepad)},this._onDisconnectGamepad=ye=>{const De=ye.gamepad,Ge=De.index,$e=this._inputDevices[Ge];$e&&(this._emitGamepadEvent(De,vt($e),!1),this._inputDevices.splice(Ge,1),this._latestUpdate.splice(Ge,1),this._input.gamepad.devices.remove($e),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const V="getGamepads"in window.navigator,ne=window.isSecureContext;this.supported=V&&ne,this.supported&&(En(ye=>this._connectGamepad(ye)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(g){this._hasEventListeners!==g&&(this._hasEventListeners=g,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(g){this._callback=g}_connectGamepad(g){const x=new Vn(g);"unknown"!==x.deviceType&&(this._inputDevices[g.index]=x,this._input.gamepad.devices.add(x)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,Vt.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const g=document.hasFocus(),x=this._element.contains(document.activeElement),V="document"===this._input.gamepad.enabledFocusMode&&!g||"view"===this._input.gamepad.enabledFocusMode&&!x;En(ne=>{const ye=this._inputDevices[ne.index];if(!ye)return;const De=this._latestUpdate[ne.index],Ge=vt(ye),$e=V||function Ht(f){for(let g=0;g<f.axes.length;g++)if(0!==f.axes[g])return!1;for(let g=0;g<f.buttons.length;g++)if(0!==f.buttons[g])return!1;return!0}(Ge);De&&(De.timestamp===ne.timestamp||!De.active&&$e||function Ut(f,g){if(f.axes.length!==g.axes.length||f.buttons.length!==g.buttons.length)return!1;for(let x=0;x<f.axes.length;x++)if(f.axes[x]!==g.axes[x])return!1;for(let x=0;x<f.buttons.length;x++)if(f.buttons[x]!==g.buttons[x])return!1;return!0}(De.state,Ge))||this._emitGamepadEvent(ne,Ge,!$e)})}_emitGamepadEvent(g,x,V){const ne=this._latestUpdate[g.index],ye=ne&&ne.active;if(!ye&&!V)return;const De=!ye&&V?"start":ye&&V?"update":"end";this._latestUpdate[g.index]={timestamp:g.timestamp,state:x,active:V},this._callback&&this._callback({device:this._inputDevices[g.index],state:x,action:De})}}function Es(f){if(!f||!f.connected)return!1;for(let g=0;g<f.axes.length;g++)if(isNaN(f.axes[g]))return!1;return!0}function En(f){for(const g of navigator.getGamepads())Es(g)&&f(g)}const Ks=(0,b.A)("edge"),Fn=(0,b.A)("chrome"),er=(0,b.A)("ff"),Li=(0,b.A)("safari"),bi="esri-view-surface",Mn={touchNone:`${bi}--touch-none`,touchPan:`${bi}--touch-pan`};let Oo=(()=>{class f{constructor(x,V){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=x,x.getAttribute("tabindex")||x.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Ft(x,V),this._gamepadSource.onEvent=ne=>this._callback("gamepad",ne)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(x=>this._releasePointerCaptureSafe(x)),this._activePointerCaptures.clear(),this._gamepadSource=(0,v.pR)(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(x){this._browserTouchPanningEnabled=x,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(x){this._callback=x}set activeEvents(x){for(const V in this._active)x&&x.has(V)||(this._element.removeEventListener(Xr[V],this._active[V]),delete this._active[V]);x&&x.forEach(V=>{if(!this._active[V]&&Xr[V]){const ne=(this._eventHandlers[V]||this._handleDefault).bind(this,V);this._element.addEventListener(Xr[V],ne),this._active[V]=ne}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=x?.has("gamepad")??!1)}setPointerCapture(x,V){V?this._setPointerCaptureSafe(x.pointerId):(this._releasePointerCaptureSafe(x.pointerId),this._activePointerCaptures.delete(x.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Mn.touchNone:Mn.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Mn.touchPan:Mn.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Mn.touchNone),this._element.classList.remove(Mn.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(x){try{this._element.setPointerCapture(x),this._activePointerCaptures.add(x)}catch{}}_releasePointerCaptureSafe(x){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(x))return;this._element.releasePointerCapture(x)}catch{}}_updateNormalizedPointerLikeEvent(x,V){const ne=(0,Ss.Uo)(this._element,x);return f.test.disableSubpixelCoordinates&&(ne.x=Math.round(ne.x),ne.y=Math.round(ne.y)),V.x=ne.x,V.y=ne.y,V}_handleKey(x,V){const{key:ne}=V;ne&&"key-up"===x&&this._keyDownState.delete(ne);const ye={native:V,key:ne,repeat:!!ne&&this._keyDownState.has(ne)};ne&&"key-down"===x&&this._keyDownState.add(ye.key),this._callback(x,ye)}_handlePointer(x,V){const ne=this._updateNormalizedPointerLikeEvent(V,{native:V,x:0,y:0,pointerType:V.pointerType,button:V.button,buttons:V.buttons,eventId:this._eventId++});this._callback(x,ne)}_handlePointerPreventDefault(x,V){const ne=this._updateNormalizedPointerLikeEvent(V,{native:V,x:0,y:0,pointerType:V.pointerType,button:V.button,buttons:V.buttons,eventId:this._eventId++});V.preventDefault(),this._callback(x,ne)}_getDeltaFromTrackpadOrMouseWheel(x){return x.shiftKey&&(0,b.A)("mac")&&0===x.deltaY?x.deltaX:x.deltaY}_handleMouseWheel(x,V){let ne=this._getDeltaFromTrackpadOrMouseWheel(V);switch(V.deltaMode){case 0:Ks&&(ne=ne/document.documentElement.clientHeight*600);break;case 1:ne*=30;break;case 2:ne*=900}Ks?ne*=.7:Fn||Li?ne*=.6:er&&(ne*=1.375);const De=Math.abs(ne);De>100&&(ne=ne/De*200/(1+Math.exp(-.02*(De-100))));const Ge=this._updateNormalizedPointerLikeEvent(V,{native:V,x:0,y:0,deltaY:ne});this._callback(x,Ge)}_handlePointerCaptureLost(x,V){this._activePointerCaptures.delete(V.pointerId),this._handleDefault(x,V)}_handleDefault(x,V){const ne={native:V};V.preventDefault(),this._callback(x,ne)}_preventAltKeyDefault(x){"Alt"===x.key&&x.preventDefault()}_preventMultiTouchPanning(x){x.touches.length>1&&x.preventDefault()}}return f.test={disableSubpixelCoordinates:!1},f})();const Xr={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class To extends vs.l{constructor(){super(!0),this.registerIncoming("context-menu",g=>g.data.native.preventDefault())}}function pn(f,g){return Math.abs(g.x-f.x)+Math.abs(g.y-f.y)}function tr(f){const{native:g}=f,{pointerId:x,button:V,pointerType:ne}=g;return"mouse"===ne?`${x}:${V}`:`${ne}`}class Xa extends vs.l{constructor(g=250,x=10,V=350,ne=35,ye=Rn.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=x,this._maximumDoubleTouchDelay=V,this._maximumDoubleTouchDistance=ne,this._clock=ye,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,$t.tc)(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new _r({start:(De,Ge)=>this._dragStart(De,Ge),update:(De,Ge)=>this._dragUpdate(Ge),end:(De,Ge)=>this._dragEnd(Ge)}),this.registerIncoming("drag",De=>this._dragEventSeparator.handle(De)),this.registerIncoming("pointer-down",De=>this._handlePointerDown(De)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(g=>{g.doubleTapTimeout=(0,v.xt)(g.doubleTapTimeout)})}get hasPendingInputs(){for(const g of this._pointerState.values())if(null!=g.doubleTapTimeout)return!0;return!1}_clearPointerDown(g){const x=this._pointerState.get(g);x&&(x.doubleTapTimeout=(0,v.xt)(x.doubleTapTimeout),this._pointerState.delete(g),this.refreshHasPendingInputs())}_dragStart(g,x){if(!this._doubleTapDragReady||1!==g)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:V,modifiers:ne}=x,{center:ye}=V;this._dragStartCenter=ye;const De=So("begin",(0,$t.tc)(0,0),V);this._doubleTapDrag.emit(De,void 0,ne),x.stopPropagation()}_dragUpdate(g){if(!this._doubleTapDragActive)return;const{data:x,modifiers:V}=g,{center:ne}=x,ye=So("update",(0,$t.tc)(ne.x-this._dragStartCenter.x,ne.y-this._dragStartCenter.y),x);this._doubleTapDrag.emit(ye,void 0,V),g.stopPropagation()}_dragEnd(g){if(!this._doubleTapDragActive)return;const{data:x,modifiers:V}=g,{center:ne}=x,ye=So("end",(0,$t.tc)(ne.x-this._dragStartCenter.x,ne.y-this._dragStartCenter.y),x);this._doubleTapDrag.emit(ye,void 0,V),this._doubleTapDragActive=!1,g.stopPropagation()}_handlePointerDown(g){const{data:x}=g,V=tr(x),ne=this._pointerState.get(V),{pointerType:ye}=x.native;if(ne){const De="touch"===ye?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(V),pn(ne.event.data,x)>De?this._storePointerDown(g):this._doubleTapDragReady=!0}else this._storePointerDown(g)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(g){const{data:x}=g,{pointerType:V}=x.native,ne=tr(x),De=this._clock.setTimeout(()=>this._clearPointerDown(ne),"touch"===V?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(ne,{event:g,doubleTapTimeout:De}),this.refreshHasPendingInputs()}}function So(f,g,x){const{button:V,buttons:ne,pointer:ye,pointers:De,pointerType:Ge,timestamp:$e}=x;return{action:f,delta:g,button:V,buttons:ne,pointer:ye,pointers:De,pointerType:Ge,timestamp:$e}}var ra,os=u(82595);class Qa extends vs.l{constructor(g){super(!1),this._navigationTouch=g,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(g,x,V,ne){return{action:g,pointerType:this._pointerType,button:this._mouseButton,buttons:x.buttons,timestamp:ne,pointers:qa(this._activePointerMap),pointer:x,angle:V.angle,radius:V.radius,center:V.center}}_addPointer(g){const x=g.native.pointerId,V=xi(this._activePointerMap).angle,ne={event:g,initialAngle:0,lastAngle:0};this._activePointerMap.set(x,ne);const ye=Ui(ne,na(this._activePointerMap));ne.initialAngle=ye,ne.lastAngle=ye,this._updatePointerAngles(V)}_updatePointer(g){if(g&&null==g.x&&null==g.y)return;const V=this._activePointerMap.get(g.native.pointerId);V?V.event=g:this._addPointer(g)}_removePointer(g){const x=xi(this._activePointerMap).angle;this._activePointerMap.delete(g),this._updatePointerAngles(x)}_updatePointerAngles(g){const x=xi(this._activePointerMap);this._activePointerMap.forEach(V=>{V.initialAngle=Ui(V,x)-g,V.lastAngle=Ui(V,x)-g})}_emitEvent(g,x,V){const ne=xi(this._activePointerMap);this._drag.emit(this._createPayload(g,x,ne,V),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(g){const x=g.data.native.pointerId,V=(0,os.l5)(g.timestamp);this._activePointerMap.get(x)&&(1===this._activePointerMap.size?(this._updatePointer(g.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",g.data,V),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(x)):(this._removePointer(x),this._emitEvent("removed",g.data,(0,os.l5)(g.timestamp))))}_handlePointerDrag(g){const x=g.data,V=x.currentEvent,ne=(0,os.l5)(g.timestamp);switch(x.action){case"start":case"update":this._isDragging?this._activePointerMap.has(V.native.pointerId)?(this._updatePointer(V),!this._isCurrentDragSuppressed&&this._emitEvent("update",V,ne)):(this._addPointer(V),this._emitEvent("added",V,ne),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(V),this._pointerType=g.data.startEvent.pointerType,this._mouseButton=g.data.startEvent.button,this._startStateModifiers=g.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",V,ne))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function na(f){const g=[];return f.forEach(x=>{g.push((0,$t.tc)(x.event.x,x.event.y))}),function Ya(f,g){if(g?(g.radius=0,g.center.x=0,g.center.y=0):g={radius:0,center:(0,$t.tc)()},0===f.length)return g;if(1===f.length)return g.center.x=f[0].x,g.center.y=f[0].y,g;if(2===f.length){const[ms,as]=f,[Ys,_n]=[as.x-ms.x,as.y-ms.y];return g.radius=Math.sqrt(Ys*Ys+_n*_n)/2,g.center.x=(ms.x+as.x)/2,g.center.y=(ms.y+as.y)/2,g}let x=0,V=0;for(let ms=0;ms<f.length;ms++)x+=f[ms].x,V+=f[ms].y;x/=f.length,V/=f.length;const ne=f.map(ms=>ms.x-x),ye=f.map(ms=>ms.y-V);let De=0,Ge=0,$e=0,Qe=0,pt=0,Mt=0,_t=0;for(let ms=0;ms<ne.length;ms++){const as=ne[ms],Ys=ye[ms],_n=as*as,Dr=Ys*Ys;De+=_n,Ge+=Dr,$e+=as*Ys,Qe+=_n*as,pt+=Dr*Ys,Mt+=as*Dr,_t+=Ys*_n}const jt=.5*(Qe+Mt),cs=.5*(pt+_t),bs=De*Ge-$e*$e,si=(jt*Ge-cs*$e)/bs,lr=(De*cs-$e*jt)/bs,Qo=(0,$t.tc)(si+x,lr+V);return{radius:Math.sqrt(si*si+lr*lr+(De+Ge)/f.length),center:Qo}}(g)}function xi(f){const g=na(f);let x=0;return f.forEach(V=>{let ne=Ui(V,g),ye=ne-V.lastAngle;for(;ye>Math.PI;)ye-=2*Math.PI;for(;ye<-Math.PI;)ye+=2*Math.PI;ne=V.lastAngle+ye,V.lastAngle=ne,x+=ne-V.initialAngle}),x/=f.size||1,{angle:x,radius:g.radius,center:g.center}}function qa(f){const g=new Map;return f.forEach((x,V)=>g.set(V,x.event)),g}function Ui(f,g){const x=f.event;return Math.atan2(x.y-g.center.y,x.x-g.center.x)}!function(f){f[f.Left=0]="Left",f[f.Middle=1]="Middle",f[f.Right=2]="Right",f[f.Back=3]="Back",f[f.Forward=4]="Forward",f[f.Undefined=-1]="Undefined"}(ra||(ra={}));class el extends vs.l{constructor(g=250,x=10,V=350,ne=35,ye=Rn.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=x,this._maximumDoubleTouchDelay=V,this._maximumDoubleTouchDistance=ne,this._clock=ye,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(g=>{g.immediateDoubleClick&&g.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(g){const x=g.data,V=tr(x);this._pointerState.has(V)||(this._pointerState.set(V,{downButton:x.native.button,x:x.x,y:x.y,immediateDoubleClick:null}),this.startCapturingPointer(x.native))}_handlePointerUp(g){const x=g.data,V=tr(x),ne=this._pointerState.get(V);if(ne&&ne.downButton===x.native.button){const ye=ne.immediateDoubleClick,De="touch"===g.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;ye?(ye.timeoutHandle.remove(),pn(ye,g.data)>De?this._startImmediateDoubleClick(g,ne):(this._immediateDoubleClick.emit(g.data,void 0,ye.modifiers),this._removeState(x))):pn(ne,g.data)>De?this._removeState(x):this._startImmediateDoubleClick(g,ne)}}_startImmediateDoubleClick(g,x){x.immediateDoubleClick={x:g.data.x,y:g.data.y,modifiers:g.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(g.data),"touch"===g.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay)}}_removeState(g){const x=tr(g);this._pointerState.delete(x),this.stopCapturingPointer(g.native),this.refreshHasPendingInputs()}}class tl extends vs.l{constructor(g=300,x=1.5,V=6,ne=6,ye=500,De=Rn.p){super(!1),this._maximumClickDelay=g,this._movementUntilMouseDrag=x,this._movementUntilPenDrag=V,this._movementUntilTouchDrag=ne,this._holdDelay=ye,this._clock=De,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",Ge=>this._handlePointerDown(Ge)),this.registerIncoming("pointer-up",Ge=>this._handlePointerLoss(Ge,"pointer-up")),this.registerIncoming("pointer-capture-lost",Ge=>this._handlePointerLoss(Ge,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",Ge=>this._handlePointerLoss(Ge,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",Ge=>this._handlePointerMove(Ge)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(g=>{g.holdTimeout=(0,v.xt)(g.holdTimeout)}),super.onUninstall()}_handlePointerDown(g){const x=g.data,V=x.native.pointerId;let ne=null;0===this._pointerState.size&&(ne=this._clock.setTimeout(()=>{const De=this._pointerState.get(V);De&&(De.isDragging||(this._pointerHold.emit(De.previousEvent,void 0,g.modifiers),De.holdEmitted=!0),De.holdTimeout=null)},this._holdDelay)),this._pointerState.set(V,{startEvent:x,previousEvent:x,startTimestamp:g.timestamp,isDragging:!1,downButton:x.native.button,holdTimeout:ne,modifiers:new Set}),this.startCapturingPointer(x.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(g)}_handlePointerMove(g){const x=g.data,ne=this._pointerState.get(x.native.pointerId);ne&&(ne.isDragging?this._pointerDrag.emit(ji("update",ne,x),void 0,ne.modifiers):function Do(f,g){const x=g.x-f.x,V=g.y-f.y;return Math.sqrt(x*x+V*V)}(x,ne.startEvent)>this._getDragThreshold(x.native.pointerType)&&this._startDragging(g),ne.previousEvent=x)}_getDragThreshold(g){switch(g){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(g){const x=g.data,V=x.native.pointerId;this._pointerState.forEach(ne=>{null!=ne.holdTimeout&&(ne.holdTimeout.remove(),ne.holdTimeout=null),ne.isDragging||(ne.modifiers=g.modifiers,ne.isDragging=!0,V===ne.startEvent.native.pointerId?this._pointerDrag.emit(ji("start",ne,x)):this._pointerDrag.emit(ji("start",ne,ne.previousEvent),g.timestamp))})}_handlePointerLoss(g,x){const V=g.data,ne=V.native.pointerId,ye=this._pointerState.get(ne);ye&&(null!=ye.holdTimeout&&(ye.holdTimeout.remove(),ye.holdTimeout=null),ye.isDragging?this._pointerDrag.emit(ji("end",ye,"pointer-up"===x?V:ye.previousEvent),void 0,ye.modifiers):"pointer-up"===x&&ye.downButton===V.native.button&&g.timestamp-ye.startTimestamp<=this._maximumClickDelay&&!ye.holdEmitted&&this._immediateClick.emit(V),this._pointerState.delete(ne),this.stopCapturingPointer(V.native),0===this._pointerState.size&&this._moveHandle.pause())}}function ji(f,g,x){return{action:f,startEvent:g.startEvent,previousEvent:g.previousEvent,currentEvent:x}}class sl extends vs.l{constructor(g=250,x=10,V=350,ne=35,ye=Rn.p){super(!1),this._maximumDoubleClickDelay=g,this._maximumDoubleClickDistance=x,this._maximumDoubleTouchDelay=V,this._maximumDoubleTouchDistance=ne,this._clock=ye,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",De=>this._handleImmediateClick(De)),this.registerIncoming("pointer-down",De=>this._handlePointerDown(De))}onUninstall(){this._pointerState.forEach(g=>g.doubleClickTimer=(0,v.xt)(g.doubleClickTimer))}get hasPendingInputs(){for(const g of this._pointerState.values())if(null!=g.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(g,x){const V=this._pointerState.get(g);V&&(V.doubleClickTimer=(0,v.xt)(V.doubleClickTimer),x&&this._click.emit(V.event.data,void 0,V.event.modifiers),this._pointerState.delete(g),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(g){const x=this._pointerState.get(g);1===x.pointerDownCount&&this._click.emit(x.event.data,void 0,x.event.modifiers),x.doubleClickTimer=null,this._pointerState.delete(g),this.refreshHasPendingInputs()}_handleImmediateClick(g){const x=g.data,{pointerType:V}=x.native,ne=function nl(f){const{pointerId:g,pointerType:x,button:V}=f.native;return"mouse"===x?`${g}:${V}`:`${x}`}(x);if(!this._pointerState.has(ne))return void this._startClick(g);const ye=this._pointerState.get(ne),{data:De,modifiers:Ge}=ye.event,$e="touch"===V?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;pn(De,x)>$e?(this._clearDoubleClickTimer(ne,!0),this._startClick(g)):(this._clearDoubleClickTimer(ne,!1),2===ye.pointerDownCount&&this._doubleClick.emit(De,void 0,Ge))}_handlePointerDown(g){const x=tr(g.data),V=this._pointerState.get(x);V&&(V.pointerDownCount+=1)}_startClick(g){const{data:x}=g,{native:{pointerType:V}}=x,ne=tr(x),De=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(ne),"touch"===V?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay);this._pointerState.set(ne,{event:g,doubleClickTimer:De,pointerDownCount:1}),this.refreshHasPendingInputs()}}const Ni_pan={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Ni_zoom={zoomIn:["=","+"],zoomOut:["-","_"]},Ni_rotate={clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]},ia=Symbol("handles");let sr=class extends G.A{initialize(){const f=()=>this.view?.ready;this.addHandles([(0,Ce.z7)(()=>!f(),()=>this._disconnect()),(0,Ce.z7)(f,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(f){return this._inputManager?.isModifierKeyDown(f)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(ia),this._inputManager=(0,v.pR)(this._inputManager)}_connect(){const g=new Oo(this.view.surface,this.view.input),x=[new el,new tl,new sl,new Qa(this.view.navigation),new Xa],V=new us.e({eventSource:g,recognizers:x}),ne=new Ao(this.view,["primary"]),ye=new Ri(this.view,["secondary"]);V.installHandlers("prevent-context-menu",[new To],us.o.INTERNAL),V.installHandlers("navigation",[new ct(this.view),new Bt(this.view),new rt(this.view),new Jr(this.view),new Jr(this.view,["Control"]),ne,new de(this.view,Ni_pan),new ke(this.view,Ni_zoom),new Pe(this.view,Ni_rotate),ye,new Mo(this.view,"touch")],us.o.INTERNAL),this.view.viewEvents.connect(V),this._source=g,this._inputManager=V,this.addHandles([(0,Ce.wB)(()=>this.view?.navigation?.browserTouchPanEnabled,De=>{this._source&&(this._source.browserTouchPanningEnabled=!De)},Ce.Vh),(0,Ce.wB)(()=>{const{actionMap:De}=this.view.navigation;return{panActions:Ci("pan",De),rotateActions:Ci("rotate",De)}},({panActions:De,rotateActions:Ge})=>{ne.pointerActions=De,ye.pointerActions=Ge},Ce.pc)],ia)}get test(){}};(0,_._)([(0,m.MZ)()],sr.prototype,"view",void 0),(0,_._)([(0,m.MZ)()],sr.prototype,"latestPointerType",null),(0,_._)([(0,m.MZ)()],sr.prototype,"latestPointerLocation",null),(0,_._)([(0,m.MZ)()],sr.prototype,"multiTouchActive",null),sr=(0,_._)([(0,D.$)("esri.views.2d.input.MapViewInputManager")],sr);const rl=sr;let Qr=class extends G.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=160&&this.clear()},160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,_._)([(0,m.MZ)()],Qr.prototype,"_timer",void 0),(0,_._)([(0,m.MZ)()],Qr.prototype,"stationary",null),Qr=(0,_._)([(0,D.$)("esri.views.2d.support.StationaryManager")],Qr);const il=f=>{let g=class extends f{constructor(...x){super(...x),this.fullOpacity=1,this.stateManager=new ys({constraints:new Qn({view:this})}),this.goToManager=new mr({view:this}),this.stationaryManager=new Qr,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new Eo(this),this.inputManager=new rl({view:this}),this.viewEvents=new ci(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,Ce.wB)(()=>this.viewpoint,()=>this.stationaryManager.flip(),Ce.OH),this.on("resize",V=>this.stateManager.resize(V.width,V.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(x){this.stateManager.extent=x}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(x){const V=this._get("animation");if(x===V)return;if(V&&V.stop(),x!==this.animationManager.animation&&this.animationManager.stop(),!x||x.isFulfilled())return void this._set("animation",null);this._set("animation",x);const ne=()=>{this.destroyed||x===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};x.when(ne,ne)}get constraints(){return this.stateManager?.constraints}set constraints(x){x.view=this;const V=this.stateManager.constraints;this.stateManager.constraints=x,V?.destroy()}get padding(){return this.stateManager?.padding}set padding(x){this.stateManager&&(this.stateManager.padding=x)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(x){this.stateManager.resizeAlign=x}get rotation(){return this.stateManager.rotation??0}set rotation(x){const{rotationEnabled:V}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=x,this.constraints.rotationEnabled=V}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(x){this.stateManager.viewpoint=x,this.frameTask.requestFrame()}on(x,V,ne,ye){return this.inputManager&&this.viewEvents.on(x,V,ne,ye)||super.on(x,V)}hasEventListener(x){return super.hasEventListener(x)||this.viewEvents.hasHandler(x)}goTo(x,V){return this.goToManager.goTo(x,V)}};return(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"animationManager",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"fullOpacity",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"stateManager",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"constraintsInfo",null),(0,_._)([(0,m.MZ)()],g.prototype,"extent",null),(0,_._)([(0,m.MZ)()],g.prototype,"goToManager",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"state",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"mapViewNavigation",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"renderingOptions",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"interacting",null),(0,_._)([(0,m.MZ)()],g.prototype,"stationary",null),(0,_._)([(0,m.MZ)()],g.prototype,"animation",null),(0,_._)([(0,m.MZ)({type:Qn})],g.prototype,"constraints",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"inputManager",void 0),(0,_._)([(0,m.MZ)()],g.prototype,"padding",null),(0,_._)([(0,m.MZ)()],g.prototype,"resizeAlign",null),(0,_._)([(0,m.MZ)()],g.prototype,"rotation",null),(0,_._)([(0,m.MZ)({readOnly:!0})],g.prototype,"viewEvents",void 0),(0,_._)([(0,m.MZ)({type:Me.A})],g.prototype,"viewpoint",null),g=(0,_._)([(0,D.$)("esri.views.Viewport2DMixin")],g),g};var ol=u(15364);class aa{constructor(g){this._view=g,this.viewpoint=new Me.A({targetGeometry:new Ps.A,scale:0,rotation:0})}get view(){return this._view}get size(){const[g,x]=this._view.size;return Math.sqrt(g*g+x*x)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,Yt.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(g){return 1/(g*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(g){return 1/(g*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(g,x){x.pan=(0,ol.Io)(this.center,g.center);let V=Math.abs(g.rotation-this.rotation);V=V>=180?360-V:V,x.rotate=(0,tn.kU)(V),x.sourceZoom=this.scale,x.targetZoom=g.scale}interpolate(g,x,V){const{pan:ne,rotate:ye,zoom:De,zoomOffset:Ge}=V,{center:$e}=this;$e.spatialReference=g.center.spatialReference,$e.x=(0,tn.Cc)(g.center.x,x.center.x,ne),$e.y=(0,tn.Cc)(g.center.y,x.center.y,ne),this.viewpoint.scale=(0,tn.Cc)(g.scale,x.scale+Ge,De);let Qe=g.rotation;const pt=x.rotation;Math.abs(pt-Qe)>=180&&(Qe+=360*(Qe<pt?1:-1)),this.viewpoint.rotation=(0,tn.Cc)(Qe,pt,ye)}copyFrom(g){(0,Yt.C)(this.viewpoint,g.viewpoint),this._view=g.view}}var Bi=u(47461);const Wi=f=>f*f,Co=f=>1-Wi(1-f),Ro=f=>f*f*f,la=f=>1-Ro(1-f),Io=f=>f*f*f*f,ca=f=>1-Io(1-f),wo=f=>f*f*f*f*f,ua=f=>1-wo(1-f),Lo=f=>1-Math.cos(f*Math.PI/2),ha=f=>1-Lo(1-f),bo=f=>2**(10*(f-1)),xo=f=>1-bo(1-f),Uo=f=>-(Math.sqrt(1-f*f)-1),da=f=>1-Uo(1-f);function ks(f){const g=2*(f-Math.sqrt((f-1)*f)),x=g/2/f;return V=>V<x?f*V*V:g*V-g+1}function Js(f,g){return(x,V)=>x<g?g*f(x/g,V):1-f((1-x)/(1-g),V)*(1-g)}const ml=Js(ks(1),1),_l=Js(ks(1),0),jo=Js(ks(1),.5),yl=Js(ks(2),1),gl=Js(ks(2),0),vl=Js(ks(2),.5),El=Js(ks(3),1),Ml=Js(ks(3),0),Al=Js(ks(3),.5),Pl=Js(ks(4),1),Ol=Js(ks(4),0),Tl=Js(ks(4),.5),pa={linear:f=>f,"in-quad":Wi,"out-quad":Co,"in-out-quad":f=>f<.5?Wi(2*f)/2:(Co(2*(f-.5))+1)/2,"in-coast-quad":ml,"out-coast-quad":_l,"in-out-coast-quad":jo,"in-cubic":Ro,"out-cubic":la,"in-out-cubic":f=>f<.5?Ro(2*f)/2:(la(2*(f-.5))+1)/2,"in-coast-cubic":yl,"out-coast-cubic":gl,"in-out-coast-cubic":vl,"in-quart":Io,"out-quart":ca,"in-out-quart":f=>f<.5?Io(2*f)/2:(ca(2*(f-.5))+1)/2,"in-coast-quart":El,"out-coast-quart":Ml,"in-out-coast-quart":Al,"in-quint":wo,"out-quint":ua,"in-out-quint":f=>f<.5?wo(2*f)/2:(ua(2*(f-.5))+1)/2,"in-coast-quint":Pl,"out-coast-quint":Ol,"in-out-coast-quint":Tl,"in-sine":Lo,"out-sine":ha,"in-out-sine":f=>f<.5?Lo(2*f)/2:(ha(2*(f-.5))+1)/2,"in-expo":bo,"out-expo":xo,"in-out-expo":f=>f<.5?bo(2*f)/2:(xo(2*(f-.5))+1)/2,"in-circ":Uo,"out-circ":da,"in-out-circ":f=>f<.5?Uo(2*f)/2:(da(2*(f-.5))+1)/2,ease:f=>Bi.Z0.ease(f),"ease-in":f=>Bi.Z0.easeIn(f),"ease-out":f=>Bi.Z0.easeOut(f),"ease-in-out":f=>Bi.Z0.easeInOut(f)};class Dl{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}const qr={desiredScreenFlow:2,minDuration:(0,os.l5)(500),maxDuration:(0,os.l5)(8e3)},fa={...qr,maxDuration:(0,os.l5)(4e3)};class No{constructor(g){this._createCamera=g,this.compared=new Dl,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:qr.desiredScreenFlow},this.source=g(),this.target=g()}clone(){const g=new No(this._createCamera);return g.copyFrom(this),g}copyFrom(g){this.update(g.source,g.target,g.settings)}update(g,x,V){this.source!==g&&this.source.copyFrom(g),this.target!==x&&this.target.copyFrom(x),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=V.desiredScreenFlow??qr.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(g){const x=this.target.pixelsPerPanAtZoom(g);return this.halfWindowSize/x}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>(0,kn.FD)()}get hasFov(){return Math.abs(this.compared.fov)>(0,kn.FD)()}get hasRotate(){return this.compared.rotate>(0,kn.FD)()}}let Cl=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((f,g)=>(0,os.Kp)(f+g.time),(0,os.Kp)(0))}interpolateComponentsAt(f,g){f=Math.min(Math.max(f,0),1),f*=this.time;let x=0,V=0;const ne=this.definition,ye=this.segments.reduce((De,Ge)=>De||Ge.definition.hasZoom,!1);for(let De=0;De<this.segments.length;De++){const Ge=this.segments[De],$e=Ge.definition;if(f<=Ge.time||De===this.segments.length-1){if(this.segmentInterpolateComponentsAt(Ge,0===Ge.time?0:f/Ge.time,g),g.pan=ne.hasPan&&!isNaN(g.pan)&&isFinite(ne.compared.pan)?(x+$e.compared.pan*g.pan)/ne.compared.pan:1,g.rotate=ne.hasRotate&&!isNaN(g.rotate)&&isFinite(ne.compared.rotate)?(V+$e.compared.rotate*g.rotate)/ne.compared.rotate:1,ye&&!isNaN(g.zoom)&&isFinite($e.compared.targetZoom)){const{sourceZoom:Qe,targetZoom:pt}=$e.compared,Mt=g.zoom*(pt-Qe)+Qe,_t=this.segments[0].definition.compared.sourceZoom,jt=this.segments[this.segments.length-1].definition.compared.targetZoom,cs=Math.abs(pt-_t)>Math.abs(Qe-_t)?pt:Qe;g.zoomOffset=cs-jt,g.zoom=(Mt-_t)/(cs-_t)}else g.zoom=1;return g}f-=Ge.time,x+=$e.compared.pan,V+=$e.compared.rotate}}segmentInterpolateComponentsAt(f,g,x){f.interpolateComponentsAt(g,x)}};class Bo{get time(){return this._time}constructor(g){g&&this.update(g)}update(g){g&&(this.definition?this.definition.copyFrom(g):this.definition=g.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const g=this.definition,x=g.compared,V=x.sourceZoom;this._zoomSign=V>x.targetZoom?1:-1,this._panPixelsAtSource=x.pan*g.source.pixelsPerPanAtZoom(V);const ye=(g.source.pixelsPerRotate()+g.target.pixelsPerRotate())/2;this._rotatePixels=x.rotate*ye}_updatePixelFlow(){const g=this.definition.compared.sourceZoom,x=this.definition.compared.targetZoom,{hasZoom:V,hasPan:ne,hasRotate:ye}=this.definition;let De=0,Ge=0;V&&(ne&&(De=(x/g-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),ye&&(Ge=this._zoomSign*(Math.log(g/x)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const $e=this.definition.desiredPixelFlow;if(V&&ne&&ye){const Qe=De+Ge+De*Ge;this._zoomPixelFlow=De*Ge/Qe*$e,this._panPixelFlow=Ge/Qe*$e,this._rotatePixelFlow=De/Qe*$e}else if(V&&ne){const Qe=1+De;this._zoomPixelFlow=De/Qe*$e,this._panPixelFlow=1/Qe*$e}else if(V&&ye){const Qe=1+Ge;this._zoomPixelFlow=Ge/Qe*$e,this._rotatePixelFlow=1/Qe*$e}else if(ne&&ye){const Qe=this._panPixelsAtSource/this._rotatePixels,pt=1+Qe;this._panPixelFlow=Qe/pt*$e,this._rotatePixelFlow=1/pt*$e}else ne?this._panPixelFlow=$e:V?this._zoomPixelFlow=$e:ye&&(this._rotatePixelFlow=$e);if(this._time=(0,os.Kp)(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){const Qe=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=Qe,this._panPixelFlow/=Qe,this._rotatePixelFlow/=Qe}}get rotateTime(){return(0,os.Kp)(this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0)}get zoomTime(){return(0,os.Kp)(this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0)}get fovTime(){return(0,os.Kp)(this.definition.hasFov?Math.abs(this.definition.compared.fov)/Rl:0)}get panTime(){if(!this.definition.hasPan)return(0,os.Kp)(0);if(this.definition.hasZoom){const g=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2;return(0,os.Kp)(Math.log(g*this._panPixelsAtSource*(this._zoomPixelFlow/this._panPixelFlow)+1)/(g*this._zoomPixelFlow))}return(0,os.Kp)(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(g){if(0===g||1===g)return g;if(this.definition.hasZoom){const x=this.definition.compared.sourceZoom,V=this.definition.compared.targetZoom;return(x*(x/V)**-g-x)/(V-x)}return g}_interpolateComponentsFov(g){if(0===g)return this.definition.segmentStart;if(1===g)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:x,segmentEnd:V}=this.definition;return x+g*(V-x)}return this.definition.segmentStart}_interpolateComponentsPan(g){if(0===g||1===g)return g;if(this.definition.hasPan&&this.definition.hasZoom){const x=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(x*g*this._time)-1))/(x*Math.LN2)}return g}_interpolateComponentsRotate(g){return g}interpolateComponentsAt(g,x){g=Math.min(Math.max(g,0),1),x.zoom=this._interpolateComponentsZoom(g),x.pan=this._interpolateComponentsPan(g),x.rotate=this._interpolateComponentsRotate(g),x.zoomOffset=0,x.fov=this._interpolateComponentsFov(g)}}const Rl=(0,tn.kU)(45);function Il(f,g,x){const ne=f.halfWindowPanAtZoom(g-f.compared.sourceZoom);return-f.halfWindowSize*(x.ascensionFactor*Math.LN2*f.compared.pan+ne)*Math.log(f.compared.sourceZoom/g)/(f.desiredPixelFlow*Math.LN2*ne)}function wl(f,g,x){const V=1/g,ne=Math.log(f.compared.sourceZoom*V),ye=1/f.desiredPixelFlow,De=1/Math.LN2,Ge=g-f.compared.sourceZoom,$e=1/Ge,Qe=(x.ascensionFactor*Math.LN2*f.compared.pan+f.halfWindowPanAtZoom(Ge))/f.halfWindowPanAtZoom(1);return f.halfWindowSize*V*ye*De*$e*Qe-f.halfWindowSize*ne*ye*De*$e+f.halfWindowSize*ne*ye*De*Qe/(Ge*Ge)}function Ll(f,g,x){const V=g-f.compared.sourceZoom,ne=1/V,ye=1/g,De=Math.log(f.compared.sourceZoom*ye),Ge=(x.ascensionFactor*Math.LN2*f.compared.pan+f.halfWindowPanAtZoom(V))/f.halfWindowPanAtZoom(1);return f.halfWindowSize*ne*(-2*ne*ye*Ge+2*ne*De+2*ye-2*De*Ge/(V*V)-Ge/(g*g))/(f.desiredPixelFlow*Math.LN2)}function bl(f,g){return-f.halfWindowSize*Math.log(f.compared.sourceZoom/g)/(f.desiredPixelFlow*Math.LN2)}function xl(f,g){return f.halfWindowSize/(g*f.desiredPixelFlow*Math.LN2)}function Ul(f,g){return-f.halfWindowSize/(g*g*f.desiredPixelFlow*Math.LN2)}function Wl(f,g,x){return f.halfWindowSize*(-f.halfWindowPanAtZoom(g)-x.descensionFactor*Math.LN2*f.compared.pan+f.halfWindowPanAtZoom(f.compared.targetZoom))*Math.log(g/f.compared.targetZoom)/(f.desiredPixelFlow*Math.LN2*f.halfWindowPanAtZoom(-g+f.compared.targetZoom))}function Fl(f,g,x){const V=Math.log(g/f.compared.targetZoom),ne=1/f.desiredPixelFlow,ye=1/Math.LN2,De=-g+f.compared.targetZoom,Ge=1/De,$e=(-f.halfWindowPanAtZoom(g)-x.descensionFactor*Math.LN2*f.compared.pan+f.halfWindowPanAtZoom(f.compared.targetZoom))/f.halfWindowPanAtZoom(1);return-f.halfWindowSize*V*ne*ye*Ge+f.halfWindowSize*V*ne*ye*$e/(De*De)+f.halfWindowSize*ne*ye*Ge*$e/g}function Kl(f,g,x){const V=g-f.compared.targetZoom,ne=1/V,ye=1/g,De=Math.log(g/f.compared.targetZoom),Ge=(f.halfWindowPanAtZoom(g)+x.descensionFactor*Math.LN2*f.compared.pan-f.halfWindowPanAtZoom(f.compared.targetZoom))/f.halfWindowPanAtZoom(1);return f.halfWindowSize*ne*(-2*ne*ye*Ge-2*ne*De+2*ye+2*De*Ge/(V*V)-Ge/(g*g))/(f.desiredPixelFlow*Math.LN2)}function Zl(f,g){return f.halfWindowSize*Math.log(g/f.compared.targetZoom)/(f.desiredPixelFlow*Math.LN2)}function Gl(f,g){return f.halfWindowSize/(g*f.desiredPixelFlow*Math.LN2)}function zl(f,g){return-f.halfWindowSize/(g*g*f.desiredPixelFlow*Math.LN2)}class kl extends Cl{constructor(g,x){super(),this._preallocSegments=[new Bo,new Bo,new Bo],this._ascensionSegment=null,this._descensionSegment=null,this.update(g,x)}update(g,x){if(!g)return;this.definition?this.definition.copyFrom(g):this.definition=g.clone();const V=x?.apex?function $l(f,g){let x=function Hl(f,g){const x=Math.max(f.compared.sourceZoom,f.compared.targetZoom),V=f.source.zoomAtPixelsPerPan(f.desiredPixelFlow/f.compared.pan)/2;return V<x?null!=g.maximumDistance?x+(g.maximumDistance-x)/2:1.5*x:g.maximumDistance?Math.min(g.maximumDistance,V):V}(f,g);const V={ascensionFactor:null!=g.ascensionFactor?g.ascensionFactor:.5,descensionFactor:null!=g.descensionFactor?g.descensionFactor:.5},ne=0===V.ascensionFactor,ye=0===V.descensionFactor,De=ne?bl:Il,Ge=ne?xl:wl,$e=ne?Ul:Ll,Qe=ye?Zl:Wl,pt=ye?Gl:Fl,Mt=ye?zl:Kl,_t=as=>De(f,as,V)+function jl(f,g,x){return-f.compared.pan*f.halfWindowSize*(x.ascensionFactor+x.descensionFactor-1)/(f.desiredPixelFlow*f.halfWindowPanAtZoom(g))}(f,as,V)+Qe(f,as,V),jt=as=>Ge(f,as,V)+function Nl(f,g,x){return f.compared.pan*f.halfWindowSize*(x.ascensionFactor+x.descensionFactor-1)/(f.desiredPixelFlow*f.halfWindowPanAtZoom(g*g))}(f,as,V)+pt(f,as,V),cs=as=>$e(f,as,V)+function Bl(f,g,x){return-2*f.compared.pan*f.halfWindowSize*(x.ascensionFactor+x.descensionFactor-1)/(f.desiredPixelFlow*f.halfWindowPanAtZoom(g*g*g))}(f,as,V)+Mt(f,as,V);let bs=_t(x);const si=function Vl(f){const g=f.compared.sourceZoom-f.compared.targetZoom;if(0===g)return f.compared.pan*f.halfWindowSize/(f.desiredPixelFlow*f.halfWindowPanAtZoom(f.compared.sourceZoom));const x=Math.LN2*f.compared.pan,ne=f.halfWindowPanAtZoom(g),ye=f.halfWindowSize*Math.log(f.compared.sourceZoom/f.compared.targetZoom)/(f.desiredPixelFlow*Math.LN2*ne);return f.compared.sourceZoom<=f.compared.targetZoom?ye*(x-ne):ye*(x+ne)}(f);let lr;const Qo=g.maximumIterations||20,ms=null!=g.maximumDistance?g.maximumDistance:1/0;for(lr=0;lr<Qo;lr++){const as=g.desiredSlope??1e-6;let Ys=jt(x);Math.abs(Ys)>as&&(Ys+=as);const _n=Ys/cs(x);if(isNaN(_n)||x>=ms&&_n<0){if(!isFinite(ms))return null;x=ms,bs=_t(x);break}if(x-=_n,x<f.compared.sourceZoom||x<f.compared.targetZoom)return null;const Dr=_t(x);if(Math.abs(Dr-bs)/bs<=.005)break;bs=Dr}return bs>.7*si||x<f.compared.sourceZoom||x<f.compared.targetZoom?null:x}(g,x.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,V?this._updateWithApex(V,x?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(g,x,V){g.interpolateComponentsAt(x,V),g===this._ascensionSegment?V.zoom=Co(V.zoom):g===this._descensionSegment&&(V.zoom=Wi(V.zoom))}_updateWithApex(g,x){const[V,ne,ye]=this._preallocSegments,De=x?.ascensionFactor??.5,Ge=Math.min(1-De,null!=x?.ascensionFactor&&null!=x.descensionFactor?x.descensionFactor:.5),$e=1-De-Ge;V.definition?V.definition.copyFrom(this.definition):V.definition=this.definition.clone(),V.definition.compared.targetZoom=g,V.definition.compared.pan=this.definition.compared.pan*De,V.definition.compared.rotate=this.definition.compared.rotate*De,V.definition.segmentEnd=De,V.update(),this._ascensionSegment=V,this.segments.push(V),$e>0&&(ne.definition?ne.definition.copyFrom(this.definition):ne.definition=this.definition.clone(),ne.definition.copyFrom(this.definition),ne.definition.compared.sourceZoom=g,ne.definition.compared.targetZoom=g,ne.definition.compared.pan=this.definition.compared.pan*$e,ne.definition.compared.rotate=this.definition.compared.rotate*$e,ne.definition.segmentStart=V.definition.segmentEnd,ne.definition.segmentEnd=V.definition.segmentEnd+$e,ne.update(),this.segments.push(ne)),ye.definition?ye.definition.copyFrom(this.definition):ye.definition=this.definition.clone(),ye.definition.compared.sourceZoom=g,ye.definition.compared.pan=this.definition.compared.pan*Ge,ye.definition.compared.rotate=this.definition.compared.rotate*Ge,ye.definition.segmentStart=De+$e,ye.update(),this._descensionSegment=ye,this.segments.push(ye)}_updateWithoutApex(){const[g]=this._preallocSegments;g.update(this.definition),this.segments.push(g)}}const Jl=new class Sl{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};class ql{constructor(g){this._view=g,this._animation=new class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(f){this._time=(0,os.l5)(0),this._easing=jo,this.definition=new No(f),this.path=new kl}update(f,g,x){this.definition.update(f,g,x),this.path.update(this.definition,x),this._time=this._applyTimeSettings((0,os.gr)(isFinite(this.path.time)?this.path.time:(0,os.Kp)(0)),x),this._easing=x.easing??(this._time>=1e3?jo:xo)}cameraAt(f,g){f=Math.min(Math.max(0,f),1),f=this._normalizedEasing(f);const x=this.path.interpolateComponentsAt(f,Jl);g.interpolate(this.definition.source,this.definition.target,x)}_normalizedEasing(f){const g=this._easing(0,this._time),x=this._easing(1,this._time);return(this._easing(f,this._time)-g)/(x-g)}_applyTimeSettings(f,g){const x=null!=g.speedFactor?g.speedFactor:1,ne=g.maxDuration??qr.maxDuration/x;return(0,os.l5)(null!=g.duration?g.duration:Math.min(Math.max(f/x,g.minDuration??qr.minDuration/x),ne))}}(()=>new aa(this._view)),this._current=new aa(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(g,x,V={}){(0,Yt.C)(this._current.viewpoint,g),(0,Yt.C)(this._source.viewpoint,g),(0,Yt.C)(this._target.viewpoint,x),this._animation.update(this._source,this._target,V)}applyRatio(g,x){this._animation.cameraAt(x,this._current),(0,Yt.C)(g,this._current.viewpoint)}}let gr=class extends G.A{constructor(f){super(f),this._animation=null,this._destinationViewState=new Wr,this.updateFunction=null,this.easing=pa.ease,this.viewpoint=new Me.A({targetGeometry:new Ps.A,scale:0,rotation:0}),this._updateTask=(0,Vt.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new ql(f.view)}destroy(){this._updateTask=(0,v.xt)(this._updateTask)}get animation(){return this._animation}set animation(f){this._animation=f,this.view.animation=f}animate(f,g,x){this.stop(),(0,Yt.C)(this.viewpoint,g);const ne=f.target;this._transition.update(this.viewpoint,ne,{apex:{maximumDistance:Math.min(64*Math.min(g.scale,ne.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:x?.duration,maxDuration:"auto"===x?.animationMode?(0,os.l5)(1/0):x?.maxDuration??fa.maxDuration,speedFactor:x?.speedFactor,easing:("string"==typeof x?.easing?pa[x.easing]:x?.easing)||this.easing}),"auto"===x?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=ne,function ec(f,g,x,V){if(null!=g?.duration)return!0;const{time:ne,isLinear:ye}=f,De=g?.speedFactor||1;if(ne>(g?.maxDuration??fa.maxDuration/De))return!1;if(ye){const $e=(0,zs.vt)(),Qe=(0,$t.tc)(...V.toScreen($e,...x.center)),pt=(0,$t.tc)(...x.toScreen($e,...V.center));if(ne>2e3/De&&!(null!=pt&&pt.x>-1*x.size[0]&&pt.x<2*x.size[0]&&pt.y>-1*x.size[1]&&pt.y<2*x.size[1])&&!(null!=Qe&&Qe.x>-1*V.size[0]&&Qe.x<2*V.size[0]&&Qe.y>-1*V.size[1]&&Qe.y<2*V.size[1]))return!1}return!0}(this._transition.animation,x,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,ne,{duration:(0,os.l5)(0)}));const ye=()=>{this.animation===f&&this._updateTask&&("finished"===f.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return f.when(ye,ye),this._startTime=performance.now(),this._updateTask.resume(),this.animation=f,f}animateContinuous(f,g){this.stop(),this.updateFunction=g,this.viewpoint=f;const x=new Fr({target:f.clone()}),V=()=>{this.animation===x&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return x.when(V,V),this._startTime=performance.now(),this._updateTask.resume(),this.animation=x,x}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(f){const g=this.animation;if(g&&g.state!==Fr.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,f.deltaTime),this.animation?.update(this.viewpoint);else{const x=performance.now()-this._startTime,V=this._transition.duration,ne=V>0?x/V:1,ye=ne>=1;this._transition.applyRatio(this.viewpoint,ne),ye&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,_._)([(0,m.MZ)()],gr.prototype,"easing",void 0),(0,_._)([(0,m.MZ)()],gr.prototype,"view",void 0),(0,_._)([(0,m.MZ)()],gr.prototype,"viewpoint",void 0),gr=(0,_._)([(0,D.$)("esri.views.2d.AnimationManager")],gr);const tc=gr;function rs(){return Promise.all([Promise.all([u.e(4946),u.e(4437)]).then(u.bind(u,67361)),Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(9544),u.e(6510),u.e(2900),u.e(788),u.e(2076),u.e(3876)]).then(u.bind(u,89906))])}const ei=()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(9544),u.e(6510),u.e(1968),u.e(2076),u.e(5316)]).then(u.bind(u,39867))),nr=()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1196),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(5423),u.e(5976),u.e(6050)]).then(u.bind(u,43435))),ma={"base-dynamic":()=>rs().then(()=>Promise.all([u.e(9845),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(454),u.e(2766)]).then(u.bind(u,50201))),"base-tile":ei,"bing-maps":ei,catalog:()=>rs().then(()=>Promise.all([u.e(9845),u.e(2088),u.e(5774)]).then(u.bind(u,95774))),"catalog-dynamic-group":()=>rs().then(()=>Promise.all([u.e(9845),u.e(2088),u.e(4204)]).then(u.bind(u,94204))),"catalog-footprint":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1196),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(5423),u.e(5976),u.e(6050),u.e(7683)]).then(u.bind(u,87683))),csv:nr,"geo-rss":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1595),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(6942)]).then(u.bind(u,46698))),feature:nr,geojson:nr,parquet:nr,graphics:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(8312)]).then(u.bind(u,28312))),group:()=>rs().then(()=>Promise.all([u.e(9845),u.e(2088),u.e(3119)]).then(u.bind(u,83119))),imagery:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(9642),u.e(18),u.e(454),u.e(6799),u.e(3388)]).then(u.bind(u,3388))),"imagery-tile":()=>rs().then(()=>Promise.all([u.e(9845),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(9642),u.e(18),u.e(6799),u.e(2076),u.e(7637)]).then(u.bind(u,98108))),kml:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1595),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(18),u.e(2900),u.e(6147),u.e(2076),u.e(173)]).then(u.bind(u,45255))),"knowledge-graph":()=>rs().then(()=>Promise.all([u.e(9845),u.e(2088),u.e(6083)]).then(u.bind(u,96083))),"link-chart":()=>rs().then(()=>Promise.all([u.e(9845),u.e(2088),u.e(6083)]).then(u.bind(u,96083))),"knowledge-graph-sublayer":nr,"map-image":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(454),u.e(1968),u.e(3548)]).then(u.bind(u,93548))),"map-notes":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(7074)]).then(u.bind(u,57074))),media:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(9544),u.e(6510),u.e(2076),u.e(4555)]).then(u.bind(u,56478))),"ogc-feature":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1196),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(5423),u.e(5976),u.e(6050),u.e(2345)]).then(u.bind(u,12345))),"open-street-map":ei,"oriented-imagery":nr,route:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(709),u.e(2924)]).then(u.bind(u,89652))),stream:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1196),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(5423),u.e(5976),u.e(6050),u.e(9426)]).then(u.bind(u,79426))),"subtype-group":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2253),u.e(3318),u.e(1196),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(5423),u.e(5976),u.e(6050),u.e(4012)]).then(u.bind(u,94012))),tile:ei,"vector-tile":()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(6517),u.e(2076),u.e(143)]).then(u.bind(u,90143))),video:()=>rs().then(()=>Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(2076),u.e(1520)]).then(u.bind(u,81520))),wcs:()=>rs().then(()=>Promise.all([u.e(9845),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(9642),u.e(18),u.e(6799),u.e(2076),u.e(7637)]).then(u.bind(u,98108))),"web-tile":ei,wfs:nr,wms:()=>rs().then(()=>Promise.all([u.e(9845),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(454),u.e(2076),u.e(1453)]).then(u.bind(u,45400))),wmts:()=>rs().then(()=>Promise.all([u.e(9845),u.e(1732),u.e(2088),u.e(3247),u.e(4946),u.e(4382),u.e(3643),u.e(2076),u.e(4977)]).then(u.bind(u,57216))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};var nc=u(54290),rc=u(74847),ic=(u(15215),u(77031),u(77413)),vr=u(51995),ya=u(97233),oc=u(75324);const rr={added:[],removed:[]},Wo=new Set,ac=new rc.A(0,0,0,0);class cc extends J.A{constructor(g){super(),this._tiles=new Map,this._index=(0,ic.r)(9,(0,b.A)("esri-csp-restrictions")?x=>({minX:x.bounds[0],minY:x.bounds[1],maxX:x.bounds[2],maxY:x.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=g}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(g){return this._tiles.has(g)}get(g){return this._tiles.get(g)}getIntersectingTiles(g){if(!g||0===(0,vr.VL)(g)||0===(0,vr.uJ)(g))return[];const x=function lc(f,g){const x=(0,Os.Vp)(g);if(!x)return null;const[V,ne]=x.valid;return f[2]>ne?[(0,vr.vt)([f[0],f[1],ne,f[3]]),(0,vr.vt)([V,f[1],V+f[2]-ne,f[3]])]:f[0]<V?[(0,vr.vt)([V,f[1],f[2],f[3]]),(0,vr.vt)([ne-(V-f[0]),f[1],ne,f[3]])]:null}(g,this.tileScheme.spatialReference);return null!=x?[...new Set([...this.boundsIntersections(x[0]),...this.boundsIntersections(x[1])])]:this.boundsIntersections(g)}boundsIntersections(g){return this._index.search({minX:g[0],minY:g[1],maxX:g[2],maxY:g[3]})}updateTiles(g){const x={added:[],removed:[]};for(const V of g.added)if(!this.has(V)){const ne=new ya.F(this.tileScheme,V);this._tiles.set(V,ne),this._index.insert(ne),x.added.push(ne)}for(const V of g.removed)if(this.has(V)){const ne=this.get(V);this._tiles.delete(V),this._index.remove(ne),x.removed.push(ne)}this.tiles.length=0,this._tiles.forEach(V=>this.tiles.push(V)),(x.added.length||x.removed.length)&&this.emit("update",x)}setViewState(g){const x=this.tileScheme.getTileCoverage(g,0);if(!x)return;const{spans:V,lodInfo:ne}=x,{level:ye}=ne;if(V.length>0)for(const{row:De,colFrom:Ge,colTo:$e}of V)for(let Qe=Ge;Qe<=$e;Qe++){const pt=ac.set(ye,De,ne.normalizeCol(Qe),ne.getWorldForColumn(Qe)).id;if(Wo.add(pt),!this.has(pt)){const Mt=new ya.F(this.tileScheme,pt);this._tiles.set(pt,Mt),this._index.insert(Mt),this.tiles.push(Mt),rr.added.push(Mt)}}for(let De=this.tiles.length-1;De>=0;De--){const Ge=this.tiles[De];Wo.has(Ge.id)||(this._tiles.delete(Ge.id),this.tiles.splice(De,1),this._index.remove(Ge),rr.removed.push(Ge))}(rr.added.length||rr.removed.length)&&this.emit("update",rr),oc.A.pool.release(x),Wo.clear(),rr.added.length=0,rr.removed.length=0}}var uc=u(62931),ga=u(58349),va=u(64301),hc=u(81098);function Fo(){return Fo=(0,F.A)(function*(f,g,x){const V=(0,Ss.FV)(g)?(0,Ss.xB)(f,g):g;if(!f.ready||isNaN(V.x)||isNaN(V.y))return{screenPoint:V,results:[]};let ne=new Set;const ye=new Set;let De=!1,Ge=null,$e=null;x?.include?Ma(x.include,Ea(f,_t=>{ne.add(_t),Zo(_t,jt=>ye.add(jt))},(_t,jt)=>{ye.add(_t),ne.add(jt)},_t=>{Ge||(Ge=new Set),Ge.add(_t)},_t=>ne.add(_t),()=>De=!0)):(De=!0,ne=new Set(f.allLayerViews),ne.forEach(_t=>{Zo(_t,jt=>ye.add(jt))})),x?.exclude&&Ma(x.exclude,Ea(f,_t=>{ne.delete(_t),Zo(_t,jt=>ye.delete(jt))},_t=>ye.delete(_t),_t=>{$e||($e=new Set),$e.add(_t)}));const Qe=f.toMap(V),pt=f.allLayerViews.filter(_t=>!_t.suspended&&ne.has(_t)&&_t.clips.every(jt=>(0,ga.O)(f,jt,V,Qe))).reverse();let Mt=[...De?f.graphicsView.hitTest(Qe).map(_t=>({type:"graphic",graphic:_t,layer:null,mapPoint:Qe})):[],...yield Promise.all(pt.map(_t=>_t.hitTest(Qe,V)).toArray())].filter(Xs.Ru).flat().filter(Xs.Ru);return Mt=Mt.filter(_t=>"graphic"!==_t.type||"subtype-group"!==_t.layer?.type||ye.has(_t.graphic.layer)),Ge&&(Mt=Mt.filter(_t=>!("graphic"in _t)||!_t.graphic||Ge?.has(Ko(_t.graphic)))),$e&&(Mt=Mt.filter(_t=>!("graphic"in _t)||!_t.graphic||!$e?.has(Ko(_t.graphic)))),{screenPoint:V,results:Mt}}),Fo.apply(this,arguments)}function Ea(f,g,x,V,ne,ye){return De=>{if(De instanceof hc.A){if(De.layer===f)ye?.();else{const Ge=f.allLayerViews.find($e=>$e.layer===De.layer);Ge&&ne?.(Ge)}V(Ko(De))}else if(!("layer"in De)||!("element"in De))if("subtype-sublayer"===De.type){const Ge=f.allLayerViews.find($e=>$e.layer===De.parent);Ge&&x(De,Ge)}else{const Ge=f.allLayerViews.find($e=>$e.layer===De);Ge&&g(Ge)}}}function Ma(f,g){if(f)if((0,Sr.xZ)(f))for(const x of f)if((0,Sr.xZ)(x))for(const V of x)g(V);else g(x);else g(f)}function Ko(f){const g=f.getObjectId();return g?`${f.layer?.uid??f.sourceLayer?.uid??"MapView"}/${g}`:`"MapView/${f.uid}`}function Zo({layer:f},g){"subtype-group"===f?.type&&f.sublayers.forEach(x=>{g(x)})}var Fi=u(14989);const Aa={flipY:!0,premultipliedAlpha:!0};function Go(){return Go=(0,F.A)(function*(f,g){const x=yield Pa(f,g),{format:V,quality:ne}=(0,Fi.getFormatAndQuality)(g?.format,g?.quality);return(0,Fi.encode)(x,{format:V,quality:ne},Aa)}),Go.apply(this,arguments)}function zo(){return zo=(0,F.A)(function*(f,g){const x=yield Pa(f,g);return(0,Fi.encodeData)(x,Aa)}),zo.apply(this,arguments)}function Pa(f,g){const x=function yc(f,g,x,V){f.ignorePadding&&(V={left:0,right:0,top:0,bottom:0});let ne=null;null!=f.width&&null!=f.height?ne=[f.width,f.height]:null==f.width&&null!=f.height?ne=[f.height,f.height]:null!=f.width&&null==f.height?ne=[f.width,f.width]:null==f.width&&null==f.height&&(ne=null);const ye=x[0]-(V.left+V.right),De=x[1]-(V.top+V.bottom);let Ge,$e,Qe=f.area||{x:0,y:0,width:ye,height:De};if(ne){const Mt=ne[0]/ne[1];if(Mt>ye/De){const _t=Qe.width/Mt;Qe={x:Qe.x,y:Math.round(Qe.y+(Qe.height-_t)/2),width:Qe.width,height:Math.round(_t)}}else{const _t=Qe.height*Mt;Qe={x:Math.round(Qe.x+(Qe.width-_t)/2),y:Qe.y,width:Math.round(_t),height:Qe.height}}}else ne=[Qe.width,Qe.height];return ne[0]>Qe.width?(Ge=Math.min(ne[0]/Qe.width,g),$e=ne[0]/Qe.width/Ge):(Ge=1,$e=ne[0]/Qe.width),{cropArea:{x:Math.round((Qe.x+V.left)*Ge),y:Math.round((Qe.y+V.top)*Ge),width:Math.round(Qe.width*Ge),height:Math.round(Qe.height*Ge)},outputScale:$e,resolutionScale:Ge}}(g||{},function _c(f,g){return Math.min(4,(0,Fi.getMaximumResolutionScale)(g,Math.min(4096,f.context.parameters.maxTextureSize)))}(f.stage,f.size),f.size,f.padding),V=function mc(f={},g){if(!f.layers)return;const x=[];return f.layers.forEach(V=>{const ne=g.find(ye=>ye.layer.id===V.id);ne?.container&&x.push(ne.container)}),x}(g,f.allLayerViews);return f.stage.takeScreenshot(x,V,f.backgroundColor,g?.rotation)}var Oa=u(56551),gc=u(54551);let ir=class extends G.A{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(f){this._set("id",f)}set node(f){const g=this._get("node");f!==g&&(f&&f.classList.add("esri-component"),g&&g.classList.remove("esri-component"),this._set("node",f))}castNode(f){return this.widget?.destroy(),f?"string"==typeof f||function Ec(f){return f&&"nodeType"in f}(f)?(this._set("widget",null),(0,Lt.$)(f)):(function Mc(f){return f&&"function"==typeof f.render}(f)&&!f.domNode&&(f.domNode=document.createElement("div")),this._set("widget",f),f.domNode):(this._set("widget",null),null)}};(0,_._)([(0,m.MZ)()],ir.prototype,"id",null),(0,_._)([(0,m.MZ)()],ir.prototype,"node",null),(0,_._)([(0,ce.w)("node")],ir.prototype,"castNode",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ir.prototype,"widget",void 0),ir=(0,_._)([(0,D.$)("esri.views.ui.Component")],ir);const Ki=ir;u(13242);var Ac=u(67722),Da=u(60421),Sa=u(88996);const Pc={left:0,top:0,bottom:0,right:0},Ca={bottom:30,top:15,right:15,left:15},An="esri-ui",Bs={ui:An,corner:`${An}-corner`,innerContainer:`${An}-inner-container`,manualContainer:`${An}-manual-container`,cornerContainer:`${An}-corner-container`,topLeft:`${An}-top-left`,topRight:`${An}-top-right`,bottomLeft:`${An}-bottom-left`,bottomRight:`${An}-bottom-right`};function Zi(f){return 0===f?"0":`${f}px`}function Vo(f){const g="object"==typeof f&&null!==f&&Object.getPrototypeOf(f);return null!==g&&g!==Object.prototype||!("component"in f||"index"in f||"position"in f)?null:f}function $o(f,{top:g,bottom:x,left:V,right:ne}){f.style.top=g,f.style.bottom=x,f.style.left=V,f.style.right=ne}let fn=class extends J.A.EventedAccessor{constructor(f){super(f),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,Sa.JK)(),this.view=null,this._applyViewPadding=()=>{const g=this.container;g&&$o(g,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const g=this._innerContainer;g&&$o(g,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,Ce.wB)(()=>[this.view?.padding,this.container],this._applyViewPadding,Ce.Vh),(0,Ce.wB)(()=>this.padding,this._applyUIPadding,Ce.Vh),(0,Ce.wB)(()=>[this.container,this._locale],([f,g])=>{f&&f.setAttribute("lang",g)},Ce.Vh),(0,Sa.oQ)(f=>{this._locale=f})])}destroy(){this.container=null;for(const f of this._components)f.destroy();this._components.length=0,this._componentMap.clear()}set container(f){const g=this._get("container");f!==g&&(f&&(f.classList.add(Bs.ui),(0,Ac.hY)(f),this._attachContainers(f)),g&&(g.classList.remove(Bs.ui),$o(g,{top:"",bottom:"",left:"",right:""}),g.textContent=""),this._set("container",f))}get height(){const f=this.view?.height??0;if(0===f)return f;const g=this._getViewPadding(),{top:x,bottom:V}=g;return Math.max(f-x-V,0)}get padding(){return this._get("padding")}set padding(f){this._overrideIfSome("padding",f)}castPadding(f){return"number"==typeof f?{bottom:f,top:f,right:f,left:f}:{...Ca,...f}}get width(){const f=this.view?.width??0;if(0===f)return f;const g=this._getViewPadding(),{left:x,right:V}=g;return Math.max(f-x-V,0)}add(f,g){let x,V,ne;if(Array.isArray(f))return void f.forEach(De=>this.add(De,g));const ye=Vo(f);ye&&({index:x,position:g,component:f,key:V}=ye),g&&"object"==typeof g&&({index:x,key:V,position:g,internal:ne}=g),!f||g&&!this._isValidPosition(g)||this._add(f,g,x,V,ne)}remove(f,g){if(!f)return;if(Array.isArray(f))return f.map(V=>this.remove(V,g));const x=this._find(f);if(x){if(this._componentMap.has(x)&&this._componentMap.get(x)?.key!==g)return;const V=this._components.indexOf(x);return x.node.parentNode?.removeChild(x.node),this._componentMap.delete(x),x.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(V,1)[0]}}empty(f,g={removeInternal:!1}){if(Array.isArray(f)){for(const ne of f)this.empty(ne,g);return}const V=Array.prototype.slice.call(this._positionNameToContainerLookup[f??"manual"].children).map(ne=>this._findByNode(ne)).filter(ne=>null!=ne&&(!this._componentMap.get(ne)?.internal||g.removeInternal));for(const ne of V)this.remove(ne)}move(f,g){if(Array.isArray(f)&&f.forEach(ye=>this.move(ye,g)),!f)return;let x;const V=Vo(f)||Vo(g);if(V&&(x=V.index,g=V.position,f=V.component||f),g&&!this._isValidPosition(g))return;const ne=this.remove(f);ne&&this.add(ne,{position:g,index:x})}find(f){if(!f)return null;const g=this._findById(f);return g&&(g.widget||g.node)}getComponents(f,g={includeInternal:!1}){return f?Array.isArray(f)?f.flatMap(x=>this._getComponentsAtPosition(x,g)):this._getComponentsAtPosition(f,g):this._components.filter(x=>g.includeInternal||!this._componentMap.get(x)?.internal).map(({widget:x,node:V})=>x??V)}getPosition(f){for(const g in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[g].contains(f))return g;return null}_add(f,g,x,V,ne){f instanceof Ki||(f=new Ki({node:f}));const{widget:ye}=f;null!=ye&&ye instanceof G.A&&ye.addHandles((0,_e.hA)(()=>{queueMicrotask(()=>this.remove(f))}),this._removeWidgetHandleKey),this._place({component:f,position:g,index:x}),this._components.push(f),this._componentMap.set(f,{key:V,internal:ne})}_find(f){return f?f instanceof Ki?this._findByComponent(f):"string"==typeof f?this._findById(f):this._findByNode(f.domNode||f):null}_getViewPadding(){return this.view?.padding??Pc}_attachContainers(f){f.appendChild(this._innerContainer),f.appendChild(this._manualContainer)}_initContainers(){const f=document.createElement("div");f.classList.add(Bs.innerContainer,Bs.cornerContainer);const g=document.createElement("div");g.classList.add(Bs.innerContainer,Bs.manualContainer);const x=document.createElement("div");x.classList.add(Bs.topLeft,Bs.corner),f.appendChild(x);const V=document.createElement("div");V.classList.add(Bs.topRight,Bs.corner),f.appendChild(V);const ne=document.createElement("div");ne.classList.add(Bs.bottomLeft,Bs.corner),f.appendChild(ne);const ye=document.createElement("div");ye.classList.add(Bs.bottomRight,Bs.corner),f.appendChild(ye),this._innerContainer=f,this._manualContainer=g;const De=(0,Da.V8)();this._cornerNameToContainerLookup={"top-left":x,"top-right":V,"bottom-left":ne,"bottom-right":ye,"top-leading":De?V:x,"top-trailing":De?x:V,"bottom-leading":De?ye:ne,"bottom-trailing":De?ne:ye},this._positionNameToContainerLookup={manual:g,...this._cornerNameToContainerLookup}}_isValidPosition(f){return!!this._positionNameToContainerLookup[f]}_place(f){const g=f.position??"manual",{component:x,index:V}=f,ne=this._positionNameToContainerLookup[g],ye=null!=V&&V>-1;if(function Oc(f){return f&&!f._started&&"function"==typeof f.postMixInProperties&&"function"==typeof f.buildRendering&&"function"==typeof f.postCreate&&"function"==typeof f.startup}(x.widget)&&x.widget.startup(),!ye)return void ne.appendChild(x.node);const De=Array.from(ne.children);if(0===V){const{firstChild:$e}=ne;return void($e?$e.parentNode?.insertBefore(x.node,$e):ne.appendChild(x.node))}if(V>=De.length)return void ne.appendChild(x.node);const Ge=De[V];Ge.parentNode?.insertBefore(x.node,Ge)}_toPixelPosition(f){return{top:Zi(f.top),left:Zi(f.left),right:Zi(f.right),bottom:Zi(f.bottom)}}_findByComponent(f){return this._components.find(g=>g===f)??null}_findById(f){return this._components.find(({id:g})=>g===f)??null}_findByNode(f){return this._components.find(({node:g})=>g===f)??null}_getComponentsAtPosition(f,g){return Array.prototype.slice.call(this._positionNameToContainerLookup[f].children).map(V=>this._findByNode(V)).filter(Xs.Ru).filter(V=>g.includeInternal||!this._componentMap.get(V)?.internal).map(({widget:V,node:ne})=>V??ne)}};(0,_._)([(0,m.MZ)()],fn.prototype,"_locale",void 0),(0,_._)([(0,m.MZ)()],fn.prototype,"container",null),(0,_._)([(0,m.MZ)()],fn.prototype,"height",null),(0,_._)([(0,m.MZ)({value:Ca})],fn.prototype,"padding",null),(0,_._)([(0,ce.w)("padding")],fn.prototype,"castPadding",null),(0,_._)([(0,m.MZ)()],fn.prototype,"view",void 0),(0,_._)([(0,m.MZ)()],fn.prototype,"width",null),fn=(0,_._)([(0,D.$)("esri.views.ui.UI")],fn);const Tc=fn;var Gi=u(2188),Ra=u(55039);const Er=new Map;function Ia(f,g){return f&&"copyright"in f&&(!g||"function"==typeof f.originOf&&"user"===f.originOf("copyright"))}function ti(f,g,x){!x||!g||f.find(V=>V.layerView===g&&V.text===x)||f.push({text:x,layerView:g})}const Pn=[];let Mr=class extends G.A{constructor(f){super(f),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new T.A,this.view=null,this._allLayerViewsChange=g=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const x=this.view?.allLayerViews;x&&(this.addHandles(x.map(V=>(0,Ce.wB)(()=>[V.suspended,V.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),x.forEach(V=>{"esri.views.3d.layers.Tiles3DLayerView3D"===V.declaredClass&&this.addHandles(V.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),g?.removed&&g.removed.forEach(V=>{this._pendingAttributions.delete(V),this._fetchedAttributionData.delete(V)}),this._updateAttributionItems()},this.addHandles([(0,Ce.on)(()=>this.view?.allLayerViews,"change",g=>this._allLayerViewsChange(g),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,Ce.z7)(()=>!0===this.view?.stationary,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const f=this.view,g=f?.allLayerViews;if(Pn.length=0,!f||!g)return void this._clear();g.forEach(V=>{if(V.suspended||!V.layer?.attributionVisible)return;const ne=V.layer;if(Ia(ne,"user"))ti(Pn,V,ne.copyright);else if(ne.hasAttributionData){if(this._fetchedAttributionData.has(V)){const De=this._fetchedAttributionData.get(V);return void(De?ti(Pn,V,this._getDynamicAttribution(De,f,ne)):Ia(ne)&&ti(Pn,V,ne.copyright))}this._fetchAttributionData(V)}else ti(Pn,V,("portalItem"in ne?ne.portalItem?.accessInformation:void 0)||ne.copyright)});const x=g.find(V=>"integrated-mesh-3dtiles"===V.layer?.type);if(this.view&&x){const V=function Dc(f){return Er.get(f)}(this.view);if(V){const ne=V.getAttributionText();for(let ye=0;ye<ne.length;++ye)ti(Pn,x,ne[ye])}}(function Sc(f,g){return f.length!==g.length||f.some((x,V)=>x.text!==g[V].text)})(this.items,Pn)&&(this.items.removeAll(),this.items.addMany(Pn)),Pn.length=0,this.notifyChange("state")}_fetchAttributionData(f){var g=this;return(0,F.A)(function*(){if(g._pendingAttributions.has(f))return;g._pendingAttributions.add(f);const x=yield(0,Nt.Ke)(f.layer.fetchAttributionData());if(g._pendingAttributions.has(f)){const V=x.ok?g._createContributionIndex(x.value,function Cc(f){return"bing-maps"===f.type}(f.layer)):null;g._pendingAttributions.delete(f),g._fetchedAttributionData.set(f,V)}g._updateAttributionItems()})()}_createContributionIndex(f,g){const x=f.contributors,V={};if(!x)return V;for(let ne=0;ne<x.length;ne++){const ye=x[ne],De=ye.coverageAreas;if(!De)return;for(const Ge of De){const $e=Ge.bbox,Qe=Ge.zoomMin-(g&&Ge.zoomMin?1:0),pt=Ge.zoomMax-(g&&Ge.zoomMax?1:0),Mt=new mt.A({xmin:$e[1],ymin:$e[0],xmax:$e[3],ymax:$e[2],spatialReference:_s.A.WGS84}),_t={extent:(0,Ra.Gh)(Mt),attribution:ye.attribution||"",score:null!=Ge.score?Ge.score:100,id:ne};for(let jt=Qe;jt<=pt;jt++)V[jt]??=[],V[jt].push(_t)}}return V.maxKey=Math.max.apply(null,Object.keys(V)),V}_getDynamicAttribution(f,g,x){const{extent:V,scale:ne}=g;let ye=x.tileInfo?.scaleToZoom(ne)??0;if(ye=Math.min(f.maxKey??0,Math.round(ye)),!V||null==ye||ye<=-1)return"";const De=f[ye],Ge=(0,Ra.Cv)(V.center.clone().normalize(),_s.A.WebMercator),$e=new Set;return De?De.filter(Qe=>{const pt=Qe.id,Mt=!$e.has(pt)&&Ge&&Qe.extent&&(0,Gr.qz)(Qe.extent,Ge);return Mt&&$e.add(pt),Mt}).sort((Qe,pt)=>pt.score-Qe.score||Qe.objectId-pt.objectId).map(Qe=>Qe.attribution).join(", "):""}};(0,_._)([(0,m.MZ)({readOnly:!0,type:T.A})],Mr.prototype,"items",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Mr.prototype,"state",null),(0,_._)([(0,m.MZ)()],Mr.prototype,"view",void 0),Mr=(0,_._)([(0,D.$)("esri.widgets.Attribution.AttributionViewModel")],Mr);const wa=Mr;var mn=u(92190),Rc=u(54737),$i=u(5668),Ws=u(56295);const Ar="esri-attribution",Pr={base:Ar,poweredBy:`${Ar}__powered-by`,sources:`${Ar}__sources`,open:`${Ar}--open`,sourcesOpen:`${Ar}__sources--open`,link:`${Ar}__link`};let Ls=class extends Gi.A{constructor(f,g){super(f,g),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(x=>x.forEach(({target:V})=>this._checkSourceTextOverflow(V))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new wa}initialize(){this.addHandles((0,Ce.on)(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((f,g)=>(f.includes(g.text)||f.push(g.text),f),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(f){this._overrideIfSome("icon",f)}get label(){return this.messages?.widgetLabel??""}set label(f){this._overrideIfSome("label",f)}get view(){return this.viewModel.view}set view(f){this.viewModel.view=f}render(){return(0,Ws.K)("div",{bind:this,class:this.classes(Pr.base,mn.D.widget,{[Pr.open]:this._isOpen}),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,Ws.K)("div",{class:Pr.poweredBy},"Powered by"," ",(0,Ws.K)("a",{class:Pr.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const f=this._isOpen,g=this._isInteractive,x=g?0:void 0,{attributionText:V}=this;return(0,Ws.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Pr.sources,{[Pr.sourcesOpen]:f,[mn.D.interactive]:g}),innerHTML:V,tabIndex:x})}_afterSourcesNodeCreate(f){this._prevSourceNodeHeight=f.clientWidth,this._resizeObserver.observe(f)}_checkSourceTextOverflow(f){let g=!1;const{clientHeight:x,clientWidth:V,scrollWidth:ne}=f,ye=ne>V,De=this._attributionTextOverflowed!==ye;if(this._attributionTextOverflowed=ye,De&&(g=!0),this._isOpen){const Ge=x<this._prevSourceNodeHeight;this._prevSourceNodeHeight=x,Ge&&(this._isOpen=!1,g=!0)}g&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,_._)([(0,m.MZ)()],Ls.prototype,"_isOpen",void 0),(0,_._)([(0,m.MZ)()],Ls.prototype,"_isInteractive",null),(0,_._)([(0,m.MZ)()],Ls.prototype,"_attributionTextOverflowed",void 0),(0,_._)([(0,m.MZ)()],Ls.prototype,"_prevSourceNodeHeight",void 0),(0,_._)([(0,m.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],Ls.prototype,"attributionText",null),(0,_._)([(0,m.MZ)()],Ls.prototype,"icon",null),(0,_._)([(0,m.MZ)()],Ls.prototype,"itemDelimiter",void 0),(0,_._)([(0,m.MZ)()],Ls.prototype,"label",null),(0,_._)([(0,m.MZ)(),(0,$i.G)("esri/widgets/Attribution/t9n/Attribution")],Ls.prototype,"messages",void 0),(0,_._)([(0,m.MZ)()],Ls.prototype,"view",null),(0,_._)([(0,m.MZ)({type:wa})],Ls.prototype,"viewModel",void 0),(0,_._)([(0,Rc.$)()],Ls.prototype,"_toggleState",null),Ls=(0,_._)([(0,D.$)("esri.widgets.Attribution")],Ls);const Ic=Ls;var wc=u(11757),bc=u(10361);let or=class extends((0,bc.A)(G.A)){constructor(f){super(f),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Ce.Vh)}destroy(){this.view=null}get canShowNorth(){return function Lc(f){return f?.spatialReference?.isWebMercator||f?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&this.callGoTo("2d"===this.view?.type?{target:{rotation:0},options:{animationMode:"always",duration:(0,wc.s)()}}:{target:{heading:0}})}_updateForRotation(f){null!=f&&this._set("orientation",{z:f})}_updateForCamera(f){f&&this._set("orientation",{x:0,y:0,z:-f.heading})}_updateRotationWatcher(f){this.removeAllHandles(),this._watchForView(),f&&this.addHandles("2d"===f.type?(0,Ce.wB)(()=>f?.rotation,this._updateForRotation,Ce.Vh):(0,Ce.wB)(()=>f?.camera,this._updateForCamera,Ce.Vh))}_watchForView(f){this.addHandles((0,Ce.wB)(()=>this.view,this._updateRotationWatcher,f))}};(0,_._)([(0,m.MZ)({readOnly:!0})],or.prototype,"canShowNorth",null),(0,_._)([(0,m.MZ)({readOnly:!0})],or.prototype,"orientation",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],or.prototype,"state",null),(0,_._)([(0,m.MZ)()],or.prototype,"view",void 0),or=(0,_._)([(0,D.$)("esri.widgets.Compass.CompassViewModel")],or);const La=or,ba="esri-compass",xa={base:ba,iconContainer:`${ba}__icon-container`};var ko=u(42900);let On=class extends Gi.A{constructor(f,g){super(f,g),this.messages=null,this.viewModel=new La,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=x=>({transform:`rotateZ(${x.z}deg)`})}loadDependencies(){return(0,ko.W)({button:()=>Promise.all([u.e(1951),u.e(7392)]).then(u.bind(u,7392)),icon:()=>u.e(1951).then(u.bind(u,81951))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(f){this.viewModel.goToOverride=f}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(f){this._overrideIfSome("icon",f)}get label(){return this.messages?.widgetLabel??""}set label(f){this._overrideIfSome("label",f)}get view(){return this.viewModel.view}set view(f){this.viewModel.view=f}reset(){return this.viewModel.reset()}render(){const{orientation:f,state:g}=this.viewModel,{messages:x}=this;return(0,Ws.K)("div",{class:this.classes(xa.base,mn.D.widget)},(0,Ws.K)("calcite-button",{class:mn.D.widgetButton,disabled:"disabled"===g,kind:"neutral",label:x.reset,onclick:this._reset,round:!0,scale:"s",title:x.reset},(0,Ws.K)("div",{"aria-hidden":"true",class:xa.iconContainer,title:x.reset},(0,Ws.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(f)}))))}};(0,_._)([(0,m.MZ)()],On.prototype,"goToOverride",null),(0,_._)([(0,m.MZ)()],On.prototype,"icon",null),(0,_._)([(0,m.MZ)()],On.prototype,"label",null),(0,_._)([(0,m.MZ)(),(0,$i.G)("esri/widgets/Compass/t9n/Compass")],On.prototype,"messages",void 0),(0,_._)([(0,m.MZ)()],On.prototype,"view",null),(0,_._)([(0,m.MZ)({type:La})],On.prototype,"viewModel",void 0),On=(0,_._)([(0,D.$)("esri.widgets.Compass")],On);const xc=On,Ua="esri-navigation-toggle",ja_base=Ua,ja_isLayoutHorizontal=`${Ua}--horizontal`;let Or=class extends G.A{constructor(f){super(f),this._navigationMode="pan",this.view=null}initialize(){this.addHandles((0,Ce.z7)(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(f){this._navigationMode=f,this._updateNavigationActionMap()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_updateNavigationActionMap(){const f=this.view?.navigation?.actionMap;if(!f)return;const g="pan"===this._navigationMode;f.dragPrimary=g?"pan":"rotate",f.dragSecondary=g?"rotate":"pan"}};(0,_._)([(0,m.MZ)({readOnly:!0})],Or.prototype,"state",null),(0,_._)([(0,m.MZ)()],Or.prototype,"_navigationMode",void 0),(0,_._)([(0,m.MZ)()],Or.prototype,"view",void 0),Or=(0,_._)([(0,D.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Or);const Na=Or;let Tn=class extends Gi.A{constructor(f,g){super(f,g),this.messages=null,this.viewModel=new Na,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{(0,Da.Z6)("pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton),this.toggle()}}loadDependencies(){return(0,ko.W)({button:()=>Promise.all([u.e(1951),u.e(7392)]).then(u.bind(u,7392))})}get icon(){return"move"}set icon(f){this._overrideIfSome("icon",f)}get label(){return this.messages?.widgetLabel??""}set label(f){this._overrideIfSome("label",f)}set layout(f){"horizontal"!==f&&(f="vertical"),this._set("layout",f)}get view(){return this.viewModel.view}set view(f){this.viewModel.view=f}render(){const f="disabled"===this.viewModel?.state,g="pan"===this.viewModel?.navigationMode,x=this.messages.toggle;return(0,Ws.K)("div",{class:this.classes(ja_base,mn.D.widget,{[ja_isLayoutHorizontal]:"horizontal"===this.layout})},(0,Ws.K)("calcite-button",{afterCreate:V=>{this._panButton=V},appearance:g?"outline-fill":"solid",class:mn.D.widgetButton,disabled:f,iconStart:"move",kind:"neutral",label:x,onclick:this._toggle,tabIndex:g?void 0:-1,title:x}),(0,Ws.K)("calcite-button",{afterCreate:V=>{this._rotateButton=V},appearance:g?"solid":"outline-fill",class:mn.D.widgetButton,disabled:f,iconStart:"rotate",kind:"neutral",label:x,onclick:this._toggle,tabIndex:g?-1:void 0,title:x}))}};(0,_._)([(0,m.MZ)()],Tn.prototype,"icon",null),(0,_._)([(0,m.MZ)()],Tn.prototype,"label",null),(0,_._)([(0,m.MZ)({value:"vertical"})],Tn.prototype,"layout",null),(0,_._)([(0,m.MZ)(),(0,$i.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Tn.prototype,"messages",void 0),(0,_._)([(0,m.MZ)()],Tn.prototype,"view",null),(0,_._)([(0,m.MZ)({type:Na})],Tn.prototype,"viewModel",void 0),Tn=(0,_._)([(0,D.$)("esri.widgets.NavigationToggle")],Tn);const Uc=Tn;let ar=class extends G.A{get canZoomIn(){if(!this.view?.ready)return!1;const g=this.view?.constraints?.effectiveMaxScale;return 0===g||this._scale>g}get canZoomOut(){const{view:f}=this;if(!f?.ready)return!1;const x=f.constraints?.effectiveMinScale;return 0===x||this._scale<x}get _scale(){const f=this.view?.animation?.target;return(f&&"then"in f?void 0:f?.scale)??this.view?.scale??0}};(0,_._)([(0,m.MZ)({readOnly:!0})],ar.prototype,"canZoomIn",null),(0,_._)([(0,m.MZ)({readOnly:!0})],ar.prototype,"canZoomOut",null),(0,_._)([(0,m.MZ)()],ar.prototype,"view",void 0),(0,_._)([(0,m.MZ)()],ar.prototype,"_scale",null),ar=(0,_._)([(0,D.$)("esri.widgets.Zoom.ZoomConditions2D")],ar);const jc=ar;let Tr=class extends G.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,_._)([(0,m.MZ)({readOnly:!0})],Tr.prototype,"canZoomIn",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Tr.prototype,"canZoomOut",null),(0,_._)([(0,m.MZ)()],Tr.prototype,"view",void 0),Tr=(0,_._)([(0,D.$)("esri.widgets.Zoom.ZoomConditions3D")],Tr);const Nc=Tr;let Kn=class extends G.A{constructor(f){super(f)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(f){f?"2d"===f.type?this._zoomConditions=new jc({view:f}):"3d"===f.type&&(this._zoomConditions=new Nc({view:f})):this._zoomConditions=null,this._set("view",f)}zoomIn(){const f=this.view;this.canZoomIn&&f&&("2d"===f.type?f.mapViewNavigation.zoomIn():(0,M.QZ)(f.goTo({zoomFactor:2})))}zoomOut(){const f=this.view;this.canZoomOut&&f&&("2d"===f.type?f.mapViewNavigation.zoomOut():(0,M.QZ)(f.goTo({zoomFactor:.5})))}};(0,_._)([(0,m.MZ)()],Kn.prototype,"_zoomConditions",void 0),(0,_._)([(0,m.MZ)()],Kn.prototype,"canZoomIn",null),(0,_._)([(0,m.MZ)()],Kn.prototype,"canZoomOut",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Kn.prototype,"state",null),(0,_._)([(0,m.MZ)()],Kn.prototype,"view",null),Kn=(0,_._)([(0,D.$)("esri.widgets.Zoom.ZoomViewModel")],Kn);const Ba=Kn;let Dn=class extends Gi.A{constructor(f,g){super(f,g),this.messages=null,this.viewModel=new Ba,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,ko.W)({button:()=>Promise.all([u.e(1951),u.e(7392)]).then(u.bind(u,7392))})}get icon(){return"magnifying-glass-plus"}set icon(f){this._overrideIfSome("icon",f)}get label(){return this.messages?.widgetLabel??""}set label(f){this._overrideIfSome("label",f)}set layout(f){"horizontal"!==f&&(f="vertical"),this._set("layout",f)}set view(f){this.viewModel.view=f}get view(){return this.viewModel.view}render(){const f={"esri-zoom--horizontal":"horizontal"===this.layout},{canZoomIn:g,canZoomOut:x}=this.viewModel,{zoomIn:V,zoomOut:ne}=this.messages;return(0,Ws.K)("div",{class:this.classes("esri-zoom",mn.D.widget,f)},(0,Ws.K)("calcite-button",{class:mn.D.widgetButton,disabled:!g,iconStart:"plus",kind:"neutral",label:V,onclick:this.zoomIn,title:V}),(0,Ws.K)("calcite-button",{class:mn.D.widgetButton,disabled:!x,iconStart:"minus",kind:"neutral",label:ne,onclick:this.zoomOut,title:ne}))}};(0,_._)([(0,m.MZ)()],Dn.prototype,"icon",null),(0,_._)([(0,m.MZ)()],Dn.prototype,"label",null),(0,_._)([(0,m.MZ)({value:"vertical"})],Dn.prototype,"layout",null),(0,_._)([(0,m.MZ)(),(0,$i.G)("esri/widgets/Zoom/t9n/Zoom")],Dn.prototype,"messages",void 0),(0,_._)([(0,m.MZ)()],Dn.prototype,"view",null),(0,_._)([(0,m.MZ)({type:Ba})],Dn.prototype,"viewModel",void 0),Dn=(0,_._)([(0,D.$)("esri.widgets.Zoom")],Dn);const Bc=Dn;let Hi=class extends Tc{constructor(f){super(f),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=g=>{this.components.forEach(x=>{const V=this._find(x),ne=V?.widget;(function Wc(f){return void 0!==f?.view})(ne)&&(ne.view=g)})},this._componentsWatcher=(g,x)=>{this._removeComponents(x),this._addComponents(g),this._adjustPadding(g)}}initialize(){this.addHandles([(0,Ce.wB)(()=>this.components,this._componentsWatcher,Ce.Vh),(0,Ce.wB)(()=>this.view,this._updateViewAwareWidgets,Ce.Vh)])}_add(f,g,x,V,ne){let ye=f;if("string"==typeof f&&this._defaultPositionLookup[f]){if(this._find(f))return;ye=this._createComponent(f)}super._add(ye,g,x,V,ne)}_removeComponents(f){f.forEach(g=>{const x=this._find(g);x&&(this.remove(x),x.destroy())})}_adjustPadding(f){if(!f.includes("attribution")&&!this._isOverridden("padding")){const{top:g}=this.padding;this.padding=g}}_addComponents(f){this.constructed&&f.forEach(g=>this.add(this._createComponent(g),this._defaultPositionLookup[g]))}_createComponent(f){const g=this._createWidget(f);return new Ki({id:f,node:g})}_createWidget(f){const g=this.view;switch(f){case"attribution":return new Ic({view:g});case"compass":return new xc({view:g});case"navigation-toggle":return new Uc({view:g});case"zoom":return new Bc({view:g})}}};(0,_._)([(0,m.MZ)()],Hi.prototype,"components",void 0),Hi=(0,_._)([(0,D.$)("esri.views.ui.DefaultUI")],Hi);const Fa=Hi;let ki=class extends Fa{constructor(f){super(f),this.components=["attribution","zoom"]}};(0,_._)([(0,m.MZ)()],ki.prototype,"components",void 0),ki=(0,_._)([(0,D.$)("esri.views.ui.2d.DefaultUI2D")],ki);const Ka=ki;var Yo,Jo=u(40920);let Ji=Yo=class extends C.A{constructor(f){super(f),this.color=new R.A([0,0,0,1])}clone(){return new Yo((0,N.o8)({color:this.color}))}};(0,_._)([(0,m.MZ)({type:R.A,json:{write:!0}})],Ji.prototype,"color",void 0),Ji=Yo=(0,_._)([(0,D.$)("esri.webmap.background.ColorBackground")],Ji);const Fc=Ji;let Za,Ga,za,Va,$a,Ha,ka;function Xo(){return Xo=(0,F.A)(function*(){const[,{GraphicsView2D:f,GraphicContainer:g,LabelManager:x,MapViewNavigation:V,MagnifierView2D:ne,GridView2D:ye,Stage:De}]=yield Promise.all([Promise.all([u.e(4946),u.e(4437)]).then(u.bind(u,67361)),Promise.all([u.e(9845),u.e(6160),u.e(1732),u.e(3247),u.e(4946),u.e(4382),u.e(812),u.e(3643),u.e(2614),u.e(6747),u.e(5362),u.e(992),u.e(302),u.e(7141),u.e(7641),u.e(9544),u.e(6510),u.e(2900),u.e(788),u.e(2076),u.e(3876)]).then(u.bind(u,89906))]);Ga=f,za=g,Va=x,$a=V,Ha=ne,ka=ye,Za=De}),Xo.apply(this,arguments)}let Gt=class extends(il(Rt(gs(kt(yo))))){constructor(f){var g,x;super(f),g=this,this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new se.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new hr({actionMap:new Lr({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new T.A,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Oa.K,this.type="2d",this.view2dType=null,this.ui=new Ka,this.test={takeScreenshot:(x=(0,F.A)(function*(V){return function fc(f,g){return zo.apply(this,arguments)}(g._getScreenshotView(V),V)}),function(ne){return x.apply(this,arguments)})},this.padding={top:0,right:0,bottom:0,left:0},(0,ve.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,v.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new cc(this.featuresTilingScheme)}get constraintsInfo(){const f=this.defaultsFromMap?.tileInfo,g=this.spatialReference;return{lods:f?.spatialReference?.equals(g)?f.lods:null,spatialReference:g}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:f,constraints:g,center:x,viewpoint:V,extent:ne}=this;let ye=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||ne||(g?.effectiveLODs||(ye=-1),x&&(0!==f||-1!==ye)||null!=V?.targetGeometry&&("extent"===V.targetGeometry.type||V.scale)))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const f=this._getDefaultViewpoint();return!!f&&(0,be.isLoadedOrLoadFor)(f.targetGeometry.spatialReference,this.spatialReference)}get background(){return(0,Jo.r)(this.map)?this.map.initialViewProperties.background:null}set background(f){this._override("background",f)}get center(){return this.stateManager?.center??null}set center(f){this.stateManager.center=f}get highlightOptions(){return(0,va.a)(this)}set highlightOptions(f){(0,va.o)(this,f)}get padding(){return this.stateManager?.padding}set padding(f){this.stateManager&&(this.stateManager.padding=f)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(f){this.stateManager&&(this.stateManager.scale=f)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const f=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),g=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some(x=>!x.destroyed&&!("layerViews"in x)&&!0===x.updating)||f);if((0,b.A)("esri-2d-log-updating")){const x=this.allLayerViews.reduce((V,ne)=>({...V,[`${ne.layer.id}(${ne.layer.type})`]:!ne.destroyed&&!("layerViews"in ne)&&ne.updating}),{});console.log(`Updating MapView: ${g}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(x)}\n-> updatingMagnifier: ${f}\n`)}return g}get visibleArea(){const f=this.stateManager.visibleArea;return f&&new Ie.A({rings:[f.map(g=>[g[0],g[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(f){this.stateManager.zoom=f}get navigating(){return this.mapViewNavigation?.interacting??!1}hitTest(f,g){var x=this;return(0,F.A)(function*(){return function dc(f,g,x){return Fo.apply(this,arguments)}(x,f,g)})()}takeScreenshot(f){var g=this;return(0,F.A)(function*(){return function pc(f,g){return Go.apply(this,arguments)}(g._getScreenshotView(f),f)})()}toMap(f){if(!this.ready)return null;const g=(0,Ss.FV)(f)?(0,Ss.xB)(this,f):f;return this.stateManager.toMap(g)}toScreen(f,g){return this.stateManager.toScreen(f,g)}whenLayerView(f){return super.whenLayerView(f)}graphicChanged(f){this.graphicsView&&this.graphicsView.graphicUpdateHandler(f)}whenReady(){return new Promise(f=>{this.ready?f(this):this._resolveWhenReady.push(f)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return(0,Jo.r)(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return(0,Jo.r)(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(f){return(f=>null!=ma[f.type])(f)}importLayerView(f){return(f=>{const g=ma[f.type];if(null==g)throw function sc(f){const g=f.declaredClass?f.declaredClass.slice(f.declaredClass.lastIndexOf(".")+1):"Unknown",x=g.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new P.A(`${x}:view-not-supported`,`${g} is not supported in 2D`)}(f);return g(f)})(f)}pixelSizeAt(){return this.ready?this.resolution:(O.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(f){var g=this;return(0,F.A)(function*(){const x=g.toMap(f),V=yield g.hitTest(f),ne=g.allLayerViews.toArray().filter(Qe=>Qe.clips.every(pt=>(0,ga.O)(g,pt,f,x))).reverse(),ye=new globalThis.Map(ne.map(Qe=>[Qe.layer.uid,Qe])),De=[];let Ge=0,$e=0;for(;Ge<V.results.length||$e<ne.length;){const Qe=V.results.at(Ge);if(Qe&&"graphic"!==Qe.type){++Ge;continue}const pt=ye.get((Qe?.layer??Qe?.graphic.layer)?.uid);if((!Qe||pt)&&$e<ne.length&&ne.at($e)!==pt){const Mt=ne.at($e);"fetchPopupFeaturesAtLocation"in Mt&&De.push({mapPoint:x,layerView:Mt}),++$e}else Qe&&(De.push({graphic:Qe.graphic,layerView:pt}),++Ge)}return{hits:De,location:x}})()}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){var f=this;return(0,F.A)(function*(){let g=function vc(f){const g=(0,gc.C)();return g.available?"3d"===f&&g.majorPerformanceCaveat?new P.A("webgl:major-performance-caveat-detected",`Your WebGL implementation (${g.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):g.supportsHighPrecisionFragment?g.supportsVertexShaderSamplers?null:new P.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new P.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new P.A("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}(f.type);if((0,b.A)("safari")&&(0,b.A)("safari")<9&&(g=new P.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,b.A)("safari")})),null!=g)throw O.A.getLogger(f).warn("#validate()",g.message),g})()}loadAsyncDependencies(){return function Kc(){return Xo.apply(this,arguments)}()}_getDefaultViewpoint(){const{constraints:f,initialExtent:g,map:x,padding:V,size:ne}=this;if(!f)return null;const ye=x&&"initialViewProperties"in x?x.initialViewProperties:void 0,De=this.stateManager.getUserStartupOptions(this.size),Ge=ye?.viewpoint,$e=Ge?.targetGeometry?.extent??g,Qe=$e?.center,pt=Ge?.rotation??0,Mt=Ge?.scale||$e&&(0,Yt.AU)($e,[ne[0]-V.left-V.right,ne[1]-V.top-V.bottom]),_t=De.center??Qe,cs=De.scale??Mt;return _t&&cs?new Me.A({targetGeometry:_t,scale:cs,rotation:De.rotation??pt}):null}_startup(){this.timeline.begin("MapView Startup");const f=this._getDefaultViewpoint();this.stateManager.startup(f,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const g=new Za(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=g,this._magnifierView=new Ha,this._magnifierView.magnifier=this.magnifier,this._gridView=new ka;const x=new Va({view:this});this._set("labelManager",x);const V=new tc({view:this});this._set("animationManager",V);const ne=new $a({view:this,animationManager:V});this._set("mapViewNavigation",ne),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),g.on("webgl-error",De=>this.fatalError=De.error),(0,Ce.wB)(()=>this.stationary,De=>g.stationary=De,Ce.pc),(0,Ce.wB)(()=>this.background,De=>{g.backgroundColor=De?.color,this._magnifierView.backgroundColor=De?.color},Ce.pc),(0,Ce.wB)(()=>this.magnifier,De=>this._magnifierView.magnifier=De,Ce.pc),(0,Ce.wB)(()=>this.grid,De=>this._gridView.grid=De,Ce.pc),(0,Ce.wB)(()=>this.renderingOptions,De=>g.renderingOptions=De,Ce.pc),(0,Ce.wB)(()=>this.highlights.items.map(De=>({name:De.name,options:{fillColor:De.color,haloColor:De.haloColor,fillOpacity:De.fillOpacity,haloOpacity:De.haloOpacity,haloWidth:De.haloWidth,haloBlur:De.haloBlur}})),()=>{g.highlightGradient=(0,uc.u4)(g.highlightGradient,this.highlights.items)},Ce.pc),(0,Ce.wB)(()=>this.state.id,()=>g.state=this.state,Ce.pc)],"map-view"),this._updateStageChildren();const ye=this._resolveWhenReady;this._resolveWhenReady=[],ye.forEach(De=>De(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(g=>{this.stage.addChild(g.container)}),this.stage.addChild(this.graphicsView.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const f=new nc.A(Je.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",f);const g=new Ga({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new za(f)});this._set("graphicsView",g)}_destroySpatialReferenceDependentProperties(){const f=this.graphicsView;this._set("graphicsView",null),f.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(f){const{allLayerViews:g,padding:x,size:V,stage:ne}=this;return{allLayerViews:g,backgroundColor:f?.ignoreBackground?null:this.background?.color,padding:x,size:V,stage:ne}}_spatialReferenceChanged(f){if(this.ready){this.frameTask.stop();for(const g of this.allLayerViews)g.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(f),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const g of this.allLayerViews)g.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Gt.type="2d",(0,_._)([(0,m.MZ)({constructOnly:!0})],Gt.prototype,"deactivatedWebGLExtensions",void 0),(0,_._)([(0,m.MZ)({constructOnly:!0})],Gt.prototype,"debugWebGLExtensions",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"featuresTilingScheme",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"graphicsTileStore",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"graphicsView",void 0),(0,_._)([(0,m.MZ)()],Gt.prototype,"constraintsInfo",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"initialExtentRequired",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"labelManager",void 0),(0,_._)([(0,m.MZ)({type:hr,nonNullable:!0})],Gt.prototype,"navigation",void 0),(0,_._)([(0,m.MZ)({constructOnly:!0})],Gt.prototype,"renderCanvas",void 0),(0,_._)([(0,m.MZ)()],Gt.prototype,"renderingOptions",void 0),(0,_._)([(0,m.MZ)({constructOnly:!0})],Gt.prototype,"supersampleScreenshotsEnabled",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"supportsGround",void 0),(0,_._)([(0,m.MZ)()],Gt.prototype,"defaultsFromMapSettings",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"typeSpecificPreconditionsReady",null),(0,_._)([(0,m.MZ)({type:Fc})],Gt.prototype,"background",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"center",null),(0,_._)([(0,m.MZ)({type:T.A})],Gt.prototype,"floors",void 0),(0,_._)([(0,m.MZ)()],Gt.prototype,"grid",void 0),(0,_._)([(0,m.MZ)({type:xn.A})],Gt.prototype,"highlightOptions",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"map",void 0),(0,_._)([(0,m.MZ)()],Gt.prototype,"padding",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"rendering",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"resolution",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"scale",null),(0,_._)([(0,m.MZ)({constructOnly:!0})],Gt.prototype,"spatialReferenceLocked",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"tileInfo",null),(0,_._)([(0,m.MZ)({type:Oa.K,readOnly:!0})],Gt.prototype,"timeline",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"type",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"updating",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"view2dType",void 0),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"visibleArea",null),(0,_._)([(0,m.MZ)()],Gt.prototype,"zoom",null),(0,_._)([(0,m.MZ)({readOnly:!0})],Gt.prototype,"navigating",null),(0,_._)([(0,m.MZ)(),(0,ce.w)(f=>f instanceof Fa?f:(0,Z.PZ)(Ka,f))],Gt.prototype,"ui",void 0),Gt=(0,_._)([(0,D.$)("esri.views.View2D")],Gt);const Zc=Gt;let Yi=class extends Zc{constructor(f){super(f),this.view2dType="map"}};(0,_._)([(0,m.MZ)({readOnly:!0})],Yi.prototype,"view2dType",void 0),Yi=(0,_._)([(0,D.$)("esri.views.MapView")],Yi);const Gc=Yi;let zc=(()=>{class f{constructor(){}ngAfterViewInit(){const x=new Ee({basemap:"streets-navigation-vector"});this.view=new Gc({container:"viewDiv",map:x,center:[-118.805,55.642],zoom:13})}static{this.\u0275fac=function(V){return new(V||f)}}static{this.\u0275cmp=w.VBU({type:f,selectors:[["app-mmmaps-main-view-map"]],decls:1,vars:0,consts:[["id","viewDiv",2,"width","100%","height","100vh"]],template:function(V,ne){1&V&&w.nrm(0,"div",0)}})}}return f})(),Vc=(()=>{class f{static{this.\u0275fac=function(V){return new(V||f)}}static{this.\u0275cmp=w.VBU({type:f,selectors:[["app-main-view"]],decls:2,vars:0,template:function(V,ne){1&V&&(w.j41(0,"div"),w.nrm(1,"app-mmmaps-main-view-map"),w.k0s())},dependencies:[zc]})}}return f})();const $c=[{path:"",component:(()=>{class f{static{this.\u0275fac=function(V){return new(V||f)}}static{this.\u0275cmp=w.VBU({type:f,selectors:[["app-mm-maps"]],decls:2,vars:0,template:function(V,ne){1&V&&(w.j41(0,"div"),w.nrm(1,"app-main-view"),w.k0s())},dependencies:[Vc]})}}return f})()}];let Hc=(()=>{class f{static{this.\u0275fac=function(V){return new(V||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({imports:[p.iI.forChild($c),p.iI]})}}return f})(),kc=(()=>{class f{static{this.\u0275fac=function(V){return new(V||f)}}static{this.\u0275mod=w.$C({type:f})}static{this.\u0275inj=w.G2t({imports:[d.MD,Hc]})}}return f})()},8437:(xe,re,u)=>{u.d(re,{hq:()=>K,aK:()=>Ie,yr:()=>Kt,Gk:()=>N,Nh:()=>Ce,lr:()=>k,oW:()=>tt});var P,d=u(10467),p=u(36946),F=Symbol.for("controller");function C(Ne){P!==Ne&&(P=Ne,queueMicrotask(()=>{P===Ne&&(P=void 0)}))}function N(Ne){return P}var v,U=[];function W(Ne){if(void 0===Ne)return void(U=[]);const st=U.indexOf(Ne);U=-1===st?[...U,Ne]:U.slice(0,st+1),queueMicrotask(()=>{U=[]})}function O(){return U}var Y,Z=function(){var Ne=(0,d.A)(function*(st,dt){const nt=L(st);if(void 0===nt)return st;if(yield nt.ready,"function"==typeof dt){const gt=nt.watchExports(Tt=>dt(Tt,gt))}return nt.exports});return function(dt,nt){return Ne.apply(this,arguments)}}(),D=function(){var Ne=(0,d.A)(function*(st){const dt=L(st);return yield dt.ready,dt});return function(dt){return Ne.apply(this,arguments)}}(),L=Ne=>{const dt=N().manager.internals.resolveExports(Ne);if(void 0!==dt)return dt;if((Ne=>"object"==typeof Ne&&null!==Ne&&(F in Ne||"hostConnected"in Ne||"hostDisconnected"in Ne||"hostUpdate"in Ne||"hostUpdated"in Ne))(Ne))return Ne;const nt=function m(){const Ne=v;return v=void 0,Ne}();return void 0!==nt?nt:void 0},b={setter:!1,getter:!1,readOnly:!1},H=new WeakMap;Y=F;var z=class{constructor(Ne){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new p.cY,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[Y]=!0,this.ready=this._ready.promise,this._exports=Q(this),this._exportWatchers=new Set;const st=Ne??N(new.target);this.component=st,this.component.addController(this),void 0===this.component.manager||(W(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:Ne}=this.component;Ne.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),Ne._loadCalled&&this.triggerLoad().then(()=>{Ne.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(Ne){const st=this._exports;st!==Ne&&(this._exports=Ne,this._exportWatchers.forEach(p.UF),this.connectedCalled&&!1!==this.assignedProperty&&this.component.requestUpdate(this.assignedProperty,st)),this._ready.resolve(Ne)}setProvisionalExports(Ne,st=!0){this._exports=st?Q(Ne):Ne,this._exportWatchers.forEach(p.UF)}watchExports(Ne){const st=()=>Ne(this._exports);return this._exportWatchers.add(st),()=>{this._exportWatchers.delete(st)}}get use(){return C(this.component),Z}get useRef(){return C(this.component),D}get useRefSync(){return C(this.component),L}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(Ne){this._callbacks.hostConnected.push(Ne)}onDisconnected(Ne){this._callbacks.hostDisconnected.push(Ne)}onLoad(Ne){this._callbacks.hostLoad.push(Ne)}onLoaded(Ne){this._callbacks.hostLoaded.push(Ne)}onUpdate(Ne){this._callbacks.hostUpdate.push(Ne)}onUpdated(Ne){this._callbacks.hostUpdated.push(Ne)}onDestroy(Ne){this._callbacks.hostDestroy.push(Ne)}onLifecycle(Ne){this._callbacks.hostLifecycle.push(Ne),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(Ne)}triggerConnected(){this.hostConnected&&(0,p.UF)(this.hostConnected,this),this._callbacks.hostConnected.forEach(p.UF),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){this.hostDisconnected&&(0,p.UF)(this.hostDisconnected,this),this._callbacks.hostDisconnected.forEach(p.UF),this._lifecycleCleanups.forEach(p.UF),this._lifecycleCleanups=[]}triggerLoad(){var Ne=this;return(0,d.A)(function*(){if(Ne._loadCalled)return;Ne._loadCalled=!0;const st=Ne;st.hostLoad&&(yield(0,p.ao)(st.hostLoad,st)),Ne._callbacks.hostLoad.length>0&&(yield Promise.allSettled(Ne._callbacks.hostLoad.map(p.ao))),Ne._ready.resolve(Ne._exports)})()}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,p.UF)(this.hostLoaded,this),this._callbacks.hostLoaded.forEach(p.UF),this.loadedCalled=!0)}triggerUpdate(Ne){this.hostUpdate&&(0,p.UF)(this.hostUpdate,this,Ne),this._callbacks.hostUpdate.forEach(te,Ne)}triggerUpdated(Ne){this.hostUpdated&&(0,p.UF)(this.hostUpdated,this,Ne),this._callbacks.hostUpdated.forEach(te,Ne)}triggerDestroy(){this.hostDestroy&&(0,p.UF)(this.hostDestroy,this),this._callbacks.hostDestroy.forEach(p.UF)}triggerLifecycle(){const Ne=this;Ne.hostLifecycle&&this._callLifecycle(()=>Ne.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(Ne){C(this.component);const st=(0,p.UF)(Ne);(Array.isArray(st)?st:[st]).forEach(nt=>{"function"==typeof nt?this._lifecycleCleanups.push(nt):"object"==typeof nt&&"function"==typeof nt.remove&&this._lifecycleCleanups.push(nt.remove)})}};function te(Ne){(0,p.UF)(Ne,void 0,this)}var ee=z;function Q(Ne){if("object"!=typeof Ne&&"function"!=typeof Ne||null===Ne)return Ne;const st=new Proxy(Ne,{get(dt,nt,gt){if(!(q.has(nt)&&nt in dt&&dt[nt]===st||!(nt in dt)&&!(nt in Promise.prototype)&&"symbol"!=typeof nt))return"function"==typeof dt?dt[nt]:Reflect.get(dt,nt,gt)},set:(dt,nt,gt,Tt)=>Reflect.set(dt,nt,gt,Tt)});return st}var q=new Set(["exports","_exports"]),ie=void 0;function K(){Array.from(ie?.entries()??[]).forEach(([Ne,{callbacks:st}])=>{const dt=Object.keys(Ne);st.forEach(nt=>nt(dt))}),ie=void 0}function B(Ne,st,dt){var nt;const gt=st,Tt=Ne.manager.internals;(nt=Tt.allWatchers)[gt]??(nt[gt]=[]);const It=Tt.allWatchers[gt],Ot=dt,xt=(bt,kt,Nt)=>(0,p.UF)(Ot,null,bt,kt,Nt);return It.push(xt),()=>{const bt=It.indexOf(xt);-1!==bt&&It.splice(bt,1)}}var se=[],J=Symbol(),ce=Symbol();function Ce(Ne=[N(),...O()],st,dt){const nt=Array.isArray(Ne)?Ne:[Ne];let gt=nt.length+1;const Tt=Ot=>{gt-=1,void 0!==Ot&&(gt=Math.min(gt,0)),0===gt&&st(Ot)};nt.forEach(Ot=>function A(Ne,st,dt){const nt=Object.keys(Ne),gt=nt.length;void 0===ie&&queueMicrotask(K),ie??(ie=new Map);let Tt=ie.get(Ne);return void 0===Tt&&(Tt={callbacks:[],keyCount:gt},ie.set(Ne,Tt)),Tt.keyCount!==gt&&(Tt.callbacks.forEach(It=>It(nt)),Tt.callbacks=[],Tt.keyCount=gt),Tt.callbacks.push(It=>{const xt=It[gt];(0,p.UF)(st,null,void 0===xt?void 0:Ne[xt]===dt?xt:void 0)}),dt}(Ot,xt=>Tt(void 0===xt?void 0:{key:xt,host:Ot,isReactive:!1}),dt));const It=nt.find(Ot=>"manager"in Ot&&"object"==typeof Ot.manager&&Ot.manager.component===Ot);return It&&function _e(Ne,st,dt){const nt=Ne.manager.internals;return nt.trackedValue!==ce&&nt.trackedValue!==dt&&nt.firePropTrackers(void 0,void 0),0===nt.keyTrackers.length&&queueMicrotask(()=>nt.firePropTrackers(void 0,void 0)),nt.trackedValue=dt,nt.keyTrackers.push((gt,Tt)=>(0,p.UF)(st,void 0,dt===Tt?gt:void 0)),dt}(It,Ot=>Tt(void 0===Ot?void 0:{key:Ot,host:It,isReactive:!0}),dt),dt}var k=(Ne,st)=>new ae(Ne,st),ae=class extends ee{constructor(Ne,st){var dt;const nt="addController"in Ne,gt=new Set,Ot=Ne;if(Ot.addController=function Tt(bt){gt.add(bt),!(F in bt)&&Ne.renderRoot&&Ne.el.isConnected&&bt.hostConnected?.()},Ot.removeController=function It(bt){gt.delete(bt),bt.controllerRemoved?.()},!nt){const bt=st??Ne.constructor.__forceUpdate;Ot.requestUpdate=()=>bt(Ne)}super(Ne),dt=this,this.internals=new class{constructor(Ne){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const st=this.component.manager.internals;Object.entries(st.members).forEach(([dt,[nt]])=>{var gt;2048&nt&&((gt=st.setters)[dt]??(gt[dt]=[]),st.setters[dt].push(st.readonlySetter))})},this.trackedValue=ce,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(st,dt,nt)=>{if(b.readOnly)return st;throw new Error(`Cannot assign to read-only property "${nt}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(st)}"`)},this.component=Ne}firePropTrackers(Ne,st){const dt=this.keyTrackers;this.trackedValue=ce,this.keyTrackers=[],dt.forEach(nt=>nt(Ne,st))}getSetProxy(Ne){const st=this.component,dt=st.constructor.prototype;if(this._getSetProxy(dt,Ne,"class"),st.manager.isLit)return;const nt=st.el.constructor.prototype;dt!==nt&&this._getSetProxy(nt,Ne,"html")}_getSetProxy(Ne,st,dt){const gt=((Ne,st)=>Ne.manager.internals.members?.[st]?.[0])(this.component,st);let Tt;do{Tt=Object.getOwnPropertyDescriptor(Ne,st)}while(!Tt&&(Ne=Object.getPrototypeOf(Ne)));if(!Tt)return;const It=Tt.get,Ot=Tt.set,xt=J in It,bt=J in Ot;if(xt&&bt)return;const kt=!xt,Nt=!bt,us=kt?function(){let gs=It.call(this);const Ve=H.get(this);if(b.getter||void 0===Ve)return gs;const at=Ve.manager.internals;gs=at.accessorGetter[st](gs,st);const it=at.getters[st]??se;for(let ut=0;ut<it.length;ut++)gs=it[ut](gs,st);return gs}:It,hs=Nt?function(gs){const Ve=It.call(this),at=H.get(this);if(void 0===at)return void Ot.call(this,gs);let it=at.manager.isLit?gs??void 0:function _(Ne,st=8){return null==Ne||"object"==typeof Ne||"function"==typeof Ne?Ne:4&st?"false"!==Ne&&(""===Ne||!!Ne):2&st?Number.parseFloat(Ne):1&st?String(Ne):Ne}(gs,gt);const ut=at.manager.internals;if(it===Ve)Ot.call(this,it);else{const At=b.setter?se:ut.setters[st]??se;for(let mt=0;mt<At.length&&(it=At[mt](it,Ve,st),it!==Ve);mt++);it=ut.accessorSetter[st](it,Ve,st),Ot.call(this,it),it!==Ve&&ut.enabledWatchers[st]?.forEach(mt=>mt(it,Ve,st))}ut.keyTrackers.length>0&&ut?.firePropTrackers(st,gs)}:Ot;kt&&(us[J]=!0),Nt&&(hs[J]=!0),Object.defineProperty(Ne,st,{...Tt,get:us,set:hs})}markExports(Ne,st){("object"==typeof st&&null!==st||"function"==typeof st)&&this._exports.set(st,Ne)}resolveExports(Ne){if("object"==typeof Ne&&null!==Ne||"function"==typeof Ne)return this._exports.get(Ne)}}(this.component),this.destroyed=!1,this._updatePromise=new p.cY,this._originalLifecycles={},this.isLit=nt,this.component.manager=this,function w(Ne,st){if(st)Ne.manager.internals.members=Object.fromEntries(Array.from(Ne.constructor.elementProperties,([nt,gt])=>gt.noAccessor?void 0:[nt,[(gt.readOnly?2048:0)|(gt.state?32:16)]]).filter(p.EA));else{const dt=Ne.constructor,nt=dt.__registerControllers?.(Ne)??void 0;if(dt.__registerControllers=void 0,"object"!=typeof nt)throw new Error("Failed to retrieve component meta");Ne.manager.internals.members=Object.fromEntries(Object.entries(nt).filter(([gt,[Tt]])=>0!=(63&Tt)))}}(Ne,nt),this._controllers=gt,this.exports=void 0,this.hasDestroy=he in this.component&&"function"==typeof this.component.destroy,this._bindLifecycleMethods();const xt=this.internals;var bt;Object.keys(xt.members).forEach(bt=>{xt.accessorGetter[bt]=Fe,xt.accessorSetter[bt]=Fe,xt.getSetProxy(bt)}),nt?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(Ne,"updateComplete",{get:(bt=(0,d.A)(function*(){return yield dt._updatePromise.promise}),function(){return bt.apply(this,arguments)})}),queueMicrotask(xt.enableReadonly),C(Ne),H.set(Ne.el,Ne),H.set(Ne,Ne)}_bindLifecycleMethods(){const Ne=this.component,st=this.isLit,dt=Ne.el===Ne;this._originalLifecycles={_connectedCallback:st||dt?void 0:Ne.connectedCallback,_disconnectedCallback:st||dt?void 0:Ne.disconnectedCallback,_load:st?Ne.load:Ne.componentWillLoad,_loaded:st?Ne.loaded:Ne.componentDidLoad,_willUpdate:st?void 0:Ne.componentWillUpdate,_updated:st?void 0:Ne.componentDidUpdate,_destroy:Ne.destroy};const nt=this._connectedCallback.bind(this),gt=this._disconnectedCallback.bind(this),Tt=this._update.bind(this),It=this._updated.bind(this);st?Ne.constructor.prototype.addController.call(Ne,{hostConnected:nt,hostDisconnected:gt,hostUpdate:Tt,hostUpdated:It}):(Ne.connectedCallback=nt,Ne.disconnectedCallback=gt,Ne.componentWillLoad=this._load.bind(this),Ne.componentDidLoad=this._loaded.bind(this),Ne.componentWillUpdate=Tt,Ne.componentDidUpdate=It),this.hasDestroy&&(Ne.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){const st=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${st} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${he} prop.`)}void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout);const Ne=this.internals;Ne.enabledWatchers=Ne.allWatchers,K(),Ne.enableReadonly?.(),this._controllers.forEach(Ue),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(We),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}_load(){var Ne=this;return(0,d.A)(function*(){yield Promise.allSettled(Array.from(Ne._controllers,ue)),yield Ne._originalLifecycles._load?.call(Ne.component),Ne.hasDestroy&&B(Ne.component,he,()=>Ne._setAutoDestroyTimeout())})()}_loaded(){this._controllers.forEach(we),this._originalLifecycles._loaded?.call(this.component)}_update(){return this._controllers.forEach(ze,this.component.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){const Ne=this.component;if(this._controllers.forEach(Ee,Ne.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)Ne.$changes=new Map;else{const st=this._updatePromise;this._updatePromise=new p.cY,st.resolve(!0)}}destroy(){var Ne=this;return(0,d.A)(function*(){if(!Ne.destroyed){if(Ne.component.el.isConnected){Ne.hasDestroy=!1;try{Ne.component.el.remove()}finally{Ne.hasDestroy=!0}}Ne._autoDestroyTimeout=void 0,Ne.destroyed=!0,Ne._controllers.forEach(Me),Ne._controllers.clear(),yield Ne._originalLifecycles._destroy?.call(Ne.component)}})()}_setAutoDestroyTimeout(){void 0!==this._autoDestroyTimeout&&clearTimeout(this._autoDestroyTimeout),this.component.el.isConnected||this.component.autoDestroyDisabled||(this._autoDestroyTimeout=(0,p.oK)(()=>{this.destroy().catch(console.error)},Ae))}},he="autoDestroyDisabled",Ae=1e3,Fe=Ne=>Ne;function Ue(Ne){"triggerConnected"in Ne?Ne.triggerConnected():(0,p.UF)(Ne.hostConnected,Ne)}function We(Ne){"triggerDisconnected"in Ne?Ne.triggerDisconnected():(0,p.UF)(Ne.hostDisconnected,Ne)}function ue(Ne){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.A)(function*(Ne){"triggerLoad"in Ne?yield Ne.triggerLoad():yield(0,p.ao)(Ne.hostLoad,Ne)})).apply(this,arguments)}function we(Ne){"triggerLoaded"in Ne?Ne.triggerLoaded():(0,p.UF)(Ne.hostLoaded,Ne)}function ze(Ne){"triggerUpdate"in Ne?Ne.triggerUpdate(this):(0,p.UF)(Ne.hostUpdate,Ne,this)}function Ee(Ne){"triggerUpdated"in Ne?Ne.triggerUpdated(this):(0,p.UF)(Ne.hostUpdated,Ne,this)}function Me(Ne){"triggerDestroy"in Ne?Ne.triggerDestroy():(0,p.UF)(Ne.hostDestroy,Ne)}var Ne,Ie=Ne=>st=>Je(st,Ne),Je=(Ne=class extends z{constructor(Ne,st){super(Ne);const dt=this.exports;try{C(this.component);const nt=st(this.component,this),gt=this.exports!==dt;if(nt instanceof Promise){gt||this.setProvisionalExports(nt);const Tt=nt.then(It=>{this.exports=It,super.catchUpLifecycle()}).catch(It=>{this._ready.reject(It),console.error(It)});this.onLoad((0,d.A)(function*(){return yield Tt}))}else(!gt||void 0!==nt)&&(this.exports=nt),queueMicrotask(()=>super.catchUpLifecycle())}catch(nt){this._ready.reject(nt),console.error(nt)}}catchUpLifecycle(){}},(...st)=>{const dt=O(),nt=new Ne(...st),gt=nt.exports;W(dt.at(-1));const Tt=nt.component.manager.internals;return Tt.markExports(nt,gt),nt.watchExports(Ot=>Tt.markExports(nt,Ot)),function M(Ne){v!==Ne&&(v=Ne,queueMicrotask(()=>{v===Ne&&(v=void 0)}))}(nt),Ce([nt.component,...dt].reverse(),Ot=>void 0===Ot?void 0:function S(Ne,{host:st,key:dt,isReactive:nt},gt){const Tt=st,Ot=Tt[dt]!==gt;if(Tt[dt]!==Ne.exports&&!Ot&&gt!==Ne.exports&&(Tt[dt]=Ne.exports),st===Ne.component){if(nt){const kt=Ne.component.manager.internals;Ot&&kt.markExports(Ne,Tt[dt]),B(Ne.component,dt,Nt=>{Nt!==Ne.exports&&kt.markExports(Ne,Nt)})}Ne.assignedProperty=nt?void 0:dt}Ne.watchExports(()=>{if(Tt[dt]===Ne.exports)return;const kt=Ne.component.manager;kt.internals.setters[dt]?.includes(kt.internals.readonlySetter)?function Re(Ne){b.readOnly=!0;try{return Ne()}finally{b.readOnly=!1}}(()=>{Tt[dt]=Ne.exports}):Tt[dt]=Ne.exports})}(nt,Ot,gt),gt)}),tt=(Ne,st)=>new lt(Ne,st),lt=class extends z{constructor(Ne,st){super(),this._attributes=Ne,this._callback=st,this._observer=new MutationObserver(dt=>{dt.forEach(nt=>{Ne.includes(nt.attributeName)&&st.call(this.component,this.component.el.getAttribute(nt.attributeName),nt.oldValue,nt.attributeName)})})}hostConnected(){this._attributes.forEach(Ne=>{this.component.el.hasAttribute(Ne)&&this._callback.call(this.component,null,this.component.el.getAttribute(Ne),Ne)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},Kt=Ne=>(st={})=>(Ne=>Je(void 0,Ne))((dt,nt)=>{const gt=(0,p.kn)(dt.el),Tt={_lang:gt.lang,_t9nLocale:gt.t9nLocale,_loading:!0},It=dt;function Ot(xt){const bt=nt.exports,kt=bt._original??bt,Nt=Vt(kt,xt);xt&&(Nt._original=kt),nt.exports=Nt}return nt.onLifecycle(()=>(0,p.hd)(dt.el,()=>Ne("./assets"),({t9nLocale:xt,t9nStrings:bt,lang:kt})=>{const Nt={...bt,_lang:kt,_t9nLocale:xt,_loading:!1};nt.exports=Nt;const us=bt.componentLabel;"string"==typeof us&&"label"in dt&&null==dt.label&&(dt.label??(dt.label=us)),Ot(It.messageOverrides)},st.name)),"messageOverrides"in It&&nt.onLifecycle(()=>B(It,"messageOverrides",Ot)),st.blocking?(nt.setProvisionalExports(Tt,!1),nt.ready):Tt});function Vt(Ne,st){if(!st)return Ne;const dt={...Ne};return Object.entries(st).forEach(([nt,gt])=>{dt[nt]="object"==typeof gt?Vt(Ne[nt],gt):gt??Ne[nt]}),dt}},36946:(xe,re,u)=>{u.d(re,{EA:()=>We,UF:()=>Z,ao:()=>D,cY:()=>_,hd:()=>B,j1:()=>Re,kn:()=>ie,oK:()=>he});var d=u(10467),_=class{resolve(Ee){}reject(Ee){}constructor(){this.promise=new Promise((Ee,Me)=>{this.resolve=Ee,this.reject=Me})}};var R={};function C(Ee,Me,ve){return function y(Ee,Me){let ve=Ee;for(;ve;){const Ie=ve.closest?.(Me);if(Ie)return Ie;const be=ve.getRootNode?.();if(be===globalThis.document)return null;ve=be.host}return null}(Ee,`[${Me}]`)?.getAttribute(Me)??ve}function Z(Ee,Me,...ve){try{return Ee?.call(Me,...ve)}catch(Ie){console.error(Ie,Ee)}}function D(Ee,Me){return L.apply(this,arguments)}function L(){return(L=(0,d.A)(function*(Ee,Me,...ve){try{const Ie=Ee?.call(Me,...ve);return Ie instanceof Promise?yield Ie:Ie}catch(Ie){console.error(Ie,Ee)}})).apply(this,arguments)}var z=new Set(["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"]),te="en",ee={pt:"pt-PT",nb:"no",zh:"zh-CN"};function q(){return(q=(0,d.A)(function*(Ee,Me,ve=""){const Ie=`${Me}/${ve}`,be=`${Ie}${Ee}.json`;return j[be]??(j[be]=X(Ee,Ie)),yield j[be]})).apply(this,arguments)}var j={};function X(Ee,Me){return A.apply(this,arguments)}function A(){return(A=(0,d.A)(function*(Ee,Me){const ve=`${Me}${Ee}.json`;try{const Ie=yield fetch(ve);if(Ie.ok)return yield Ie.json()}catch(Ie){return console.error(Ie),{}}return Ee===te?{}:yield X(te,Me)})).apply(this,arguments)}function ie(Ee){const Me=C(Ee,"lang",globalThis.navigator?.language||te);return{lang:Me,t9nLocale:K(Me)}}function K(Ee){const[Me,ve]=Ee.split("-"),Ie=Me.toLowerCase();let be=Ie;return ve&&(be=`${Ie}-${ve.toUpperCase()}`),be=ee[be]??be,z.has(be)?be:ve?K(Ie):te}function B(Ee,Me,ve,Ie){let be;const Je=()=>{(function G(Ee,Me){return se.apply(this,arguments)})(Ee,Me(),Ie).then(tt=>{(be?.lang!==tt.lang||be.t9nLocale!==tt.t9nLocale||be.t9nStrings!==tt.t9nStrings)&&ve(tt),be=tt}).catch(console.error)};return queueMicrotask(Je),function F(Ee,Me,ve){const{subscribe:Ie}=function T(Ee){const Me=Ee.join(","),ve=R[Me];if(void 0!==ve)return ve;const Ie=new Set,be=new MutationObserver(tt=>Ie.forEach(lt=>lt(tt)));globalThis.document&&be.observe(document.documentElement,{attributes:!0,attributeFilter:Ee,subtree:!0});const Je={subscribe:tt=>(Ie.add(tt),()=>{Ie.delete(tt),0===Ie.size&&(be.disconnect(),R[Me]=void 0)})};return R[Me]=Je,Je}(Me);return Ie(be=>{be.some(tt=>function I(Ee,Me){let ve=Ee;for(;ve;){if(ve===Me)return!0;if(!ve.parentNode)return!1;ve=ve.parentNode instanceof ShadowRoot?ve.parentNode.host:ve.parentNode}return!1}(Ee,tt.target))&&ve()})}(Ee,["lang"],Je)}function se(){return se=(0,d.A)(function*(Ee,Me,ve=Ee.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:Ie,t9nLocale:be}=ie(Ee),Je=`${Me}/${ve}/t9n`,lt=null===ve?{}:yield function Q(Ee,Me){return q.apply(this,arguments)}(be,Je,"messages.");return{lang:Ie,t9nLocale:be,t9nStrings:lt}}),se.apply(this,arguments)}var Re=Ee=>Ee.replace(oe,(Me,ve)=>`${0===ve?"":"-"}${Me.toLowerCase()}`),oe=/[A-Z]+(?![a-z])|[A-Z]/gu;function he(Ee,Me){const ve=Me>Ae?je:Me/Fe;let Ie=0;const be=setInterval(()=>{Ie+=ve,Ie>=Me&&(clearInterval(be),Ee())},ve);return be}var Ae=4e3,je=2e3,Fe=4;function We(Ee){return void 0!==Ee}},4360:(xe,re,u)=>{u.r(re),u.d(re,{default:()=>K});var d=u(10467),p=u(8189),w=u(89563),_=u(31178),I=u(5605),F=u(71065),R=u(77806),T=u(55098),y=u(4879),E=u(35150),P=u(11432),C=u(56492),N=u(45272),U=u(85211),O=(u(3248),u(76576)),v=u(50305),M=u(32034),m=u(73874),Z=u(46577),D=u(37361),b=(u(13242),u(98877)),Y=(u(40707),u(88996)),z=u(45846);let te=class extends b.A{constructor(B){super(B),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const B=this.language;let G="local"===B||"global"===B?B:(0,z.xO)(B??(0,Y.JK)())??"global";return G="no"===G?"nb":G,G}};(0,p._)([(0,U.MZ)()],te.prototype,"apiKey",void 0),(0,p._)([(0,U.MZ)()],te.prototype,"id",void 0),(0,p._)([(0,U.MZ)()],te.prototype,"language",void 0),(0,p._)([(0,U.MZ)()],te.prototype,"places",void 0),(0,p._)([(0,U.MZ)()],te.prototype,"serviceUrl",void 0),(0,p._)([(0,U.MZ)()],te.prototype,"worldview",void 0),te=(0,p._)([(0,O.$)("esri.support.BasemapStyle")],te);const ee=te;var q,Q=u(85263);let j=0,X=q=class extends(F.A.JSONSupportMixin(T.A)){constructor(B){super(B),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+j++,this.baseLayers=new _.A,this.referenceLayers=new _.A;const G=J=>{J.parent&&J.parent!==this&&"remove"in J.parent&&J.parent.remove(J),J.parent=this,"elevation"===J.type&&E.A.getLogger(this).error(`Layer '${J.title}, id:${J.id}' of type '${J.type}' is not supported as a basemap layer and will therefore be ignored.`)},se=J=>{J.parent=null};this.addHandles([this.baseLayers.on("after-add",J=>G(J.item)),this.referenceLayers.on("after-add",J=>G(J.item)),this.baseLayers.on("after-remove",J=>se(J.item)),this.referenceLayers.on("after-remove",J=>se(J.item))])}initialize(){this.when().catch(B=>{E.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,B)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const B=this.baseLayers.toArray();for(const se of B)se.destroy();const G=this.referenceLayers.toArray();for(const se of G)se.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,P.pR)(this.portalItem)}normalizeCtorArgs(B){return B&&"resourceInfo"in B&&(this._set("resourceInfo",B.resourceInfo),delete(B={...B}).resourceInfo),B}set baseLayers(B){this._set("baseLayers",(0,I.V)(B,this._get("baseLayers")))}_writeBaseLayers(B,G,se){const J=[];B&&(se={...se,layerContainerType:"basemap"},this.baseLayers.forEach(ce=>{const _e=(0,Q.CJ)(ce,se.webmap?se.webmap.getLayerJSONFromResourceInfo(ce):null,se);null!=_e&&J.push(_e)}),this.referenceLayers.forEach(ce=>{const _e=(0,Q.CJ)(ce,se.webmap?se.webmap.getLayerJSONFromResourceInfo(ce):null,se);null!=_e&&("scene"!==ce.type&&(_e.isReference=!0),J.push(_e))})),G.baseMapLayers=J}set referenceLayers(B){this._set("referenceLayers",(0,I.V)(B,this._get("referenceLayers")))}writeTitle(B,G){G.title=B||"Basemap"}load(B){return this.addResolvingPromise(this._loadFromSource(B)),Promise.resolve(this)}loadAll(){return(0,y.g)(this,B=>{B(this.baseLayers,this.referenceLayers)})}clone(){const B={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(G=>(0,R.Nb)(G)?G.clone():G),referenceLayers:this.referenceLayers.map(G=>(0,R.Nb)(G)?G.clone():G)};return this.loaded&&(B.loadStatus="loaded"),new q({resourceInfo:this.resourceInfo}).set(B)}read(B,G){this.resourceInfo||this._set("resourceInfo",{data:B,context:G}),super.read(B,G)}write(B,G){return B=B||{},G?.origin||(G={origin:"web-map",...G}),super.write(B,G),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(B.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(se=>{const J=(0,R.o8)(se);return J.url&&(0,N.BQ)(J.url)&&(J.url=`https:${J.url}`),J.templateUrl&&(0,N.BQ)(J.templateUrl)&&(J.templateUrl=`https:${J.templateUrl}`),J})),B}_loadFromSource(B){var G=this;return(0,d.A)(function*(){const{resourceInfo:se,portalItem:J,style:ce}=G;(0,C.Te)(B);const _e=[];se?(_e.push(G._loadLayersFromJSON(se.data,se.context?se.context.url:null,B)),se.data.id&&!se.data.title&&_e.push((0,D.q)(se.data.id).then(fe=>{fe&&G.read({title:fe},se.context)}))):J?_e.push(G._loadFromItem(J,B)):ce&&_e.push(G._loadFromStylesService(ce,B)),yield Promise.all(_e)})()}_loadLayersFromJSON(B,G,se){var J=this;return(0,d.A)(function*(){const ce=J.resourceInfo?.context,_e=J.portalItem?.portal||ce?.portal||null,Ce=ie[ce?.origin||""]??"web-map",{populateOperationalLayers:Oe}=yield Promise.all([u.e(6323),u.e(2076)]).then(u.bind(u,66323)),fe=[];if((0,C.Te)(se),B.baseMapLayers&&Array.isArray(B.baseMapLayers)){const Se={context:{...ce,origin:Ce,url:G,portal:_e,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},me=Le=>"web-scene"===Ce&&"ArcGISSceneServiceLayer"===Le.layerType||Le.isReference,ge=Oe(J.baseLayers,B.baseMapLayers.filter(Le=>!me(Le)),Se);fe.push(ge);const Be=Oe(J.referenceLayers,B.baseMapLayers.filter(me),Se);fe.push(Be)}yield Promise.allSettled(fe)})()}_loadFromItem(B,G){var se=this;return(0,d.A)(function*(){const J=yield B.load(G),ce=yield J.fetchData("json",G),_e=(0,N.An)(B.itemUrl??"");return se._set("resourceInfo",{data:ce.baseMap??{},context:{origin:A[B.type||""]??"web-map",portal:B.portal||m.A.getDefault(),url:_e}}),se.read(se.resourceInfo.data,se.resourceInfo.context),se.read({spatialReference:ce.spatialReference},se.resourceInfo.context),se.read({title:B.title,thumbnailUrl:B.thumbnailUrl},{origin:"portal-item",portal:B.portal||m.A.getDefault(),url:_e}),se._loadLayersFromJSON(se.resourceInfo.data,_e,G)})()}_loadFromStylesService(B,G){var se=this;return(0,d.A)(function*(){const J=B.serviceUrl.endsWith("/webmaps")?B.serviceUrl.slice(0,-8):B.serviceUrl,ce=`${J}/styles/${B.id}/self`,_e=`${J}/webmaps/${B.id}`,[Ce,Oe]=yield Promise.all([(yield(0,w.A)(ce,{query:{token:B.apiKey},signal:G?.signal})).data,(yield(0,w.A)(_e,{query:{language:B.languageParameter,places:B.places,worldview:B.worldview,token:B.apiKey},signal:G?.signal})).data]);se.thumbnailUrl??=Ce.thumbnailUrl;const fe=(0,N.An)(_e);if(se._set("resourceInfo",{data:Oe.baseMap??{},context:{origin:"web-map",url:fe}}),se.read(se.resourceInfo.data,se.resourceInfo.context),se.read({spatialReference:Oe.spatialReference},se.resourceInfo.context),yield se._loadLayersFromJSON(se.resourceInfo.data,fe,G),B.apiKey)for(const Se of[...se.baseLayers,...se.referenceLayers])"apiKey"in Se&&(Se.apiKey=B.apiKey)})()}static fromId(B){const G=D.H[B];return G?G.itemId?new q({portalItem:{id:G.itemId,portal:{url:"https://www.arcgis.com"}}}):q.fromJSON(G,{origin:G.is3d?"web-scene":"web-map"}):null}};(0,p._)([(0,U.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(B,G,se,J){this._writeBaseLayers(B,G,J)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:_.A}},writer(B,G,se,J){this._writeBaseLayers(B,G,J)}}}}}})],X.prototype,"baseLayers",null),(0,p._)([(0,U.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],X.prototype,"id",void 0),(0,p._)([(0,U.MZ)({type:Z.default})],X.prototype,"portalItem",void 0),(0,p._)([(0,U.MZ)()],X.prototype,"referenceLayers",null),(0,p._)([(0,U.MZ)({readOnly:!0})],X.prototype,"resourceInfo",void 0),(0,p._)([(0,U.MZ)({type:M.A})],X.prototype,"spatialReference",void 0),(0,p._)([(0,U.MZ)({type:ee})],X.prototype,"style",void 0),(0,p._)([(0,U.MZ)()],X.prototype,"thumbnailUrl",void 0),(0,p._)([(0,U.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],X.prototype,"title",void 0),(0,p._)([(0,v.K)("title")],X.prototype,"writeTitle",null),X=q=(0,p._)([(0,O.$)("esri.Basemap")],X);const A={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},ie={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},K=X},68677:(xe,re,u)=>{u.d(re,{A:()=>R});var T,y,d=u(27980),p=u(69287),w=u(55739);function _(T){return(0,p.qE)((0,w.Vr)(T),0,255)}function I(T,y,E){return T=Number(T),isNaN(T)?E:T<y?y:T>E?E:T}function F(T,y){const E=T.toString(16).padStart(2,"0");return y?E.slice(0,1):E}class R{static blendColors(y,E,P,C=new R){return C.r=Math.round(y.r+(E.r-y.r)*P),C.g=Math.round(y.g+(E.g-y.g)*P),C.b=Math.round(y.b+(E.b-y.b)*P),C.a=y.a+(E.a-y.a)*P,C._sanitize()}static fromRgb(y,E){const P=y.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(P){const C=P[2].split(/\s*,\s*/),N=P[1];if("rgb"===N&&3===C.length||"rgba"===N&&4===C.length){const U=C[0];if("%"===U.charAt(U.length-1)){const W=C.map(O=>2.56*parseFloat(O));return 4===C.length&&(W[3]=parseFloat(C[3])),R.fromArray(W,E)}return R.fromArray(C.map(W=>parseFloat(W)),E)}if("hsl"===N&&3===C.length||"hsla"===N&&4===C.length)return R.fromArray((0,d.z$)(parseFloat(C[0]),parseFloat(C[1])/100,parseFloat(C[2])/100,parseFloat(C[3])),E)}return null}static fromHex(y,E=new R){if("#"!==y[0]||isNaN(+`0x${y.slice(1)}`))return null;switch(y.length){case 4:case 5:{const P=parseInt(y.slice(1,2),16),C=parseInt(y.slice(2,3),16),N=parseInt(y.slice(3,4),16),U=5===y.length?15:parseInt(y.slice(4),16);return R.fromArray([P+16*P,C+16*C,N+16*N,(U+16*U)/255],E)}case 7:case 9:{const P=parseInt(y.slice(1,3),16),C=parseInt(y.slice(3,5),16),N=parseInt(y.slice(5,7),16),U=7===y.length?255:parseInt(y.slice(7),16);return R.fromArray([P,C,N,U/255],E)}default:return null}}static fromArray(y,E=new R){return E._set(Number(y[0]),Number(y[1]),Number(y[2]),Number(y[3])),isNaN(E.a)&&(E.a=1),E._sanitize()}static fromString(y,E){const P=(0,d.V6)(y)?(0,d.TS)(y):null;return P&&R.fromArray(P,E)||R.fromRgb(y,E)||R.fromHex(y,E)}static fromJSON(y){return null!=y?new R([y[0],y[1],y[2],(y[3]??255)/255]):void 0}static toUnitRGB(y){return null!=y?[y.r/255,y.g/255,y.b/255]:null}static toUnitRGBA(y){return null!=y?[y.r/255,y.g/255,y.b/255,null!=y.a?y.a:1]:null}constructor(y){this.r=255,this.g=255,this.b=255,this.a=1,y&&this.setColor(y)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(y){return"string"==typeof y?R.fromString(y,this):Array.isArray(y)?R.fromArray(y,this):(this._set(y.r??0,y.g??0,y.b??0,y.a??1),y instanceof R||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(y){const E=y?.capitalize??!1,P=y?.digits??6,C=3===P||4===P,N=4===P||8===P,U=`#${F(this.r,C)}${F(this.g,C)}${F(this.b,C)}${N?F(Math.round(255*this.a),C):""}`;return E?U.toUpperCase():U}toCss(y=!1){const E=this.r+", "+this.g+", "+this.b;return y?`rgba(${E}, ${this.a})`:`rgb(${E})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(y=R.AlphaMode.ALWAYS){const E=_(this.r),P=_(this.g),C=_(this.b);return y===R.AlphaMode.ALWAYS||1!==this.a?[E,P,C,_(255*this.a)]:[E,P,C]}clone(){return new R(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(y){return null!=y&&y.r===this.r&&y.g===this.g&&y.b===this.b&&y.a===this.a}_sanitize(){return this.r=Math.round(I(this.r,0,255)),this.g=Math.round(I(this.g,0,255)),this.b=Math.round(I(this.b,0,255)),this.a=I(this.a,0,1),this}_set(y,E,P,C){this.r=y,this.g=E,this.b=P,this.a=C}}R.prototype.declaredClass="esri.Color",(y=(T=R).AlphaMode||(T.AlphaMode={}))[y.ALWAYS=0]="ALWAYS",y[y.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"},81098:(xe,re,u)=>{u.d(re,{A:()=>Z});var O,d=u(8189),p=u(92165),w=u(90660),_=u(23159),I=u(71065),F=u(35150),R=u(48900),T=u(33894),y=u(85211),C=(u(3248),u(40707),u(76576)),N=u(61320),U=u(6434),W=u(94048);function M(D){if(null==D)return null;const L={};for(const b in D){const H=D[b];H&&(L[b]=H.toJSON())}return 0!==Object.keys(L).length?L:null}let m=O=class extends(w.A.ClonableMixin(I.A)){constructor(D){super(D),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,T.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,_.eF)(F.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(D){const L=this._get("aggregateGeometries");JSON.stringify(L)!==JSON.stringify(D)&&this._set("aggregateGeometries",D)}set attributes(D){const L=this._get("attributes");L!==D&&(this._set("attributes",D),this._notifyLayer("attributes",L,D))}set geometry(D){const L=this._get("geometry");L!==D&&(this._set("geometry",D),"mesh"!==D?.type&&this._notifyLayer("geometry",L,D))}set symbol(D){const L=this._get("symbol");L!==D&&(this._set("symbol",D),this._notifyLayer("symbol",L,D))}get version(){return this._version}set visible(D){const L=this._get("visible");L!==D&&(this._set("visible",D),this._notifyLayer("visible",L,D))}cloneShallow(){return new O({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(D=!1){if(this.popupTemplate)return this.popupTemplate;const L=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const b of[L,this.sourceLayer,this.layer])if(b){if("popupTemplate"in b&&b.popupTemplate)return b.popupTemplate;if(D&&"defaultPopupTemplate"in b&&null!=b.defaultPopupTemplate)return b.defaultPopupTemplate}return null}getAttribute(D){return this.attributes?.[D]}setAttribute(D,L){if(this.attributes){const b=this.getAttribute(D);this.attributes[D]=L,this._notifyLayer("attributes",b,L,D)}else this.attributes={[D]:L},this._notifyLayer("attributes",void 0,L,D)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:M(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:I.A.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(D={}){const{geometry:L}=this;if("mesh"===L?.type){const b={origin:L.origin,transform:L.transform};this._notifyLayer("origin-transform",b,b,D.action)}}_notifyLayer(D,L,b,H){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const Y={graphic:this,property:D,oldValue:L,newValue:b};"origin-transform"===D&&(Y.action=H),"attributes"===D&&(Y.attributeName=H),this.layer.graphicChanged(Y)}_watchMeshGeometryChanges(){this.addHandles([(0,R.z7)(()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:D,origin:L})=>{this._lastMeshTransform.localMatrix===D&&this._lastMeshTransform.origin===L||(this._lastMeshTransform.localMatrix=D,this._lastMeshTransform.origin=L,this.notifyMeshTransformChanged())}),(0,R.z7)(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const D=this.geometry;"mesh"===D?.type&&D.vertexSpace.origin?(this._lastMeshTransform.localMatrix=D.transform?.localMatrix,this._lastMeshTransform.origin=D.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(D,L)=>D===L,sync:!0})])}};(0,d._)([(0,y.MZ)({value:null,json:{read:function v(D){if(!D)return null;const L={};for(const b in D){const H=(0,N.rS)(D[b]);H&&(L[b]=H)}return 0!==Object.keys(L).length?L:null}}})],m.prototype,"aggregateGeometries",null),(0,d._)([(0,y.MZ)({value:null})],m.prototype,"attributes",null),(0,d._)([(0,y.MZ)({value:null,types:U.yR,json:{read:N.rS}})],m.prototype,"geometry",null),(0,d._)([(0,y.MZ)({type:Boolean})],m.prototype,"isAggregate",void 0),(0,d._)([(0,y.MZ)({clonable:"reference"})],m.prototype,"layer",void 0),(0,d._)([(0,y.MZ)({clonable:"reference"})],m.prototype,"origin",void 0),(0,d._)([(0,y.MZ)({type:p.A})],m.prototype,"popupTemplate",void 0),(0,d._)([(0,y.MZ)({clonable:"reference"})],m.prototype,"sourceLayer",void 0),(0,d._)([(0,y.MZ)({value:null,types:W.Es})],m.prototype,"symbol",null),(0,d._)([(0,y.MZ)({clonable:!1,json:{read:!1,write:!1}})],m.prototype,"_version",void 0),(0,d._)([(0,y.MZ)({type:Boolean,value:!0})],m.prototype,"visible",null),m=O=(0,d._)([(0,C.$)("esri.Graphic")],m);const Z=m},92165:(xe,re,u)=>{u.d(re,{A:()=>Re});var d=u(10467),p=u(8189),w=u(90660),_=u(31178),I=u(71065),F=u(77806),R=u(35150),T=u(56492),y=u(85211),E=u(48669),P=u(17221),C=u(76576),N=u(50305),U=u(55739),W=u(86300),O=u(54042),v=u(75432),M=u(65121),m=u(558),Z=u(8975),D=u(90792),L=u(83902),b=u(98089),H=u(62270);const z={base:null,key:"type",typeMap:{attachment:O.A,media:D.A,text:b.A,expression:m.A,field:Z.A,relationship:L.A,utilityNetworkAssociations:H.A}},te={base:null,key:"type",typeMap:{attachment:O.A,media:D.A,text:b.A,expression:m.A,field:Z.A,relationship:L.A}};var X,ee=u(26025),Q=u(61099);u(3248),u(40707);let A=X=class extends I.A{constructor(oe){super(oe),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new X({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,p._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"returnTopmostRaster",void 0),(0,p._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"showNoDataRecords",void 0),A=X=(0,p._)([(0,C.$)("esri.popup.LayerOptions")],A);const ie=A;var B,K=u(61852);let G=B=class extends I.A{constructor(oe){super(oe),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new B({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,F.o8)(this.orderByFields):null})}};(0,p._)([(0,y.MZ)({type:Boolean,json:{write:!0}})],G.prototype,"showRelatedRecords",void 0),(0,p._)([(0,y.MZ)({type:[K.A],json:{write:!0}})],G.prototype,"orderByFields",void 0),G=B=(0,p._)([(0,C.$)("esri.popup.RelatedRecordsInfo")],G);const se=G;var J=u(47272),ce=u(52491),_e=u(11342),Ce=u(41866);const Oe="relationships/",fe="expression/",Se=_.A.ofType({key:"type",defaultKeyValue:"button",base:ce.A,typeMap:{button:_e.A,toggle:Ce.A}}),me={base:v.A,key:"type",typeMap:{media:D.A,custom:M.A,text:b.A,attachments:O.A,fields:Z.A,expression:m.A,relationship:L.A,utilityNetworkAssociations:H.A}},ge=new Set(["attachments","fields","media","text","expression","relationship"]),Be=new Set([...ge,"utility-network-associations"]);let Le=class extends(w.A.ClonableMixin(I.A)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(oe){return Array.isArray(oe)?oe.map(S=>(0,U.aq)(me,S)):"string"==typeof oe||"function"==typeof oe||oe instanceof HTMLElement||(0,T.$X)(oe)?oe:(R.A.getLogger(this).error("content error","unsupported content value",{value:oe}),null)}readContent(oe,S){const{popupElements:k}=S;return Array.isArray(k)&&k.length>0?this._readPopupInfoElements(S.description,S.mediaInfos,k):this._readPopupInfo(S)}writeWebSceneContent(oe,S,k,ae){this._writePopupTemplateContent(oe,S,ae)}writeWebMapContent(oe,S,k,ae){this._writePopupTemplateContent(oe,S,ae)}writeFieldInfos(oe,S,k,ae){const{content:he}=this,Ae=Array.isArray(he)?he:null;if(oe){const je=Ae?Ae.filter(Ue=>"fields"===Ue.type):[],Fe=je.length&&je.every(Ue=>Ue.fieldInfos?.length);S.fieldInfos=oe.filter(Boolean).map(Ue=>{const We=Ue.toJSON(ae);return Fe&&(We.visible=!1),We})}if(Ae)for(const je of Ae)"fields"===je.type&&this._writeFieldsContent(je,S)}writeLayerOptions(oe,S,k,ae){S[k]=!oe||null===oe.showNoDataRecords&&null===oe.returnTopmostRaster?null:oe.toJSON(ae)}writeTitle(oe,S){S.title=oe||""}collectRequiredFields(oe,S){var k=this;return(0,d.A)(function*(){const ae=k.expressionInfos||[];yield k._collectExpressionInfoFields(oe,S,[...ae,...k._getContentExpressionInfos(k.content,ae)]),(0,W._w)(oe,S,[...k.outFields||[],...k._getActionsFields(k.actions),...k._getTitleFields(k.title),...k._getContentFields(k.content)])})()}getRequiredFields(oe){var S=this;return(0,d.A)(function*(){const k=new Set;return yield S.collectRequiredFields(k,oe),[...k].sort()})()}_writePopupTemplateContent(oe,S,k){"string"!=typeof oe?Array.isArray(oe)&&(S.popupElements=oe.filter(ae=>"web-scene"===k?.origin?ge.has(ae.type):Be.has(ae.type)).map(ae=>ae?.toJSON(k)),S.popupElements.forEach(ae=>{"attachments"===ae.type?this._writeAttachmentContent(S):"media"===ae.type?this._writeMediaContent(ae,S):"text"===ae.type?this._writeTextContent(ae,S):"relationship"===ae.type&&this._writeRelationshipContent(ae,S)})):S.description=oe}_writeFieldsContent(oe,S){if(!Array.isArray(oe.fieldInfos)||!oe.fieldInfos.length)return;const k=(0,F.o8)(oe.fieldInfos);Array.isArray(S.fieldInfos)?k.forEach(ae=>{const he=S.fieldInfos.find(Ae=>Ae.fieldName?.toLowerCase()===ae.fieldName?.toLowerCase());he?he.visible=!0:S.fieldInfos.push(ae)}):S.fieldInfos=k}_writeAttachmentContent(oe){oe.showAttachments||(oe.showAttachments=!0)}_writeRelationshipContent(oe,S){const k=oe.orderByFields?.map(he=>this._toFieldOrderJSON(he,oe.relationshipId))||[],ae=[...S.relatedRecordsInfo?.orderByFields||[],...k];S.relatedRecordsInfo={showRelatedRecords:!0,...ae?.length&&{orderByFields:ae}}}_writeTextContent(oe,S){!S.description&&oe.text&&(S.description=oe.text)}_writeMediaContent(oe,S){if(!Array.isArray(oe.mediaInfos)||!oe.mediaInfos.length)return;const k=(0,F.o8)(oe.mediaInfos);S.mediaInfos=Array.isArray(S.mediaInfos)?[...S.mediaInfos,...k]:k}_readPopupInfoElements(oe,S,k){const ae={description:!1,mediaInfos:!1};return k.map(he=>"media"===he.type?(he.mediaInfos||!S||ae.mediaInfos||(he.mediaInfos=S,ae.mediaInfos=!0),D.A.fromJSON(he)):"text"===he.type?(he.text||!oe||ae.description||(he.text=oe,ae.description=!0),b.A.fromJSON(he)):"attachments"===he.type?O.A.fromJSON(he):"fields"===he.type?Z.A.fromJSON(he):"expression"===he.type?m.A.fromJSON(he):"relationship"===he.type?L.A.fromJSON(he):"utilityNetworkAssociations"===he.type?H.A.fromJSON(he):void 0).filter(Boolean)}_toRelationshipContent(oe){const{field:S,order:k}=oe;if(!S?.startsWith(Oe))return null;const ae=S.replace(Oe,"").split("/");if(2!==ae.length)return null;const he=parseInt(ae[0],10),Ae=ae[1];return!Number.isNaN(he)&&Ae?L.A.fromJSON({relationshipId:he,orderByFields:[{field:Ae,order:k}]}):null}_toFieldOrderJSON(oe,S){const{order:k,field:ae}=oe;return{field:`${Oe}${S}/${ae}`,order:k}}_readPopupInfo({description:oe,mediaInfos:S,showAttachments:k,relatedRecordsInfo:ae={showRelatedRecords:!1}}){const he=[];he.push(oe?new b.A({text:oe}):new Z.A),Array.isArray(S)&&S.length&&he.push(D.A.fromJSON({mediaInfos:S})),k&&he.push(O.A.fromJSON({displayType:"auto"}));const{showRelatedRecords:Ae,orderByFields:je}=ae;return Ae&&je?.length&&je.forEach(Fe=>{const Ue=this._toRelationshipContent(Fe);Ue&&he.push(Ue)}),he.length?he:oe}_getContentElementFields(oe){const S=oe?.type;if("attachments"===S)return[...this._extractFieldNames(oe.title),...this._extractFieldNames(oe.description)];if("custom"===S)return oe.outFields||[];if("fields"===S)return[...this._extractFieldNames(oe.title),...this._extractFieldNames(oe.description),...this._getFieldInfoFields(oe.fieldInfos??this.fieldInfos)];if("media"===S){const k=oe.mediaInfos||[];return[...this._extractFieldNames(oe.title),...this._extractFieldNames(oe.description),...k.reduce((ae,he)=>[...ae,...this._getMediaInfoFields(he)],[])]}return"text"===S?this._extractFieldNames(oe.text):"relationship"===S||"utility-network-associations"===S?[...this._extractFieldNames(oe.title),...this._extractFieldNames(oe.description)]:[]}_getMediaInfoFields(oe){const{caption:S,title:k,value:ae}=oe,he=ae||{},{fields:Ae,normalizeField:je,tooltipField:Fe,sourceURL:Ue,linkURL:We}=he,ue=[...this._extractFieldNames(k),...this._extractFieldNames(S),...this._extractFieldNames(Ue),...this._extractFieldNames(We),...Ae??[]];return je&&ue.push(je),Fe&&ue.push(Fe),ue}_getContentExpressionInfos(oe,S){return Array.isArray(oe)?oe.reduce((k,ae)=>[...k,..."expression"===ae.type&&ae.expressionInfo?[ae.expressionInfo]:[]],S):[]}_getContentFields(oe){return"string"==typeof oe?this._extractFieldNames(oe):Array.isArray(oe)?oe.reduce((S,k)=>[...S,...this._getContentElementFields(k)],[]):[]}_collectExpressionInfoFields(oe,S,k){return(0,d.A)(function*(){k&&(yield Promise.all(k.map(ae=>(0,W.Dx)(oe,S,ae.expression))))})()}_getFieldInfoFields(oe){return oe?oe.filter(({fieldName:S,visible:k})=>!(void 0!==k&&!k||!S||S.startsWith(Oe)||S.startsWith(fe))).map(S=>S.fieldName):[]}_getActionsFields(oe){return oe?oe.toArray().reduce((S,k)=>[...S,...this._getActionFields(k)],[]):[]}_getActionFields(oe){const{className:S,title:k,type:ae}=oe,he="button"===ae||"toggle"===ae?oe.image:"";return[...this._extractFieldNames(k),...this._extractFieldNames(S),...this._extractFieldNames(he)]}_getTitleFields(oe){return"string"==typeof oe?this._extractFieldNames(oe):[]}_extractFieldNames(oe){return(0,W.nw)(oe).filter(S=>!(0===S.indexOf(Oe)||0===S.indexOf(fe)))}};(0,p._)([(0,y.MZ)({type:Se})],Le.prototype,"actions",void 0),(0,p._)([(0,y.MZ)()],Le.prototype,"content",void 0),(0,p._)([(0,E.w)("content")],Le.prototype,"castContent",null),(0,p._)([(0,P.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Le.prototype,"readContent",null),(0,p._)([(0,N.K)("web-scene","content",{popupElements:{type:_.A.ofType(te)},showAttachments:{type:Boolean},mediaInfos:{type:_.A.ofType(J.g)},description:{type:String},relatedRecordsInfo:{type:se}})],Le.prototype,"writeWebSceneContent",null),(0,p._)([(0,N.K)("content",{popupElements:{type:_.A.ofType(z)},showAttachments:{type:Boolean},mediaInfos:{type:_.A.ofType(J.g)},description:{type:String},relatedRecordsInfo:{type:se}})],Le.prototype,"writeWebMapContent",null),(0,p._)([(0,y.MZ)({type:[ee.A],json:{write:!0}})],Le.prototype,"expressionInfos",void 0),(0,p._)([(0,y.MZ)({type:[Q.A]})],Le.prototype,"fieldInfos",void 0),(0,p._)([(0,N.K)("fieldInfos")],Le.prototype,"writeFieldInfos",null),(0,p._)([(0,y.MZ)({type:ie})],Le.prototype,"layerOptions",void 0),(0,p._)([(0,N.K)("layerOptions")],Le.prototype,"writeLayerOptions",null),(0,p._)([(0,y.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Le.prototype,"lastEditInfoEnabled",void 0),(0,p._)([(0,y.MZ)()],Le.prototype,"outFields",void 0),(0,p._)([(0,y.MZ)()],Le.prototype,"overwriteActions",void 0),(0,p._)([(0,y.MZ)()],Le.prototype,"returnGeometry",void 0),(0,p._)([(0,y.MZ)({json:{type:String}})],Le.prototype,"title",void 0),(0,p._)([(0,N.K)("title")],Le.prototype,"writeTitle",null),Le=(0,p._)([(0,C.$)("esri.PopupTemplate")],Le);const Re=Le},20351:(xe,re,u)=>{u.d(re,{A:()=>H});var d=u(8189),p=u(90660),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(z){super(z),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(z){return null!=z&&this.row===z.row&&this.rows===z.rows&&this.column===z.column&&this.columns===z.columns}};(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],T.prototype,"row",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],T.prototype,"column",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],T.prototype,"rows",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],T.prototype,"columns",void 0),T=(0,d._)([(0,R.$)("esri.CameraLayout")],T);const y=T;var E=u(73596),P=u(71065),C=u(69287),N=u(48669),U=u(17221),W=u(50305),O=u(55739),v=u(1749);let M=class extends(p.A.ClonableMixin(P.A)){constructor(...z){super(...z),this.position=new v.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new y}normalizeCtorArgs(z,te,ee,Q){if(z&&"object"==typeof z&&("x"in z||Array.isArray(z))){const q={position:z};return null!=te&&(q.heading=te),null!=ee&&(q.tilt=ee),null!=Q&&(q.fov=Q),q}return z}writePosition(z,te,ee,Q){const q=z.clone();q.x=(0,O.GB)(z.x||0),q.y=(0,O.GB)(z.y||0),q.z=z.hasZ?(0,O.GB)(z.z||0):z.z,te[ee]=q.write({},Q)}readPosition(z,te){const ee=new v.A;return ee.read(z,te),ee.x=(0,O.GB)(ee.x||0),ee.y=(0,O.GB)(ee.y||0),ee.z=ee.hasZ?(0,O.GB)(ee.z||0):ee.z,ee}equals(z){return null!=z&&this.tilt===z.tilt&&this.heading===z.heading&&this.fov===z.fov&&this.position.equals(z.position)&&this.layout.equals(z.layout)}};(0,d._)([(0,w.MZ)({type:v.A,json:{write:{isRequired:!0}}})],M.prototype,"position",void 0),(0,d._)([(0,W.K)("position")],M.prototype,"writePosition",null),(0,d._)([(0,U.w)("position")],M.prototype,"readPosition",null),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.w)(z=>E.ie.normalize((0,O.GB)(z)))],M.prototype,"heading",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,N.w)(z=>(0,C.qE)((0,O.GB)(z),-180,180))],M.prototype,"tilt",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{default:55,write:!0}}),(0,N.w)(z=>(0,C.qE)((0,O.GB)(z,55),1,170))],M.prototype,"fov",void 0),(0,d._)([(0,w.MZ)({type:y,nonNullable:!0,json:{read:!1,write:!1}})],M.prototype,"layout",void 0),M=(0,d._)([(0,R.$)("esri.Camera")],M);const m=M;var L,Z=u(61320),D=u(6434);let b=L=class extends P.A{constructor(z){super(z),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(z){return(z%=360)<0&&(z+=360),z}clone(){return new L({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,d._)([(0,w.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Y}}}}})],b.prototype,"rotation",void 0),(0,d._)([(0,N.w)("rotation")],b.prototype,"castRotation",null),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:Y}}}}})],b.prototype,"scale",void 0),(0,d._)([(0,w.MZ)({types:D.yR,json:{read:Z.rS,write:!0,origins:{"web-scene":{read:Z.rS,write:{overridePolicy:Y}}}}})],b.prototype,"targetGeometry",void 0),(0,d._)([(0,w.MZ)({type:m,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],b.prototype,"camera",void 0),b=L=(0,d._)([(0,R.$)("esri.Viewpoint")],b);const H=b;function Y(){return{enabled:!this.camera}}},61299:(xe,re,u)=>{u.d(re,{lY:()=>y,mT:()=>E});var _,d=u(1119),p=u(24098),w=u(44549);(_||(_={})).TimeZoneNotRecognized="TimeZoneNotRecognized";const I={[_.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class F extends Error{constructor(C,N){super((0,d.HC)(I[C],N)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,F)}}function R(P,C,N){return P<C?P-C:P>N?P-N:0}function T(P,C,N){return P<C?C:P>N?N:P}class y{constructor(C){this._date=C,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(C=0,N=1,U=1,W=0,O=0,v=0,M=0,m){if(isNaN(C)||isNaN(N)||isNaN(U)||isNaN(W)||isNaN(O)||isNaN(v)||isNaN(M))return null;const Z=w.c9.local(C,N).daysInMonth;let D=w.c9.fromObject({day:T(U,1,Z),year:C,month:T(N,1,12),hour:T(W,0,23),minute:T(O,0,59),second:T(v,0,59),millisecond:T(M,0,999)},{zone:E(m)});return D=D.plus({months:R(N,1,12),days:R(U,1,Z),hours:R(W,0,23),minutes:R(O,0,59),seconds:R(v,0,59),milliseconds:R(M,0,999)}),new y(D)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(C,N){const U=E(N);return C.isUnknownTimeZone||U===p.GB.instance?y.fromParts(C.year,C.monthJS+1,C.day,C.hour,C.minute,C.second,C.millisecond,U):new y(C._date.setZone(U))}static dateJSToArcadeDate(C){return new y(w.c9.fromJSDate(C,{zone:"system"}))}static dateJSAndZoneToArcadeDate(C,N="system"){const U=E(N);return new y(w.c9.fromJSDate(C,{zone:U}))}static unknownEpochToArcadeDate(C){return new y(w.c9.fromMillis(C,{zone:p.GB.instance}))}static unknownDateJSToArcadeDate(C){return new y(w.c9.fromMillis(C.getTime(),{zone:p.GB.instance}))}static epochToArcadeDate(C,N="system"){const U=E(N);return new y(w.c9.fromMillis(C,{zone:U}))}static dateTimeToArcadeDate(C){return new y(C)}clone(){return new y(this._date)}changeTimeZone(C){const N=E(C);return y.dateTimeToArcadeDate(this._date.setZone(N))}static dateTimeAndZoneToArcadeDate(C,N){const U=E(N);return C.zone===p.GB.instance||U===p.GB.instance?y.fromParts(C.year,C.month,C.day,C.hour,C.minute,C.second,C.millisecond,U):new y(C.setZone(U))}static nowToArcadeDate(C){const N=E(C);return new y(w.c9.fromJSDate(new Date,{zone:N}))}static nowUTCToArcadeDate(){return new y(w.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===y.systemTimeZoneCanonicalName}equals(C){return this.isSystem&&C.isSystem?this.toNumber()===C.toNumber():this.isUnknownTimeZone===C.isUnknownTimeZone&&this._date.equals(C._date)}get isUnknownTimeZone(){return this._date.zone===p.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let C=this._date.weekday;return C>6&&(C=0),C}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const C=this.zone;return"fixed"===C.type?0===C.fixed?"UTC":C.formatOffset(0,"short"):C.name}stringify(){return JSON.stringify(this.toJSDate())}plus(C){return new y(this._date.plus(C))}diff(C,N="milliseconds"){return this._date.diff(C._date,N)[N]}toISODate(){return this._date.toISODate()}toISOString(C){return this._date.toISO(C?{suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}:{includeOffset:!this.isUnknownTimeZone})}toISOTime(C,N){return this._date.toISOTime({suppressMilliseconds:C,includeOffset:N&&!this.isUnknownTimeZone})}toFormat(C,N){return this.isUnknownTimeZone&&(C=C.replaceAll("Z","")),this._date.toFormat(C,N)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new y(this._date.toUTC())}toLocal(){return new y(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(C){if(!C)return null;const N=w.c9.fromISO(C,{setZone:!0});return new y(N)}}function E(P,C=!0){if(P instanceof w.bo)return P;if("system"===P.toLowerCase())return"system";if("utc"===P.toLowerCase())return"UTC";if("unknown"===P.toLowerCase())return p.GB.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(P)){const U=w.mQ.parseSpecifier("UTC"+(P.startsWith("+")||P.startsWith("-")?"":"+")+P);if(U)return U}const N=w.oh.create(P);if(!N.isValid){if(C)throw new F(_.TimeZoneNotRecognized);return null}return N}},90261:(xe,re,u)=>{u.d(re,{s:()=>R});var d=u(23098),w=(u(89563),u(5922)),_=u(35150),I=u(45272);function R(T){if(!d.A.assetsPath)throw _.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new w.A("assets:path-not-set","config.assetsPath is not set");return(0,I.fj)(d.A.assetsPath,T)}},33658:(xe,re,u)=>{u.d(re,{P:()=>P,a:()=>y,c:()=>M,g:()=>T,h:()=>W,i:()=>I,j:()=>L,l:()=>R,p:()=>Q});var d=u(90261),p=u(3248);let w,_=null;function I(){return!!_}function R(){return w||(w=u.e(9083).then(u.bind(u,79083)).then(q=>q.p).then(({default:q})=>q({locateFile:j=>(0,d.s)(`esri/geometry/support/${j}`)})).then(q=>{H(q)}),w)}var T,y,q;(function(q){function j(K,B,G){_.ensureCache.prepare();const se=te(G),J=G===se,ce=_.ensureFloat64(se),_e=_._pe_geog_to_proj(_.getPointer(K),B,ce);return _e&&ee(G,B,ce,J),_e}function A(K,B,G){return ie(K,B,G,0)}function ie(K,B,G,se){_.ensureCache.prepare();const J=te(G),ce=G===J,_e=_.ensureFloat64(J),Ce=_._pe_proj_to_geog_center(_.getPointer(K),B,_e,se);return Ce&&ee(G,B,_e,ce),Ce}q.geogToProj=j,q.projGeog=function X(K,B,G,se){switch(se){case y.PE_TRANSFORM_P_TO_G:return A(K,B,G);case y.PE_TRANSFORM_G_TO_P:return j(K,B,G)}return 0},q.projToGeog=A,q.projToGeogCenter=ie})(T||(T={})),(q=y||(y={})).init=function j(){q.PE_BUFFER_MAX=_.PeDefs.prototype.PE_BUFFER_MAX,q.PE_NAME_MAX=_.PeDefs.prototype.PE_NAME_MAX,q.PE_MGRS_MAX=_.PeDefs.prototype.PE_MGRS_MAX,q.PE_USNG_MAX=_.PeDefs.prototype.PE_USNG_MAX,q.PE_DD_MAX=_.PeDefs.prototype.PE_DD_MAX,q.PE_DDM_MAX=_.PeDefs.prototype.PE_DDM_MAX,q.PE_DMS_MAX=_.PeDefs.prototype.PE_DMS_MAX,q.PE_UTM_MAX=_.PeDefs.prototype.PE_UTM_MAX,q.PE_PARM_MAX=_.PeDefs.prototype.PE_PARM_MAX,q.PE_TYPE_NONE=_.PeDefs.prototype.PE_TYPE_NONE,q.PE_TYPE_GEOGCS=_.PeDefs.prototype.PE_TYPE_GEOGCS,q.PE_TYPE_PROJCS=_.PeDefs.prototype.PE_TYPE_PROJCS,q.PE_TYPE_GEOGTRAN=_.PeDefs.prototype.PE_TYPE_GEOGTRAN,q.PE_TYPE_COORDSYS=_.PeDefs.prototype.PE_TYPE_COORDSYS,q.PE_TYPE_UNIT=_.PeDefs.prototype.PE_TYPE_UNIT,q.PE_TYPE_LINUNIT=_.PeDefs.prototype.PE_TYPE_LINUNIT,q.PE_STR_OPTS_NONE=_.PeDefs.prototype.PE_STR_OPTS_NONE,q.PE_STR_AUTH_NONE=_.PeDefs.prototype.PE_STR_AUTH_NONE,q.PE_STR_AUTH_TOP=_.PeDefs.prototype.PE_STR_AUTH_TOP,q.PE_STR_NAME_CANON=_.PeDefs.prototype.PE_STR_NAME_CANON,q.PE_STR_FMT_WKT=_.PeDefs.prototype.PE_STR_FMT_WKT,q.PE_STR_FMT_WKT2=_.PeDefs.prototype.PE_STR_FMT_WKT2,q.PE_PARM_X0=_.PeDefs.prototype.PE_PARM_X0,q.PE_PARM_ND=_.PeDefs.prototype.PE_PARM_ND,q.PE_TRANSFORM_1_TO_2=_.PeDefs.prototype.PE_TRANSFORM_1_TO_2,q.PE_TRANSFORM_2_TO_1=_.PeDefs.prototype.PE_TRANSFORM_2_TO_1,q.PE_TRANSFORM_P_TO_G=_.PeDefs.prototype.PE_TRANSFORM_P_TO_G,q.PE_TRANSFORM_G_TO_P=_.PeDefs.prototype.PE_TRANSFORM_G_TO_P,q.PE_HORIZON_RECT=_.PeDefs.prototype.PE_HORIZON_RECT,q.PE_HORIZON_POLY=_.PeDefs.prototype.PE_HORIZON_POLY,q.PE_HORIZON_LINE=_.PeDefs.prototype.PE_HORIZON_LINE,q.PE_HORIZON_DELTA=_.PeDefs.prototype.PE_HORIZON_DELTA};let E=null;var P;!function(q){const j={},X={},A=Oe=>{const fe=Oe.getType();switch(fe){case y.PE_TYPE_GEOGCS:Oe=_.castObject(Oe,_.PeGeogcs);break;case y.PE_TYPE_PROJCS:Oe=_.castObject(Oe,_.PeProjcs);break;case y.PE_TYPE_GEOGTRAN:Oe=_.castObject(Oe,_.PeGeogtran);break;default:fe&y.PE_TYPE_UNIT&&(Oe=_.castObject(Oe,_.PeUnit))}return Oe};function B(Oe,fe){let Se=null,me=j[Oe];if(me||(me={},j[Oe]=me),me.hasOwnProperty(String(fe))&&(Se=me[fe],_.compare(Se,_.NULL)&&(Se=null)),!Se){const ge=_.PeFactory.prototype.factoryByType(Oe,fe);_.compare(ge,_.NULL)||(Se=A(ge),me[fe]=Se)}return Se}q.initialize=function ie(){_.PeFactory.prototype.initialize(null)},q.coordsys=function K(Oe){return B(y.PE_TYPE_COORDSYS,Oe)},q.factoryByType=B,q.fromString=function G(Oe,fe){let Se=null,me=X[Oe];if(me||(me={},X[Oe]=me),me.hasOwnProperty(fe)&&(Se=me[fe],_.compare(Se,_.NULL)&&(Se=null)),!Se){const ge=_.PeFactory.prototype.fromString(Oe,fe);_.compare(ge,_.NULL)||(Se=A(ge),me[fe]=Se)}return Se},q.geogcs=function se(Oe){return B(y.PE_TYPE_GEOGCS,Oe)},q.geogtran=function J(Oe){return B(y.PE_TYPE_GEOGTRAN,Oe)},q.getCode=function ce(Oe){return _.PeFactory.prototype.getCode(Oe)},q.projcs=function _e(Oe){return B(y.PE_TYPE_PROJCS,Oe)},q.unit=function Ce(Oe){return B(y.PE_TYPE_UNIT,Oe)}}(P||(P={}));let C=null;var N,U,W,O,v,M,m,Z,D,L,b;function H(q){function j(K,B,G){K[B]=G(K[B])}_=q,y.init(),N.init(),m.init(),D.init(),L.init(),E=class extends _.PeDouble{constructor(K=NaN){super(K)}destroy(){_.destroy(this)}[Symbol.dispose](){this.destroy()}},C=class extends _.PeGCSExtent{destroy(){_.destroy(this)}[Symbol.dispose](){this.destroy()}};const X=[_.PeAngunit,_.PeDatum,_.PeGeogcs,_.PeGeogtran,_.PeObject,_.PeParameter,_.PePrimem,_.PeProjcs,_.PeSpheroid,_.PeUnit];for(const K of X)j(K.prototype,"getName",B=>function(){return B.call(this,new Array(y.PE_NAME_MAX))});for(const K of[_.PeGeogtran,_.PeProjcs])j(K.prototype,"getParameters",B=>function(){const G=new Array(y.PE_PARM_MAX);let se=B.call(this);for(let J=0;J<G.length;J++){const ce=_.getValue(se,"*");G[J]=ce?_.wrapPointer(ce,_.PeParameter):null,se+=Int32Array.BYTES_PER_ELEMENT}return G});j(_.PeHorizon.prototype,"getCoord",K=>function(B=!1){const G=this.getSize();if(!G)return null;const se=[];return ee(se,G,K.call(this),B),se}),j(_.PeGTlistExtendedEntry.prototype,"getEntries",K=>{const B=_._pe_getPeGTlistExtendedGTsSize();return function(){let G=null;const se=K.call(this);if(!_.compare(se,_.NULL)){G=[se];const J=this.getSteps();if(J>1){const ce=_.getPointer(se);for(let _e=1;_e<J;_e++)G.push(_.wrapPointer(ce+B*_e,_.PeGTlistExtendedGTs))}}return G}});const A=_._pe_getPeHorizonSize(),ie=K=>function(){let B=this._cache;if(B||(B=new Map,this._cache=B),B.has(K))return B.get(K);let G=null;const se=K.call(this);if(!_.compare(se,_.NULL)){G=[se];const J=se.getNump();if(J>1){const ce=_.getPointer(se);for(let _e=1;_e<J;_e++)G.push(_.wrapPointer(ce+A*_e,_.PeHorizon))}}return B.set(K,G),G};j(_.PeProjcs.prototype,"horizonGcsGenerate",ie),j(_.PeProjcs.prototype,"horizonPcsGenerate",ie),_.PeObject.prototype.toString=function(K=y.PE_STR_OPTS_NONE){_.ensureCache.prepare();const B=_.getPointer(this),G=_.ensureInt8(new Array(y.PE_BUFFER_MAX));return _.UTF8ToString(_._pe_object_to_string_ext(B,K,G))},_.PeGeogcs.prototype.destroy=function(){this.Delete(),Y(this),this.ptr=0},_.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},_.PeProjcs.prototype.destroy=function(){this.Delete(),Y(this),this.ptr=0},_.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Y(q){if(!q)return;const j=_.getClass(q);if(!j)return;const X=_.getCache(j);if(!X)return;const A=_.getPointer(q);A&&delete X[A]}function z(q,j){const X=[],A=new Array(j);for(let ie=0;ie<q;ie++)X.push(_.ensureInt8(A));return X}function te(q){return ArrayBuffer.isView(q)?q:Array.isArray(q[0])?q.flat():q}function ee(q,j,X,A=!1){if(A)for(let ie=0;ie<2*j;ie++)q[ie]=_.getValue(X+ie*Float64Array.BYTES_PER_ELEMENT,"double");else{const ie=0===q.length;for(let K=0;K<j;K++)ie&&(q[K]=new Array(2)),q[K][0]=_.getValue(X,"double"),q[K][1]=_.getValue(X+Float64Array.BYTES_PER_ELEMENT,"double"),X+=2*Float64Array.BYTES_PER_ELEMENT}}(function(q){let j;q.init=function X(){q.PE_GTLIST_OPTS_COMMON=_.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,j=_._pe_getPeGTlistExtendedEntrySize()},q.getGTlist=function A(ie,K,B,G,se,J){let ce=null;const _e=new _.PeInteger(J);try{const Ce=_.PeGTlistExtended.prototype.getGTlist(ie,K,B,G,se,_e);if((J=_e.val)&&(ce=[Ce],J>1)){const Oe=_.getPointer(Ce);for(let fe=1;fe<J;fe++)ce.push(_.wrapPointer(Oe+j*fe,_.PeGTlistExtendedEntry))}}finally{_.destroy(_e)}return ce}})(N||(N={})),function(q){q.destroy=function j(X){if(X?.length){for(const A of X)Y(A),A.getEntries().forEach(ie=>{Y(ie);const K=ie.getGeogtran();Y(K),K.getParameters().forEach(Y),[K.getGeogcs1(),K.getGeogcs2()].forEach(B=>{Y(B);const G=B.getDatum();Y(G),Y(G.getSpheroid()),Y(B.getPrimem()),Y(B.getUnit())})});_.PeGTlistExtendedEntry.prototype.Delete(X[0])}}}(U||(U={})),function(q){q.geogToGeog=function j(X,A,ie,K,B){_.ensureCache.prepare();const G=te(ie),se=ie===G,J=_.ensureFloat64(G);let ce=0;K&&(ce=_.ensureFloat64(K));const _e=_._pe_geog_to_geog(_.getPointer(X),A,J,ce,B);return _e&&ee(ie,A,J,se),_e}}(W||(W={})),function(q){q.geodesicCoordinate=function j(K,B,G,se,J,ce,_e,Ce){_.PeLineType.prototype.geodesic_coordinate(K,B,G,se,J,ce,_e,Ce)},q.geodeticCoordinate=function X(K,B,G,se,J,ce,_e,Ce,Oe){_.PeLineType.prototype.geodetic_coordinate(K,B,G,se,J,ce,_e,Ce,Oe)},q.geodeticDistance=function A(K,B,G,se,J,ce,_e,Ce,Oe,fe){_.PeLineType.prototype.geodetic_distance(K,B,G,se,J,ce,_e,Ce,Oe,fe)},q.greatEllipticDistance=function ie(K,B,G,se,J,ce,_e,Ce,Oe){_.PeLineType.prototype.great_elliptic_distance(K,B,G,se,J,ce,_e,Ce,Oe)}}(O||(O={})),function(q){q.phiToEta=function j(B,G){return _.PeMath.prototype.phi_to_eta(B,G)},q.etaToPhi=function X(B,G){return _.PeMath.prototype.eta_to_phi(B,G)},q.phiToPhig=function A(B,G){return _.PeMath.prototype.phi_to_phig(B,G)},q.q=function ie(B,G,se){return _.PeMath.prototype.q(B,G,se)},q.q90=function K(B,G){return _.PeMath.prototype.q90(B,G)}}(v||(v={})),function(q){const j=(J,ce,_e,Ce,Oe,fe)=>{let Se,me;switch(_.ensureCache.prepare(),J){case"dd":Se=_._pe_geog_to_dd,me=y.PE_DD_MAX;break;case"ddm":Se=_._pe_geog_to_ddm,me=y.PE_DDM_MAX;break;case"dms":Se=_._pe_geog_to_dms,me=y.PE_DMS_MAX}let ge=0;ce&&(ge=_.getPointer(ce));const Be=te(Ce),Le=_.ensureFloat64(Be),Re=z(_e,me),oe=Se(ge,_e,Le,Oe,_.ensureInt32(Re));if(oe)for(let S=0;S<_e;S++)fe[S]=_.UTF8ToString(Re[S]);return oe},X=(J,ce,_e,Ce,Oe)=>{let fe;switch(_.ensureCache.prepare(),J){case"dd":fe=_._pe_dd_to_geog;break;case"ddm":fe=_._pe_ddm_to_geog;break;case"dms":fe=_._pe_dms_to_geog}let Se=0;ce&&(Se=_.getPointer(ce));const me=Ce.map(Re=>_.ensureString(Re)),ge=_.ensureInt32(me),Be=_.ensureFloat64(new Array(2*_e)),Le=fe(Se,_e,ge,Be);return Le&&ee(Oe,_e,Be),Le};q.geogToDms=function A(J,ce,_e,Ce,Oe){return j("dms",J,ce,_e,Ce,Oe)},q.dmsToGeog=function ie(J,ce,_e,Ce){return X("dms",J,ce,_e,Ce)},q.geogToDdm=function K(J,ce,_e,Ce,Oe){return j("ddm",J,ce,_e,Ce,Oe)},q.ddmToGeog=function B(J,ce,_e,Ce){return X("ddm",J,ce,_e,Ce)},q.geogToDd=function G(J,ce,_e,Ce,Oe){return j("dd",J,ce,_e,Ce,Oe)},q.ddToGeog=function se(J,ce,_e,Ce){return X("dd",J,ce,_e,Ce)}}(M||(M={})),function(q){q.init=function j(){q.PE_MGRS_STYLE_NEW=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,q.PE_MGRS_STYLE_OLD=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,q.PE_MGRS_STYLE_AUTO=_.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,q.PE_MGRS_180_ZONE_1_PLUS=_.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,q.PE_MGRS_ADD_SPACES=_.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},q.geogToMgrsExtended=function X(ie,K,B,G,se,J,ce){_.ensureCache.prepare();let _e=0;ie&&(_e=_.getPointer(ie));const Ce=te(B),Oe=_.ensureFloat64(Ce),fe=z(K,y.PE_MGRS_MAX),Se=_.ensureInt32(fe),me=_._pe_geog_to_mgrs_extended(_e,K,Oe,G,se,J,Se);if(me)for(let ge=0;ge<K;ge++)ce[ge]=_.UTF8ToString(fe[ge]);return me},q.mgrsToGeogExtended=function A(ie,K,B,G,se){_.ensureCache.prepare();let J=0;ie&&(J=_.getPointer(ie));const ce=B.map(fe=>_.ensureString(fe)),_e=_.ensureInt32(ce),Ce=_.ensureFloat64(new Array(2*K)),Oe=_._pe_mgrs_to_geog_extended(J,K,_e,G,Ce);return Oe&&ee(se,K,Ce),Oe}}(m||(m={})),function(q){q.geogToUsng=function j(A,ie,K,B,G,se,J){_.ensureCache.prepare();let ce=0;A&&(ce=_.getPointer(A));const _e=te(K),Ce=_.ensureFloat64(_e),Oe=z(ie,y.PE_MGRS_MAX),fe=_.ensureInt32(Oe),Se=_._pe_geog_to_usng(ce,ie,Ce,B,G,se,fe);if(Se)for(let me=0;me<ie;me++)J[me]=_.UTF8ToString(Oe[me]);return Se},q.usngToGeog=function X(A,ie,K,B){_.ensureCache.prepare();let G=0;A&&(G=_.getPointer(A));const se=K.map(Ce=>_.ensureString(Ce)),J=_.ensureInt32(se),ce=_.ensureFloat64(new Array(2*ie)),_e=_._pe_usng_to_geog(G,ie,J,ce);return _e&&ee(B,ie,ce),_e}}(Z||(Z={})),function(q){q.init=function j(){q.PE_UTM_OPTS_NONE=_.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,q.PE_UTM_OPTS_ADD_SPACES=_.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,q.PE_UTM_OPTS_NS=_.PeNotationUtm.prototype.PE_UTM_OPTS_NS},q.geogToUtm=function X(ie,K,B,G,se){_.ensureCache.prepare();let J=0;ie&&(J=_.getPointer(ie));const ce=te(B),_e=_.ensureFloat64(ce),Ce=z(K,y.PE_UTM_MAX),Oe=_.ensureInt32(Ce),fe=_._pe_geog_to_utm(J,K,_e,G,Oe);if(fe)for(let Se=0;Se<K;Se++)se[Se]=_.UTF8ToString(Ce[Se]);return fe},q.utmToGeog=function A(ie,K,B,G,se){_.ensureCache.prepare();let J=0;ie&&(J=_.getPointer(ie));const ce=B.map(fe=>_.ensureString(fe)),_e=_.ensureInt32(ce),Ce=_.ensureFloat64(new Array(2*K)),Oe=_._pe_utm_to_geog(J,K,_e,G,Ce);return Oe&&ee(se,K,Ce),Oe}}(D||(D={})),function(q){const j=new Map;q.init=function X(){q.PE_PCSINFO_OPTION_NONE=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,q.PE_PCSINFO_OPTION_DOMAIN=_.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,q.PE_POLE_OUTSIDE_BOUNDARY=_.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,q.PE_POLE_POINT=_.PePCSInfo.prototype.PE_POLE_POINT},q.generate=function A(ie,K=q.PE_PCSINFO_OPTION_DOMAIN){let B=null,G=null;return j.has(ie)&&(G=j.get(ie),G[K]&&(B=G[K])),B||(B=_.PePCSInfo.prototype.generate(ie,K),G||(G=[],j.set(ie,G)),G[K]=B),B}}(L||(L={})),function(q){q.versionString=function j(){return _.PeVersion.prototype.version_string()}}(b||(b={}));const Q=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return T},get PeDefs(){return y},get PeDouble(){return E},get PeFactory(){return P},get PeGCSExtent(){return C},get PeGTTransformations(){return W},get PeGTlistExtended(){return N},get PeGTlistExtendedEntry(){return U},get PeLineType(){return O},get PeMath(){return v},get PeNotationDms(){return M},get PeNotationMgrs(){return m},get PeNotationUsng(){return Z},get PeNotationUtm(){return D},get PePCSInfo(){return L},get PeVersion(){return b},_init:H,get _pe(){return _},isLoaded:I,isSupported:function F(){return!!(0,p.A)("esri-wasm")},load:R},Symbol.toStringTag,{value:"Module"}))},88135:(xe,re,u)=>{u.d(re,{M:()=>O,a:()=>U,b:()=>v,e:()=>C,f:()=>_,i:()=>E,p:()=>P,r:()=>F,t:()=>I,w:()=>R});var d=u(77469),p=u(45272),w=u(17595);function _(M,m){const Z=m?.url?.path;if(M&&Z&&(M=(0,p.s2)(M,Z,{preserveProtocolRelative:!0}),m.portalItem&&m.readResourcePaths)){const D=(0,p.V1)(M,m.portalItem.itemUrl);null!=D&&y.test(D)&&m.readResourcePaths.push(m.portalItem.resourceFromPath(D).path)}return(M=N(M,m?.portal))&&T.test(M)?U(M):M}function I(M,m,Z=O.YES){if(null==(M=M&&T.test(M)?W(M):M))return M;!(0,p.oP)(M)&&m?.blockedRelativeUrls&&m.blockedRelativeUrls.push(M);let D=(0,p.s2)(M);if(m){const L=m.verifyItemRelativeUrls?.rootPath||m.url?.path;if(L){const b=N(L,m.portal),H=N(D,m.portal);D=(0,p.V1)(H,b,b),null!=D&&D!==H&&D!==M&&m.verifyItemRelativeUrls&&m.verifyItemRelativeUrls.writtenUrls.push(D)}}return D=C(D,m?.portal),(0,p.oP)(D)&&(D=(0,p.S8)(D)),m?.resources&&m?.portalItem&&!(0,p.oP)(D)&&!(0,p.DB)(D)&&Z===O.YES&&m.resources.toKeep.push({resource:m.portalItem.resourceFromPath(D),compress:!1}),D}function F(M,m,Z){return _(M,Z)}function R(M,m,Z,D){const L=I(M,D);void 0!==L&&(m[Z]=L)}const T=/\/items\/([^/]+)\/resources\/(.*)/,y=/^\.\/resources\//;function E(M){return(M?.match(T)??null)?.[1]??null}function P(M){const m=M?.match(T)??null;if(null==m)return null;const Z=m[2],D=Z.lastIndexOf("/");if(-1===D){const{path:H,extension:Y}=(0,p.xw)(Z);return{prefix:null,filename:H,extension:Y}}const{path:L,extension:b}=(0,p.xw)(Z.slice(D+1));return{prefix:Z.slice(0,D),filename:L,extension:b}}function C(M,m){return m&&!m.isPortal&&m.urlKey&&m.customBaseUrl?(0,p.T1)(M,`${m.urlKey}.${m.customBaseUrl}`,m.portalHostname):M}function N(M,m){if(!m||m.isPortal||!m.urlKey||!m.customBaseUrl)return M;const Z=`${m.urlKey}.${m.customBaseUrl}`,D=(0,p.Xq)();return(0,p.FX)(D,`${D.scheme}://${Z}`)?(0,p.T1)(M,m.portalHostname,Z):(0,p.T1)(M,Z,m.portalHostname)}function U(M){if(!M)return M||null;let m=M;return m&&d.id&&!d.id.findCredential(m)&&(m=(0,w.qG)(m),m=m.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),m=m.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),m=m.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),m}function W(M){if(!M)return M||null;let m=M;return m=m.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),m=m.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),m=m.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),m&&d.id&&!d.id.findCredential(m)&&(m=(0,w.qG)(m)),m}var O,M;(M=O||(O={}))[M.YES=0]="YES",M[M.NO=1]="NO";const v=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return O},ensureMainOnlineDomain:C,fromCDNUrl:W,fromJSON:_,itemIdFromResourceUrl:E,prefixAndFilenameFromResourceUrl:P,read:F,toCDNUrl:U,toJSON:I,write:R},Symbol.toStringTag,{value:"Module"}))},17694:(xe,re,u)=>{function d(I,F,R,T,y){p(I,F,R||0,T||I.length-1,y||_)}function p(I,F,R,T,y){for(;T>R;){if(T-R>600){var E=T-R+1,P=F-R+1,C=Math.log(E),N=.5*Math.exp(2*C/3),U=.5*Math.sqrt(C*N*(E-N)/E)*(P-E/2<0?-1:1);p(I,F,Math.max(R,Math.floor(F-P*N/E+U)),Math.min(T,Math.floor(F+(E-P)*N/E+U)),y)}var W=I[F],O=R,v=T;for(w(I,R,F),y(I[T],W)>0&&w(I,R,T);O<v;){for(w(I,O,v),O++,v--;y(I[O],W)<0;)O++;for(;y(I[v],W)>0;)v--}0===y(I[R],W)?w(I,R,v):w(I,++v,T),v<=F&&(R=v+1),F<=v&&(T=v-1)}}function w(I,F,R){var T=I[F];I[F]=I[R],I[R]=T}function _(I,F){return I<F?-1:I>F?1:0}u.d(re,{q:()=>d})},77413:(xe,re,u)=>{u.d(re,{r:()=>p});var d=u(17694);function p(v,M){if(!(this instanceof p))return new p(v,M);this._maxEntries=Math.max(4,v||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),M&&("function"==typeof M?this.toBBox=M:this._initFormat(M)),this.clear()}function w(v,M,m){if(!m)return M.indexOf(v);for(var Z=0;Z<M.length;Z++)if(m(v,M[Z]))return Z;return-1}function _(v,M){I(v,0,v.children.length,M,v)}function I(v,M,m,Z,D){D||(D=W(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var L,b=M;b<m;b++)L=v.children[b],F(D,v.leaf?Z(L):L);return D}function F(v,M){return v.minX=Math.min(v.minX,M.minX),v.minY=Math.min(v.minY,M.minY),v.maxX=Math.max(v.maxX,M.maxX),v.maxY=Math.max(v.maxY,M.maxY),v}function R(v,M){return v.minX-M.minX}function T(v,M){return v.minY-M.minY}function y(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function E(v){return v.maxX-v.minX+(v.maxY-v.minY)}function P(v,M){return(Math.max(M.maxX,v.maxX)-Math.min(M.minX,v.minX))*(Math.max(M.maxY,v.maxY)-Math.min(M.minY,v.minY))}function C(v,M){var m=Math.max(v.minX,M.minX),Z=Math.max(v.minY,M.minY),D=Math.min(v.maxX,M.maxX),L=Math.min(v.maxY,M.maxY);return Math.max(0,D-m)*Math.max(0,L-Z)}function N(v,M){return v.minX<=M.minX&&v.minY<=M.minY&&M.maxX<=v.maxX&&M.maxY<=v.maxY}function U(v,M){return M.minX<=v.maxX&&M.minY<=v.maxY&&M.maxX>=v.minX&&M.maxY>=v.minY}function W(v){return{children:v,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function O(v,M,m,Z,D){for(var L,b=[M,m];b.length;)(m=b.pop())-(M=b.pop())<=Z||(L=M+Math.ceil((m-M)/Z/2)*Z,(0,d.q)(v,L,M,m,D),b.push(M,L,L,m))}p.prototype={all:function(){return this._all(this.data,[])},search:function(v){var M=this.data,m=[],Z=this.toBBox;if(!U(v,M))return m;for(var D,L,b,H,Y=[];M;){for(D=0,L=M.children.length;D<L;D++)b=M.children[D],U(v,H=M.leaf?Z(b):b)&&(M.leaf?m.push(b):N(v,H)?this._all(b,m):Y.push(b));M=Y.pop()}return m},collides:function(v){var M=this.data,m=this.toBBox;if(!U(v,M))return!1;for(var Z,D,L,b,H=[];M;){for(Z=0,D=M.children.length;Z<D;Z++)if(L=M.children[Z],U(v,b=M.leaf?m(L):L)){if(M.leaf||N(v,b))return!0;H.push(L)}M=H.pop()}return!1},load:function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var M=0,m=v.length;M<m;M++)this.insert(v[M]);return this}var Z=this._build(v.slice(),0,v.length-1,0);if(this.data.children.length)if(this.data.height===Z.height)this._splitRoot(this.data,Z);else{if(this.data.height<Z.height){var D=this.data;this.data=Z,Z=D}this._insert(Z,this.data.height-Z.height-1,!0)}else this.data=Z;return this},insert:function(v){return null!=v&&this._insert(v,this.data.height-1),this},clear:function(){return this.data=W([]),this},remove:function(v,M){if(null==v)return this;for(var m,Z,D,L,b=this.data,H=this.toBBox(v),Y=[],z=[];b||Y.length;){if(b||(b=Y.pop(),Z=Y[Y.length-1],m=z.pop(),L=!0),b.leaf&&-1!==(D=w(v,b.children,M)))return b.children.splice(D,1),Y.push(b),this._condense(Y),this;L||b.leaf||!N(b,H)?Z?(m++,b=Z.children[m],L=!1):b=null:(Y.push(b),z.push(m),m=0,Z=b,b=b.children[0])}return this},toBBox:function(v){return v},compareMinX:R,compareMinY:T,toJSON:function(){return this.data},fromJSON:function(v){return this.data=v,this},_all:function(v,M){for(var m=[];v;)v.leaf?M.push.apply(M,v.children):m.push.apply(m,v.children),v=m.pop();return M},_build:function(v,M,m,Z){var D,L=m-M+1,b=this._maxEntries;if(L<=b)return _(D=W(v.slice(M,m+1)),this.toBBox),D;Z||(Z=Math.ceil(Math.log(L)/Math.log(b)),b=Math.ceil(L/Math.pow(b,Z-1))),(D=W([])).leaf=!1,D.height=Z;var H,Y,z,te,ee=Math.ceil(L/b),Q=ee*Math.ceil(Math.sqrt(b));for(O(v,M,m,Q,this.compareMinX),H=M;H<=m;H+=Q)for(O(v,H,z=Math.min(H+Q-1,m),ee,this.compareMinY),Y=H;Y<=z;Y+=ee)te=Math.min(Y+ee-1,z),D.children.push(this._build(v,Y,te,Z-1));return _(D,this.toBBox),D},_chooseSubtree:function(v,M,m,Z){for(var D,L,b,H,Y,z,te,ee;Z.push(M),!M.leaf&&Z.length-1!==m;){for(te=ee=1/0,D=0,L=M.children.length;D<L;D++)Y=y(b=M.children[D]),(z=P(v,b)-Y)<ee?(ee=z,te=Y<te?Y:te,H=b):z===ee&&Y<te&&(te=Y,H=b);M=H||M.children[0]}return M},_insert:function(v,M,m){var D=m?v:(0,this.toBBox)(v),L=[],b=this._chooseSubtree(D,this.data,M,L);for(b.children.push(v),F(b,D);M>=0&&L[M].children.length>this._maxEntries;)this._split(L,M),M--;this._adjustParentBBoxes(D,L,M)},_split:function(v,M){var m=v[M],Z=m.children.length,D=this._minEntries;this._chooseSplitAxis(m,D,Z);var L=this._chooseSplitIndex(m,D,Z),b=W(m.children.splice(L,m.children.length-L));b.height=m.height,b.leaf=m.leaf,_(m,this.toBBox),_(b,this.toBBox),M?v[M-1].children.push(b):this._splitRoot(m,b)},_splitRoot:function(v,M){this.data=W([v,M]),this.data.height=v.height+1,this.data.leaf=!1,_(this.data,this.toBBox)},_chooseSplitIndex:function(v,M,m){var Z,D,L,b,H,Y,z,te;for(Y=z=1/0,Z=M;Z<=m-M;Z++)b=C(D=I(v,0,Z,this.toBBox),L=I(v,Z,m,this.toBBox)),H=y(D)+y(L),b<Y?(Y=b,te=Z,z=H<z?H:z):b===Y&&H<z&&(z=H,te=Z);return te},_chooseSplitAxis:function(v,M,m){var Z=v.leaf?this.compareMinX:R,D=v.leaf?this.compareMinY:T;this._allDistMargin(v,M,m,Z)<this._allDistMargin(v,M,m,D)&&v.children.sort(Z)},_allDistMargin:function(v,M,m,Z){v.children.sort(Z);var D,L,b=this.toBBox,H=I(v,0,M,b),Y=I(v,m-M,m,b),z=E(H)+E(Y);for(D=M;D<m-M;D++)L=v.children[D],F(H,v.leaf?b(L):L),z+=E(H);for(D=m-M-1;D>=M;D--)L=v.children[D],F(Y,v.leaf?b(L):L),z+=E(Y);return z},_adjustParentBBoxes:function(v,M,m){for(var Z=m;Z>=0;Z--)F(M[Z],v)},_condense:function(v){for(var M,m=v.length-1;m>=0;m--)0===v[m].children.length?m>0?(M=v[m-1].children).splice(M.indexOf(v[m]),1):this.clear():_(v[m],this.toBBox)},_initFormat:function(v){var M=["return a"," - b",";"];this.compareMinX=new Function("a","b",M.join(v[0])),this.compareMinY=new Function("a","b",M.join(v[1])),this.toBBox=new Function("a","return {minX: a"+v[0]+", minY: a"+v[1]+", maxX: a"+v[2]+", maxY: a"+v[3]+"};")}}},8189:(xe,re,u)=>{function d(R,T,y,E){var P,C=arguments.length,N=C<3?T:null===E?E=Object.getOwnPropertyDescriptor(T,y):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(R,T,y,E);else for(var U=R.length-1;U>=0;U--)(P=R[U])&&(N=(C<3?P(N):C>3?P(T,y,N):P(T,y))||N);return C>3&&N&&Object.defineProperty(T,y,N),N}function p(R,T){return function(y,E){T(y,E,R)}}function w(R,T,y,E){return new(y||(y=Promise))(function(C,N){function U(v){try{O(E.next(v))}catch(M){N(M)}}function W(v){try{O(E.throw(v))}catch(M){N(M)}}function O(v){v.done?C(v.value):function P(C){return C instanceof y?C:new y(function(N){N(C)})}(v.value).then(U,W)}O((E=E.apply(R,T||[])).next())})}function _(R,T,y){if(null!=T){if("object"!=typeof T&&"function"!=typeof T)throw new TypeError("Object expected.");var E,P;if(y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");E=T[Symbol.asyncDispose]}if(void 0===E){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");E=T[Symbol.dispose],y&&(P=E)}if("function"!=typeof E)throw new TypeError("Object not disposable.");P&&(E=function(){try{P.call(this)}catch(C){return Promise.reject(C)}}),R.stack.push({value:T,dispose:E,async:y})}else y&&R.stack.push({async:!0});return T}u.d(re,{_:()=>d,a:()=>p,b:()=>_,c:()=>F,d:()=>w});var I="function"==typeof SuppressedError?SuppressedError:function(R,T,y){var E=new Error(y);return E.name="SuppressedError",E.error=R,E.suppressed=T,E};function F(R){function T(C){R.error=R.hasError?new I(C,R.error,"An error was suppressed during disposal."):C,R.hasError=!0}var y,E=0;return function P(){for(;y=R.stack.pop();)try{if(!y.async&&1===E)return E=0,R.stack.push(y),Promise.resolve().then(P);if(y.dispose){var C=y.dispose.call(y.value);if(y.async)return E|=2,Promise.resolve(C).then(P,function(N){return T(N),P()})}else E|=1}catch(N){T(N)}if(1===E)return R.hasError?Promise.reject(R.error):Promise.resolve();if(R.hasError)throw R.error}()}},28714:(xe,re,u)=>{u.d(re,{A:()=>U,B:()=>N,C:()=>T,D:()=>W,E:()=>y,F:()=>O,G:()=>Le,H:()=>oe,I:()=>fe,L:()=>se,a:()=>me,b:()=>m,c:()=>_,d:()=>R,e:()=>te,f:()=>z,g:()=>F,h:()=>M,i:()=>I,j:()=>Z,k:()=>L,l:()=>w,m:()=>Q,n:()=>Y,o:()=>Se,p:()=>Oe,q:()=>ie,r:()=>J,s:()=>D,t:()=>A,u:()=>H,v:()=>b,w:()=>K,x:()=>C,y:()=>Re,z:()=>S});var d=u(25866),p=u(85952);function w(ae){const he=ae[0],Ae=ae[1],je=ae[2];return Math.sqrt(he*he+Ae*Ae+je*je)}function _(ae,he){return ae[0]=he[0],ae[1]=he[1],ae[2]=he[2],ae}function I(ae,he,Ae,je){return ae[0]=he,ae[1]=Ae,ae[2]=je,ae}function F(ae,he,Ae){return ae[0]=he[0]+Ae[0],ae[1]=he[1]+Ae[1],ae[2]=he[2]+Ae[2],ae}function R(ae,he,Ae){return ae[0]=he[0]-Ae[0],ae[1]=he[1]-Ae[1],ae[2]=he[2]-Ae[2],ae}function T(ae,he,Ae){return ae[0]=he[0]*Ae[0],ae[1]=he[1]*Ae[1],ae[2]=he[2]*Ae[2],ae}function y(ae,he,Ae){return ae[0]=he[0]/Ae[0],ae[1]=he[1]/Ae[1],ae[2]=he[2]/Ae[2],ae}function C(ae,he){return ae[0]=Math.abs(he[0]),ae[1]=Math.abs(he[1]),ae[2]=Math.abs(he[2]),ae}function N(ae,he){return ae[0]=Math.sign(he[0]),ae[1]=Math.sign(he[1]),ae[2]=Math.sign(he[2]),ae}function U(ae,he,Ae){return ae[0]=Math.min(he[0],Ae[0]),ae[1]=Math.min(he[1],Ae[1]),ae[2]=Math.min(he[2],Ae[2]),ae}function W(ae,he,Ae){return ae[0]=Math.max(he[0],Ae[0]),ae[1]=Math.max(he[1],Ae[1]),ae[2]=Math.max(he[2],Ae[2]),ae}function O(ae,he=0,Ae=1){return ae[0]=Math.min(Math.max(ae[0],he),Ae),ae[1]=Math.min(Math.max(ae[1],he),Ae),ae[2]=Math.min(Math.max(ae[2],he),Ae),ae}function M(ae,he,Ae){return ae[0]=he[0]*Ae,ae[1]=he[1]*Ae,ae[2]=he[2]*Ae,ae}function m(ae,he,Ae,je){return ae[0]=he[0]+Ae[0]*je,ae[1]=he[1]+Ae[1]*je,ae[2]=he[2]+Ae[2]*je,ae}function Z(ae,he){const Ae=he[0]-ae[0],je=he[1]-ae[1],Fe=he[2]-ae[2];return Math.sqrt(Ae*Ae+je*je+Fe*Fe)}function D(ae,he){const Ae=he[0]-ae[0],je=he[1]-ae[1],Fe=he[2]-ae[2];return Ae*Ae+je*je+Fe*Fe}function L(ae){const he=ae[0],Ae=ae[1],je=ae[2];return he*he+Ae*Ae+je*je}function b(ae,he){return ae[0]=-he[0],ae[1]=-he[1],ae[2]=-he[2],ae}function H(ae,he){return ae[0]=1/he[0],ae[1]=1/he[1],ae[2]=1/he[2],ae}function Y(ae,he){const Ae=he[0],je=he[1],Fe=he[2];let Ue=Ae*Ae+je*je+Fe*Fe;return Ue>0&&(Ue=1/Math.sqrt(Ue),ae[0]=he[0]*Ue,ae[1]=he[1]*Ue,ae[2]=he[2]*Ue),ae}function z(ae,he){return ae[0]*he[0]+ae[1]*he[1]+ae[2]*he[2]}function te(ae,he,Ae){const je=he[0],Fe=he[1],Ue=he[2],We=Ae[0],ue=Ae[1],Te=Ae[2];return ae[0]=Fe*Te-Ue*ue,ae[1]=Ue*We-je*Te,ae[2]=je*ue-Fe*We,ae}function Q(ae,he,Ae,je){const Fe=he[0],Ue=he[1],We=he[2];return ae[0]=Fe+je*(Ae[0]-Fe),ae[1]=Ue+je*(Ae[1]-Ue),ae[2]=We+je*(Ae[2]-We),ae}function A(ae,he,Ae){const je=he[0],Fe=he[1],Ue=he[2];return ae[0]=Ae[0]*je+Ae[4]*Fe+Ae[8]*Ue+Ae[12],ae[1]=Ae[1]*je+Ae[5]*Fe+Ae[9]*Ue+Ae[13],ae[2]=Ae[2]*je+Ae[6]*Fe+Ae[10]*Ue+Ae[14],ae}function ie(ae,he,Ae){const je=he[0],Fe=he[1],Ue=he[2];return ae[0]=je*Ae[0]+Fe*Ae[3]+Ue*Ae[6],ae[1]=je*Ae[1]+Fe*Ae[4]+Ue*Ae[7],ae[2]=je*Ae[2]+Fe*Ae[5]+Ue*Ae[8],ae}function K(ae,he,Ae){const je=Ae[0],Fe=Ae[1],Ue=Ae[2],ue=he[0],Te=he[1],we=he[2],ze=Fe*we-Ue*Te,Ee=Ue*ue-je*we,Me=je*Te-Fe*ue,Ie=Ue*ze-je*Me,be=je*Ee-Fe*ze,Je=2*Ae[3];return ae[0]=ue+ze*Je+2*(Fe*Me-Ue*Ee),ae[1]=Te+Ee*Je+2*Ie,ae[2]=we+Me*Je+2*be,ae}function se(ae,he,Ae,je){const Fe=[],Ue=[];return Fe[0]=he[0]-Ae[0],Fe[1]=he[1]-Ae[1],Fe[2]=he[2]-Ae[2],Ue[0]=Fe[0]*Math.cos(je)-Fe[1]*Math.sin(je),Ue[1]=Fe[0]*Math.sin(je)+Fe[1]*Math.cos(je),Ue[2]=Fe[2],ae[0]=Ue[0]+Ae[0],ae[1]=Ue[1]+Ae[1],ae[2]=Ue[2]+Ae[2],ae}function J(ae,he){Y(ce,ae),Y(_e,he);const Ae=z(ce,_e);return Ae>1?0:Ae<-1?Math.PI:Math.acos(Ae)}const ce=(0,d.vt)(),_e=(0,d.vt)();function Oe(ae,he){return ae[0]===he[0]&&ae[1]===he[1]&&ae[2]===he[2]}function fe(ae,he){if(ae===he)return!0;const Ae=ae[0],je=ae[1],Fe=ae[2],Ue=he[0],We=he[1],ue=he[2],Te=(0,p.FD)();return Math.abs(Ae-Ue)<=Te*Math.max(1,Math.abs(Ae),Math.abs(Ue))&&Math.abs(je-We)<=Te*Math.max(1,Math.abs(je),Math.abs(We))&&Math.abs(Fe-ue)<=Te*Math.max(1,Math.abs(Fe),Math.abs(ue))}function Se(ae,he,Ae){const je=Ae[0]-he[0],Fe=Ae[1]-he[1],Ue=Ae[2]-he[2];let We=je*je+Fe*Fe+Ue*Ue;return We>0?(We=1/Math.sqrt(We),ae[0]=je*We,ae[1]=Fe*We,ae[2]=Ue*We,ae):(ae[0]=0,ae[1]=0,ae[2]=0,ae)}const me=R,Le=Z,Re=D,oe=w,S=L;Object.freeze(Object.defineProperty({__proto__:null,abs:C,add:F,angle:J,bezier:function j(ae,he,Ae,je,Fe,Ue){const We=1-Ue,ue=We*We,Te=Ue*Ue,we=ue*We,ze=3*Ue*ue,Ee=3*Te*We,Me=Te*Ue;return ae[0]=he[0]*we+Ae[0]*ze+je[0]*Ee+Fe[0]*Me,ae[1]=he[1]*we+Ae[1]*ze+je[1]*Ee+Fe[1]*Me,ae[2]=he[2]*we+Ae[2]*ze+je[2]*Ee+Fe[2]*Me,ae},ceil:function E(ae,he){return ae[0]=Math.ceil(he[0]),ae[1]=Math.ceil(he[1]),ae[2]=Math.ceil(he[2]),ae},clamp:O,copy:_,cross:te,crossAndNormalize:function ee(ae,he,Ae){const je=he[0],Fe=he[1],Ue=he[2],We=Ae[0],ue=Ae[1],Te=Ae[2],we=Fe*Te-Ue*ue,ze=Ue*We-je*Te,Ee=je*ue-Fe*We,Me=Math.sqrt(we*we+ze*ze+Ee*Ee);return ae[0]=we/Me,ae[1]=ze/Me,ae[2]=Ee/Me,ae},direction:Se,dist:Le,distance:Z,div:y,divide:y,dot:z,equals:fe,exactEquals:Oe,floor:function P(ae,he){return ae[0]=Math.floor(he[0]),ae[1]=Math.floor(he[1]),ae[2]=Math.floor(he[2]),ae},hermite:function q(ae,he,Ae,je,Fe,Ue){const We=Ue*Ue,ue=We*(2*Ue-3)+1,Te=We*(Ue-2)+Ue,we=We*(Ue-1),ze=We*(3-2*Ue);return ae[0]=he[0]*ue+Ae[0]*Te+je[0]*we+Fe[0]*ze,ae[1]=he[1]*ue+Ae[1]*Te+je[1]*we+Fe[1]*ze,ae[2]=he[2]*ue+Ae[2]*Te+je[2]*we+Fe[2]*ze,ae},inverse:H,len:oe,length:w,lerp:Q,max:W,min:U,mul:T,multiply:T,negate:b,normalize:Y,random:function X(ae,he=1){const Ae=p.Ov,je=2*Ae()*Math.PI,Fe=2*Ae()-1,Ue=Math.sqrt(1-Fe*Fe)*he;return ae[0]=Math.cos(je)*Ue,ae[1]=Math.sin(je)*Ue,ae[2]=Fe*he,ae},rotateX:function B(ae,he,Ae,je){const Fe=[],Ue=[];return Fe[0]=he[0]-Ae[0],Fe[1]=he[1]-Ae[1],Fe[2]=he[2]-Ae[2],Ue[0]=Fe[0],Ue[1]=Fe[1]*Math.cos(je)-Fe[2]*Math.sin(je),Ue[2]=Fe[1]*Math.sin(je)+Fe[2]*Math.cos(je),ae[0]=Ue[0]+Ae[0],ae[1]=Ue[1]+Ae[1],ae[2]=Ue[2]+Ae[2],ae},rotateY:function G(ae,he,Ae,je){const Fe=[],Ue=[];return Fe[0]=he[0]-Ae[0],Fe[1]=he[1]-Ae[1],Fe[2]=he[2]-Ae[2],Ue[0]=Fe[2]*Math.sin(je)+Fe[0]*Math.cos(je),Ue[1]=Fe[1],Ue[2]=Fe[2]*Math.cos(je)-Fe[0]*Math.sin(je),ae[0]=Ue[0]+Ae[0],ae[1]=Ue[1]+Ae[1],ae[2]=Ue[2]+Ae[2],ae},rotateZ:se,round:function v(ae,he){return ae[0]=Math.round(he[0]),ae[1]=Math.round(he[1]),ae[2]=Math.round(he[2]),ae},scale:M,scaleAndAdd:m,set:I,sign:N,sqrDist:Re,sqrLen:S,squaredDistance:D,squaredLength:L,str:function Ce(ae){return"vec3("+ae[0]+", "+ae[1]+", "+ae[2]+")"},sub:me,subtract:R,transformMat3:ie,transformMat4:A,transformQuat:K},Symbol.toStringTag,{value:"Module"}))},27980:(xe,re,u)=>{u.d(re,{TS:()=>w,Tf:()=>T,V6:()=>p,c4:()=>_,qh:()=>R,z$:()=>F});const d={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function p(y){return!!d[y]||!!d[y.toLowerCase()]}function w(y){return d[y]??d[y.toLowerCase()]}function _(y){return[...w(y)]}function I(y,E,P){P<0&&++P,P>1&&--P;const C=6*P;return C<1?y+(E-y)*C:2*P<1?E:3*P<2?y+(E-y)*(2/3-P)*6:y}function F(y,E,P,C=1){const N=(y%360+360)%360/360,U=P<=.5?P*(E+1):P+E-P*E,W=2*P-U;return[Math.round(255*I(W,U,N+1/3)),Math.round(255*I(W,U,N)),Math.round(255*I(W,U,N-1/3)),C]}function R(y){const E=y.length>5,P=E?8:4,C=(1<<P)-1,N=E?1:17,U=E?9===y.length:5===y.length;let W=+("0x"+y.slice(1));if(isNaN(W))return null;const O=[0,0,0,1];let v;return U&&(v=W&C,W>>=P,O[3]=N*v/255),v=W&C,W>>=P,O[2]=N*v,v=W&C,W>>=P,O[1]=N*v,v=W&C,W>>=P,O[0]=N*v,O}const T=2.2},23098:(xe,re,u)=>{u.d(re,{A:()=>w}),u(3248);var p=u(89221);const w={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&((0,p.$N)(w,globalThis.esriConfig,!0),delete w.has),w.assetsPath||(w.assetsPath="https://js.arcgis.com/4.32/@arcgis/core/assets",w.defaultAssetsPath=w.assetsPath)},98877:(xe,re,u)=>{u.d(re,{A:()=>G});var d=u(23159),p=u(86807),w=u(35150),_=u(11432),I=u(84838),F=u(92073),R=u(97681),T=u(2716),E=(u(3248),u(77806)),P=u(61591),C=u(86112),N=u(26514),U=u(9700),W=u(58272),O=u(3931);class v extends C.T{constructor(J,ce){super(),this.propertyName=J,this.metadata=ce,this.trackingTarget=new O.R(this),this.flags=0,this.flags=W.i.Dirty|(ce.nonNullable?W.i.NonNullable:0)|(ce.hasOwnProperty("value")?W.i.HasDefaultValue:0)|(void 0===ce.get?W.i.DepTrackingInitialized:0)|(void 0===ce.dependsOn?W.i.AutoTracked:0)}destroy(){this.flags&W.i.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(J){J.mutable&&(0,U.gc)(this);const ce=J.store,_e=this.propertyName,Ce=this.flags,Oe=ce.get(_e);if(Ce&W.i.Computing||~Ce&W.i.Dirty&&ce.has(_e))return Oe;this.flags|=W.i.Computing;const fe=J.host;let Se;Ce&W.i.AutoTracked?Se=(0,U.a)(this.trackingTarget,this.metadata.get,fe):((0,U.Xr)(fe,this),Se=this.metadata.get.call(fe)),this.flags|=W.i.DepTrackingInitialized,ce.set(_e,Se,N.Gr.COMPUTED);const me=ce.get(_e);return me===Oe?this.flags&=~W.i.Dirty:(0,U.F_)(this.commit,this),this.flags&=~W.i.Computing,me}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~W.i.Dirty,this.onCommitted()}onInvalidated(){~this.flags&W.i.Overridden&&(this.flags|=W.i.Dirty);const J=this._observers;if(J&&J.length>0)for(const ce of J)ce.onInvalidated()}onCommitted(){const J=this._observers;if(J&&J.length>0){const ce=J.slice();for(const _e of ce)_e.onCommitted()}}}class M{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(J){const ce=new M;return this._values.forEach((_e,Ce)=>{J&&J.has(Ce)||ce.set(Ce,(0,E.o8)(_e))}),ce}get(J){return this._values.get(J)}originOf(){return N.Gr.USER}keys(){return[...this._values.keys()]}set(J,ce){this._values.set(J,ce)}delete(J){this._values.delete(J)}has(J){return this._values.has(J)}forEach(J){this._values.forEach(J)}}function m(se,J,ce){return void 0!==se}function Z(se,J,ce,_e){return!(void 0===se||null==ce&&se.flags&W.i.NonNullable)}class D{constructor(J){this.host=J,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=R.v.INITIALIZING,this.store=new M,this.mutable=!0,this._origin=N.Gr.USER;const ce=this.host.constructor.__accessorMetadata__;for(const _e in ce){const Ce=new v(_e,ce[_e]);this.propertiesByName.set(_e,Ce)}this.metadata=ce}initialize(){this.lifecycle=R.v.CONSTRUCTING}constructed(){this.lifecycle=R.v.CONSTRUCTED}destroy(){this.lifecycle=R.v.DESTROYED,this.propertiesByName.forEach(J=>J.destroy())}get initialized(){return this.lifecycle!==R.v.INITIALIZING}get(J){const ce=this.propertiesByName.get(J);if(ce.metadata.get)return ce.getComputed(this);this.mutable&&(0,U.gc)(ce);const _e=this.store;return _e.has(J)?_e.get(J):ce.metadata.value}originOf(J){const ce=this.store.originOf(J);if(void 0===ce){const _e=this.propertiesByName.get(J);if(void 0!==_e&&_e.flags&W.i.HasDefaultValue)return"defaults"}return(0,N.OL)(ce)}has(J){return this.propertiesByName.has(J)&&this.store.has(J)}keys(){return[...this.propertiesByName.keys()]}internalGet(J){const ce=this.propertiesByName.get(J);if(m(ce))return this.store.has(J)?this.store.get(J):ce.metadata.value}internalSet(J,ce){const _e=this.propertiesByName.get(J);m(_e)&&this._internalSet(_e,ce)}getDependsInfo(J,ce,_e){const Ce=this.propertiesByName.get(ce);if(!m(Ce))return"";const Oe=new O.R,fe=(0,U.a)(Oe,()=>Ce.metadata.get?.call(J));let Se=`${_e}${J.declaredClass.split(".").pop()}.${ce}: ${fe}\n`;const me=Oe.accessed??new Set;if(0===me.size)return Se;_e+="  ";for(const ge of me)ge instanceof v&&(Se+=`${_e}${ge.propertyName}: undefined\n`);return Se}setAtOrigin(J,ce,_e){const Ce=this.propertiesByName.get(J);if(m(Ce))return this._setAtOrigin(Ce,ce,_e)}isOverridden(J){const ce=this.propertiesByName.get(J);return void 0!==ce&&!!(ce.flags&W.i.Overridden)}clearOverride(J){const ce=this.propertiesByName.get(J);ce&&ce.flags&W.i.Overridden&&(ce.flags&=~W.i.Overridden,ce.notifyChange())}override(J,ce){const _e=this.propertiesByName.get(J);if(!Z(_e,0,ce))return;const Ce=_e.metadata.cast;if(Ce){const Oe=this._cast(Ce,ce),{valid:fe,value:Se}=Oe;if(b.release(Oe),!fe)return;ce=Se}_e.flags|=W.i.Overridden,this._internalSet(_e,ce)}set(J,ce){const _e=this.propertiesByName.get(J);if(!Z(_e,0,ce))return;const Ce=_e.metadata.cast;if(Ce){const fe=this._cast(Ce,ce),{valid:Se,value:me}=fe;if(b.release(fe),!Se)return;ce=me}const Oe=_e.metadata.set;Oe?Oe.call(this.host,ce):this._internalSet(_e,ce)}setDefaultOrigin(J){this._origin=(0,N.aB)(J)}getDefaultOrigin(){return(0,N.OL)(this._origin)}notifyChange(J){const ce=this.propertiesByName.get(J);void 0!==ce&&ce.notifyChange()}invalidate(J){const ce=this.propertiesByName.get(J);void 0!==ce&&ce.invalidate()}commit(J){const ce=this.propertiesByName.get(J);void 0!==ce&&ce.commit()}_internalSet(J,ce){this._setAtOrigin(J,ce,this.lifecycle!==R.v.INITIALIZING?this._origin:N.Gr.DEFAULTS)}_setAtOrigin(J,ce,_e){const Ce=this.store,Oe=J.propertyName;Ce.has(Oe,_e)&&(0,E.aI)(ce,Ce.get(Oe))&&~J.flags&W.i.Overridden&&_e===Ce.originOf(Oe)||(J.invalidate(),Ce.set(Oe,ce,_e),J.commit(),(0,U.fE)(this.host,J))}_cast(J,ce){const _e=b.acquire();return _e.valid=!0,_e.value=ce,J&&(_e.value=J.call(this.host,ce,_e)),_e}}const b=new P.A(class L{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var H=u(23245);var ee,se;(se=ee||(ee={}))[se.Ignore=0]="Ignore",se[se.Destroy=1]="Destroy",se[se.ThrowError=2]="ThrowError";var X,A,Q=u(76410),q=u(85211),j=u(76576);function ie(se){if(null==se)return{value:se};if(Array.isArray(se))return{type:[se[0]],value:null};switch(typeof se){case"object":return se.constructor?.__accessorMetadata__||se instanceof Date?{type:se.constructor,value:se}:se;case"boolean":return{type:Boolean,value:se};case"string":return{type:String,value:se};case"number":return{type:Number,value:se};case"function":return{type:se,value:null};default:return}}const K=Symbol("Accessor-Handles"),B=Symbol("Accessor-Initialized");class G{static createSubclass(J={}){if(Array.isArray(J))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:ce,declaredClass:_e,constructor:Ce}=J;delete J.declaredClass,delete J.properties,delete J.constructor;const Oe=this;class fe extends Oe{constructor(...me){super(...me),this.inherited=null,Ce&&Ce.apply(this,me)}}(0,T.tD)(fe.prototype);for(const Se in J){const me=J[Se];fe.prototype[Se]="function"==typeof me?function(...ge){const Be=this.inherited;let Le;this.inherited=function(...Re){if(Oe.prototype[Se])return Oe.prototype[Se].apply(this,Re)};try{Le=me.apply(this,ge)}catch(Re){throw this.inherited=Be,Re}return this.inherited=Be,Le}:J[Se]}for(const Se in ce){const me=ie(ce[Se]);(0,q.MZ)(me)(fe.prototype,Se)}return(0,j.$)(_e)(fe)}static freeze(J){return J instanceof G?J.__accessor__.mutable=!1:Object.freeze(J),J}static isFrozen(J){return J instanceof G?!J.__accessor__.mutable:Object.isFrozen(J)}constructor(...J){if(this[X]=null,this[A]=!1,this.constructor===G)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const ce=new D(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:ce}),J.length>0&&(ce.ctorArgs=this.normalizeCtorArgs?.apply(this,J)??J[0])}postscript(){const J=this.__accessor__,ce=J.ctorArgs;J.initialize(),ce&&(this.set(ce),J.ctorArgs=null),J.constructed(),this.initialize(),this[B]=!0}initialize(){}[I.G](){this[K]=(0,_.pR)(this[K])}destroy(){this.destroyed||((0,Q.iS)(this),this.__accessor__.destroy())}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[B]}get destroyed(){return this.__accessor__?.lifecycle===R.v.DESTROYED||!1}commitProperty(J){(0,F.Jt)(this,J)}hasOwnProperty(J){return this.__accessor__?this.__accessor__.has(J):Object.prototype.hasOwnProperty.call(this,J)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(J,ce){return(0,H.h)(this,J,ce),this}watch(J,ce,_e){return(0,d.eO)(w.A.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),(0,Q.wB)(this,J,ce,_e)}addHandles(J,ce){if(this.destroyed){const _e=Array.isArray(J)?J:[J];for(const Ce of _e)Ce.remove()}else(this[K]??=new p.A).add(J,ce)}removeHandles(J){this[K]?.remove(J)}removeAllHandles(){this[K]?.removeAll()}removeHandlesReference(J){this[K]?.removeReference(J)}hasHandles(J){return!0===this[K]?.has(J)}_override(J,ce){void 0===ce?this.__accessor__.clearOverride(J):this.__accessor__.override(J,ce)}_clearOverride(J){return this.__accessor__.clearOverride(J)}_overrideIfSome(J,ce){null==ce?this.__accessor__.clearOverride(J):this.__accessor__.override(J,ce)}_isOverridden(J){return this.__accessor__.isOverridden(J)}notifyChange(J){this.__accessor__.notifyChange(J)}_get(J){return this.__accessor__.internalGet(J)}_set(J,ce){return this.__accessor__.internalSet(J,ce),this}}X=K,A=B},56595:(xe,re,u)=>{u.d(re,{A:()=>w});var d=u(61591);function p(I){I.length=0}class w{constructor(F=50,R=50){this._pool=new d.A(Array,void 0,p,R,F)}acquire(){return this._pool.acquire()}release(F){this._pool.release(F)}prune(){this._pool.prune(0)}static acquire(){return _.acquire()}static release(F){return _.release(F)}static prune(){_.prune()}}const _=new w(100)},90660:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(98877),_=(u(3248),u(77806)),F=(u(35150),u(11432)),R=u(26514),T=u(74220),y=u(76576);const E=N=>{let U=class extends N{clone(){const W=(0,T.oY)(this);(0,F.Lw)(W,"unable to clone instance of non-accessor class");const O=W.metadata,v=W.store,M={},m=new Map;for(const D in O){const L=O[D],b=v?.originOf(D),H=L.clonable;if(L.readOnly||!1===H||b!==R.Gr.USER&&b!==R.Gr.DEFAULTS&&b!==R.Gr.WEB_MAP&&b!==R.Gr.WEB_SCENE)continue;const Y=this[D];let z=null;z="function"==typeof H?H(Y):"reference"===H?Y:(0,_.TU)(Y),null!=Y&&null==z||(b===R.Gr.DEFAULTS?m.set(D,z):M[D]=z)}const Z=new(Object.getPrototypeOf(this).constructor)(M);if(m.size){const D=(0,T.oY)(Z)?.store;if(D)for(const[L,b]of m)D.set(L,b,R.Gr.DEFAULTS)}return Z}};return U=(0,d._)([(0,y.$)("esri.core.Clonable")],U),U};let P=class extends(E(p.A)){};P=(0,d._)([(0,y.$)("esri.core.Clonable")],P),(P||(P={})).ClonableMixin=E;const C=P},31178:(xe,re,u)=>{u.d(re,{A:()=>q});var R,j,d=u(8189),p=u(56595),w=u(42425),_=u(17715),I=u(77806),F=u(61591);(j=R||(R={}))[j.ADD=1]="ADD",j[j.REMOVE=2]="REMOVE",j[j.MOVE=4]="MOVE";var W,T=u(3804),y=u(55739),E=u(9700),P=u(85211),C=u(69039),N=u(76576),U=u(4032);class v{constructor(X,A,ie,K,B){this.target=X,this.added=A,this.removed=ie,this.start=K,this.deleteCount=B}}const M=new F.A(class O{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(X){this.defaultPrevented=!1,this.item=X}},void 0,j=>{j.item=null,j.target=null,j.defaultPrevented=!1,j.cancellable=!1});function m(j){j&&"object"==typeof j&&"destroy"in j&&"function"==typeof j.destroy&&j.destroy()}function Z(j){return j?j instanceof Q?j.toArray():j.length?Array.prototype.slice.apply(j):[]:[]}function D(j){if(j?.length)return j[0]}function L(j,X,A,ie){const K=Math.min(j.length-A,X.length-ie);let B=0;for(;B<K&&j[A+B]===X[ie+B];)B++;return B}function b(j,X,A,ie){X&&X.forEach((K,B,G)=>{j.push(K),b(j,A.call(ie,K,B,G),A,ie)})}const H=new Set,Y=new Set,z=new Set,te=new Map;let ee=0,Q=W=class extends w.A.EventedAccessor{static isCollection(j){return null!=j&&j instanceof W}constructor(j){super(j),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new U.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:ee++})}normalizeCtorArgs(j){return j?Array.isArray(j)||j instanceof W?{items:j}:j:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return(0,E.gc)(this._observable),this._items}set items(j){this._emitBeforeChanges(R.ADD)||(this._splice(0,this.length,Z(j)),this._emitAfterChanges(R.ADD))}hasEventListener(j){return!this.destroyed&&("change"===j?this._chgListeners.length>0:this._emitter.hasEventListener(j))}on(j,X){if(this.destroyed)return(0,_.hA)();if("change"===j){const A=this._chgListeners,ie={removed:!1,callback:X};return A.push(ie),this._notifications&&this._notifications.push({listeners:A.slice(),items:this._items.slice(),changes:[]}),(0,_.hA)(()=>{ie.removed=!0,A.splice(A.indexOf(ie),1)})}return this._emitter.on(j,X)}once(j,X){const A="deref"in X?()=>X.deref():()=>X,ie=this.on(j,K=>{A()?.call(null,K),ie.remove()});return ie}add(j,X){if((0,E.gc)(this._observable),this._emitBeforeChanges(R.ADD))return this;const A=this.getNextIndex(X??null);return this._splice(A,0,[j]),this._emitAfterChanges(R.ADD),this}addMany(j,X=this._items.length){if((0,E.gc)(this._observable),!j?.length)return this;if(this._emitBeforeChanges(R.ADD))return this;const A=this.getNextIndex(X);return this._splice(A,0,Z(j)),this._emitAfterChanges(R.ADD),this}at(j){if((0,E.gc)(this._observable),(j=Math.trunc(j)||0)<0&&(j+=this.length),!(j<0||j>=this.length))return this._items[j]}removeAll(){if((0,E.gc)(this._observable),!this.length||this._emitBeforeChanges(R.REMOVE))return[];const j=this._removeAllRaw();return this._emitAfterChanges(R.REMOVE),j}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,E.gc)(this._observable),this._createNewInstance({items:this._items.map(I.o8)})}concat(...j){(0,E.gc)(this._observable);const X=j.map(Z);return this._createNewInstance({items:this._items.concat(...X)})}drain(j,X){if((0,E.gc)(this._observable),!this.length||this._emitBeforeChanges(R.REMOVE))return;const A=this._splice(0,this.length),ie=A.length;for(let K=0;K<ie;K++)j.call(X,A[K],K,A);this._emitAfterChanges(R.REMOVE)}destroyAll(){this.drain(m)}destroyMany(j){const X=this.removeMany(j);return X.forEach(m),X}every(j,X){return(0,E.gc)(this._observable),this._items.every(j,X)}filter(j,X){(0,E.gc)(this._observable);const A=2===arguments.length?this._items.filter(j,X):this._items.filter(j);return this._createNewInstance({items:A})}find(j,X){return(0,E.gc)(this._observable),this._items.find(j,X)}findIndex(j,X){return(0,E.gc)(this._observable),this._items.findIndex(j,X)}flatten(j,X){(0,E.gc)(this._observable);const A=[];return b(A,this,j,X),new W(A)}forEach(j,X){return(0,E.gc)(this._observable),this._items.forEach(j,X)}getItemAt(j){return(0,E.gc)(this._observable),this._items[j]}getNextIndex(j){(0,E.gc)(this._observable);const X=this.length;return(j=j??X)<0?j=0:j>X&&(j=X),j}includes(j,X=0){return(0,E.gc)(this._observable),this._items.includes(j,X)}indexOf(j,X=0){return(0,E.gc)(this._observable),this._items.indexOf(j,X)}join(j=","){return(0,E.gc)(this._observable),this._items.join(j)}lastIndexOf(j,X=this.length-1){return(0,E.gc)(this._observable),this._items.lastIndexOf(j,X)}map(j,X){(0,E.gc)(this._observable);const A=this._items.map(j,X);return new W({items:A})}reorder(j,X=this.length-1){(0,E.gc)(this._observable);const A=this.indexOf(j);if(-1!==A){if(X<0?X=0:X>=this.length&&(X=this.length-1),A!==X){if(this._emitBeforeChanges(R.MOVE))return j;this._splice(A,1),this._splice(X,0,[j]),this._emitAfterChanges(R.MOVE)}return j}}pop(){if((0,E.gc)(this._observable),!this.length||this._emitBeforeChanges(R.REMOVE))return;const j=D(this._splice(this.length-1,1));return this._emitAfterChanges(R.REMOVE),j}push(...j){return(0,E.gc)(this._observable),this._emitBeforeChanges(R.ADD)||(this._splice(this.length,0,j),this._emitAfterChanges(R.ADD)),this.length}reduce(j,X){(0,E.gc)(this._observable);const A=this._items;return 2===arguments.length?A.reduce(j,X):A.reduce(j)}reduceRight(j,X){(0,E.gc)(this._observable);const A=this._items;return 2===arguments.length?A.reduceRight(j,X):A.reduceRight(j)}remove(j){return(0,E.gc)(this._observable),this.removeAt(this.indexOf(j))}removeAt(j){if((0,E.gc)(this._observable),j<0||j>=this.length||this._emitBeforeChanges(R.REMOVE))return;const X=D(this._splice(j,1));return this._emitAfterChanges(R.REMOVE),X}removeMany(j){if((0,E.gc)(this._observable),!j?.length||this._emitBeforeChanges(R.REMOVE))return[];const X=j instanceof W?j.toArray():j,A=this._items,ie=[],K=X.length;for(let B=0;B<K;B++){const se=A.indexOf(X[B]);if(se>-1){const J=1+L(X,A,B+1,se+1),ce=this._splice(se,J);ce&&ce.length>0&&ie.push.apply(ie,ce),B+=J-1}}return this._emitAfterChanges(R.REMOVE),ie}reverse(){if((0,E.gc)(this._observable),this._emitBeforeChanges(R.MOVE))return this;const j=this._splice(0,this.length);return j&&(j.reverse(),this._splice(0,0,j)),this._emitAfterChanges(R.MOVE),this}shift(){if((0,E.gc)(this._observable),!this.length||this._emitBeforeChanges(R.REMOVE))return;const j=D(this._splice(0,1));return this._emitAfterChanges(R.REMOVE),j}slice(j=0,X=this.length){return(0,E.gc)(this._observable),this._createNewInstance({items:this._items.slice(j,X)})}some(j,X){return(0,E.gc)(this._observable),this._items.some(j,X)}sort(j){if((0,E.gc)(this._observable),!this.length||this._emitBeforeChanges(R.MOVE)||!this._requiresSort(j))return this;const X=this._splice(0,this.length);return arguments.length?X.sort(j):X.sort(),this._splice(0,0,X),this._emitAfterChanges(R.MOVE),this}_requiresSort(j=((X,A)=>X===A?0:X<A?-1:1)){const X=this.length-1;for(let A=0;A<X;A++)if(j(this.items[A],this.items[A+1])>0)return!0;return!1}splice(j,X,...A){(0,E.gc)(this._observable);const ie=(X?R.REMOVE:0)|(A.length?R.ADD:0);if(this._emitBeforeChanges(ie))return[];const K=this._splice(j,X,A)||[];return this._emitAfterChanges(ie),K}toArray(){return(0,E.gc)(this._observable),this._items.slice()}toJSON(){return(0,E.gc)(this._observable),this.toArray()}toLocaleString(){return(0,E.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,E.gc)(this._observable),this._items.toString()}unshift(...j){return(0,E.gc)(this._observable),!j.length||this._emitBeforeChanges(R.ADD)||(this._splice(0,0,j),this._emitAfterChanges(R.ADD)),this.length}_createNewInstance(j){return new this.constructor(j)}_splice(j,X,A){const ie=this._items,K=this.itemType;let B,G;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,T._)(()=>this._dispatchChange())),j<0&&(j+=this.length),X){if(G=ie.splice(j,X),this.hasEventListener("before-remove")){const se=M.acquire();se.target=this,se.cancellable=!0;for(let J=0,ce=G.length;J<ce;J++)B=G[J],se.reset(B),this.emit("before-remove",se),se.defaultPrevented&&(G.splice(J,1),ie.splice(j,0,B),j+=1,J-=1,ce-=1);M.release(se)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const se=M.acquire();se.target=this,se.cancellable=!1;const J=G.length;for(let ce=0;ce<J;ce++)se.reset(G[ce]),this.emit("after-remove",se);M.release(se)}}if(A?.length){if(K){const _e=[];for(const Ce of A){const Oe=K.ensureType(Ce);null==Oe&&null!=Ce||_e.push(Oe)}A=_e}const se=this.hasEventListener("before-add"),J=this.hasEventListener("after-add"),ce=j===this.length;if(se||J){const _e=M.acquire();_e.target=this,_e.cancellable=!0;const Ce=M.acquire();Ce.target=this,Ce.cancellable=!1;for(const Oe of A)se?(_e.reset(Oe),this.emit("before-add",_e),_e.defaultPrevented||(ce?ie.push(Oe):ie.splice(j++,0,Oe),this._set("length",ie.length),J&&(Ce.reset(Oe),this.emit("after-add",Ce)))):(ce?ie.push(Oe):ie.splice(j++,0,Oe),this._set("length",ie.length),Ce.reset(Oe),this.emit("after-add",Ce));M.release(Ce),M.release(_e)}else{if(ce)for(const _e of A)ie.push(_e);else ie.splice(j,0,...A);this._set("length",ie.length)}}if((A?.length||G?.length)&&this._notifyChangeEvent(A,G),this.hasEventListener("after-splice")){const se=new v(this,A,G,j,X);this.emit("after-splice",se)}return G}_emitBeforeChanges(j){let X=!1;if(this.hasEventListener("before-changes")){const A=M.acquire();A.target=this,A.cancellable=!0,A.type=j,this.emit("before-changes",A),X=A.defaultPrevented,M.release(A)}return X}_emitAfterChanges(j){if(this.hasEventListener("after-changes")){const X=M.acquire();X.target=this,X.cancellable=!1,X.type=j,this.emit("after-changes",X),M.release(X)}this._observable.notify()}_notifyChangeEvent(j,X){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:j,removed:X})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const j=this._notifications;this._notifications=null;for(const X of j){const A=X.changes;H.clear(),Y.clear(),z.clear();for(const{added:J,removed:ce}of A){if(J)if(0===z.size&&0===Y.size)for(const _e of J)H.add(_e);else for(const _e of J)Y.has(_e)?(z.add(_e),Y.delete(_e)):z.has(_e)||H.add(_e);if(ce)if(0===z.size&&0===H.size)for(const _e of ce)Y.add(_e);else for(const _e of ce)H.has(_e)?H.delete(_e):(z.delete(_e),Y.add(_e))}const ie=p.A.acquire();H.forEach(J=>{ie.push(J)});const K=p.A.acquire();Y.forEach(J=>{K.push(J)});const B=this._items,G=X.items,se=p.A.acquire();if(z.forEach(J=>{G.indexOf(J)!==B.indexOf(J)&&se.push(J)}),X.listeners&&(ie.length||K.length||se.length)){const J={target:this,added:ie,removed:K,moved:se},ce=X.listeners.length;for(let _e=0;_e<ce;_e++){const Ce=X.listeners[_e];Ce.removed||Ce.callback.call(this,J)}}p.A.release(ie),p.A.release(K),p.A.release(se)}H.clear(),Y.clear(),z.clear()}};Q.ofType=j=>{if(!j)return W;if(te.has(j))return te.get(j);let X=null;if("function"==typeof j)X=j.prototype.declaredClass;else if(j.base)X=j.base.prototype.declaredClass;else for(const ie in j.typeMap){const K=j.typeMap[ie].prototype.declaredClass;X?X+=` | ${K}`:X=K}let A=class extends W{};return(0,d._)([(0,C.u)({Type:j,ensureType:"function"==typeof j?(0,y.dp)(j):(0,y.aq)(j)})],A.prototype,"itemType",void 0),A=(0,d._)([(0,N.$)(`esri.core.Collection<${X}>`)],A),te.set(j,A),A},(0,d._)([(0,P.MZ)()],Q.prototype,"_updating",void 0),(0,d._)([(0,P.MZ)()],Q.prototype,"length",void 0),(0,d._)([(0,P.MZ)()],Q.prototype,"items",null),(0,d._)([(0,P.MZ)({readOnly:!0})],Q.prototype,"updating",null),Q=W=(0,d._)([(0,N.$)("esri.core.Collection")],Q);const q=Q},2993:(xe,re,u)=>{u.d(re,{A:()=>T});var d=u(8189),p=u(31178),w=u(48900),_=u(85211),I=u(76576),F=u(34703);let R=class extends p.A{constructor(y){super(y),this.getCollections=null}initialize(){this.addHandles((0,F.fm)(()=>this._refresh(),w.OH))}destroy(){this.getCollections=null}_refresh(){const y=null!=this.getCollections?this.getCollections():null;if(null==y)return void this.removeAll();let E=0;for(const P of y)null!=P&&(E=this._processCollection(E,P));this.splice(E,this.length)}_createNewInstance(y){return new p.A(y)}_processCollection(y,E){if(!E)return y;const P=this.itemFilterFunction??(C=>!!C);for(const C of E)if(C){if(P(C)){const N=this.indexOf(C,y);N>=0?N!==y&&this.reorder(C,y):this.add(C,y),++y}if(this.getChildrenFunction){const N=this.getChildrenFunction(C);if(Array.isArray(N))for(const U of N)y=this._processCollection(y,U);else y=this._processCollection(y,N)}}return y}};(0,d._)([(0,_.MZ)()],R.prototype,"getCollections",void 0),(0,d._)([(0,_.MZ)()],R.prototype,"getChildrenFunction",void 0),(0,d._)([(0,_.MZ)()],R.prototype,"itemFilterFunction",void 0),R=(0,d._)([(0,I.$)("esri.core.CollectionFlattener")],R);const T=R},73596:(xe,re,u)=>{u.d(re,{hr:()=>p,ie:()=>R,uC:()=>I,wf:()=>F});var d=u(69287);class p{constructor(y,E){this.min=y,this.max=E,this.range=E-y}normalize(y,E=0,P=!1){return w(this.range,this.min,this.max,y,E,P)}clamp(y,E=0){return(0,d.qE)(y-E,this.min,this.max)+E}monotonic(y,E,P){return y<E?E:E+_(this.range,y-E,P)}minimalMonotonic(y,E,P){return w(this.range,y,y+this.range,E,P)}center(y,E,P){return E=this.monotonic(y,E,P),this.normalize((y+E)/2,P)}diff(y,E,P){return this.monotonic(y,E,P)-y}shortestSignedDiff(y,E){y=this.normalize(y);const P=(E=this.normalize(E))-y,C=E<y?this.minimalMonotonic(y,E)-y:E-this.minimalMonotonic(E,y);return Math.abs(P)<Math.abs(C)?P:C}contains(y,E,P){return E=this.minimalMonotonic(y,E),(P=this.minimalMonotonic(y,P))>y&&P<E}}function w(T,y,E,P,C=0,N=!1){return(P-=C)<y?P+=_(T,y-P):P>E&&(P-=_(T,P-E)),N&&P===E&&(P=y),P+C}function _(T,y,E=0){return Math.ceil((y-E)/T)*T+E}const I=new p(0,2*Math.PI),F=new p(-Math.PI,Math.PI),R=new p(0,360)},5922:(xe,re,u)=>{u.d(re,{A:()=>_});var d=u(77806),p=u(35150),w=u(931);class _ extends w.A{constructor(F,R,T){super(F,R,T)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(F,R)=>{if(R&&"object"==typeof R&&"function"==typeof R.toJSON)return R;try{return(0,d.o8)(R)}catch{return"[object]"}}))}}catch(F){throw p.A.getLogger("esri.core.Error").error(F),F}return{name:this.name,message:this.message,details:this.details}}static fromJSON(F){return new _(F.name,F.message,F.details)}}_.prototype.type="error"},42425:(xe,re,u)=>{u.d(re,{A:()=>I});var d=u(8189),p=u(98877),w=u(17715),_=u(76576);class I{constructor(){this._emitter=new I.EventEmitter(this)}emit(R,T){return this._emitter.emit(R,T)}on(R,T){return this._emitter.on(R,T)}once(R,T){return this._emitter.once(R,T)}hasEventListener(R){return this._emitter.hasEventListener(R)}}!function(F){class R{constructor(E=null){this._target=E,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(E,P){let C=this._listenersMap?.get(E);if(!C)return!1;const N=this._target||this;let U=!1;for(const W of C.slice()){const O="deref"in W?W.deref():W;O?O?.call(N,P):U=!0}return U&&(C=C.filter(W=>!("deref"in W)||null!=W.deref()),this._listenersMap.set(E,C)),C.length>0}on(E,P){if(Array.isArray(E)){const N=E.map(U=>this.on(U,P));return(0,w.vE)(N)}if(E.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const C=this._listenersMap.get(E)||[];return C.push(P),this._listenersMap.set(E,C),(0,w.hA)(()=>{const N=this._listenersMap?.get(E),U=N?.indexOf(P)??-1;U>=0&&N.splice(U,1)})}once(E,P){const C=this.on(E,N=>{C.remove(),("deref"in P?P.deref():P)?.call(null,N)});return C}hasEventListener(E){const P=this._listenersMap?.get(E);return null!=P&&P.length>0}}F.EventEmitter=R,F.EventedMixin=y=>{let E=class extends y{constructor(){super(...arguments),this._emitter=new R}destroy(){this._emitter.clear()}emit(P,C){return this._emitter.emit(P,C)}on(P,C){return this._emitter.on(P,C)}once(P,C){return this._emitter.once(P,C)}hasEventListener(P){return this._emitter.hasEventListener(P)}};return E=(0,d._)([(0,_.$)("esri.core.Evented")],E),E};let T=class extends p.A{constructor(){super(...arguments),this._emitter=new I.EventEmitter(this)}destroy(){this._emitter.clear()}emit(y,E){return this._emitter.emit(y,E)}on(y,E){return this._emitter.on(y,E)}once(y,E){return this._emitter.once(y,E)}hasEventListener(y){return this._emitter.hasEventListener(y)}};T=(0,d._)([(0,_.$)("esri.core.Evented.EventedAccessor")],T),F.EventedAccessor=T}(I)},86807:(xe,re,u)=>{u.d(re,{A:()=>p});var d=u(5191);class p{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let R=0;return this._groups.forEach(T=>{R+=T.length}),R}add(R,T){if((0,d.xZ)(R)){const y=this._getOrCreateGroup(T);for(const E of R)I(E)&&y.push(E)}else I(R)&&this._getOrCreateGroup(T).push(R);return this}forEach(R,T){if("function"==typeof R)this._groups.forEach(y=>y.forEach(R));else{const y=this._getGroup(R);y&&T&&y.forEach(T)}}has(R){return this._groups.has(w(R))}remove(R){if("string"!=typeof R&&(0,d.xZ)(R)){for(const T of R)this.remove(T);return this}return this.has(R)?(_(this._getGroup(R)),this._groups.delete(w(R)),this):this}removeAll(){return this._groups.forEach(_),this._groups.clear(),this}removeReference(R){return this._groups.delete(R),this}_getOrCreateGroup(R){if(this.has(R))return this._getGroup(R);const T=[];return this._groups.set(w(R),T),T}_getGroup(R){return this._groups.get(w(R))}}function w(F){return F||"_default_"}function _(F){for(const R of F)R instanceof p?R.removeAll():R.remove()}function I(F){return null!=F&&(!!F.remove||F instanceof p)}},3046:(xe,re,u)=>{u.d(re,{A:()=>R});var d=u(8189),p=u(76576);let w=0;const _=T=>{let y=class extends T{constructor(...E){super(...E),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+w++})}};return y=(0,d._)([(0,p.$)("esri.core.Identifiable")],y),y};let F=class extends(_(class{})){};var T;F=(0,d._)([(0,p.$)("esri.core.Identifiable")],F),(T=F||(F={})).IdentifiableMixin=_,T.NumericIdentifiableMixin=T=>{let y=class extends T{constructor(...E){super(...E),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:w++})}};return y=(0,d._)([(0,p.$)("esri.core.Identifiable.NumericIdentifiable")],y),y};const R=F},71065:(xe,re,u)=>{u.d(re,{A:()=>W});var d=u(8189),p=u(98877),w=u(77806),_=u(26514);class I{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(v){const M=new I;return this._values.forEach((m,Z)=>{v&&v.has(Z)||M.set(Z,(0,w.o8)(m.value),m.origin)}),M}get(v,M){M=this._normalizeOrigin(M);const m=this._values.get(v);return null==M||m?.origin===M?m?.value:void 0}originOf(v){return this._values.get(v)?.origin??_.Gr.USER}keys(v){v=this._normalizeOrigin(v);const M=[...this._values.keys()];return null==v?M:M.filter(m=>this._values.get(m)?.origin===v)}set(v,M,m){if((m=this._normalizeOrigin(m))===_.Gr.DEFAULTS){const Z=this._values.get(v);if(null!=Z?.origin&&Z.origin>m)return}this._values.set(v,new F(M,m))}delete(v,M){null!=(M=this._normalizeOrigin(M))&&this._values.get(v)?.origin!==M||this._values.delete(v)}has(v,M){return null!=(M=this._normalizeOrigin(M))?this._values.get(v)?.origin===M:this._values.has(v)}forEach(v){this._values.forEach(({value:M},m)=>v(M,m))}_normalizeOrigin(v){if(null!=v)return v===_.Gr.DEFAULTS?v:_.Gr.USER}}class F{constructor(v,M){this.value=v,this.origin=M}}var R=u(29529),T=u(34813),y=u(74220),E=u(56558),P=u(76576);const C=O=>{let v=class extends O{constructor(...M){super(...M);const m=(0,y.oY)(this),Z=m.store,D=new I;m.store=D,(0,R.k)(m,Z,D)}read(M,m){(0,T.L)(this,M,m)}write(M,m){return(0,E.M)(this,M??{},m)}toJSON(M){return this.write({},M)}static fromJSON(M,m){return N.call(this,M,m)}};return v=(0,d._)([(0,P.$)("esri.core.JSONSupport")],v),v.prototype.toJSON.isDefaultToJSON=!0,v};function N(O,v){if(!O)return null;if(O.declaredClass)throw new Error("JSON object is already hydrated");const M=new this;return M.read(O,v),M}let U=class extends(C(p.A)){};var O;U=(0,d._)([(0,P.$)("esri.core.JSONSupport")],U),(O=U||(U={})).JSONSupportMixin=C,O.isSerializable=function v(M){return M&&"object"==typeof M&&"toJSON"in M&&"function"==typeof M.toJSON};const W=U},55098:(xe,re,u)=>{u.d(re,{A:()=>W});var d=u(8189),p=u(5922),w=u(11432),_=u(64261),I=u(56492),F=u(96996),R=u(85211),T=u(76576);const C="loaded",N=O=>{let v=class extends O{constructor(...M){super(...M),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(m=>{const Z=this.load.bind(this);this.load=D=>{const L=new Promise((b,H)=>{const Y=(0,I.NY)(D,H);this.destroyed&&H(new p.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(b,H).finally(()=>{Y&&Y.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const b=this._loadController=new AbortController;Z({signal:b.signal})}return m(),L}})),this.when(()=>{this._set("loadStatus",C),this._loadController=null},m=>{this._set("loadStatus","failed"),this._set("loadError",m),this._loadController=null})}destroy(){this._loadController&&(this._loadController=(0,w.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===C}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new p.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,d._)([(0,R.MZ)({readOnly:!0})],v.prototype,"loaded",null),(0,d._)([(0,R.MZ)({readOnly:!0})],v.prototype,"loadError",void 0),(0,d._)([(0,R.MZ)({clonable:!1})],v.prototype,"loadStatus",void 0),(0,d._)([(0,R.MZ)({type:[F.A],readOnly:!0})],v.prototype,"loadWarnings",null),v=(0,d._)([(0,T.$)("esri.core.Loadable")],v),v};let U=class extends(N(_.A)){};var O;U=(0,d._)([(0,T.$)("esri.core.Loadable")],U),(O=U||(U={})).LoadableMixin=N,O.isLoadable=function v(M){return!(!M||!M.load)};const W=U},35150:(xe,re,u)=>{u.d(re,{A:()=>I});var d=u(23098),w=(u(3248),u(1119));const _={info:0,warn:1,error:2,none:3};class I{constructor(y){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=y.level&&(this.level=y.level),null!=y.writer&&(this.writer=y.writer),this._module=y.module,I._loggers.set(this.module,this);const E=this.module.lastIndexOf(".");-1!==E&&(this._parent=I.getLogger(this.module.slice(0,E)))}get module(){return this._module}get parent(){return this._parent}error(...y){this._log("error","always",...y)}warn(...y){this._log("warn","always",...y)}info(...y){this._log("info","always",...y)}errorOnce(...y){this._log("error","once",...y)}warnOnce(...y){this._log("warn","once",...y)}infoOnce(...y){this._log("info","once",...y)}errorOncePerTick(...y){this._log("error","oncePerTick",...y)}warnOncePerTick(...y){this._log("warn","oncePerTick",...y)}infoOncePerTick(...y){this._log("info","oncePerTick",...y)}get test(){}static get test(){}static getLogger(y){return I._loggers.get(y="string"!=typeof y?y.declaredClass:y)||new I({module:y})}_log(y,E,...P){if(this._matchLevel(y)){if("always"!==E&&!I._throttlingDisabled){const C=function R(...T){return(0,w.Wm)(JSON.stringify(T,(E,P)=>"object"!=typeof P||Array.isArray(P)?P:"[Object]"))}(P),N=this._loggedMessages[y].get(C);if("once"===E&&null!=N||"oncePerTick"===E&&N&&N>=I._tickCounter)return;this._loggedMessages[y].set(C,I._tickCounter),I._scheduleTickCounterIncrement()}for(const C of d.A.log.interceptors)if(C(y,this.module,...P))return;this._inheritedWriter()(y,this.module,...P)}}_parentWithMember(y,E){let P=this;for(;null!=P;){const C=P[y];if(null!=C)return C;P=P.parent}return E}_inheritedWriter(){return this._parentWithMember("writer",F)}_matchLevel(y){return _[this._parentWithMember("level",d.A.log.level||"warn")]<=_[y]}static _scheduleTickCounterIncrement(){I._tickCounterScheduled||(I._tickCounterScheduled=!0,Promise.resolve().then(()=>{I._tickCounter++,I._tickCounterScheduled=!1}))}}function F(T,y,...E){console[T](`[${y}]`,...E)}I._loggers=new Map,I._tickCounter=0,I._tickCounterScheduled=!1,I._throttlingDisabled=!1},60797:(xe,re,u)=>{function d(I,F){for(const R of I.values())if(F(R))return!0;return!1}function p(I,F){for(const R of I.values())if(F(R))return R;return null}function w(I,F,R){const T=I.get(F);if(void 0!==T)return T;const y=R();return I.set(F,y),y}function _(I){const F=new Map;return R=>(F.has(R)||F.set(R,I(R)),F.get(R))}u.d(re,{$n:()=>p,Bj:()=>_,Bs:()=>d,tE:()=>w})},931:(xe,re,u)=>{u.d(re,{A:()=>w});var d=u(89221);class w{constructor(I,F,R=void 0){this.name=I,this.details=R,this.message=(F&&function p(_,I){return _.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(F,R)=>""===R?"$":((0,d.wc)(R,I)??"").toString())}(F,R))??""}toString(){return"["+this.name+"]: "+this.message}}},61591:(xe,re,u)=>{u.d(re,{A:()=>w});let w=(()=>{class _{constructor(F,R,T,y=1,E=0){this._ctor=F,this._acquireFunction=R,this._releaseFunction=T,this.allocationSize=y,this._pool=new Array(E),this._initialSize=E;for(let P=0;P<E;P++)this._pool[P]=new this._ctor;this.allocationSize=Math.max(y,1)}destroy(){this.prune(0)}acquire(...F){let R;if(_.test.disabled)R=new this._ctor;else{if(0===this._pool.length){const T=this.allocationSize;for(let y=0;y<T;y++)this._pool[y]=new this._ctor}R=this._pool.pop()}return this._acquireFunction?this._acquireFunction(R,...F):function p(_){return _?.acquire&&"function"==typeof _.acquire}(R)&&R.acquire(...F),R}release(F){F&&!_.test.disabled&&(this._releaseFunction?this._releaseFunction(F):function d(_){return _?.release&&"function"==typeof _.release}(F)&&F.release(),this._pool.push(F))}prune(F=this._initialSize){if(!(F>=this._pool.length)){for(let R=F;R<this._pool.length;++R)this._dispose(this._pool[R]);this._pool.length=F}}_dispose(F){F.dispose&&"function"==typeof F.dispose&&F.dispose()}}return _.test={disabled:!1},_})()},13316:(xe,re,u)=>{u.d(re,{A:()=>d});class d{constructor(w,_=30){this.name=w,this._counter=0,this._samples=new Array(_)}push(w){null!=w&&(this._samples[++this._counter%this._samples.length]=w)}set(w){null!=w&&(this._samples[this._counter%this._samples.length]=w)}get median(){return this._samples.slice().sort((w,_)=>w-_)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((w,_)=>w+_,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},12438:(xe,re,u)=>{u.d(re,{A:()=>R});var w,d=u(89952),p=u(69690);!function(y){const E=(U,W,O,v)=>{let M=W,m=W;const Z=O>>>1,D=U[M-1];for(;m<=Z;){m=M<<1,m<O&&v(U[m-1],U[m])<0&&++m;const L=U[m-1];if(v(L,D)<=0)break;U[M-1]=L,M=m}U[M-1]=D},P=(U,W)=>U<W?-1:U>W?1:0;y.sort=function C(U,W,O,v){void 0===W&&(W=0),void 0===O&&(O=U.length),void 0===v&&(v=P);for(let m=O>>>1;m>W;m--)E(U,m,O,v);const M=W+1;for(let m=O-1;m>W;m--){const Z=U[W];U[W]=U[m],U[m]=Z,E(U,M,m,v)}},y.iterableSort=function*N(U,W,O,v){void 0===W&&(W=0),void 0===O&&(O=U.length),void 0===v&&(v=P);for(let m=O>>>1;m>W;m--)E(U,m,O,v),yield;const M=W+1;for(let m=O-1;m>W;m--){const Z=U[W];U[W]=U[m],U[m]=Z,E(U,M,m,v),yield}}}(w||(w={}));const _=w;class R{constructor(E){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new d.vW,E&&(E.initialSize&&(this.data=new Array(E.initialSize)),E.allocator&&(this._allocator=E.allocator),void 0!==E.deallocator&&(this._deallocator=E.deallocator),E.shrink&&(this._shrink=()=>T(this)))}toArray(){return this.data.slice(0,this.length)}filter(E){const P=new Array;for(let C=0;C<this._length;C++){const N=this.data[C];E(N)&&P.push(N)}return P}at(E){if((E=Math.trunc(E)||0)<0&&(E+=this._length),!(E<0||E>=this._length))return this.data[E]}includes(E,P){const C=this.data.indexOf(E,P);return-1!==C&&C<this.length}get length(){return this._length}set length(E){if(E>this._length){if(this._allocator){for(;this._length<E;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=E}else{if(this._deallocator)for(let P=E;P<this._length;++P)this.data[P]=this._deallocator(this.data[P]);this._length=E,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(E){this.data[this._length++]=E}pushArray(E,P=E.length){for(let C=0;C<P;C++)this.data[this._length++]=E[C]}fill(E,P){for(let C=0;C<P;C++)this.data[this._length++]=E}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const E=this.data[this._length];return++this._length,E}unshift(E){this.data.unshift(E),this._length++,T(this)}pop(){if(0===this.length)return;const E=this.data[this.length-1];return this.length=this.length-1,this._shrink(),E}remove(E){const P=(0,d.qh)(this.data,(0,p.zI)(E),this.length,this._hint);if(-1!==P)return this.data.splice(P,1),this.length=this.length-1,E}removeUnordered(E){return this.removeUnorderedIndex((0,d.qh)(this.data,(0,p.zI)(E),this.length,this._hint))}removeUnorderedIndex(E){if(!(E>=this.length||E<0))return this.swapElements(E,this.length-1),this.pop()}removeUnorderedMany(E,P=E.length,C){this.length=(0,d.mW)(this.data,E,this.length,P,this._hint,C),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(E,P){if(E>=this.length||P>=this.length||E===P)return;const C=this.data[E];this.data[E]=this.data[P],this.data[P]=C}sort(E){_.sort(this.data,0,this.length,E)}iterableSort(E){return _.iterableSort(this.data,0,this.length,E)}some(E,P){for(let C=0;C<this.length;++C)if(E.call(P,this.data[C],C,this.data))return!0;return!1}find(E,P){const{data:C,length:N}=this;for(let U=0;U<N;++U)if(E.call(P,C[U]))return C[U]}filterInPlace(E,P){let C=0;for(let N=0;N<this._length;++N){const U=this.data[N];E.call(P,U,N,this.data)&&(this.data[N]=this.data[C],this.data[C]=U,C++)}if(this._deallocator)for(let N=C;N<this._length;N++)this.data[N]=this._deallocator(this.data[N]);return this._length=C,this._shrink(),this}forAll(E,P){const{data:C,length:N}=this;for(let U=0;U<N;++U)E.call(P,C[U],U,C)}forEach(E,P){this.data.slice(0,this.length).forEach(E,P)}map(E,P){const C=new Array(this.length);for(let N=0;N<this.length;++N)C[N]=E.call(P,this.data[N],N,this.data);return C}reduce(E,P){let C=P;for(let N=0;N<this.length;++N)C=E(C,this.data[N],N,this.data);return C}has(E){const P=this.length,C=this.data;for(let N=0;N<P;++N)if(C[N]===E)return!0;return!1}*[Symbol.iterator](){for(let E=0;E<this.length;E++)yield this.data[E]}}function T(y){y.data.length>1.5*y.length&&(y.data.length=Math.floor(1.1*y.length))}},64261:(xe,re,u)=>{u.d(re,{A:()=>y});var I,E,d=u(8189),p=u(98877),w=u(56492),_=u(76576);(E=I||(I={}))[E.PENDING=0]="PENDING",E[E.RESOLVED=1]="RESOLVED",E[E.REJECTED=2]="REJECTED";class F{constructor(){this._resolver=(0,w.Tw)(),this._status=I.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=I.RESOLVED,this._cleanUp()},()=>{this._status=I.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(P){this._resolvingPromises.push(P),this._tryResolve()}isResolved(){return this._status===I.RESOLVED}isRejected(){return this._status===I.REJECTED}isFulfilled(){return this._status!==I.PENDING}abort(){this._resolver.reject((0,w.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const P=(0,w.Tw)(),C=[...this._resolvingPromises,P.promise],N=this._allPromise=Promise.all(C);N.then(()=>{this.isFulfilled()||this._allPromise!==N||this._resolver.resolve()},U=>{this.isFulfilled()||this._allPromise!==N||(0,w.zf)(U)||this._resolver.reject(U)}),P.resolve()}}const R=E=>{let P=class extends E{constructor(...C){super(...C),this._promiseProps=new F,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(C,N){return this._promiseProps.promise.then(()=>this).then(C,N)}catch(C){return this.when(null,C)}addResolvingPromise(C){C&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in C?C.when():C)}};return P=(0,d._)([(0,_.$)("esri.core.Promise")],P),P};let T=class extends(R(p.A)){};T=(0,d._)([(0,_.$)("esri.core.Promise")],T),function(E){E.EsriPromiseMixin=R}(T||(T={}));const y=T},82767:(xe,re,u)=>{u.d(re,{A:()=>w});var d=u(9700),p=u(4032);class w{constructor(I=(F=>F.values().next().value)){this._peeker=I,this._observable=new p.I,this._items=new Set}get length(){return(0,d.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let I;for(I of this._items);return I}peek(){if(0!==this.length)return this._peeker(this._items)}push(I){this.contains(I)||(this._items.add(I),this._observable.notify())}contains(I){return(0,d.gc)(this._observable),this._items.has(I)}pop(){if(0===this.length)return;const I=this.peek();return this._items.delete(I),this._observable.notify(),I}popLast(){if(0===this.length)return;const I=this.last();return this._items.delete(I),this._observable.notify(),I}remove(I){this.contains(I)&&(this._items.delete(I),this._observable.notify())}filter(I){const F=this.length;return this._items.forEach(R=>{I(R)||this._items.delete(R)}),F!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,d.gc)(this._observable),yield*this._items}}},40707:(xe,re,u)=>{u.d(re,{A:()=>d});class d{constructor(w=1){this._seed=w}set seed(w){this._seed=w??Math.random()*d._m}getInt(){return this._seed=(d._a*this._seed+d._c)%d._m,this._seed}getFloat(){return this.getInt()/(d._m-1)}getIntRange(w,_){return Math.round(this.getFloatRange(w,_))}getFloatRange(w,_){const I=_-w;return w+this.getInt()/d._m*I}}d._m=2147483647,d._a=48271,d._c=0},12619:(xe,re,u)=>{u.d(re,{A:()=>w});var d=u(9700),p=u(4032);class w{constructor(I){this._observable=new p.I,this._map=new Map(I)}get size(){return(0,d.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(I){const F=this._map.delete(I);return F&&this._observable.notify(),F}entries(){return(0,d.gc)(this._observable),this._map.entries()}forEach(I,F){(0,d.gc)(this._observable),this._map.forEach((R,T)=>I.call(F,R,T,this),F)}get(I){return(0,d.gc)(this._observable),this._map.get(I)}has(I){return(0,d.gc)(this._observable),this._map.has(I)}keys(){return(0,d.gc)(this._observable),this._map.keys()}set(I,F){return this._map.set(I,F),this._observable.notify(),this}values(){return(0,d.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,d.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},75504:(xe,re,u)=>{u.d(re,{P:()=>p});var d=u(61591);class p extends d.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(..._){const I=super.acquire(..._);return this._set.delete(I),I}release(_){_&&!this._set.has(_)&&(super.release(_),this._set.add(_))}_dispose(_){this._set.delete(_),super._dispose(_)}}},17435:(xe,re,u)=>{function d(P,C){for(const N of P.values())if(C(N))return!0;return!1}function p(P,C){if(!C)return P;for(const N of C)null!=N&&P.add(N);return P}function w(P,C){return null!=C&&P.add(C),P}function _(P,C){const N=new Set;return p(N,P),p(N,C),N}function I(P,C){const N=new Set;for(const U of C)P.has(U)&&N.add(U);return N}function F(P,C){if(!P||!C)return!1;if(P===C)return!0;for(const N of P)if(!C.has(N))return!1;return!0}function R(P,C){if(null==P&&null==C)return!0;if(null==P||null==C||P.size!==C.size)return!1;for(const N of P)if(!C.has(N))return!1;return!0}function T(P,C){const N=new Set(P);for(const U of C)N.delete(U);return N}function y(P,C){return T(_(P,C),I(P,C))}u.d(re,{BT:()=>y,E$:()=>I,FB:()=>p,KC:()=>_,Yy:()=>F,aI:()=>R,bw:()=>d,iv:()=>T,kb:()=>w})},43420:(xe,re,u)=>{u.d(re,{R:()=>p});var d=u(5922);let p=class qo{constructor(_,I,F=""){this.major=_,this.minor=I,this._context=F}lessThan(_,I){return this.major<_||_===this.major&&this.minor<I}greaterEqual(_,I){return!this.lessThan(_,I)}validate(_){if(this.major!==_.major)throw new d.A((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:_})}clone(){return new qo(this.major,this.minor,this._context)}static parse(_,I=""){const[F,R]=_.split("."),T=/^\s*\d+\s*$/;if(!F?.match||!T.test(F))throw new d.A((I&&I+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:_});if(!R?.match||!T.test(R))throw new d.A((I&&I+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:_});const y=parseInt(F,10),E=parseInt(R,10);return new qo(y,E,I)}}},96996:(xe,re,u)=>{u.d(re,{A:()=>p});var d=u(931);class p extends d.A{constructor(_,I,F){super(_,I,F)}}p.prototype.type="warning"},76157:(xe,re,u)=>{u.d(re,{O:()=>p});var d=u(23098);const p=()=>d.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},86112:(xe,re,u)=>{u.d(re,{T:()=>_});var d=u(17715),p=u(89952);class w{constructor(R,T){this._observers=R,this._observer=T}remove(){(0,p.TF)(this._observers,this._observer)}}class _{constructor(){this._observers=null,this.destroyed=!1}observe(R){if(this.destroyed||R.destroyed)return I;null==this._observers&&(this._observers=[]);const T=this._observers;let y=!1,E=!1;const P=T.length;for(let C=0;C<P;++C){const N=T[C];if(N.destroyed)E=!0;else if(N===R){y=!0;break}}return y||(T.push(R),E&&this._removeDestroyedObservers()),new w(T,R)}_removeDestroyedObservers(){const R=this._observers;if(!R||0===R.length)return;const T=R.length;let y=0;for(let E=0;E<T;++E){for(;E+y<T&&R[E+y].destroyed;)++y;if(y>0){if(!(E+y<T))break;R[E]=R[E+y]}}R.length=T-y}destroy(){if(this.destroyed)return;this.destroyed=!0;const R=this._observers;if(null!=R){for(const T of R)T.onCommitted();this._observers=null}}}const I=(0,d.hA)()},26514:(xe,re,u)=>{var d,y;u.d(re,{AU:()=>p,Gr:()=>d,OL:()=>_,aB:()=>w,in:()=>F}),(y=d||(d={}))[y.DEFAULTS=0]="DEFAULTS",y[y.COMPUTED=1]="COMPUTED",y[y.SERVICE=2]="SERVICE",y[y.PORTAL_ITEM=3]="PORTAL_ITEM",y[y.WEB_SCENE=4]="WEB_SCENE",y[y.WEB_MAP=5]="WEB_MAP",y[y.LINK_CHART=6]="LINK_CHART",y[y.USER=7]="USER";const p=d.USER+1;function w(y){switch(y){case"defaults":return d.DEFAULTS;case"service":return d.SERVICE;case"portal-item":return d.PORTAL_ITEM;case"web-scene":return d.WEB_SCENE;case"web-map":return d.WEB_MAP;case"link-chart":return d.LINK_CHART;case"user":return d.USER;default:return null}}function _(y){switch(y){case d.DEFAULTS:return"defaults";case d.SERVICE:return"service";case d.PORTAL_ITEM:return"portal-item";case d.WEB_SCENE:return"web-scene";case d.WEB_MAP:return"web-map";case d.LINK_CHART:return"link-chart";case d.USER:return"user"}}function F(y){return _(y)}},84838:(xe,re,u)=>{u.d(re,{G:()=>d});const d=Symbol("Accessor-beforeDestroy")},48669:(xe,re,u)=>{u.d(re,{w:()=>R});var d=u(55739),p=u(2716);const w=Object.prototype.toString;function _(T){const y="__accessorMetadata__"in T?(0,d.dp)(T):T;return function(...E){if(E.push(y),"number"==typeof E[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return I.apply(this,E)}}function I(T,y,E,P){(0,p.z4)(T,y).cast=P}function R(...T){if(3!==T.length||"string"!=typeof T[1])return 1===T.length&&"[object Function]"===w.call(T[0])?_(T[0]):1===T.length&&"string"==typeof T[0]?function F(T){return(y,E)=>{(0,p.z4)(y,T).cast=y[E]}}(T[0]):void 0}},15463:(xe,re,u)=>{u.d(re,{e:()=>w});var d=u(49976),p=u(85211);function w(_,I={}){const F=_ instanceof d.J?_:new d.J(_,I),{alwaysWriteDefaults:R,default:T,ignoreUnknown:y=!0,name:E,nonNullable:P,readOnly:C=!1}=I;return(0,p.MZ)({type:y?F.apiValues:String,json:{type:F.jsonValues,default:T,name:E,read:!C&&{reader:F.read},write:{writer:F.write,alwaysWriteDefaults:R}},nonNullable:P,readOnly:C})}},85211:(xe,re,u)=>{u.d(re,{MZ:()=>F,rM:()=>R});var d=u(35150),p=u(55739),w=u(92073),_=u(2716),I=u(23245);function F(E={}){return(P,C)=>{if(P===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${P.name}.${C}. Accessor does not support static properties.`);const N=Object.getOwnPropertyDescriptor(P,C),U=(0,_.z4)(P,C);N&&(N.get||N.set?(U.get=N.get||U.get,U.set=N.set||U.set):"value"in N&&("value"in E&&d.A.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${C}" on "${P.constructor.name}" already defined in the metadata`,E),U.value=E.value=N.value)),null!=E.readOnly&&(U.readOnly=E.readOnly);const W=E.aliasOf;if(W){const M="string"==typeof W?W:W.source,m="string"==typeof W?null:!0===W.overridable;let Z;U.dependsOn=[M],U.get=function(){let D=(0,w.Jt)(this,M);if("function"==typeof D){Z||(Z=M.split(".").slice(0,-1).join("."));const L=(0,w.Jt)(this,Z);L&&(D=D.bind(L))}return D},U.readOnly||(U.set=m?function(D){this._override(C,D)}:function(D){(0,I.h)(this,M,D)})}const O=E.type,v=E.types;if(!U.cast){let M;O?M=function T(E){let P=0,C=E;if((0,p.Zu)(E))return(0,p.Nd)(E);for(;Array.isArray(C)&&1===C.length&&"string"!=typeof C[0]&&"number"!=typeof C[0];)C=C[0],P++;const N=C;if((0,p.EK)(N))return 0===P?(0,p.MB)(N):(0,p._e)((0,p.MB)(N),P);if(1===P)return(0,p.eC)(N);if(P>1)return(0,p.e6)(N,P);return E.from?E.from:(0,p.dp)(E)}(O):v&&(M=Array.isArray(v)?(0,p.wB)((0,p.aq)(v[0])):(0,p.aq)(v)),E.cast=function y(E,P){if(E||P)return E?P?(C,N)=>P(E(C,N),N):E:P}(E.cast,M)}(0,_.CX)(U,E),E.range&&(U.cast=(0,p.Qp)(U.cast,E.range))}}function R(E,P,C){const N=(0,_.z4)(E,C);N.json||(N.json={});let U=N.json;return void 0!==P&&(U.origins||(U.origins={}),U.origins[P]||(U.origins[P]={}),U=U.origins[P]),U}},17221:(xe,re,u)=>{u.d(re,{w:()=>p});var d=u(85211);function p(w,_,I){let F,R;return void 0===_||Array.isArray(_)?(R=w,I=_,F=[void 0]):(R=_,F=Array.isArray(w)?w:[w]),(T,y)=>{const E=T.constructor.prototype;F.forEach(P=>{const C=(0,d.rM)(T,P,R);C.read&&"object"==typeof C.read||(C.read={}),C.read.reader=E[y],I&&(C.read.source=(C.read.source||[]).concat(I))})}}},69039:(xe,re,u)=>{function d(p){return(w,_)=>{w[_]=p}}u.d(re,{u:()=>d})},76576:(xe,re,u)=>{u.d(re,{$:()=>E}),u(3248);var p=u(35150),w=u(84838),_=u(97681),I=u(2716),F=u(9700),R=u(54888);const T=new Set,y=new Set;function E(U){return W=>{U??="esri.core.Accessor",W.prototype.declaredClass=U,function C(U){const O=(0,I.tD)(U.prototype),v={};for(const M of Object.getOwnPropertyNames(O)){const m=O[M];(0,R.qk)(m),v[M]={enumerable:!0,configurable:!0,get:P(M,m),set(Z){const D=this.__accessor__;if(void 0!==D){if(D.mutable)return D.initialized&&m.readOnly?N("read-only",M):D.lifecycle===_.v.CONSTRUCTED&&m.constructOnly?N("construct-only",M):void D.set(M,Z)}else Object.defineProperty(this,M,{enumerable:!0,configurable:!0,writable:!0,value:Z})}}}Object.defineProperties(U.prototype,v)}(W);const O=[],v=[];let M=W.prototype;for(;M;)M.hasOwnProperty("initialize")&&!T.has(M.initialize)&&(T.add(M.initialize),O.push(M.initialize)),M.hasOwnProperty("destroy")&&!y.has(M.destroy)&&(y.add(M.destroy),v.push(M.destroy)),M=Object.getPrototypeOf(M);T.clear(),y.clear();const m=class extends W{constructor(...D){if(super(...D),this.constructor===m&&"function"==typeof this.postscript){if(O.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let L=O.length-1;L>=0;L--)O[L].call(this)}}),v.length){let L=!1;const b=this[w.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!L){L=!0,b.call(this);for(let H=0;H<v.length;H++)v[H].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};m.__accessorMetadata__=(0,I.tD)(W.prototype),m.prototype.declaredClass=U;const Z=(U||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(m,"name",{value:Z,configurable:!0}),m}}function P(U,W){return null==W.get?function(){const O=this.__accessor__,v=O.propertiesByName.get(U);if(void 0===v)return;O.mutable&&(0,F.gc)(v);const M=O.store;return M.has(U)?M.get(U):v.metadata.value}:function(){const O=this.__accessor__,v=O.propertiesByName.get(U);if(void 0!==v)return v.getComputed(O)}}const N=(U,W)=>{p.A.getLogger("esri.core.Accessor").error(`cannot assign to ${U} property '${W}'`)}},50305:(xe,re,u)=>{u.d(re,{K:()=>p});var d=u(85211);function p(w,_,I){let F,R;return void 0===_?(R=w,F=[void 0]):"string"!=typeof _?(R=w,F=[void 0],I=_):(R=_,F=Array.isArray(w)?w:[w]),(T,y)=>{const E=T.constructor.prototype;for(const P of F){const C=(0,d.rM)(T,P,R);C.write&&"object"==typeof C.write||(C.write={}),I&&(C.write.target=I),C.write.writer=E[y]}}}},29529:(xe,re,u)=>{u.d(re,{k:()=>p});var d=u(26514);function p(w,_,I){_.keys().forEach(R=>{I.set(R,_.get(R),d.Gr.DEFAULTS)}),Object.keys(w.metadata).forEach(R=>{w.internalGet(R)&&I.set(R,w.internalGet(R),d.Gr.DEFAULTS)})}},55739:(xe,re,u)=>{u.d(re,{EK:()=>ee,GB:()=>T,GX:()=>R,MB:()=>Q,Nd:()=>K,PZ:()=>M,Qp:()=>P,Uv:()=>X,Vr:()=>y,Zu:()=>ie,_e:()=>z,aq:()=>q,dp:()=>L,e6:()=>te,eC:()=>H,gK:()=>A,jz:()=>j,wB:()=>b}),u(3248);var p=u(35150),w=u(60797);const _=()=>p.A.getLogger("esri.core.accessorSupport.ensureTypes");function I(J){return null==J?J:new Date(J)}function F(J){return null==J?J:!!J}function R(J){return null==J?J:J.toString()}function T(J,ce=0){return null==J?J:(J=parseFloat(J),isNaN(J)?ce:J)}function y(J){return null==J?J:Math.round(parseFloat(J))}function E(J){return null}function P(J,ce){return _e=>{let Ce=J(_e);return null!=ce.step&&(Ce=Math.round(Ce/ce.step)*ce.step),null!=ce.min&&(Ce=Math.max(ce.min,Ce)),null!=ce.max&&(Ce=Math.min(ce.max,Ce)),Ce}}function C(J){return J?.constructor&&void 0!==J.constructor.__accessorMetadata__}function N(J,ce){return null!=ce&&J&&!(ce instanceof J)}function U(J){return J&&"isCollection"in J}function W(J){return J?.Type?"function"==typeof J.Type?J.Type:J.Type.base:null}function v(J,ce){return!!C(ce)&&(_().error("Accessor#set","Assigning an instance of '"+(ce.declaredClass||"unknown")+"' which is not a subclass of '"+m(J)+"'"),!0)}function M(J,ce){return null==ce?ce:U(J)?function O(J,ce){if(!ce?.constructor||!U(ce.constructor))return v(J,ce)?ce:new J(ce);const _e=W(J.prototype.itemType),Ce=W(ce.constructor.prototype.itemType);return _e?Ce?_e===Ce?ce:_e.prototype.isPrototypeOf(Ce.prototype)?new J(ce):(v(J,ce),ce):new J(ce):ce}(J,ce):N(J,ce)?v(J,ce)?ce:new J(ce):ce}function m(J){return J?.prototype?.declaredClass||"unknown"}const Z=new WeakMap;function L(J,ce){const _e=function D(J){switch(J){case Number:return ce=>T(ce);case j:return y;case Boolean:return F;case String:return R;case Date:return I;case X:return E;default:return(0,w.tE)(Z,J,()=>M.bind(null,J))}}(J);return 1===arguments.length?_e:_e(ce)}function b(J,ce,_e){return 1===arguments.length?b.bind(null,J):ce&&(Array.isArray(ce)?ce.map(Ce=>J(Ce,_e)):[J(ce,_e)])}function H(J,ce){return 1===arguments.length?b(_e=>L(J,_e)):b(_e=>L(J,_e),ce)}function Y(J,ce,_e){return 0!==ce&&Array.isArray(_e)?_e.map(Ce=>Y(J,ce-1,Ce)):J(_e)}function z(J,ce,_e){if(2===arguments.length)return fe=>z(J,ce,fe);if(!_e)return _e;_e=Y(J,ce,_e);let Ce=ce,Oe=_e;for(;Ce>0&&Array.isArray(Oe);)Ce--,Oe=Oe[0];if(void 0!==Oe)for(let fe=0;fe<Ce;fe++)_e=[_e];return _e}function te(J,ce,_e){return 2===arguments.length?z(Ce=>L(J,Ce),ce):z(Ce=>L(J,Ce),ce,_e)}function ee(J){return!!Array.isArray(J)&&!J.some(ce=>{const _e=typeof ce;return!("string"===_e||"number"===_e||"function"===_e&&J.length>1)})}function Q(J,ce){if(2===arguments.length)return Q(J).call(null,ce);const _e=new Set,Ce=J.filter(me=>"function"!=typeof me),Oe=J.filter(me=>"function"==typeof me);for(const me of J)"string"!=typeof me&&"number"!=typeof me||_e.add(me);let fe=null,Se=null;return(me,ge)=>{if(null==me)return me;const Be=typeof me,Le="string"===Be||"number"===Be;return Le&&(_e.has(me)||Oe.some(Re=>"string"===Be&&Re===String||"number"===Be&&Re===Number))||"object"===Be&&Oe.some(Re=>!N(me,Re))?me:(Le&&Ce.length?(fe||(fe=Ce.map(Re=>"string"==typeof Re?`'${Re}'`:`${Re}`).join(", ")),_().error("Accessor#set",`'${me}' is not a valid value for this property, only the following values are valid: ${fe}`)):"object"==typeof me&&Oe.length?(Se||(Se=Oe.map(Re=>m(Re)).join(", ")),_().error("Accessor#set",`'${me}' is not a valid value for this property, value must be one of ${Se}`)):_().error("Accessor#set",`'${me}' is not a valid value for this property`),ge&&(ge.valid=!1),null)}}function q(J,ce){if(2===arguments.length)return q(J).call(null,ce);const _e={},Ce=[],Oe=[];for(const ge in J.typeMap){const Be=J.typeMap[ge];_e[ge]=L(Be),Ce.push(m(Be)),Oe.push(ge)}const me="string"==typeof J.key?ge=>ge[J.key]:J.key;return ge=>{if(J.base&&!N(J.base,ge)||null==ge)return ge;const Be=me(ge)||J.defaultKeyValue,Le=_e[Be];if(!Le)return _().error("Accessor#set",`Invalid property value, value needs to be one of '${Ce.join("', '")}', or a plain object that can autocast (having .type = '${Oe.join("', '")}')`),null;if(!N(J.typeMap[Be],ge))return ge;if("string"==typeof J.key&&!C(ge)){const Re={};for(const oe in ge)oe!==J.key&&(Re[oe]=ge[oe]);return Le(Re)}return Le(ge)}}class j{}class X{}const A={native:J=>({type:"native",value:J}),array:J=>({type:"array",value:J}),oneOf:J=>({type:"one-of",values:J})};function ie(J){if(!J||!("type"in J))return!1;switch(J.type){case"native":case"array":case"one-of":return!0}return!1}function K(J){switch(J.type){case"native":return L(J.value);case"array":return b(K(J.value));case"one-of":return function B(J){let ce=null;return(_e,Ce)=>se(_e,J)?_e:(null==ce&&(ce=G(J)),_().error("Accessor#set",`Invalid property value, value needs to be of type ${ce}`),Ce&&(Ce.valid=!1),null)}(J);default:return null}}function G(J){switch(J.type){case"native":switch(J.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case j:return"integer";case Date:return"date";case X:return"null";default:return m(J.value)}case"array":return`array of ${G(J.value)}`;case"one-of":{const ce=J.values.map(_e=>G(_e));return`one of ${ce.slice(0,-1)} or ${ce[ce.length-1]}`}}return"unknown"}function se(J,ce){if(null==J)return!0;switch(ce.type){case"native":switch(ce.value){case Number:case j:return"number"==typeof J;case Boolean:return"boolean"==typeof J;case String:return"string"==typeof J;case X:return null===J}return J instanceof ce.value;case"array":return!!Array.isArray(J)&&!J.some(_e=>!se(_e,ce.value));case"one-of":return ce.values.some(_e=>se(J,_e))}}},54888:(xe,re,u)=>{u.d(re,{xF:()=>y,N5:()=>E,k4:()=>P,qk:()=>M});var d=u(55739),w=u(71224);function I(m){m.name&&(m.read&&"object"==typeof m.read?void 0===m.read.source&&(m.read.source=m.name):m.read={source:m.name},m.write&&"object"==typeof m.write?void 0===m.write.target&&(m.write.target=m.name):m.write={target:m.name})}function F(m){"boolean"==typeof m.read?m.read={enabled:m.read}:"function"==typeof m.read?m.read={enabled:!0,reader:m.read}:m.read&&"object"==typeof m.read&&void 0===m.read.enabled&&(m.read.enabled=!0)}function R(m){"boolean"==typeof m.write?m.write={enabled:m.write}:"function"==typeof m.write?m.write={enabled:!0,writer:m.write}:m.write&&"object"==typeof m.write&&void 0===m.write.enabled&&(m.write.enabled=!0)}var T=u(41556);function y(m,Z){return C(m,"any",Z?.origin)}function E(m,Z){return C(m,"read",Z?.origin)}function P(m,Z){return C(m,"write",Z?.origin)}function C(m,Z,D){let L=m?.json;if(L?.origins&&D){let b;b="link-chart"===D?L.origins[D]&&("any"===Z||Z in L.origins[D])?L.origins[D]:L.origins["web-map"]:L.origins[D],b&&("any"===Z||Z in b)&&(L=b)}return L}function W(m){return m.type?O(m):v(m)}function O(m){if(!m.type)return;let Z=0,D=m.type;for(;Array.isArray(D)&&!(0,d.EK)(D);)D=D[0],Z++;return{type:D,ndimArray:Z}}function v(m){if(!m.types)return;let Z=0,D=m.types;for(;Array.isArray(D);)D=D[0],Z++;return{types:D,ndimArray:Z}}function M(m){(function _(m){if(m.json||(m.json={}),F(m.json),R(m.json),I(m.json),m.json.origins)for(const Z in m.json.origins)F(m.json.origins[Z]),R(m.json.origins[Z]),I(m.json.origins[Z]);return!0})(m)&&(function p(m){if(m.json&&m.json.origins){const Z=m.json.origins,D={"web-document":["web-scene","web-map"]};for(const L in D)if(Z[L]){const b=Z[L];D[L].forEach(H=>{Z[H]=b}),delete Z[L]}}}(m),function N(m){const Z=function U(m){return m.json.types?v(m.json):m.type?O(m):v(m)}(m);if(m.json.origins)for(const D in m.json.origins){const L=m.json.origins[D],b=L.types?W(L):Z;(0,w.v)(b,L,!1),L.types&&!L.write&&m.json.write?.enabled&&(L.write={...m.json.write}),(0,T.v)(b,L)}(0,w.v)(Z,m.json,!0),(0,T.v)(Z,m.json)}(m))}},71224:(xe,re,u)=>{u.d(re,{C:()=>T,v:()=>R});var d=u(35150),p=u(89221),w=u(96996),_=u(2716),I=u(46367);const F=()=>d.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function R(Z,D,L){Z&&(!L&&!D.read||D.read?.reader||!1===D.read?.enabled||function W(Z){return"types"in Z?v(Z.types):O(Z.type)}(Z)&&(0,p.sM)("read.reader",T(Z),D))}function T(Z){const D=Z.ndimArray??0;if(D>1)return function C(Z){const D=y(Z),L=P.bind(null,D),b=Z.ndimArray??0;return(H,Y,z)=>{if(null==H)return H;H=L(H,z,b);let te=b,ee=H;for(;te>0&&Array.isArray(ee);)te--,ee=ee[0];if(void 0!==ee)for(let Q=0;Q<te;Q++)H=[H];return H}}(Z);if(1===D)return N(Z);if("type"in Z&&U(Z.type)){const L=Z.type.prototype?.itemType?.Type,b=N("function"==typeof L?{type:L}:{types:L});return(H,Y,z)=>{const te=b(H,Y,z);return te&&new Z.type(te)}}return y(Z)}function y(Z){return"type"in Z?function E(Z){return Z.prototype.read?(D,L,b)=>{if(null==D)return D;const H=typeof D;if("object"!==H)return void F().error(`Expected JSON value of type 'object' to deserialize type '${Z.prototype.declaredClass}', but got '${H}'`);const Y=new Z;return Y.read(D,b),Y}:Z.fromJSON}(Z.type):function M(Z){let D=null;const L=Z.errorContext??"type",b=Z.validate;return(H,Y,z)=>{if(null==H)return H;const te=typeof H;if("object"!==te)return void F().error(`Expected JSON value of type 'object' to deserialize, but got '${te}'`);D||(D=function m(Z){const D={};for(const L in Z.typeMap){const b=Z.typeMap[L],H=(0,_.tD)(b.prototype);if("function"==typeof Z.key)continue;const Y=H[Z.key];if(!Y)continue;if(Y.json?.type&&Array.isArray(Y.json.type)&&1===Y.json.type.length&&"string"==typeof Y.json.type[0]){D[Y.json.type[0]]=b;continue}const z=Y.json?.write;if(!z?.writer){D[L]=b;continue}const te=z.target,ee="string"==typeof te?te:Z.key,Q={};z.writer(L,Q,ee),Q[ee]&&(D[Q[ee]]=b)}return D}(Z));const ee=Z.key;if("string"!=typeof ee)return;const Q=H[ee],q=Q?D[Q]:Z.defaultKeyValue?Z.typeMap[Z.defaultKeyValue]:void 0;if(!q){const X=`Type '${Q||"unknown"}' is not supported`;return z?.messages&&H&&z.messages.push(new w.A(`${L}:unsupported`,X,{definition:H,context:z})),void F().error(X)}const j=new q;return j.read(H,z),b?b(j):j}}(Z.types)}function P(Z,D,L,b){return 0!==b&&Array.isArray(D)?D.map(H=>P(Z,H,L,b-1)):Z(D,void 0,L)}function N(Z){const D=y(Z);return(L,b,H)=>{if(null==L)return L;if(Array.isArray(L)){const z=[];for(const te of L){const ee=D(te,void 0,H);void 0!==ee&&z.push(ee)}return z}const Y=D(L,void 0,H);return void 0!==Y?[Y]:void 0}}function U(Z){if(!(0,I.P)(Z))return!1;const D=Z.prototype.itemType;return!(!D||!D.Type)&&("function"==typeof D.Type?O(D.Type):v(D.Type))}function O(Z){return!Array.isArray(Z)&&!!Z&&Z.prototype&&("read"in Z.prototype||"fromJSON"in Z||U(Z))}function v(Z){for(const D in Z.typeMap)if(!O(Z.typeMap[D]))return!1;return!0}},46367:(xe,re,u)=>{function d(p){return!!p&&p.prototype?.declaredClass&&0===p.prototype.declaredClass.indexOf("esri.core.Collection")}u.d(re,{P:()=>d})},41556:(xe,re,u)=>{u.d(re,{B:()=>P,v:()=>I});var d=u(5922),p=u(35150),w=u(89221),_=u(46367);function I(W,O){if(!O.write||O.write.writer||!1===O.write.enabled&&!O.write.overridePolicy)return;const v=W?.ndimArray??0;O.write.writer=W&&(1===v||"type"in W&&(0,_.P)(W.type))?C:v>1?function U(W){return(O,v,M,m)=>{let Z;if(null===O)Z=null;else{Z=N(O,m,W);let D=W,L=Z;for(;D>0&&Array.isArray(L);)D--,L=L[0];if(void 0!==L)for(let b=0;b<D;b++)Z=[Z]}(0,w.sM)(M,Z,v)}}(v):O.types?Array.isArray(O.types)?function T(W){return(O,v,M,m)=>O&&Array.isArray(O)?y(O.filter(Z=>R(Z,W,m)),v,M,m):y(O,v,M,m)}(O.types[0]):function F(W){return(O,v,M,m)=>O?R(O,W,m)?y(O,v,M,m):void 0:y(O,v,M,m)}(O.types):y}function R(W,O,v){for(const M in O.typeMap)if(W instanceof O.typeMap[M])return!0;if(v?.messages){const m=`Values of type '${("function"!=typeof O.key?W[O.key]:W.declaredClass)??"Unknown"}' cannot be written`;v&&v.messages&&W&&v.messages.push(new d.A(`${O.errorContext??"type"}:unsupported`,m,{definition:W,context:v})),p.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(m)}return!1}function y(W,O,v,M){(0,w.sM)(v,E(W,M),O)}function E(W,O){return W&&"function"==typeof W.write?W.write({},O):W&&"function"==typeof W.toJSON?W.toJSON():"number"==typeof W?P(W):W}function P(W){return W===-1/0?-Number.MAX_VALUE:W===1/0?Number.MAX_VALUE:isNaN(W)?null:W}function C(W,O,v,M){let m;null===W?m=null:W&&"function"==typeof W.map?(m=W.map(Z=>E(Z,M)),"function"==typeof m.toArray&&(m=m.toArray())):m=[E(W,M)],(0,w.sM)(v,m,O)}function N(W,O,v){return 0!==v&&Array.isArray(W)?W.map(M=>N(M,O,v-1)):E(W,O)}},92073:(xe,re,u)=>{u.d(re,{Jt:()=>I,RP:()=>_,t2:()=>F});var d=u(74220);function p(R,T){const y="?"===R[R.length-1]?R.slice(0,-1):R;if(null!=T.getItemAt||Array.isArray(T)){const P=parseInt(y,10);if(!isNaN(P))return Array.isArray(T)?T[P]:T.at(P)}const E=(0,d.oY)(T);return(0,d.yh)(E,y)?E.get(y):T[y]}function w(R,T,y){if(null==R)return R;const E=p(T[y],R);return!E&&y<T.length-1?void 0:y===T.length-1?E:w(E,T,y+1)}function _(R,T,y=0){return"string"!=typeof T||T.includes(".")?w(R,(0,d.AH)(T),y):p(T,R)}function I(R,T){return _(R,T)}function F(R,T){return void 0!==_(T,R)}},97681:(xe,re,u)=>{var d,p;u.d(re,{v:()=>d}),(p=d||(d={}))[p.INITIALIZING=0]="INITIALIZING",p[p.CONSTRUCTING=1]="CONSTRUCTING",p[p.CONSTRUCTED=2]="CONSTRUCTED",p[p.DESTROYED=3]="DESTROYED"},2716:(xe,re,u)=>{u.d(re,{CX:()=>I,tD:()=>w,z4:()=>_});var d=u(77806),p=u(74220);function w(T){let y=T.constructor.__accessorMetadata__;const E=Object.prototype.hasOwnProperty.call(T.constructor,"__accessorMetadata__");if(y){if(!E){y=Object.create(y);for(const P in y)y[P]=(0,d.o8)(y[P]);Object.defineProperty(T.constructor,"__accessorMetadata__",{value:y,enumerable:!1,configurable:!0,writable:!0})}}else y={},Object.defineProperty(T.constructor,"__accessorMetadata__",{value:y,enumerable:!1,configurable:!0,writable:!0});return T.constructor.__accessorMetadata__}function _(T,y){const E=w(T);let P=E[y];return P||(P=E[y]={}),P}function I(T,y){return(0,p.h1)(T,y,R)}const F=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function R(T){return F.test(T)?"replace":"merge"}},34813:(xe,re,u)=>{u.d(re,{L:()=>y,t:()=>E});var d=u(92073),p=u(74220),w=u(54888);function _(P,C,N){if(!P?.read||!1===P.read.enabled||!P.read.source)return!1;const U=P.read.source;if("string"==typeof U){if(U===C||U.includes(".")&&0===U.indexOf(C)&&(0,d.t2)(U,N))return!0}else for(const W of U)if(W===C||W.includes(".")&&0===W.indexOf(C)&&(0,d.t2)(W,N))return!0;return!1}function F(P,C,N,U,W){let O=(0,w.N5)(C[N],W);(function I(P){return P&&(!P.read||!1!==P.read.enabled&&!P.read.source)})(O)&&(P[N]=!0);for(const v of Object.getOwnPropertyNames(C))O=(0,w.N5)(C[v],W),_(O,N,U)&&(P[v]=!0)}function R(P,C,N,U){const O=(0,w.xF)(N.metadata[C],U),v=O?.default;if(void 0===v)return;const M="function"==typeof v?v.call(P,C,U):v;void 0!==M&&N.set(C,M)}const T={origin:"service"};function y(P,C,N=T){if(!C||"object"!=typeof C)return;const U=(0,p.oY)(P),W=U.metadata,O={};for(const v of Object.getOwnPropertyNames(C))F(O,W,v,C,N);U.setDefaultOrigin(N.origin);for(const v of Object.getOwnPropertyNames(O)){const M=(0,w.N5)(W[v],N).read,m=M?.source;let Z;Z=m&&"string"==typeof m?(0,d.RP)(C,m):C[v],M?.reader&&(Z=M.reader.call(P,Z,C,N)),void 0!==Z&&U.set(v,Z)}if(!N||!N.ignoreDefaults){U.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(W))O[v]||R(P,v,U,N)}U.setDefaultOrigin("user")}function E(P,C,N,U=T){const W={...U,messages:[]};N(W),W.messages?.forEach(O=>{"warning"!==O.type||P.loaded?U?.messages&&U.messages.push(O):P.loadWarnings.push(O)})}},23245:(xe,re,u)=>{u.d(re,{h:()=>I});var d=u(5922),p=u(3248),_=(u(35150),u(92073));function I(y,E,P){if(y&&E)if("object"==typeof E)for(const C of Object.getOwnPropertyNames(E))I(y,C,E[C]);else{if(E.includes(".")){const N=E.split("."),U=N.splice(-1,1)[0];return void I((0,_.Jt)(y,N),U,P)}const C=y.__accessor__;null!=C&&function F(y,E){if((0,p.A)("esri-unknown-property-errors")&&!function R(y,E){return null!=E.metadata[y]}(y,E))throw new d.A("set:unknown-property",function T(y,E){return"setting unknown property '"+y+"' on instance of "+E.host.declaredClass}(y,E))}(E,C),y[E]=P}}},9700:(xe,re,u)=>{u.d(re,{F_:()=>N,Xr:()=>m,a:()=>C,fE:()=>v,gc:()=>y}),u(3248);var p=u(35150),w=u(74220),_=u(58272);const F=new(u(3931).R),R=[];let T=F;function y(D){T.onAccessed(D)}let E=!1,P=!1;function C(D,L,b){if(E)return U(D,L,b);let H=null;return W(D),H=L.call(b),O(),H}function N(D,L){return C(F,D,L)}function U(D,L,b){const H=E;E=!0,W(D);let Y=null;try{Y=L.call(b)}catch(z){P&&p.A.getLogger("esri.core.accessorSupport.tracking").error(z)}return O(),E=H,Y}function W(D){T=D,R.push(D)}function O(){const D=R.length;if(D>1){const L=R.pop();T=R[D-2],L.onTrackingEnd()}else if(1===D){const L=R.pop();T=F,L.onTrackingEnd()}else T=F}function v(D,L){if(L.flags&_.i.DepTrackingInitialized)return;L.flags|=_.i.DepTrackingInitialized;const b=P;P=!1,L.flags&_.i.AutoTracked?U(L.trackingTarget,L.metadata.get,D):m(D,L),P=b}const M=[];function m(D,L){L.flags&_.i.ExplicitlyTracking||(L.flags|=_.i.ExplicitlyTracking,U(L.trackingTarget,()=>{const b=L.metadata.dependsOn||M;for(const H of b)if("string"!=typeof H||H.includes(".")){const Y=(0,w.AH)(H);for(let z=0,te=D;z<Y.length&&null!=te&&"object"==typeof te;++z)te=Z(te,Y[z],z!==Y.length-1)}else Z(D,H,!1)}),L.flags&=~_.i.ExplicitlyTracking)}function Z(D,L,b){const H="?"===L[L.length-1]?L.slice(0,-1):L;if(null!=D.getItemAt||Array.isArray(D)){const z=parseInt(H,10);if(!isNaN(z))return Array.isArray(D)?D[z]:D.at(z)}const Y=(0,w.oY)(D);if(Y){const z=Y.propertiesByName.get(H);z&&(y(z),v(D,z))}return b?D[H]:void 0}},34703:(xe,re,u)=>{u.d(re,{Df:()=>R,fm:()=>T,mJ:()=>F});var d=u(17715),p=u(9700),w=u(90949);let _=!1;const I=[];function F(P,C){let N=new w.r(function O(){if(!N||W)return;if(_)return void y(O);const M=U;N.clear(),_=!0,W=!0,U=(0,p.a)(N,P),W=!1,_=!1,C(U,M),E()}),U=null,W=!1;return W=!0,U=(0,p.a)(N,P),W=!1,(0,d.hA)(function v(){N&&(N.destroy(),N=null,U=null)})}function R(P,C){let N=new w.r(function W(){C(U,v)}),U=null;function v(){return N?(N.clear(),U=(0,p.a)(N,P),U):null}return v(),(0,d.hA)(function O(){N&&(N.destroy(),N=null),U=null})}function T(P,C){let N=!1,U=!1;const W=!!C?.sync;let O=new w.r(()=>{N||U||(U=!0,W?v():queueMicrotask(v))});function v(){U=!1,O&&!N&&(_?y(v):(O.clear(),_=!0,N=!0,(0,p.a)(O,P),N=!1,_=!1,E()))}return N=!0,(0,p.a)(O,P),N=!1,(0,d.hA)(function M(){O&&(O.destroy(),O=null)})}function y(P){I.includes(P)||I.unshift(P)}function E(){for(;I.length;)I.pop()()}},58272:(xe,re,u)=>{var d,p;u.d(re,{i:()=>d}),(p=d||(d={}))[p.Dirty=1]="Dirty",p[p.Overridden=2]="Overridden",p[p.Computing=4]="Computing",p[p.NonNullable=8]="NonNullable",p[p.HasDefaultValue=16]="HasDefaultValue",p[p.DepTrackingInitialized=32]="DepTrackingInitialized",p[p.AutoTracked=64]="AutoTracked",p[p.ExplicitlyTracking=128]="ExplicitlyTracking"},4032:(xe,re,u)=>{u.d(re,{I:()=>p});var d=u(86112);class p extends d.T{notify(){const _=this._observers;if(_&&_.length>0){const I=_.slice();for(const F of I)F.onInvalidated(),F.onCommitted()}}}},90949:(xe,re,u)=>{u.d(re,{r:()=>p});var d=u(3931);class p extends d.R{constructor(R){super(new w(R)),this._observer&&_.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&_.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class w{constructor(R){this._notify=R,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const R=this._invalidCount;if(1===R)return this._invalidCount=0,void this._notify();this._invalidCount=R>0?R-1:0}destroy(){this.destroyed=!0,this._notify=I}}const _=new FinalizationRegistry(F=>{F.deref()?.destroy()});function I(){}},3931:(xe,re,u)=>{u.d(re,{R:()=>d});class d{constructor(w){this.accessed=void 0,this._handles=void 0,this._observer=w}destroy(){this.accessed?.clear(),this.clear()}onAccessed(w){null!=this._observer&&w!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(w))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach(w=>{this._handles.push(w.observe(this._observer))}),this.accessed.clear()))}clear(){if(null!=this._handles){for(let w=0;w<this._handles.length;++w)this._handles[w].remove();this._handles.length=0}}}},74220:(xe,re,u)=>{u.d(re,{AH:()=>y,h1:()=>F,oY:()=>w,qg:()=>N,yh:()=>_});var d=u(17715),p=u(77806);function w(U){return U.__accessor__??null}function _(U,W){return null!=U?.metadata?.[W]}function F(U,W,O){return R(U,W,O?{policy:O,path:""}:null)}function R(U,W,O){return W?Object.keys(W).reduce((v,M)=>{const m=M;let Z=null,D="merge";if(O&&(Z=O.path?`${O.path}.${M}`:M,D=O.policy(Z)),"replace"===D||"replace-arrays"===D&&Array.isArray(v[m]))return v[m]=W[m],v;if(void 0===v[m])return v[m]=(0,p.o8)(W[m]),v;let L=v[m],b=W[m];if(L===b)return v;if(Array.isArray(b)||Array.isArray(v))L=v[m]=L?Array.isArray(L)?L.slice():[L]:[],b&&(Array.isArray(b)||(b=[b]),b.forEach(H=>{L.includes(H)||L.push(H)}));else if(b&&"object"==typeof b)if(O){const H=O.path;O.path=Z,v[m]=R(L,b,O),O.path=H}else v[m]=R(L,b,null);else v.hasOwnProperty(M)&&!W.hasOwnProperty(M)||(v[m]=b);return v},U||{}):U}function y(U){return Array.isArray(U)?U:U.split(".")}function E(U){return U.includes(",")?U.split(",").map(W=>W.trim()):[U.trim()]}function N(U,W,O,v){const M=function P(U){if(Array.isArray(U)){const W=[];for(const O of U)W.push(...E(O));return W}return E(U)}(W);if(1!==M.length){const m=M.map(Z=>v(U,Z,O));return(0,d.vE)(m)}return v(U,M[0],O)}},76410:(xe,re,u)=>{u.d(re,{Cn:()=>Q,Gs:()=>q,iS:()=>m,rs:()=>b,wB:()=>z});var C,j,d=u(56595),p=u(17715),w=u(77806),_=u(75504),I=u(3804),F=u(17435),R=u(33894),T=u(92073),y=u(97681),E=u(34703),P=u(74220);(j=C||(C={}))[j.Untracked=0]="Untracked",j[j.Tracked=1]="Tracked";class N{constructor(){this.uid=(0,R.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(X,A,ie,K,B){return this.pool.acquire(C.Untracked,X,A,ie,K,B,w.aI)}static acquireTracked(X,A,ie,K){return this.pool.acquire(C.Tracked,X,A,ie,null,null,K)}notify(X,A){this.type===C.Untracked?this.callback.call(this.target,X,A,this.path,this.target):this.callback.call(null,X,A,void 0,void 0)}acquire(X,A,ie,K,B,G,se){this.uid=(0,R.c)(),this.removed=!1,this.type=X,this.oldValue=A,this.callback=ie,this.getValue=K,this.target=B,this.path=G,this.equals=se}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,R.c)(),this.removed=!0}}N.pool=new _.P(N);const U=new d.A,W=new Set;let O;function v(j){W.delete(j),W.add(j),O||(O=(0,I._)(Z))}function M(j){if(j.removed)return;const X=j.oldValue,A=j.getValue();j.equals(X,A)||(j.oldValue=A,j.notify(A,X))}function m(j){for(const X of W.values())X.target===j&&(X.removed=!0)}function Z(){let j=10;for(;O&&j--;){O=null;const X=D(),A=U.acquire();for(const ie of X){const K=ie.uid;M(ie),K===ie.uid&&ie.removed&&A.push(ie)}for(const ie of W)ie.removed&&(A.push(ie),W.delete(ie));for(const ie of A)N.pool.release(ie);U.release(A),U.release(X),L.forEach(ie=>ie())}}function D(){const j=U.acquire();j.length=W.size;let X=0;for(const A of W)j[X]=A,++X;return W.clear(),j}const L=new Set;function b(j){return L.add(j),(0,p.hA)(()=>L.delete(j))}function z(j,X,A,ie=!1){return j.__accessor__&&j.__accessor__.lifecycle!==y.v.DESTROYED?ie?function Y(j,X,A){const ie=(0,P.qg)(j,X,A,(K,B,G)=>{let se=!1;return(0,E.mJ)(()=>(0,T.RP)(K,B),(J,ce)=>{K.__accessor__.lifecycle!==y.v.DESTROYED?se||(se=!0,(0,w.aI)(ce,J)||G.call(K,J,ce,B,K),se=!1):ie.remove()})});return ie}(j,X,A):function H(j,X,A){let ie=(0,P.qg)(j,X,A,(K,B,G)=>{let se,J,ce=(0,E.Df)(()=>(0,T.RP)(K,B),(_e,Ce)=>{K.__accessor__?.lifecycle===y.v.DESTROYED||se&&se.uid!==J?ie.remove():(se||(se=N.acquireUntracked(_e,G,Ce,K,B),J=se.uid),v(se))});return(0,p.hA)(()=>{ce.remove(),se&&(se.uid!==J||se.removed||(se.removed=!0,v(se)),se=null),ie=ce=null})});return ie}(j,X,A):(0,p.hA)()}function Q(j,X,A=!1,ie=w.gh){return A?function ee(j,X,A){let ie=!1;return(0,E.mJ)(j,(K,B)=>{ie||(ie=!0,A(B,K)||X(K,B),ie=!1)})}(j,X,ie):function te(j,X,A){let ie,K,B=(0,E.Df)(j,(G,se)=>{ie&&ie.uid!==K?B.remove():(ie||(ie=N.acquireTracked(G,X,se,A),K=ie.uid),v(ie))});return(0,p.hA)(()=>{B.remove(),ie&&(ie.uid!==K||ie.removed||(ie.removed=!0,v(ie)),ie=null),B=null})}(j,X,ie)}function q(j){return(0,F.bw)(W,X=>X.oldValue===j)}},56558:(xe,re,u)=>{u.d(re,{M:()=>C,R:()=>P});var d=u(89952),p=u(5922),w=u(35150),_=u(92073),I=u(26514),F=u(74220),R=u(54888);function T(N,U,W,O,v){const M={};return U.write?.writer?.call(N,O,M,W,v),M}function y(N,U,W,O,v,M){if(!O?.write)return!1;const m=(0,_.Jt)(N,W);if(!v&&O.write.overridePolicy){const Z=O.write.overridePolicy.call(N,m,W,M??void 0);void 0!==Z&&(v=Z)}if(v||(v=O.write),!v||!1===v.enabled||v.layerContainerTypes&&M?.layerContainerType&&!v.layerContainerTypes.includes(M.layerContainerType))return!1;if((null===m&&!v.allowNull&&!v.writerEnsuresNonNull||void 0===m)&&v.isRequired){const Z=new p.A("web-document-write:property-required",`Missing value for required property '${W}' on '${N.declaredClass}'`,{propertyName:W,target:N});return Z&&M?.messages?M.messages.push(Z):Z&&!M&&w.A.getLogger("esri.core.accessorSupport.write").error(Z.name,Z.message),!1}return!(void 0===m||null===m&&!v.allowNull&&!v.writerEnsuresNonNull||!v.alwaysWriteDefaults&&(!U.store.multipleOriginsSupported||U.store.originOf(W)===I.Gr.DEFAULTS)&&function E(N,U,W,O,v){const M=O.default;if(void 0===M)return!1;if(null!=O.defaultEquals)return O.defaultEquals(v);if("function"==typeof M){if(Array.isArray(v)){const m=M.call(N,U,W??void 0);return(0,d.aI)(m,v)}return!1}return M===v}(N,W,M,O,m)||!v.ignoreOrigin&&M?.origin&&U.store.multipleOriginsSupported&&U.store.originOf(W)<(0,I.aB)(M.origin))}function P(N,U,W,O){const v=(0,F.oY)(N),m=(0,R.k4)(v.metadata[U],O);return!!m&&y(N,v,U,m,W,O)}function C(N,U,W){if(N&&"function"==typeof N.toJSON&&(!N.toJSON.isDefaultToJSON||!N.write))return(0,F.h1)(U,N.toJSON(W));const O=(0,F.oY)(N),v=O.metadata;for(const M in v){const m=(0,R.k4)(v[M],W);if(!y(N,O,M,m,void 0,W))continue;const Z=(0,_.Jt)(N,M),D=T(N,m,m.write&&"string"==typeof m.write.target?m.write.target:M,Z,W);Object.keys(D).length>0&&(U=(0,F.h1)(U,D),W?.resources?.pendingOperations?.length&&W.resources.pendingOperations.push(Promise.all(W.resources.pendingOperations).then(()=>(0,F.h1)(U,D,()=>"replace-arrays"))),W?.writtenProperties&&W.writtenProperties.push({target:N,propName:M,oldOrigin:(0,I.in)(O.store.originOf(M)),newOrigin:W.origin}))}return U}},89952:(xe,re,u)=>{u.d(re,{$U:()=>I,Am:()=>E,BB:()=>z,He:()=>_,Ji:()=>w,Mo:()=>te,Ru:()=>j,TF:()=>q,Xj:()=>W,Xy:()=>L,aI:()=>P,iv:()=>N,k4:()=>Q,mW:()=>H,qh:()=>D,tR:()=>A,vW:()=>m});var d=u(69690),p=u(40707);const w=1.5,_=1/w,I=.5;function E(ie,K){return K?ie.filter((B,G,se)=>se.findIndex(K.bind(null,B))===G):Array.from(new Set(ie))}function P(ie,K,B){if(null==ie&&null==K)return!0;if(null==ie||null==K||ie.length!==K.length)return!1;if(B){for(let G=0;G<ie.length;G++)if(!B(ie[G],K[G]))return!1}else for(let G=0;G<ie.length;G++)if(ie[G]!==K[G])return!1;return!0}function N(ie,K,B){let G,se;return B?(G=K.filter(J=>!ie.some(ce=>B(ce,J))),se=ie.filter(J=>!K.some(ce=>B(ce,J)))):(G=K.filter(J=>!ie.includes(J)),se=ie.filter(J=>!K.includes(J))),{added:G,removed:se}}function W(ie){return ie&&"number"==typeof ie.length}class m{constructor(){this.last=0}}const Z=new m;function D(ie,K,B,G){G=G||Z;const se=Math.max(0,G.last-10);for(let ce=se;ce<B;++ce)if(ie[ce]===K)return G.last=ce,ce;const J=Math.min(se,B);for(let ce=0;ce<J;++ce)if(ie[ce]===K)return G.last=ce,ce;return-1}function L(ie,K,B,G){const se=B??ie.length,J=D(ie,(0,d.zI)(K),se,G);if(-1!==J)return ie[J]=ie[se-1],null==B&&ie.pop(),K}const b=new Set;function H(ie,K,B=ie.length,G=K.length,se,J){if(0===G||0===B)return B;b.clear();for(let _e=0;_e<G;++_e)b.add(K[_e]);se=se||Z;const ce=Math.max(0,se.last-10);for(let _e=ce;_e<B;++_e)if(b.has(ie[_e])&&(J?.push(ie[_e]),b.delete(ie[_e]),ie[_e]=ie[B-1],--B,--_e,0===b.size||0===B))return b.clear(),B;for(let _e=0;_e<ce;++_e)if(b.has(ie[_e])&&(J?.push(ie[_e]),b.delete(ie[_e]),ie[_e]=ie[B-1],--B,--_e,0===b.size||0===B))return b.clear(),B;return b.clear(),B}function z(ie,K,B){const G=ie.length;if(K>=G)return ie.slice();const se=te(B),J=new Set,ce=[];for(;ce.length<K;){const _e=Math.floor(se()*G);J.has(_e)||(J.add(_e),ce.push(ie[_e]))}return ce}function te(ie){return ie?(ee.seed=ie,()=>ee.getFloat()):Math.random}const ee=new p.A;function Q(ie,K){const B=te(K);for(let G=ie.length-1;G>0;G--){const se=Math.floor(B()*(G+1)),J=ie[G];ie[G]=ie[se],ie[se]=J}return ie}function q(ie,K){const B=ie.indexOf(K);return-1!==B?(ie.splice(B,1),K):null}function j(ie,K){return null!=ie}const A=[]},89447:(xe,re,u)=>{u.d(re,{DZ:()=>v,Ke:()=>W,Tj:()=>y,UT:()=>Z,jJ:()=>T});var d=u(10467),p=u(8189),w=u(98877),_=u(11432),I=u(56492),F=u(85211),R=u(76576);function T(L,b,H){return(0,I.Lx)(L.map((Y,z)=>b.apply(H,[Y,z])))}function y(L,b,H){return E.apply(this,arguments)}function E(){return(E=(0,d.A)(function*(L,b,H){return(yield(0,I.Lx)(L.map((Y,z)=>b.apply(H,[Y,z])))).map(Y=>Y.value)})).apply(this,arguments)}function P(L){return{ok:!0,value:L}}function C(L){return{ok:!1,error:L}}function W(L){return O.apply(this,arguments)}function O(){return(O=(0,d.A)(function*(L){if(null==L)return{ok:!1,error:new Error("no promise provided")};try{return P(yield L)}catch(b){return C(b)}})).apply(this,arguments)}function v(L){return M.apply(this,arguments)}function M(){return(M=(0,d.A)(function*(L){try{return P(yield L)}catch(b){return(0,I.QP)(b),C(b)}})).apply(this,arguments)}function Z(L,b){return new D(L,b)}let D=class extends w.A{get value(){return function N(L){return null!=L&&!0===L.ok?L.value:null}(this._result)}get error(){return function U(L){return null!=L&&!1===L.ok?L.error:null}(this._result)}get finished(){return null!=this._result}constructor(L,b){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,_.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:H}=this._abortController;this.promise=L(H),this.promise.then(Y=>{this._result=P(Y),this._cleanup()},Y=>{this._result=C(Y),this._cleanup()}),this._abortHandle=(0,I.u7)(b,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,_.xt)(this._abortHandle),this._abortController=null}};(0,p._)([(0,F.MZ)()],D.prototype,"value",null),(0,p._)([(0,F.MZ)()],D.prototype,"error",null),(0,p._)([(0,F.MZ)()],D.prototype,"finished",null),(0,p._)([(0,F.MZ)()],D.prototype,"promise",void 0),(0,p._)([(0,F.MZ)()],D.prototype,"_result",void 0),D=(0,p._)([(0,R.$)("esri.core.asyncUtils.ReactiveTask")],D)},64294:(xe,re,u)=>{u.d(re,{p:()=>w});var d=u(17715);const w=function p(_){return{setTimeout:(I,F)=>{const R=_.setTimeout(I,F);return(0,d.hA)(()=>_.clearTimeout(R))}}}(globalThis)},5605:(xe,re,u)=>{u.d(re,{H:()=>w,V:()=>p});var d=u(31178);function p(I,F,R=d.A){return F||(F=new R),F===I||(F.removeAll(),function _(I){return I&&(Array.isArray(I)||"items"in I&&Array.isArray(I.items))}(I)?F.addMany(I):I&&F.add(I)),F}function w(I){return I}},69690:(xe,re,u)=>{function p(F){}function _(F){return()=>F}function I(F){return F}u.d(re,{GB:()=>_,Xb:()=>p,zI:()=>I}),u(3248)},23159:(xe,re,u)=>{u.d(re,{Lx:()=>T,eF:()=>E,eO:()=>R,io:()=>P});var d=u(3248);const p=new WeakMap;function R(C,N,U={}){if((0,d.A)("esri-deprecation-warnings")){const{moduleName:W}=U;P(C,"Function: "+(W?W+"::":"")+N+"()",U)}}function T(C,N,U={}){if((0,d.A)("esri-deprecation-warnings")){const{moduleName:W}=U;P(C,"Property: "+(W?W+"::":"")+N,U)}}function E(C,N,U={}){(0,d.A)("esri-deprecation-warnings")&&P(C,`Multiple argument constructor: ${N}`,{warnOnce:!0,replacement:`new ${N}({ <your properties here> })`,...U})}function P(C,N,U={}){if((0,d.A)("esri-deprecation-warnings")){const{replacement:W,version:O,see:v,warnOnce:M}=U;let m=N;if(W&&(m+=`\n\t\u{1f6e0}\ufe0f Replacement: ${W}`),O&&(m+=`\n\t\u2699\ufe0f Version: ${O}`),v)if(Array.isArray(v)){m+="\n\t\u{1f517} See for more details:";for(const Z of v)m+=`\n\t\t${Z}`}else m+=`\n\t\u{1f517} See ${v} for more details.`;!function w(C,N,U=!1){const W=`\u{1f6d1} DEPRECATED - ${N}`;if(!U)return void C.warn(W);let O=p.get(C);O||(O=new Set,p.set(C,O)),O.has(N)||(O.add(N),C.warn(W))}(C,m,M)}}},52827:(xe,re,u)=>{function d(w){return"string"==typeof w?document.getElementById(w):w??null}function p(w,_){for(;;){const I=w.firstChild;if(!I)break;_.appendChild(I)}}u.d(re,{$:()=>d,y:()=>p})},40611:(xe,re,u)=>{u.d(re,{Oo:()=>R,on:()=>I,wb:()=>p});var d=u(17715);function p(y){return function w(y){return null!=y&&"object"==typeof y&&"on"in y&&"function"==typeof y.on}(y)||_(y)}function _(y){return null!=y&&"object"==typeof y&&"addEventListener"in y&&"function"==typeof y.addEventListener}function I(y,E,P){if(!p(y))throw new TypeError("target is not a Evented or EventTarget object");return _(y)?function F(y,E,P,C){if(Array.isArray(E)){const N=E.slice();for(const U of N)y.addEventListener(U,P,C);return(0,d.hA)(()=>{for(const U of N)y.removeEventListener(U,P,C)})}return y.addEventListener(E,P,C),(0,d.hA)(()=>y.removeEventListener(E,P,C))}(y,E,P):y.on(E,P)}function R(y,E,P){if(!p(y))throw new TypeError("target is not a Evented or EventTarget object");if("once"in y)return y.once(E,P);const C=I(y,E,N=>{C.remove(),P.call(y,N)});return C}},17715:(xe,re,u)=>{u.d(re,{DQ:()=>T,a0:()=>w,a2:()=>F,ei:()=>_,hA:()=>p,rE:()=>R,vE:()=>I});const d={remove:()=>{}};function p(P){return P?{remove(){P&&(P(),P=void 0)}}:d}function w(P){P.forEach(C=>C?.remove())}function _(P){w(P),P.length=0}function I(P){return p(()=>w(P))}function F(P){return p(()=>P()?.remove())}function R(P){return p(()=>P?.abort())}function T(P){return p(null!=P?()=>P.destroy():void 0)}},3248:(xe,re,u)=>{let d;function p(w){return"function"==typeof d[w]?d[w]=d[w](globalThis):d[w]}u.d(re,{A:()=>p}),d=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},p.add=(w,_,I,F)=>{(F||void 0===d[w])&&(d[w]=_),I&&p(w)},p.cache=d,p.add("big-integer-warning-enabled",!0),p.add("esri-deprecation-warnings",!0),p.add("esri-tests-disable-screenshots",!1),p.add("esri-tests-use-full-window",!1),p.add("esri-tests-post-to-influx",!0),p.add("esri-cim-animations-enable-status","enabled"),p.add("esri-cim-animations-spotlight",!1),p.add("esri-cim-animations-freeze-time",!1),p.add("enable-feature:multiple-highlights",!0),(()=>{p.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const w=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(p.add("host-browser",w),p.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),p.add("dom",w),p("host-browser")){const _=navigator,I=_.userAgent,F=_.appVersion,R=parseFloat(F);if(p.add("wp",parseFloat(I.split("Windows Phone")[1])||void 0),p.add("msapp",parseFloat(I.split("MSAppHost/")[1])||void 0),p.add("khtml",F.includes("Konqueror")?R:void 0),p.add("edge",parseFloat(I.split("Edge/")[1])||void 0),p.add("opr",parseFloat(I.split("OPR/")[1])||void 0),p.add("webkit",!p("wp")&&!p("edge")&&parseFloat(I.split("WebKit/")[1])||void 0),p.add("chrome",!p("edge")&&!p("opr")&&parseFloat(I.split("Chrome/")[1])||void 0),p.add("android",!p("wp")&&parseFloat(I.split("Android ")[1])||void 0),p.add("safari",!F.includes("Safari")||p("wp")||p("chrome")||p("android")||p("edge")||p("opr")?void 0:parseFloat(F.split("Version/")[1])),p.add("mac",F.includes("Macintosh")),!p("wp")&&/(iPhone|iPod|iPad)/.test(I)){const T=RegExp.$1.replace(/P/,"p"),y=/OS ([\d_]+)/.test(I)?RegExp.$1:"1",E=parseFloat(y.replace(/_/,".").replaceAll("_",""));p.add(T,E),p.add("ios",E)}p("webkit")||(!I.includes("Gecko")||p("wp")||p("khtml")||p("edge")||p.add("mozilla",R),p("mozilla")&&p.add("ff",parseFloat(I.split("Firefox/")[1]||I.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const w=navigator.userAgent,_=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(w),I=/iPhone/i.test(w);_&&p.add("esri-mobile",_),I&&p.add("esri-iPhone",I),p.add("esri-geolocation",!!navigator.geolocation)}p.add("esri-wasm","WebAssembly"in globalThis),p.add("esri-performance-mode-frames-between-render",20),p.add("esri-force-performance-mode",!1),p.add("esri-shared-array-buffer",()=>{const w="SharedArrayBuffer"in globalThis,_=!1===globalThis.crossOriginIsolated;return w&&!_}),p.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),p.add("esri-atomics","Atomics"in globalThis),p.add("esri-workers","Worker"in globalThis),p.add("web-feat:cache","caches"in globalThis),p.add("esri-workers-arraybuffer-transfer",!p("safari")||Number(p("safari"))>=12),p.add("workers-pool-size",8),p.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),p.add("featurelayer-simplify-payload-size-factors",[1,1,4]),p.add("featurelayer-fast-triangulation-enabled",!0),p.add("featurelayer-animation-enabled",!0),p.add("featurelayer-snapshot-enabled",!0),p.add("featurelayer-snapshot-point-min-threshold",8e4),p.add("featurelayer-snapshot-point-max-threshold",4e5),p.add("featurelayer-snapshot-point-coverage",.1),p.add("featurelayer-query-max-depth",4),p.add("featurelayer-query-pausing-enabled",!1),p.add("featurelayer-advanced-symbols",!1),p.add("featurelayer-pbf",!0),p.add("featurelayer-pbf-statistics",!1),p.add("feature-layers-workers",!0),p.add("feature-polyline-generalization-factor",1),p.add("mapview-transitions-duration",200),p.add("mapview-essential-goto-duration",200),p.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),p.add("mapserver-pbf-version-support",10.81),p.add("mapservice-popup-identify-max-tolerance",20),p.add("request-queue-concurrency-hosted",16),p.add("request-queue-concurrency-non-hosted",4),p.add("curve-densification-coarse-segments",128),p.add("curve-densification-max-segments",2e3),p.add("curve-densification-min-segments",3),p.add("curve-densification-pixels-per-segment",16),p.add("view-readyState-waiting-delay",1e3),p.add("gradient-depth-bias",.01),p.add("gradient-depth-epsilon",1e-8),p("host-webworker")||p("host-browser")&&(p.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),p.add("esri-image-decode",()=>{if("decode"in new Image){const w=new Image;return w.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void w.decode().then(()=>{p.add("esri-image-decode",!0,!0,!0)}).catch(()=>{p.add("esri-image-decode",!1,!0,!0)})}return!1}),p.add("esri-url-encodes-apostrophe",()=>{const w=window.document.createElement("a");return w.href="?'",w.href.includes("?%27")}))})()},48116:(xe,re,u)=>{u.d(re,{M5:()=>W,eV:()=>E,xR:()=>y});var d=u(10467),p=u(89563),w=u(5922),_=u(56492),I=u(45272),F=u(52706);let R=null,T=!0;function y(m,Z,D){if(!m||!Z)throw new Error("Cannot construct image data without dimensions");if(T)try{return new ImageData(m,Z)}catch{T=!1}return C(m,Z,D)}function E(m,Z,D,L){if(!Z||!D)throw new Error("Cannot construct image data without dimensions");if(T)try{return new ImageData(m,Z,D)}catch{T=!1}const b=C(Z,D,L);return b.data.set(m,0),b}function C(m,Z,D){return D||(D=function P(){return R||(R=document.createElement("canvas"),R.width=1,R.height=1),R}()),D.getContext("2d").createImageData(m,Z)}function U(){return(U=(0,d.A)(function*(m,Z){const D=window.URL.createObjectURL(m);try{const{data:L}=yield(0,p.A)(D,{...Z,responseType:"image"});return L}catch(L){throw(0,_.zf)(L)?L:new w.A("invalid-image",`Could not fetch requested image at ${D}`)}finally{window.URL.revokeObjectURL(D)}})).apply(this,arguments)}function W(m,Z){return O.apply(this,arguments)}function O(){return O=(0,d.A)(function*(m,Z){const{arrayBuffer:D,mediaType:L}=yield function v(m,Z){return M.apply(this,arguments)}(m,Z),b="image/png"===L;if("image/gif"===L){const{isAnimatedGIF:H,parseGif:Y}=yield u.e(2100).then(u.bind(u,12100));if(H(D))return Y(D,Z)}if(b){const{isAnimatedPNG:H,parseApng:Y}=yield u.e(22).then(u.bind(u,60022));if(H(D))return Y(D,Z)}return function N(m,Z){return U.apply(this,arguments)}(new Blob([D],{type:L}),Z)}),O.apply(this,arguments)}function M(){return(M=(0,d.A)(function*(m,Z){const D=(0,I.r$)(m);if(D?.isBase64)return{arrayBuffer:(0,F.M)(D.data),mediaType:D.mediaType};const L=yield(0,p.A)(m,{responseType:"array-buffer",...Z});return{arrayBuffer:L.data,mediaType:L.getHeader?.("Content-Type")??""}})).apply(this,arguments)}},5191:(xe,re,u)=>{function d(_){const I=[];return function*(){yield*I;for(const F of _)I.push(F),yield F}}function p(_,I){for(const F of _)if(null!=F&&I(F))return F}function w(_){return null!=_&&"function"==typeof _[Symbol.iterator]}u.d(re,{I6:()=>p,PP:()=>d,xZ:()=>w})},49976:(xe,re,u)=>{u.d(re,{J:()=>p,O:()=>I});var d=u(89221);class p{constructor(R,T={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=R,this._options=T,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function w(F){const R={};for(const T in F)R[F[T]]=T;return R}(R),this.apiValues=_(this._apiToJSON),this.jsonValues=_(this._jsonToAPI),this.read=y=>this.fromJSON(y),this.write=(y,E,P)=>{const C=this.toJSON(y);void 0!==C&&(0,d.sM)(P,C,E)},this.write.isJSONMapWriter=!0}toJSON(R){if(null==R)return null;if(this._apiToJSON.hasOwnProperty(R)){const T=this._apiToJSON[R];return this._options.useNumericKeys?+T:T}return this._options.ignoreUnknown?null:R}fromJSON(R){return null!=R&&this._jsonToAPI.hasOwnProperty(R)?this._jsonToAPI[R]:this._options.ignoreUnknown?void 0:R}}function _(F){const R=[];for(const T in F)R.push(T);return R.sort(),R}function I(){return function(F,R){return new p(F,{ignoreUnknown:!0,...R})}}},77806:(xe,re,u)=>{u.d(re,{Nb:()=>F,TU:()=>I,aI:()=>P,gh:()=>C,o8:()=>_,oy:()=>w});var d=u(89952),p=u(79139);function w(O,v){let M;if(v)for(M in O)O.hasOwnProperty(M)&&(void 0===O[M]?delete O[M]:O[M]instanceof Object&&w(O[M],!0));else for(M in O)O.hasOwnProperty(M)&&void 0===O[M]&&delete O[M];return O}function _(O){if(!O||"object"!=typeof O||"function"==typeof O)return O;const v=E(O);if(null!=v)return v;if(F(O))return O.clone();if(R(O))return O.map(_);if(T(O))throw new Error("Trying to clone an unclonable Accessor instance");const M={};for(const m of Object.getOwnPropertyNames(O))M[m]=_(O[m]);return M}function I(O){if(!O||"object"!=typeof O||"function"==typeof O||"HTMLElement"in globalThis&&O instanceof HTMLElement)return O;const v=E(O);if(null!=v)return v;if(R(O)){let m=!0;const Z=O.map(D=>{const L=I(D);return null!=D&&null==L&&(m=!1),L});return m?Z:null}if(F(O))return O.clone();if(O instanceof File||O instanceof Blob)return O;if(T(O))return null;const M=new(Object.getPrototypeOf(O).constructor);for(const m of Object.getOwnPropertyNames(O)){const Z=O[m],D=I(Z);if(null!=Z&&null==D)return null;M[m]=D}return M}function F(O){return"function"==typeof O.clone}function R(O){return"function"==typeof O.map&&"function"==typeof O.forEach}function T(O){return"function"==typeof O.notifyChange&&"function"==typeof O.watch}function y(O){if("[object Object]"!==Object.prototype.toString.call(O))return!1;const v=Object.getPrototypeOf(O);return null===v||v===Object.prototype}function E(O){if((0,p.dz)(O)||(0,p.mg)(O)||(0,p.UR)(O)||(0,p.IY)(O)||(0,p.jq)(O)||(0,p._G)(O)||(0,p.XJ)(O)||(0,p.vZ)(O)||(0,p.aI)(O))return O.slice();if(O instanceof Date)return new Date(O.getTime());if(O instanceof ArrayBuffer)return O.slice(0,O.byteLength);if(O instanceof Map){const v=new Map;for(const[M,m]of O)v.set(M,_(m));return v}if(O instanceof Set){const v=new Set;for(const M of O)v.add(_(M));return v}return null}function P(O,v){return O===v||"number"==typeof O&&isNaN(O)&&"number"==typeof v&&isNaN(v)||"function"==typeof O?.getTime&&"function"==typeof v?.getTime&&O.getTime()===v.getTime()||!1}function C(O,v){return O===v||(null==O||"string"==typeof O?O===v:"number"==typeof O?O===v||"number"==typeof v&&isNaN(O)&&isNaN(v):O instanceof Date?v instanceof Date&&O.getTime()===v.getTime():Array.isArray(O)?Array.isArray(v)&&(0,d.aI)(O,v):O instanceof Set?v instanceof Set&&function U(O,v){if(O.size!==v.size)return!1;for(const M of O)if(!v.has(M))return!1;return!0}(O,v):O instanceof Map?v instanceof Map&&function W(O,v){if(O.size!==v.size)return!1;for(const[M,m]of O){const Z=v.get(M);if(Z!==m||void 0===Z&&!v.has(M))return!1}return!0}(O,v):!!y(O)&&y(v)&&function N(O,v){if(null===O||null===v)return!1;const M=Object.keys(O);if(null===v||Object.keys(v).length!==M.length)return!1;for(const m of M)if(O[m]!==v[m]||!Object.prototype.hasOwnProperty.call(v,m))return!1;return!0}(O,v))}},3672:(xe,re,u)=>{function d(){const T=new Float32Array(6);return T[0]=1,T[3]=1,T}function I(T,y,E,P){const C=y[P],N=y[P+1];T[P]=E[0]*C+E[2]*N+E[4],T[P+1]=E[1]*C+E[3]*N+E[5]}function F(T,y,E,P=0,C=0,N=2){const U=C||y.length/N;for(let W=P;W<U;W++)I(T,y,E,W*N)}u.d(re,{gb:()=>F,vt:()=>d}),Object.freeze(Object.defineProperty({__proto__:null,clone:function p(T){const y=new Float32Array(6);return y[0]=T[0],y[1]=T[1],y[2]=T[2],y[3]=T[3],y[4]=T[4],y[5]=T[5],y},create:d,createView:function _(T,y){return new Float32Array(T,y,6)},fromValues:function w(T,y,E,P,C,N){const U=new Float32Array(6);return U[0]=T,U[1]=y,U[2]=E,U[3]=P,U[4]=C,U[5]=N,U},transform:I,transformMany:F},Symbol.toStringTag,{value:"Module"}))},44999:(xe,re,u)=>{function d(){return[1,0,0,1,0,0]}function p(R){return[R[0],R[1],R[2],R[3],R[4],R[5]]}u.d(re,{o8:()=>p,vt:()=>d}),Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:[1,0,0,1,0,0],clone:p,create:d,createView:function _(R,T){return new Float64Array(R,T,6)},fromValues:function w(R,T,y,E,P,C){return[R,T,y,E,P,C]}},Symbol.toStringTag,{value:"Module"}))},12273:(xe,re,u)=>{function d(){const F=new Float32Array(9);return F[0]=1,F[4]=1,F[8]=1,F}function p(F){const R=new Float32Array(9);return R[0]=F[0],R[1]=F[1],R[2]=F[2],R[3]=F[3],R[4]=F[4],R[5]=F[5],R[6]=F[6],R[7]=F[7],R[8]=F[8],R}u.d(re,{o8:()=>p,vt:()=>d}),Object.freeze(Object.defineProperty({__proto__:null,clone:p,create:d,createView:function _(F,R){return new Float32Array(F,R,9)},fromValues:function w(F,R,T,y,E,P,C,N,U){const W=new Float32Array(9);return W[0]=F,W[1]=R,W[2]=T,W[3]=y,W[4]=E,W[5]=P,W[6]=C,W[7]=N,W[8]=U,W}},Symbol.toStringTag,{value:"Module"}))},88532:(xe,re,u)=>{function d(){return new Float32Array(2)}function w(U,W){const O=new Float32Array(2);return O[0]=U,O[1]=W,O}function I(){return d()}function F(){return w(1,1)}function R(){return w(1,0)}function T(){return w(0,1)}u.d(re,{Un:()=>E,fA:()=>w,uY:()=>y,vt:()=>d});const y=I(),E=F(),P=R(),C=T();Object.freeze(Object.defineProperty({__proto__:null,ONES:E,UNIT_X:P,UNIT_Y:C,ZEROS:y,clone:function p(U){const W=new Float32Array(2);return W[0]=U[0],W[1]=U[1],W},create:d,createView:function _(U,W){return new Float32Array(U,W,2)},fromValues:w,ones:F,unitX:R,unitY:T,zeros:I},Symbol.toStringTag,{value:"Module"}))},45475:(xe,re,u)=>{function d(){return[0,0]}function p(O){return[O[0],O[1]]}function w(O,v){return[O,v]}function I(O,v=[0,0]){const M=Math.min(2,O.length);for(let m=0;m<M;++m)v[m]=O[m];return v}function T(){return w(1,1)}function y(){return w(1,0)}function E(){return w(0,1)}u.d(re,{Cw:()=>N,JP:()=>U,Un:()=>C,ci:()=>I,fA:()=>w,o8:()=>p,uY:()=>P,vt:()=>d});const P=[0,0],C=T(),N=y(),U=E();Object.freeze(Object.defineProperty({__proto__:null,ONES:C,UNIT_X:N,UNIT_Y:U,ZEROS:P,clone:p,create:d,createView:function F(O,v){return new Float64Array(O,v,2)},freeze:function _(O,v){return[O,v]},fromArray:I,fromValues:w,ones:T,unitX:y,unitY:E,zeros:function R(){return[0,0]}},Symbol.toStringTag,{value:"Module"}))},25866:(xe,re,u)=>{function d(){return[0,0,0]}function p(M){return[M[0],M[1],M[2]]}function w(M,m,Z){return[M,m,Z]}function _(M,m,Z){return[M,m,Z]}function I(M,m=[0,0,0]){const Z=Math.min(3,M.length);for(let D=0;D<Z;++D)m[D]=M[D];return m}function R(){return[0,0,0]}function T(){return w(1,1,1)}function y(){return w(1,0,0)}function E(){return w(0,1,0)}function P(){return w(0,0,1)}u.d(re,{CN:()=>_,Cb:()=>O,Cw:()=>U,JP:()=>W,S:()=>T,Ul:()=>R,Un:()=>N,ci:()=>I,fA:()=>w,o8:()=>p,uY:()=>C,vt:()=>d});const C=[0,0,0],N=T(),U=y(),W=E(),O=P();Object.freeze(Object.defineProperty({__proto__:null,ONES:N,UNIT_X:U,UNIT_Y:W,UNIT_Z:O,ZEROS:C,clone:p,create:d,createView:function F(M,m){return new Float64Array(M,m,3)},freeze:_,fromArray:I,fromValues:w,ones:T,unitX:y,unitY:E,unitZ:P,zeros:R},Symbol.toStringTag,{value:"Module"}))},85952:(xe,re,u)=>{u.d(re,{DF:()=>R,FD:()=>p,Ov:()=>_,ct:()=>T});let d=1e-6;function p(){return d}const _=Math.random,I=Math.PI/180,F=180/Math.PI;function R(P){return P*I}function T(P){return P*F}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:_,equals:function y(P,C){return Math.abs(P-C)<=d*Math.max(1,Math.abs(P),Math.abs(C))},getEpsilon:p,setEpsilon:function w(P){d=P},toDegree:T,toRadian:R},Symbol.toStringTag,{value:"Module"}))},76329:(xe,re,u)=>{u.d(re,{$0:()=>P,B8:()=>I,CV:()=>C,D_:()=>w,Tl:()=>E,e$:()=>T,hZ:()=>_,hs:()=>y,kN:()=>N,lw:()=>R});var d=u(85952);function w(Y){return Y[0]=1,Y[1]=0,Y[2]=0,Y[3]=1,Y[4]=0,Y[5]=0,Y}function _(Y,z,te,ee,Q,q,j){return Y[0]=z,Y[1]=te,Y[2]=ee,Y[3]=Q,Y[4]=q,Y[5]=j,Y}function I(Y,z){const te=z[0],ee=z[1],Q=z[2],q=z[3],j=z[4],X=z[5];let A=te*q-ee*Q;return A?(A=1/A,Y[0]=q*A,Y[1]=-ee*A,Y[2]=-Q*A,Y[3]=te*A,Y[4]=(Q*X-q*j)*A,Y[5]=(ee*j-te*X)*A,Y):null}function R(Y,z,te){const ee=z[0],Q=z[1],q=z[2],j=z[3],X=z[4],A=z[5],ie=te[0],K=te[1],B=te[2],G=te[3],se=te[4],J=te[5];return Y[0]=ee*ie+q*K,Y[1]=Q*ie+j*K,Y[2]=ee*B+q*G,Y[3]=Q*B+j*G,Y[4]=ee*se+q*J+X,Y[5]=Q*se+j*J+A,Y}function T(Y,z,te){const ee=z[0],Q=z[1],q=z[2],j=z[3],X=z[4],A=z[5],ie=Math.sin(te),K=Math.cos(te);return Y[0]=ee*K+q*ie,Y[1]=Q*K+j*ie,Y[2]=ee*-ie+q*K,Y[3]=Q*-ie+j*K,Y[4]=X,Y[5]=A,Y}function y(Y,z,te){const Q=z[1],q=z[2],j=z[3],X=z[4],A=z[5],ie=te[0],K=te[1];return Y[0]=z[0]*ie,Y[1]=Q*ie,Y[2]=q*K,Y[3]=j*K,Y[4]=X,Y[5]=A,Y}function E(Y,z,te){const ee=z[0],Q=z[1],q=z[2],j=z[3],X=z[4],A=z[5],ie=te[0],K=te[1];return Y[0]=ee,Y[1]=Q,Y[2]=q,Y[3]=j,Y[4]=ee*ie+q*K+X,Y[5]=Q*ie+j*K+A,Y}function P(Y,z){const te=Math.sin(z),ee=Math.cos(z);return Y[0]=ee,Y[1]=te,Y[2]=-te,Y[3]=ee,Y[4]=0,Y[5]=0,Y}function C(Y,z){return Y[0]=z[0],Y[1]=0,Y[2]=0,Y[3]=z[1],Y[4]=0,Y[5]=0,Y}function N(Y,z){return Y[0]=1,Y[1]=0,Y[2]=0,Y[3]=1,Y[4]=z[0],Y[5]=z[1],Y}function v(Y,z,te){return Y[0]=z[0]-te[0],Y[1]=z[1]-te[1],Y[2]=z[2]-te[2],Y[3]=z[3]-te[3],Y[4]=z[4]-te[4],Y[5]=z[5]-te[5],Y}Object.freeze(Object.defineProperty({__proto__:null,add:function O(Y,z,te){return Y[0]=z[0]+te[0],Y[1]=z[1]+te[1],Y[2]=z[2]+te[2],Y[3]=z[3]+te[3],Y[4]=z[4]+te[4],Y[5]=z[5]+te[5],Y},copy:function p(Y,z){return Y[0]=z[0],Y[1]=z[1],Y[2]=z[2],Y[3]=z[3],Y[4]=z[4],Y[5]=z[5],Y},determinant:function F(Y){return Y[0]*Y[3]-Y[1]*Y[2]},equals:function D(Y,z){const te=Y[0],ee=Y[1],Q=Y[2],q=Y[3],j=Y[4],X=Y[5],A=z[0],ie=z[1],K=z[2],B=z[3],G=z[4],se=z[5],J=(0,d.FD)();return Math.abs(te-A)<=J*Math.max(1,Math.abs(te),Math.abs(A))&&Math.abs(ee-ie)<=J*Math.max(1,Math.abs(ee),Math.abs(ie))&&Math.abs(Q-K)<=J*Math.max(1,Math.abs(Q),Math.abs(K))&&Math.abs(q-B)<=J*Math.max(1,Math.abs(q),Math.abs(B))&&Math.abs(j-G)<=J*Math.max(1,Math.abs(j),Math.abs(G))&&Math.abs(X-se)<=J*Math.max(1,Math.abs(X),Math.abs(se))},exactEquals:function Z(Y,z){return Y[0]===z[0]&&Y[1]===z[1]&&Y[2]===z[2]&&Y[3]===z[3]&&Y[4]===z[4]&&Y[5]===z[5]},frob:function W(Y){return Math.sqrt(Y[0]**2+Y[1]**2+Y[2]**2+Y[3]**2+Y[4]**2+Y[5]**2+1)},fromRotation:P,fromScaling:C,fromTranslation:N,identity:w,invert:I,mul:R,multiply:R,multiplyScalar:function M(Y,z,te){return Y[0]=z[0]*te,Y[1]=z[1]*te,Y[2]=z[2]*te,Y[3]=z[3]*te,Y[4]=z[4]*te,Y[5]=z[5]*te,Y},multiplyScalarAndAdd:function m(Y,z,te,ee){return Y[0]=z[0]+te[0]*ee,Y[1]=z[1]+te[1]*ee,Y[2]=z[2]+te[2]*ee,Y[3]=z[3]+te[3]*ee,Y[4]=z[4]+te[4]*ee,Y[5]=z[5]+te[5]*ee,Y},rotate:T,scale:y,set:_,str:function U(Y){return"mat2d("+Y[0]+", "+Y[1]+", "+Y[2]+", "+Y[3]+", "+Y[4]+", "+Y[5]+")"},sub:v,subtract:v,translate:E},Symbol.toStringTag,{value:"Module"}))},31610:(xe,re,u)=>{u.d(re,{$0:()=>O,B8:()=>R,D_:()=>I,Ge:()=>D,I0:()=>m,KC:()=>T,Oe:()=>U,Tl:()=>P,a4:()=>y,dR:()=>Z,e$:()=>C,hZ:()=>_,hs:()=>N,kN:()=>W,lw:()=>E,mg:()=>F,z0:()=>p});var d=u(85952);function p(K,B){return K[0]=B[0],K[1]=B[1],K[2]=B[2],K[3]=B[4],K[4]=B[5],K[5]=B[6],K[6]=B[8],K[7]=B[9],K[8]=B[10],K}function _(K,B,G,se,J,ce,_e,Ce,Oe,fe){return K[0]=B,K[1]=G,K[2]=se,K[3]=J,K[4]=ce,K[5]=_e,K[6]=Ce,K[7]=Oe,K[8]=fe,K}function I(K){return K[0]=1,K[1]=0,K[2]=0,K[3]=0,K[4]=1,K[5]=0,K[6]=0,K[7]=0,K[8]=1,K}function F(K,B){if(K===B){const G=B[1],se=B[2],J=B[5];K[1]=B[3],K[2]=B[6],K[3]=G,K[5]=B[7],K[6]=se,K[7]=J}else K[0]=B[0],K[1]=B[3],K[2]=B[6],K[3]=B[1],K[4]=B[4],K[5]=B[7],K[6]=B[2],K[7]=B[5],K[8]=B[8];return K}function R(K,B){const G=B[0],se=B[1],J=B[2],ce=B[3],_e=B[4],Ce=B[5],Oe=B[6],fe=B[7],Se=B[8],me=Se*_e-Ce*fe,ge=-Se*ce+Ce*Oe,Be=fe*ce-_e*Oe;let Le=G*me+se*ge+J*Be;return Le?(Le=1/Le,K[0]=me*Le,K[1]=(-Se*se+J*fe)*Le,K[2]=(Ce*se-J*_e)*Le,K[3]=ge*Le,K[4]=(Se*G-J*Oe)*Le,K[5]=(-Ce*G+J*ce)*Le,K[6]=Be*Le,K[7]=(-fe*G+se*Oe)*Le,K[8]=(_e*G-se*ce)*Le,K):null}function T(K,B){const G=B[0],se=B[1],J=B[2],ce=B[3],_e=B[4],Ce=B[5],Oe=B[6],fe=B[7],Se=B[8];return K[0]=_e*Se-Ce*fe,K[1]=J*fe-se*Se,K[2]=se*Ce-J*_e,K[3]=Ce*Oe-ce*Se,K[4]=G*Se-J*Oe,K[5]=J*ce-G*Ce,K[6]=ce*fe-_e*Oe,K[7]=se*Oe-G*fe,K[8]=G*_e-se*ce,K}function y(K){const J=K[3],ce=K[4],_e=K[5],Ce=K[6],Oe=K[7],fe=K[8];return K[0]*(fe*ce-_e*Oe)+K[1]*(-fe*J+_e*Ce)+K[2]*(Oe*J-ce*Ce)}function E(K,B,G){const se=B[0],J=B[1],ce=B[2],_e=B[3],Ce=B[4],Oe=B[5],fe=B[6],Se=B[7],me=B[8],ge=G[0],Be=G[1],Le=G[2],Re=G[3],oe=G[4],S=G[5],k=G[6],ae=G[7],he=G[8];return K[0]=ge*se+Be*_e+Le*fe,K[1]=ge*J+Be*Ce+Le*Se,K[2]=ge*ce+Be*Oe+Le*me,K[3]=Re*se+oe*_e+S*fe,K[4]=Re*J+oe*Ce+S*Se,K[5]=Re*ce+oe*Oe+S*me,K[6]=k*se+ae*_e+he*fe,K[7]=k*J+ae*Ce+he*Se,K[8]=k*ce+ae*Oe+he*me,K}function P(K,B,G){const se=B[0],J=B[1],ce=B[2],_e=B[3],Ce=B[4],Oe=B[5],fe=B[6],Se=B[7],me=B[8],ge=G[0],Be=G[1];return K[0]=se,K[1]=J,K[2]=ce,K[3]=_e,K[4]=Ce,K[5]=Oe,K[6]=ge*se+Be*_e+fe,K[7]=ge*J+Be*Ce+Se,K[8]=ge*ce+Be*Oe+me,K}function C(K,B,G){const se=B[0],J=B[1],ce=B[2],_e=B[3],Ce=B[4],Oe=B[5],fe=B[6],Se=B[7],me=B[8],ge=Math.sin(G),Be=Math.cos(G);return K[0]=Be*se+ge*_e,K[1]=Be*J+ge*Ce,K[2]=Be*ce+ge*Oe,K[3]=Be*_e-ge*se,K[4]=Be*Ce-ge*J,K[5]=Be*Oe-ge*ce,K[6]=fe,K[7]=Se,K[8]=me,K}function N(K,B,G){const se=G[0],J=G[1],ce=G[2];return K[0]=se*B[0],K[1]=se*B[1],K[2]=se*B[2],K[3]=J*B[3],K[4]=J*B[4],K[5]=J*B[5],K[6]=ce*B[6],K[7]=ce*B[7],K[8]=ce*B[8],K}function U(K,B,G){const se=G[0],J=G[1];return K[0]=se*B[0],K[1]=se*B[1],K[2]=se*B[2],K[3]=J*B[3],K[4]=J*B[4],K[5]=J*B[5],K}function W(K,B){return K[0]=1,K[1]=0,K[2]=0,K[3]=0,K[4]=1,K[5]=0,K[6]=B[0],K[7]=B[1],K[8]=1,K}function O(K,B){const G=Math.sin(B),se=Math.cos(B);return K[0]=se,K[1]=G,K[2]=0,K[3]=-G,K[4]=se,K[5]=0,K[6]=0,K[7]=0,K[8]=1,K}function m(K,B){const G=B[0],se=B[1],J=B[2],ce=B[3],_e=G+G,Ce=se+se,Oe=J+J,fe=G*_e,Se=se*_e,me=se*Ce,ge=J*_e,Be=J*Ce,Le=J*Oe,Re=ce*_e,oe=ce*Ce,S=ce*Oe;return K[0]=1-me-Le,K[3]=Se-S,K[6]=ge+oe,K[1]=Se+S,K[4]=1-fe-Le,K[7]=Be-Re,K[2]=ge-oe,K[5]=Be+Re,K[8]=1-fe-me,K}function Z(K,B){const G=B[0],se=B[1],J=B[2],ce=B[4],_e=B[5],Ce=B[6],Oe=B[8],fe=B[9],Se=B[10],me=Se*_e-Ce*fe,ge=-Se*ce+Ce*Oe,Be=fe*ce-_e*Oe,Le=G*me+se*ge+J*Be;if(!Le)return null;const Re=1/Le;return K[0]=me*Re,K[1]=(-Se*se+J*fe)*Re,K[2]=(Ce*se-J*_e)*Re,K[3]=ge*Re,K[4]=(Se*G-J*Oe)*Re,K[5]=(-Ce*G+J*ce)*Re,K[6]=Be*Re,K[7]=(-fe*G+se*Oe)*Re,K[8]=(_e*G-se*ce)*Re,K}function D(K,B){const G=B[0],se=B[1],J=B[2],ce=B[3],_e=B[4],Ce=B[5],Oe=B[6],fe=B[7],Se=B[8],me=B[9],ge=B[10],Be=B[11],Le=B[12],Re=B[13],oe=B[14],S=B[15],k=G*Ce-se*_e,ae=G*Oe-J*_e,he=G*fe-ce*_e,Ae=se*Oe-J*Ce,je=se*fe-ce*Ce,Fe=J*fe-ce*Oe,Ue=Se*Re-me*Le,We=Se*oe-ge*Le,ue=Se*S-Be*Le,Te=me*oe-ge*Re,we=me*S-Be*Re,ze=ge*S-Be*oe;let Ee=k*ze-ae*we+he*Te+Ae*ue-je*We+Fe*Ue;return Ee?(Ee=1/Ee,K[0]=(Ce*ze-Oe*we+fe*Te)*Ee,K[1]=(Oe*ue-_e*ze-fe*We)*Ee,K[2]=(_e*we-Ce*ue+fe*Ue)*Ee,K[3]=(J*we-se*ze-ce*Te)*Ee,K[4]=(G*ze-J*ue+ce*We)*Ee,K[5]=(se*ue-G*we-ce*Ue)*Ee,K[6]=(Re*Fe-oe*je+S*Ae)*Ee,K[7]=(oe*he-Le*Fe-S*ae)*Ee,K[8]=(Le*je-Re*he+S*k)*Ee,K):null}function z(K,B,G){return K[0]=B[0]-G[0],K[1]=B[1]-G[1],K[2]=B[2]-G[2],K[3]=B[3]-G[3],K[4]=B[4]-G[4],K[5]=B[5]-G[5],K[6]=B[6]-G[6],K[7]=B[7]-G[7],K[8]=B[8]-G[8],K}Object.freeze(Object.defineProperty({__proto__:null,add:function Y(K,B,G){return K[0]=B[0]+G[0],K[1]=B[1]+G[1],K[2]=B[2]+G[2],K[3]=B[3]+G[3],K[4]=B[4]+G[4],K[5]=B[5]+G[5],K[6]=B[6]+G[6],K[7]=B[7]+G[7],K[8]=B[8]+G[8],K},adjoint:T,copy:function w(K,B){return K[0]=B[0],K[1]=B[1],K[2]=B[2],K[3]=B[3],K[4]=B[4],K[5]=B[5],K[6]=B[6],K[7]=B[7],K[8]=B[8],K},determinant:y,equals:function q(K,B){const G=K[0],se=K[1],J=K[2],ce=K[3],_e=K[4],Ce=K[5],Oe=K[6],fe=K[7],Se=K[8],me=B[0],ge=B[1],Be=B[2],Le=B[3],Re=B[4],oe=B[5],S=B[6],k=B[7],ae=B[8],he=(0,d.FD)();return Math.abs(G-me)<=he*Math.max(1,Math.abs(G),Math.abs(me))&&Math.abs(se-ge)<=he*Math.max(1,Math.abs(se),Math.abs(ge))&&Math.abs(J-Be)<=he*Math.max(1,Math.abs(J),Math.abs(Be))&&Math.abs(ce-Le)<=he*Math.max(1,Math.abs(ce),Math.abs(Le))&&Math.abs(_e-Re)<=he*Math.max(1,Math.abs(_e),Math.abs(Re))&&Math.abs(Ce-oe)<=he*Math.max(1,Math.abs(Ce),Math.abs(oe))&&Math.abs(Oe-S)<=he*Math.max(1,Math.abs(Oe),Math.abs(S))&&Math.abs(fe-k)<=he*Math.max(1,Math.abs(fe),Math.abs(k))&&Math.abs(Se-ae)<=he*Math.max(1,Math.abs(Se),Math.abs(ae))},exactEquals:function Q(K,B){return K[0]===B[0]&&K[1]===B[1]&&K[2]===B[2]&&K[3]===B[3]&&K[4]===B[4]&&K[5]===B[5]&&K[6]===B[6]&&K[7]===B[7]&&K[8]===B[8]},frob:function H(K){return Math.sqrt(K[0]**2+K[1]**2+K[2]**2+K[3]**2+K[4]**2+K[5]**2+K[6]**2+K[7]**2+K[8]**2)},fromMat2d:function M(K,B){return K[0]=B[0],K[1]=B[1],K[2]=0,K[3]=B[2],K[4]=B[3],K[5]=0,K[6]=B[4],K[7]=B[5],K[8]=1,K},fromMat4:p,fromQuat:m,fromRotation:O,fromScaling:function v(K,B){return K[0]=B[0],K[1]=0,K[2]=0,K[3]=0,K[4]=B[1],K[5]=0,K[6]=0,K[7]=0,K[8]=1,K},fromTranslation:W,identity:I,invert:R,isOrthoNormal:function j(K){const B=(0,d.FD)(),G=K[0],se=K[1],J=K[2],ce=K[3],_e=K[4],Ce=K[5],Oe=K[6],fe=K[7],Se=K[8];return Math.abs(1-(G*G+ce*ce+Oe*Oe))<=B&&Math.abs(1-(se*se+_e*_e+fe*fe))<=B&&Math.abs(1-(J*J+Ce*Ce+Se*Se))<=B},mul:E,multiply:E,multiplyScalar:function te(K,B,G){return K[0]=B[0]*G,K[1]=B[1]*G,K[2]=B[2]*G,K[3]=B[3]*G,K[4]=B[4]*G,K[5]=B[5]*G,K[6]=B[6]*G,K[7]=B[7]*G,K[8]=B[8]*G,K},multiplyScalarAndAdd:function ee(K,B,G,se){return K[0]=B[0]+G[0]*se,K[1]=B[1]+G[1]*se,K[2]=B[2]+G[2]*se,K[3]=B[3]+G[3]*se,K[4]=B[4]+G[4]*se,K[5]=B[5]+G[5]*se,K[6]=B[6]+G[6]*se,K[7]=B[7]+G[7]*se,K[8]=B[8]+G[8]*se,K},normalFromMat4:D,normalFromMat4Legacy:Z,projection:function L(K,B,G){return K[0]=2/B,K[1]=0,K[2]=0,K[3]=0,K[4]=-2/G,K[5]=0,K[6]=-1,K[7]=1,K[8]=1,K},rotate:C,scale:N,scaleByVec2:U,set:_,str:function b(K){return"mat3("+K[0]+", "+K[1]+", "+K[2]+", "+K[3]+", "+K[4]+", "+K[5]+", "+K[6]+", "+K[7]+", "+K[8]+")"},sub:z,subtract:z,translate:P,transpose:F},Symbol.toStringTag,{value:"Module"}))},92771:(xe,re,u)=>{u.d(re,{$0:()=>Z,$h:()=>A,B8:()=>T,C:()=>w,CV:()=>m,D_:()=>I,I0:()=>X,IL:()=>ee,N9:()=>b,O7:()=>j,Qr:()=>v,Qw:()=>R,Tl:()=>C,Z8:()=>O,aI:()=>me,e$:()=>U,eL:()=>W,hM:()=>D,hZ:()=>_,hs:()=>N,kN:()=>M,l:()=>Q,lw:()=>P,mg:()=>F,o1:()=>q,sC:()=>te,t2:()=>Se,t5:()=>G,tZ:()=>Be,ut:()=>ge,v3:()=>B});var d=u(25866),p=u(85952);function w(S,k){return S[0]=k[0],S[1]=k[1],S[2]=k[2],S[3]=k[3],S[4]=k[4],S[5]=k[5],S[6]=k[6],S[7]=k[7],S[8]=k[8],S[9]=k[9],S[10]=k[10],S[11]=k[11],S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15],S}function _(S,k,ae,he,Ae,je,Fe,Ue,We,ue,Te,we,ze,Ee,Me,ve,Ie){return S[0]=k,S[1]=ae,S[2]=he,S[3]=Ae,S[4]=je,S[5]=Fe,S[6]=Ue,S[7]=We,S[8]=ue,S[9]=Te,S[10]=we,S[11]=ze,S[12]=Ee,S[13]=Me,S[14]=ve,S[15]=Ie,S}function I(S){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function F(S,k){if(S===k){const ae=k[1],he=k[2],Ae=k[3],je=k[6],Fe=k[7],Ue=k[11];S[1]=k[4],S[2]=k[8],S[3]=k[12],S[4]=ae,S[6]=k[9],S[7]=k[13],S[8]=he,S[9]=je,S[11]=k[14],S[12]=Ae,S[13]=Fe,S[14]=Ue}else S[0]=k[0],S[1]=k[4],S[2]=k[8],S[3]=k[12],S[4]=k[1],S[5]=k[5],S[6]=k[9],S[7]=k[13],S[8]=k[2],S[9]=k[6],S[10]=k[10],S[11]=k[14],S[12]=k[3],S[13]=k[7],S[14]=k[11],S[15]=k[15];return S}function R(S,k){return T(S,k)||I(S),S}function T(S,k){const ae=k[0],he=k[1],Ae=k[2],je=k[3],Fe=k[4],Ue=k[5],We=k[6],ue=k[7],Te=k[8],we=k[9],ze=k[10],Ee=k[11],Me=k[12],ve=k[13],Ie=k[14],be=k[15],Je=ae*Ue-he*Fe,tt=ae*We-Ae*Fe,lt=ae*ue-je*Fe,ft=he*We-Ae*Ue,Et=he*ue-je*Ue,St=Ae*ue-je*We,Rt=Te*ve-we*Me,Lt=Te*Ie-ze*Me,Kt=Te*be-Ee*Me,Vt=we*Ie-ze*ve,zt=we*be-Ee*ve,Qt=ze*be-Ee*Ie;let Wt=Je*Qt-tt*zt+lt*Vt+ft*Kt-Et*Lt+St*Rt;return Wt?(Wt=1/Wt,S[0]=(Ue*Qt-We*zt+ue*Vt)*Wt,S[1]=(Ae*zt-he*Qt-je*Vt)*Wt,S[2]=(ve*St-Ie*Et+be*ft)*Wt,S[3]=(ze*Et-we*St-Ee*ft)*Wt,S[4]=(We*Kt-Fe*Qt-ue*Lt)*Wt,S[5]=(ae*Qt-Ae*Kt+je*Lt)*Wt,S[6]=(Ie*lt-Me*St-be*tt)*Wt,S[7]=(Te*St-ze*lt+Ee*tt)*Wt,S[8]=(Fe*zt-Ue*Kt+ue*Rt)*Wt,S[9]=(he*Kt-ae*zt-je*Rt)*Wt,S[10]=(Me*Et-ve*lt+be*Je)*Wt,S[11]=(we*lt-Te*Et-Ee*Je)*Wt,S[12]=(Ue*Lt-Fe*Vt-We*Rt)*Wt,S[13]=(ae*Vt-he*Lt+Ae*Rt)*Wt,S[14]=(ve*tt-Me*ft-Ie*Je)*Wt,S[15]=(Te*ft-we*tt+ze*Je)*Wt,S):null}function P(S,k,ae){const he=k[0],Ae=k[1],je=k[2],Fe=k[3],Ue=k[4],We=k[5],ue=k[6],Te=k[7],we=k[8],ze=k[9],Ee=k[10],Me=k[11],ve=k[12],Ie=k[13],be=k[14],Je=k[15];let tt=ae[0],lt=ae[1],ft=ae[2],Et=ae[3];return S[0]=tt*he+lt*Ue+ft*we+Et*ve,S[1]=tt*Ae+lt*We+ft*ze+Et*Ie,S[2]=tt*je+lt*ue+ft*Ee+Et*be,S[3]=tt*Fe+lt*Te+ft*Me+Et*Je,tt=ae[4],lt=ae[5],ft=ae[6],Et=ae[7],S[4]=tt*he+lt*Ue+ft*we+Et*ve,S[5]=tt*Ae+lt*We+ft*ze+Et*Ie,S[6]=tt*je+lt*ue+ft*Ee+Et*be,S[7]=tt*Fe+lt*Te+ft*Me+Et*Je,tt=ae[8],lt=ae[9],ft=ae[10],Et=ae[11],S[8]=tt*he+lt*Ue+ft*we+Et*ve,S[9]=tt*Ae+lt*We+ft*ze+Et*Ie,S[10]=tt*je+lt*ue+ft*Ee+Et*be,S[11]=tt*Fe+lt*Te+ft*Me+Et*Je,tt=ae[12],lt=ae[13],ft=ae[14],Et=ae[15],S[12]=tt*he+lt*Ue+ft*we+Et*ve,S[13]=tt*Ae+lt*We+ft*ze+Et*Ie,S[14]=tt*je+lt*ue+ft*Ee+Et*be,S[15]=tt*Fe+lt*Te+ft*Me+Et*Je,S}function C(S,k,ae){const he=ae[0],Ae=ae[1],je=ae[2];if(k===S)S[12]=k[0]*he+k[4]*Ae+k[8]*je+k[12],S[13]=k[1]*he+k[5]*Ae+k[9]*je+k[13],S[14]=k[2]*he+k[6]*Ae+k[10]*je+k[14],S[15]=k[3]*he+k[7]*Ae+k[11]*je+k[15];else{const Fe=k[0],Ue=k[1],We=k[2],ue=k[3],Te=k[4],we=k[5],ze=k[6],Ee=k[7],Me=k[8],ve=k[9],Ie=k[10],be=k[11];S[0]=Fe,S[1]=Ue,S[2]=We,S[3]=ue,S[4]=Te,S[5]=we,S[6]=ze,S[7]=Ee,S[8]=Me,S[9]=ve,S[10]=Ie,S[11]=be,S[12]=Fe*he+Te*Ae+Me*je+k[12],S[13]=Ue*he+we*Ae+ve*je+k[13],S[14]=We*he+ze*Ae+Ie*je+k[14],S[15]=ue*he+Ee*Ae+be*je+k[15]}return S}function N(S,k,ae){const he=ae[0],Ae=ae[1],je=ae[2];return S[0]=k[0]*he,S[1]=k[1]*he,S[2]=k[2]*he,S[3]=k[3]*he,S[4]=k[4]*Ae,S[5]=k[5]*Ae,S[6]=k[6]*Ae,S[7]=k[7]*Ae,S[8]=k[8]*je,S[9]=k[9]*je,S[10]=k[10]*je,S[11]=k[11]*je,S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15],S}function U(S,k,ae,he){let Ae=he[0],je=he[1],Fe=he[2],Ue=Math.sqrt(Ae*Ae+je*je+Fe*Fe);if(Ue<=(0,p.FD)())return void w(S,k);Ue=1/Ue,Ae*=Ue,je*=Ue,Fe*=Ue;const We=Math.sin(ae),ue=Math.cos(ae),Te=1-ue,we=k[0],ze=k[1],Ee=k[2],Me=k[3],ve=k[4],Ie=k[5],be=k[6],Je=k[7],tt=k[8],lt=k[9],ft=k[10],Et=k[11],St=Ae*Ae*Te+ue,Rt=je*Ae*Te+Fe*We,Lt=Fe*Ae*Te-je*We,Kt=Ae*je*Te-Fe*We,Vt=je*je*Te+ue,zt=Fe*je*Te+Ae*We,Qt=Ae*Fe*Te+je*We,Wt=je*Fe*Te-Ae*We,Ne=Fe*Fe*Te+ue;S[0]=we*St+ve*Rt+tt*Lt,S[1]=ze*St+Ie*Rt+lt*Lt,S[2]=Ee*St+be*Rt+ft*Lt,S[3]=Me*St+Je*Rt+Et*Lt,S[4]=we*Kt+ve*Vt+tt*zt,S[5]=ze*Kt+Ie*Vt+lt*zt,S[6]=Ee*Kt+be*Vt+ft*zt,S[7]=Me*Kt+Je*Vt+Et*zt,S[8]=we*Qt+ve*Wt+tt*Ne,S[9]=ze*Qt+Ie*Wt+lt*Ne,S[10]=Ee*Qt+be*Wt+ft*Ne,S[11]=Me*Qt+Je*Wt+Et*Ne,k!==S&&(S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15])}function W(S,k,ae){const he=Math.sin(ae),Ae=Math.cos(ae),je=k[4],Fe=k[5],Ue=k[6],We=k[7],ue=k[8],Te=k[9],we=k[10],ze=k[11];return k!==S&&(S[0]=k[0],S[1]=k[1],S[2]=k[2],S[3]=k[3],S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15]),S[4]=je*Ae+ue*he,S[5]=Fe*Ae+Te*he,S[6]=Ue*Ae+we*he,S[7]=We*Ae+ze*he,S[8]=ue*Ae-je*he,S[9]=Te*Ae-Fe*he,S[10]=we*Ae-Ue*he,S[11]=ze*Ae-We*he,S}function O(S,k,ae){const he=Math.sin(ae),Ae=Math.cos(ae),je=k[0],Fe=k[1],Ue=k[2],We=k[3],ue=k[8],Te=k[9],we=k[10],ze=k[11];return k!==S&&(S[4]=k[4],S[5]=k[5],S[6]=k[6],S[7]=k[7],S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15]),S[0]=je*Ae-ue*he,S[1]=Fe*Ae-Te*he,S[2]=Ue*Ae-we*he,S[3]=We*Ae-ze*he,S[8]=je*he+ue*Ae,S[9]=Fe*he+Te*Ae,S[10]=Ue*he+we*Ae,S[11]=We*he+ze*Ae,S}function v(S,k,ae){const he=Math.sin(ae),Ae=Math.cos(ae),je=k[0],Fe=k[1],Ue=k[2],We=k[3],ue=k[4],Te=k[5],we=k[6],ze=k[7];return k!==S&&(S[8]=k[8],S[9]=k[9],S[10]=k[10],S[11]=k[11],S[12]=k[12],S[13]=k[13],S[14]=k[14],S[15]=k[15]),S[0]=je*Ae+ue*he,S[1]=Fe*Ae+Te*he,S[2]=Ue*Ae+we*he,S[3]=We*Ae+ze*he,S[4]=ue*Ae-je*he,S[5]=Te*Ae-Fe*he,S[6]=we*Ae-Ue*he,S[7]=ze*Ae-We*he,S}function M(S,k){return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=k[0],S[13]=k[1],S[14]=k[2],S[15]=1,S}function m(S,k){return S[0]=k[0],S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=k[1],S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=k[2],S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function Z(S,k,ae){if(0===k)return I(S);let he=ae[0],Ae=ae[1],je=ae[2],Fe=Math.sqrt(he*he+Ae*Ae+je*je);if(Fe<=(0,p.FD)())return null;Fe=1/Fe,he*=Fe,Ae*=Fe,je*=Fe;const Ue=Math.sin(k),We=Math.cos(k),ue=1-We;return S[0]=he*he*ue+We,S[1]=Ae*he*ue+je*Ue,S[2]=je*he*ue-Ae*Ue,S[3]=0,S[4]=he*Ae*ue-je*Ue,S[5]=Ae*Ae*ue+We,S[6]=je*Ae*ue+he*Ue,S[7]=0,S[8]=he*je*ue+Ae*Ue,S[9]=Ae*je*ue-he*Ue,S[10]=je*je*ue+We,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function D(S,k){const ae=Math.sin(k),he=Math.cos(k);return S[0]=1,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=he,S[6]=ae,S[7]=0,S[8]=0,S[9]=-ae,S[10]=he,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function b(S,k){const ae=Math.sin(k),he=Math.cos(k);return S[0]=he,S[1]=ae,S[2]=0,S[3]=0,S[4]=-ae,S[5]=he,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=1,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function H(S,k,ae){const he=k[0],Ae=k[1],je=k[2],Fe=k[3],Ue=he+he,We=Ae+Ae,ue=je+je,Te=he*Ue,we=he*We,ze=he*ue,Ee=Ae*We,Me=Ae*ue,ve=je*ue,Ie=Fe*Ue,be=Fe*We,Je=Fe*ue;return S[0]=1-(Ee+ve),S[1]=we+Je,S[2]=ze-be,S[3]=0,S[4]=we-Je,S[5]=1-(Te+ve),S[6]=Me+Ie,S[7]=0,S[8]=ze+be,S[9]=Me-Ie,S[10]=1-(Te+Ee),S[11]=0,S[12]=ae[0],S[13]=ae[1],S[14]=ae[2],S[15]=1,S}const z=(0,d.vt)();function te(S,k){return S[0]=k[12],S[1]=k[13],S[2]=k[14],S}function ee(S,k){const ae=k[0],he=k[1],Ae=k[2],je=k[4],Fe=k[5],Ue=k[6],We=k[8],ue=k[9],Te=k[10];return S[0]=Math.sqrt(ae*ae+he*he+Ae*Ae),S[1]=Math.sqrt(je*je+Fe*Fe+Ue*Ue),S[2]=Math.sqrt(We*We+ue*ue+Te*Te),S}function Q(S,k){const ae=k[0]+k[5]+k[10];let he=0;return ae>0?(he=2*Math.sqrt(ae+1),S[3]=.25*he,S[0]=(k[6]-k[9])/he,S[1]=(k[8]-k[2])/he,S[2]=(k[1]-k[4])/he):k[0]>k[5]&&k[0]>k[10]?(he=2*Math.sqrt(1+k[0]-k[5]-k[10]),S[3]=(k[6]-k[9])/he,S[0]=.25*he,S[1]=(k[1]+k[4])/he,S[2]=(k[8]+k[2])/he):k[5]>k[10]?(he=2*Math.sqrt(1+k[5]-k[0]-k[10]),S[3]=(k[8]-k[2])/he,S[0]=(k[1]+k[4])/he,S[1]=.25*he,S[2]=(k[6]+k[9])/he):(he=2*Math.sqrt(1+k[10]-k[0]-k[5]),S[3]=(k[1]-k[4])/he,S[0]=(k[8]+k[2])/he,S[1]=(k[6]+k[9])/he,S[2]=.25*he),S}function q(S,k,ae,he){const Ae=k[0],je=k[1],Fe=k[2],Ue=k[3],We=Ae+Ae,ue=je+je,Te=Fe+Fe,we=Ae*We,ze=Ae*ue,Ee=Ae*Te,Me=je*ue,ve=je*Te,Ie=Fe*Te,be=Ue*We,Je=Ue*ue,tt=Ue*Te,lt=he[0],ft=he[1],Et=he[2];return S[0]=(1-(Me+Ie))*lt,S[1]=(ze+tt)*lt,S[2]=(Ee-Je)*lt,S[3]=0,S[4]=(ze-tt)*ft,S[5]=(1-(we+Ie))*ft,S[6]=(ve+be)*ft,S[7]=0,S[8]=(Ee+Je)*Et,S[9]=(ve-be)*Et,S[10]=(1-(we+Me))*Et,S[11]=0,S[12]=ae[0],S[13]=ae[1],S[14]=ae[2],S[15]=1,S}function j(S,k,ae,he,Ae){const je=k[0],Fe=k[1],Ue=k[2],We=k[3],ue=je+je,Te=Fe+Fe,we=Ue+Ue,ze=je*ue,Ee=je*Te,Me=je*we,ve=Fe*Te,Ie=Fe*we,be=Ue*we,Je=We*ue,tt=We*Te,lt=We*we,ft=he[0],Et=he[1],St=he[2],Rt=Ae[0],Lt=Ae[1],Kt=Ae[2],Vt=(1-(ve+be))*ft,zt=(Ee+lt)*ft,Qt=(Me-tt)*ft,Wt=(Ee-lt)*Et,Ne=(1-(ze+be))*Et,st=(Ie+Je)*Et,dt=(Me+tt)*St,nt=(Ie-Je)*St,gt=(1-(ze+ve))*St;return S[0]=Vt,S[1]=zt,S[2]=Qt,S[3]=0,S[4]=Wt,S[5]=Ne,S[6]=st,S[7]=0,S[8]=dt,S[9]=nt,S[10]=gt,S[11]=0,S[12]=ae[0]+Rt-(Vt*Rt+Wt*Lt+dt*Kt),S[13]=ae[1]+Lt-(zt*Rt+Ne*Lt+nt*Kt),S[14]=ae[2]+Kt-(Qt*Rt+st*Lt+gt*Kt),S[15]=1,S}function X(S,k){const ae=k[0],he=k[1],Ae=k[2],je=k[3],Fe=ae+ae,Ue=he+he,We=Ae+Ae,ue=ae*Fe,Te=he*Fe,we=he*Ue,ze=Ae*Fe,Ee=Ae*Ue,Me=Ae*We,ve=je*Fe,Ie=je*Ue,be=je*We;return S[0]=1-we-Me,S[1]=Te+be,S[2]=ze-Ie,S[3]=0,S[4]=Te-be,S[5]=1-ue-Me,S[6]=Ee+ve,S[7]=0,S[8]=ze+Ie,S[9]=Ee-ve,S[10]=1-ue-we,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S}function A(S,k,ae,he,Ae,je,Fe){const Ue=1/(ae-k),We=1/(Ae-he),ue=1/(je-Fe);return S[0]=2*je*Ue,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=2*je*We,S[6]=0,S[7]=0,S[8]=(ae+k)*Ue,S[9]=(Ae+he)*We,S[10]=(Fe+je)*ue,S[11]=-1,S[12]=0,S[13]=0,S[14]=Fe*je*2*ue,S[15]=0,S}function B(S,k,ae,he,Ae,je,Fe){const Ue=1/(k-ae),We=1/(he-Ae),ue=1/(je-Fe);return S[0]=-2*Ue,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=-2*We,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[10]=2*ue,S[11]=0,S[12]=(k+ae)*Ue,S[13]=(Ae+he)*We,S[14]=(Fe+je)*ue,S[15]=1,S}function G(S,k,ae,he){const Ae=k[0],je=k[1],Fe=k[2];let Ue=Ae-ae[0],We=je-ae[1],ue=Fe-ae[2];const Te=(0,p.FD)();if(Math.abs(Ue)<Te&&Math.abs(We)<Te&&Math.abs(ue)<Te)return void I(S);let we=1/Math.sqrt(Ue*Ue+We*We+ue*ue);Ue*=we,We*=we,ue*=we;const ze=he[0],Ee=he[1],Me=he[2];let ve=Ee*ue-Me*We,Ie=Me*Ue-ze*ue,be=ze*We-Ee*Ue;we=Math.sqrt(ve*ve+Ie*Ie+be*be),we?(we=1/we,ve*=we,Ie*=we,be*=we):(ve=0,Ie=0,be=0);let Je=We*be-ue*Ie,tt=ue*ve-Ue*be,lt=Ue*Ie-We*ve;we=Math.sqrt(Je*Je+tt*tt+lt*lt),we?(we=1/we,Je*=we,tt*=we,lt*=we):(Je=0,tt=0,lt=0),S[0]=ve,S[1]=Je,S[2]=Ue,S[3]=0,S[4]=Ie,S[5]=tt,S[6]=We,S[7]=0,S[8]=be,S[9]=lt,S[10]=ue,S[11]=0,S[12]=-(ve*Ae+Ie*je+be*Fe),S[13]=-(Je*Ae+tt*je+lt*Fe),S[14]=-(Ue*Ae+We*je+ue*Fe),S[15]=1}function Ce(S,k,ae){return S[0]=k[0]-ae[0],S[1]=k[1]-ae[1],S[2]=k[2]-ae[2],S[3]=k[3]-ae[3],S[4]=k[4]-ae[4],S[5]=k[5]-ae[5],S[6]=k[6]-ae[6],S[7]=k[7]-ae[7],S[8]=k[8]-ae[8],S[9]=k[9]-ae[9],S[10]=k[10]-ae[10],S[11]=k[11]-ae[11],S[12]=k[12]-ae[12],S[13]=k[13]-ae[13],S[14]=k[14]-ae[14],S[15]=k[15]-ae[15],S}function Se(S,k){return S[0]===k[0]&&S[1]===k[1]&&S[2]===k[2]&&S[3]===k[3]&&S[4]===k[4]&&S[5]===k[5]&&S[6]===k[6]&&S[7]===k[7]&&S[8]===k[8]&&S[9]===k[9]&&S[10]===k[10]&&S[11]===k[11]&&S[12]===k[12]&&S[13]===k[13]&&S[14]===k[14]&&S[15]===k[15]}function me(S,k){if(S===k)return!0;const ae=S[0],he=S[1],Ae=S[2],je=S[3],Fe=S[4],Ue=S[5],We=S[6],ue=S[7],Te=S[8],we=S[9],ze=S[10],Ee=S[11],Me=S[12],ve=S[13],Ie=S[14],be=S[15],Je=k[0],tt=k[1],lt=k[2],ft=k[3],Et=k[4],St=k[5],Rt=k[6],Lt=k[7],Kt=k[8],Vt=k[9],zt=k[10],Qt=k[11],Wt=k[12],Ne=k[13],st=k[14],dt=k[15],nt=(0,p.FD)();return Math.abs(ae-Je)<=nt*Math.max(1,Math.abs(ae),Math.abs(Je))&&Math.abs(he-tt)<=nt*Math.max(1,Math.abs(he),Math.abs(tt))&&Math.abs(Ae-lt)<=nt*Math.max(1,Math.abs(Ae),Math.abs(lt))&&Math.abs(je-ft)<=nt*Math.max(1,Math.abs(je),Math.abs(ft))&&Math.abs(Fe-Et)<=nt*Math.max(1,Math.abs(Fe),Math.abs(Et))&&Math.abs(Ue-St)<=nt*Math.max(1,Math.abs(Ue),Math.abs(St))&&Math.abs(We-Rt)<=nt*Math.max(1,Math.abs(We),Math.abs(Rt))&&Math.abs(ue-Lt)<=nt*Math.max(1,Math.abs(ue),Math.abs(Lt))&&Math.abs(Te-Kt)<=nt*Math.max(1,Math.abs(Te),Math.abs(Kt))&&Math.abs(we-Vt)<=nt*Math.max(1,Math.abs(we),Math.abs(Vt))&&Math.abs(ze-zt)<=nt*Math.max(1,Math.abs(ze),Math.abs(zt))&&Math.abs(Ee-Qt)<=nt*Math.max(1,Math.abs(Ee),Math.abs(Qt))&&Math.abs(Me-Wt)<=nt*Math.max(1,Math.abs(Me),Math.abs(Wt))&&Math.abs(ve-Ne)<=nt*Math.max(1,Math.abs(ve),Math.abs(Ne))&&Math.abs(Ie-st)<=nt*Math.max(1,Math.abs(Ie),Math.abs(st))&&Math.abs(be-dt)<=nt*Math.max(1,Math.abs(be),Math.abs(dt))}function ge(S){const k=(0,p.FD)(),ae=S[0],he=S[1],Ae=S[2],je=S[4],Fe=S[5],Ue=S[6],We=S[8],ue=S[9],Te=S[10];return Math.abs(1-(ae*ae+je*je+We*We))<=k&&Math.abs(1-(he*he+Fe*Fe+ue*ue))<=k&&Math.abs(1-(Ae*Ae+Ue*Ue+Te*Te))<=k}function Be(S){return 1===S[0]&&0===S[1]&&0===S[2]&&0===S[4]&&1===S[5]&&0===S[6]&&0===S[8]&&0===S[9]&&1===S[10]}Object.freeze(Object.defineProperty({__proto__:null,add:function _e(S,k,ae){return S[0]=k[0]+ae[0],S[1]=k[1]+ae[1],S[2]=k[2]+ae[2],S[3]=k[3]+ae[3],S[4]=k[4]+ae[4],S[5]=k[5]+ae[5],S[6]=k[6]+ae[6],S[7]=k[7]+ae[7],S[8]=k[8]+ae[8],S[9]=k[9]+ae[9],S[10]=k[10]+ae[10],S[11]=k[11]+ae[11],S[12]=k[12]+ae[12],S[13]=k[13]+ae[13],S[14]=k[14]+ae[14],S[15]=k[15]+ae[15],S},adjoint:function y(S,k){const ae=k[0],he=k[1],Ae=k[2],je=k[3],Fe=k[4],Ue=k[5],We=k[6],ue=k[7],Te=k[8],we=k[9],ze=k[10],Ee=k[11],Me=k[12],ve=k[13],Ie=k[14],be=k[15];return S[0]=Ue*(ze*be-Ee*Ie)-we*(We*be-ue*Ie)+ve*(We*Ee-ue*ze),S[1]=-(he*(ze*be-Ee*Ie)-we*(Ae*be-je*Ie)+ve*(Ae*Ee-je*ze)),S[2]=he*(We*be-ue*Ie)-Ue*(Ae*be-je*Ie)+ve*(Ae*ue-je*We),S[3]=-(he*(We*Ee-ue*ze)-Ue*(Ae*Ee-je*ze)+we*(Ae*ue-je*We)),S[4]=-(Fe*(ze*be-Ee*Ie)-Te*(We*be-ue*Ie)+Me*(We*Ee-ue*ze)),S[5]=ae*(ze*be-Ee*Ie)-Te*(Ae*be-je*Ie)+Me*(Ae*Ee-je*ze),S[6]=-(ae*(We*be-ue*Ie)-Fe*(Ae*be-je*Ie)+Me*(Ae*ue-je*We)),S[7]=ae*(We*Ee-ue*ze)-Fe*(Ae*Ee-je*ze)+Te*(Ae*ue-je*We),S[8]=Fe*(we*be-Ee*ve)-Te*(Ue*be-ue*ve)+Me*(Ue*Ee-ue*we),S[9]=-(ae*(we*be-Ee*ve)-Te*(he*be-je*ve)+Me*(he*Ee-je*we)),S[10]=ae*(Ue*be-ue*ve)-Fe*(he*be-je*ve)+Me*(he*ue-je*Ue),S[11]=-(ae*(Ue*Ee-ue*we)-Fe*(he*Ee-je*we)+Te*(he*ue-je*Ue)),S[12]=-(Fe*(we*Ie-ze*ve)-Te*(Ue*Ie-We*ve)+Me*(Ue*ze-We*we)),S[13]=ae*(we*Ie-ze*ve)-Te*(he*Ie-Ae*ve)+Me*(he*ze-Ae*we),S[14]=-(ae*(Ue*Ie-We*ve)-Fe*(he*Ie-Ae*ve)+Me*(he*We-Ae*Ue)),S[15]=ae*(Ue*ze-We*we)-Fe*(he*ze-Ae*we)+Te*(he*We-Ae*Ue),S},copy:w,determinant:function E(S){const k=S[0],ae=S[1],he=S[2],Ae=S[3],je=S[4],Fe=S[5],Ue=S[6],We=S[7],ue=S[8],Te=S[9],we=S[10],ze=S[11],Ee=S[12],Me=S[13],ve=S[14],Ie=S[15];return(k*Fe-ae*je)*(we*Ie-ze*ve)-(k*Ue-he*je)*(Te*Ie-ze*Me)+(k*We-Ae*je)*(Te*ve-we*Me)+(ae*Ue-he*Fe)*(ue*Ie-ze*Ee)-(ae*We-Ae*Fe)*(ue*ve-we*Ee)+(he*We-Ae*Ue)*(ue*Me-Te*Ee)},equals:me,exactEquals:Se,frob:function ce(S){return Math.sqrt(S[0]**2+S[1]**2+S[2]**2+S[3]**2+S[4]**2+S[5]**2+S[6]**2+S[7]**2+S[8]**2+S[9]**2+S[10]**2+S[11]**2+S[12]**2+S[13]**2+S[14]**2+S[15]**2)},fromQuat:X,fromQuat2:function Y(S,k){const ae=z,he=-k[0],Ae=-k[1],je=-k[2],Fe=k[3],Ue=k[4],We=k[5],ue=k[6],Te=k[7],we=he*he+Ae*Ae+je*je+Fe*Fe;return we>0?(ae[0]=2*(Ue*Fe+Te*he+We*je-ue*Ae)/we,ae[1]=2*(We*Fe+Te*Ae+ue*he-Ue*je)/we,ae[2]=2*(ue*Fe+Te*je+Ue*Ae-We*he)/we):(ae[0]=2*(Ue*Fe+Te*he+We*je-ue*Ae),ae[1]=2*(We*Fe+Te*Ae+ue*he-Ue*je),ae[2]=2*(ue*Fe+Te*je+Ue*Ae-We*he)),H(S,k,ae),S},fromRotation:Z,fromRotationTranslation:H,fromRotationTranslationScale:q,fromRotationTranslationScaleOrigin:j,fromScaling:m,fromTranslation:M,fromXRotation:D,fromYRotation:function L(S,k){const ae=Math.sin(k),he=Math.cos(k);return S[0]=he,S[1]=0,S[2]=-ae,S[3]=0,S[4]=0,S[5]=1,S[6]=0,S[7]=0,S[8]=ae,S[9]=0,S[10]=he,S[11]=0,S[12]=0,S[13]=0,S[14]=0,S[15]=1,S},fromZRotation:b,frustum:A,getRotation:Q,getScaling:ee,getTranslation:te,hasIdentityRotation:Be,identity:I,invert:T,invertOrIdentity:R,isOrthoNormal:ge,lookAt:G,mul:P,multiply:P,multiplyScalar:function Oe(S,k,ae){return S[0]=k[0]*ae,S[1]=k[1]*ae,S[2]=k[2]*ae,S[3]=k[3]*ae,S[4]=k[4]*ae,S[5]=k[5]*ae,S[6]=k[6]*ae,S[7]=k[7]*ae,S[8]=k[8]*ae,S[9]=k[9]*ae,S[10]=k[10]*ae,S[11]=k[11]*ae,S[12]=k[12]*ae,S[13]=k[13]*ae,S[14]=k[14]*ae,S[15]=k[15]*ae,S},multiplyScalarAndAdd:function fe(S,k,ae,he){return S[0]=k[0]+ae[0]*he,S[1]=k[1]+ae[1]*he,S[2]=k[2]+ae[2]*he,S[3]=k[3]+ae[3]*he,S[4]=k[4]+ae[4]*he,S[5]=k[5]+ae[5]*he,S[6]=k[6]+ae[6]*he,S[7]=k[7]+ae[7]*he,S[8]=k[8]+ae[8]*he,S[9]=k[9]+ae[9]*he,S[10]=k[10]+ae[10]*he,S[11]=k[11]+ae[11]*he,S[12]=k[12]+ae[12]*he,S[13]=k[13]+ae[13]*he,S[14]=k[14]+ae[14]*he,S[15]=k[15]+ae[15]*he,S},ortho:B,perspective:function ie(S,k,ae,he,Ae){const je=1/Math.tan(k/2);let Fe;return S[0]=je/ae,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=je,S[6]=0,S[7]=0,S[8]=0,S[9]=0,S[11]=-1,S[12]=0,S[13]=0,S[15]=0,null!=Ae&&Ae!==1/0?(Fe=1/(he-Ae),S[10]=(Ae+he)*Fe,S[14]=2*Ae*he*Fe):(S[10]=-1,S[14]=-2*he),S},perspectiveFromFieldOfView:function K(S,k,ae,he){const Ae=Math.tan(k.upDegrees*Math.PI/180),je=Math.tan(k.downDegrees*Math.PI/180),Fe=Math.tan(k.leftDegrees*Math.PI/180),Ue=Math.tan(k.rightDegrees*Math.PI/180),We=2/(Fe+Ue),ue=2/(Ae+je);return S[0]=We,S[1]=0,S[2]=0,S[3]=0,S[4]=0,S[5]=ue,S[6]=0,S[7]=0,S[8]=-(Fe-Ue)*We*.5,S[9]=(Ae-je)*ue*.5,S[10]=he/(ae-he),S[11]=-1,S[12]=0,S[13]=0,S[14]=he*ae/(ae-he),S[15]=0,S},rotate:U,rotateX:W,rotateY:O,rotateZ:v,scale:N,set:_,str:function J(S){return"mat4("+S[0]+", "+S[1]+", "+S[2]+", "+S[3]+", "+S[4]+", "+S[5]+", "+S[6]+", "+S[7]+", "+S[8]+", "+S[9]+", "+S[10]+", "+S[11]+", "+S[12]+", "+S[13]+", "+S[14]+", "+S[15]+")"},sub:Ce,subtract:Ce,targetTo:function se(S,k,ae,he){const Ae=k[0],je=k[1],Fe=k[2],Ue=he[0],We=he[1],ue=he[2];let Te=Ae-ae[0],we=je-ae[1],ze=Fe-ae[2],Ee=Te*Te+we*we+ze*ze;Ee>0&&(Ee=1/Math.sqrt(Ee),Te*=Ee,we*=Ee,ze*=Ee);let Me=We*ze-ue*we,ve=ue*Te-Ue*ze,Ie=Ue*we-We*Te;return Ee=Me*Me+ve*ve+Ie*Ie,Ee>0&&(Ee=1/Math.sqrt(Ee),Me*=Ee,ve*=Ee,Ie*=Ee),S[0]=Me,S[1]=ve,S[2]=Ie,S[3]=0,S[4]=we*Ie-ze*ve,S[5]=ze*Me-Te*Ie,S[6]=Te*ve-we*Me,S[7]=0,S[8]=Te,S[9]=we,S[10]=ze,S[11]=0,S[12]=Ae,S[13]=je,S[14]=Fe,S[15]=1,S},translate:C,transpose:F},Symbol.toStringTag,{value:"Module"}))},83953:(xe,re,u)=>{u.d(re,{$A:()=>b,Bw:()=>v,C:()=>p,Cc:()=>H,Io:()=>W,Ln:()=>U,Om:()=>L,Re:()=>I,S8:()=>D,T9:()=>P,Vj:()=>K,WQ:()=>_,ZF:()=>z,aI:()=>ie,e$:()=>q,g7:()=>j,hG:()=>O,hZ:()=>w,hs:()=>N,jb:()=>G,jk:()=>E,l0:()=>te,m3:()=>M,t2:()=>A,xg:()=>ce,ze:()=>m});var d=u(85952);function p(fe,Se){return fe[0]=Se[0],fe[1]=Se[1],fe}function w(fe,Se,me){return fe[0]=Se,fe[1]=me,fe}function _(fe,Se,me){return fe[0]=Se[0]+me[0],fe[1]=Se[1]+me[1],fe}function I(fe,Se,me){return fe[0]=Se[0]-me[0],fe[1]=Se[1]-me[1],fe}function F(fe,Se,me){return fe[0]=Se[0]*me[0],fe[1]=Se[1]*me[1],fe}function R(fe,Se,me){return fe[0]=Se[0]/me[0],fe[1]=Se[1]/me[1],fe}function E(fe,Se,me){return fe[0]=Math.min(Se[0],me[0]),fe[1]=Math.min(Se[1],me[1]),fe}function P(fe,Se,me){return fe[0]=Math.max(Se[0],me[0]),fe[1]=Math.max(Se[1],me[1]),fe}function N(fe,Se,me){return fe[0]=Se[0]*me,fe[1]=Se[1]*me,fe}function U(fe,Se,me,ge){return fe[0]=Se[0]+me[0]*ge,fe[1]=Se[1]+me[1]*ge,fe}function W(fe,Se){const me=Se[0]-fe[0],ge=Se[1]-fe[1];return Math.sqrt(me*me+ge*ge)}function O(fe,Se){const me=Se[0]-fe[0],ge=Se[1]-fe[1];return me*me+ge*ge}function v(fe){const Se=fe[0],me=fe[1];return Math.sqrt(Se*Se+me*me)}function M(fe){const Se=fe[0],me=fe[1];return Se*Se+me*me}function m(fe,Se){return fe[0]=-Se[0],fe[1]=-Se[1],fe}function D(fe,Se){const me=Se[0],ge=Se[1];let Be=me*me+ge*ge;return Be>0&&(Be=1/Math.sqrt(Be),fe[0]=Se[0]*Be,fe[1]=Se[1]*Be),fe}function L(fe,Se){return fe[0]*Se[0]+fe[1]*Se[1]}function b(fe,Se,me){const ge=Se[0]*me[1]-Se[1]*me[0];return fe[0]=fe[1]=0,fe[2]=ge,fe}function H(fe,Se,me,ge){const Be=Se[0],Le=Se[1];return fe[0]=Be+ge*(me[0]-Be),fe[1]=Le+ge*(me[1]-Le),fe}function z(fe,Se,me){const ge=Se[0],Be=Se[1];return fe[0]=me[0]*ge+me[2]*Be,fe[1]=me[1]*ge+me[3]*Be,fe}function te(fe,Se,me){const ge=Se[0],Be=Se[1];return fe[0]=me[0]*ge+me[2]*Be+me[4],fe[1]=me[1]*ge+me[3]*Be+me[5],fe}function q(fe,Se,me,ge){const Be=Se[0]-me[0],Le=Se[1]-me[1],Re=Math.sin(ge),oe=Math.cos(ge);return fe[0]=Be*oe-Le*Re+me[0],fe[1]=Be*Re+Le*oe+me[1],fe}function j(fe,Se){const me=fe[0],ge=fe[1],Be=Se[0],Le=Se[1];let Re=me*me+ge*ge;Re>0&&(Re=1/Math.sqrt(Re));let oe=Be*Be+Le*Le;oe>0&&(oe=1/Math.sqrt(oe));const S=(me*Be+ge*Le)*Re*oe;return S>1?0:S<-1?Math.PI:Math.acos(S)}function A(fe,Se){return fe[0]===Se[0]&&fe[1]===Se[1]}function ie(fe,Se){const me=fe[0],ge=fe[1],Be=Se[0],Le=Se[1],Re=(0,d.FD)();return Math.abs(me-Be)<=Re*Math.max(1,Math.abs(me),Math.abs(Be))&&Math.abs(ge-Le)<=Re*Math.max(1,Math.abs(ge),Math.abs(Le))}function K(fe,Se,me,ge,Be){let Le=Se[0]-me[0],Re=Se[1]-me[1];const oe=(ge[0]*Le+ge[1]*Re)*(Be-1);return Le=ge[0]*oe,Re=ge[1]*oe,fe[0]=Se[0]+Le,fe[1]=Se[1]+Re,fe}const G=I,ce=W;Object.freeze(Object.defineProperty({__proto__:null,add:_,angle:j,ceil:function T(fe,Se){return fe[0]=Math.ceil(Se[0]),fe[1]=Math.ceil(Se[1]),fe},copy:p,cross:b,dist:ce,distance:W,div:R,divide:R,dot:L,equals:ie,exactEquals:A,floor:function y(fe,Se){return fe[0]=Math.floor(Se[0]),fe[1]=Math.floor(Se[1]),fe},inverse:function Z(fe,Se){return fe[0]=1/Se[0],fe[1]=1/Se[1],fe},len:v,length:v,lerp:H,max:P,min:E,mul:F,multiply:F,negate:m,normalize:D,projectAndScale:K,random:function Y(fe,Se=1){const me=2*(0,d.Ov)()*Math.PI;return fe[0]=Math.cos(me)*Se,fe[1]=Math.sin(me)*Se,fe},rotate:q,round:function C(fe,Se){return fe[0]=Math.round(Se[0]),fe[1]=Math.round(Se[1]),fe},scale:N,scaleAndAdd:U,set:w,sqrDist:O,sqrLen:M,squaredDistance:O,squaredLength:M,str:function X(fe){return"vec2("+fe[0]+", "+fe[1]+")"},sub:G,subtract:I,transformMat2:z,transformMat2d:te,transformMat3:function ee(fe,Se,me){const ge=Se[0],Be=Se[1];return fe[0]=me[0]*ge+me[3]*Be+me[6],fe[1]=me[1]*ge+me[4]*Be+me[7],fe},transformMat4:function Q(fe,Se,me){const ge=Se[0],Be=Se[1];return fe[0]=me[0]*ge+me[4]*Be+me[12],fe[1]=me[1]*ge+me[5]*Be+me[13],fe}},Symbol.toStringTag,{value:"Module"}))},4879:(xe,re,u)=>{u.d(re,{L:()=>R,g:()=>I});var d=u(10467),p=u(89447),w=u(31178),_=u(55098);function I(E,P){return F.apply(this,arguments)}function F(){return(F=(0,d.A)(function*(E,P){return yield E.load(),R(E,P)})).apply(this,arguments)}function R(E,P){return T.apply(this,arguments)}function T(){return T=(0,d.A)(function*(E,P){const C=[],N=(...W)=>{for(const O of W)null!=O&&(Array.isArray(O)?N(...O):w.A.isCollection(O)?O.forEach(v=>N(v)):_.A.isLoadable(O)&&C.push(O))};P(N);let U=null;if(yield(0,p.Tj)(C,function(){var W=(0,d.A)(function*(O){const v=yield(0,p.Ke)(function y(E){return"loadAll"in E&&"function"==typeof E.loadAll}(O)?O.loadAll():O.load());!1!==v.ok||U||(U=v)});return function(O){return W.apply(this,arguments)}}()),U)throw U.error;return E}),T.apply(this,arguments)}},69287:(xe,re,u)=>{u.d(re,{$8:()=>Q,Cc:()=>T,Hx:()=>m,Io:()=>te,J_:()=>N,KJ:()=>C,Sp:()=>O,XM:()=>U,YN:()=>W,ZH:()=>M,cU:()=>p,gg:()=>v,hs:()=>E,kU:()=>P,or:()=>X,pF:()=>K,pq:()=>ie,qE:()=>w,yR:()=>F});const d=new Float32Array(1);function p(B){--B;for(let G=1;G<32;G<<=1)B|=B>>G;return B+1}function w(B,G,se){return Math.min(Math.max(B,G),se)}function F(B){return B--,B|=B>>1,B|=B>>2,B|=B>>4,B|=B>>8,B|=B>>16,++B}function T(B,G,se){return B+(G-B)*se}function E(B,G,se,J,ce){return T(J,ce,(B-G)/(se-G))}function P(B){return B*Math.PI/180}function C(B){return 180*B/Math.PI}function N(B,G=1e-6){return(B<0?-1:1)/Math.max(Math.abs(B),G)}function U(B){return Math.acos(w(B,-1,1))}function W(B){return Math.asin(w(B,-1,1))}function O(B,G,se=1e-6){return B===G||!(!Number.isFinite(B)||!Number.isFinite(G))&&(B>G?B-G:G-B)<=se}function v(B,G,se=1e-6){return!O(B,G,se)&&B>G}function M(B,G,se=1e-6){return!O(B,G,se)&&B<G}function m(B,G,se=1e-6){return O(B,G,se)||B>G}const D=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function L(B){return D.setFloat64(0,B),D.getBigInt64(0)}const H=BigInt("1000000"),Y=z(1);function z(B){const G=L(B=Math.abs(B)),se=function b(B){return D.setBigInt64(0,B),D.getFloat64(0)}(G<=H?H:G-H);return Math.abs(B-se)}function te(B,G,se=Y){if(B===G)return!0;if(!Number.isFinite(B)||!Number.isFinite(G))return!1;if(null!=se&&z(Math.min(Math.abs(B),Math.abs(G)))<se)return Math.abs(B-G)<=se;const J=L(B),ce=L(G);return J<0==ce<0&&!((J<ce?ce-J:J-ce)>H)}function Q(B){return q(Math.max(-ie,Math.min(B,ie)))}function q(B){return d[0]=B,d[0]}function X(B){const se=B[3]*B[3]+B[4]*B[4]+B[5]*B[5],J=B[6]*B[6]+B[7]*B[7]+B[8]*B[8];return!(O(B[0]*B[0]+B[1]*B[1]+B[2]*B[2],1)&&O(se,1)&&O(J,1))}const ie=q(34028234663852886e22);function K(B,G,se){if(void 0===se||0==+se)return Math[B](G);if(G=+G,se=+se,isNaN(G)||"number"!=typeof se||se%1!=0)return NaN;let J=G.toString().split("e");return J=(G=Math[B](+(J[0]+"e"+(J[1]?+J[1]-se:-se)))).toString().split("e"),+(J[0]+"e"+(J[1]?+J[1]+se:se))}},11432:(xe,re,u)=>{function d(E,P){if(null==E)throw new Error(P??"value is None")}function p(E){return E?.destroy(),null}function w(E){return E?.dispose(),null}function _(E){return E?.remove(),null}function I(E){return E?.abort(),null}function F(E){return E?.release(),null}function R(E,P,C){return null!=E&&null!=P?null!=C?C(E,P):E.equals(P):E===P}function y(E,P){let C;return E.some((N,U)=>(C=P(N,U),null!=C)),C??void 0}u.d(re,{CM:()=>R,DC:()=>I,Gz:()=>F,Lw:()=>d,Pb:()=>y,WD:()=>w,pR:()=>p,xt:()=>_})},64662:(xe,re,u)=>{u.d(re,{d:()=>p});const d=[];function p(w){d.push(w),1===d.length&&queueMicrotask(()=>{const _=d.slice();d.length=0;for(const I of _)I()})}},89221:(xe,re,u)=>{u.d(re,{$N:()=>p,i8:()=>I,sM:()=>_,wc:()=>w});var d=u(77806);function p(T,y,E=!1){return R(T,y,E)}function w(T,y){if(null!=y)return y[T]||F(T.split("."),!1,y)}function _(T,y,E){const P=T.split("."),C=P.pop(),N=F(P,!0,E);N&&C&&(N[C]=y)}function I(T,y){if(null==T&&null==y)return!1;if(null==T||null==y)return!0;if("object"==typeof T){if(Array.isArray(T)){const E=y;if(T.length!==E.length)return!0;for(let P=0;P<T.length;P++)if(I(T[P],E[P]))return!0;return!1}if(Object.keys(T).length!==Object.keys(y).length)return!0;for(const E in T)if(I(T[E],y[E]))return!0;return!1}return T!==y}function F(T,y,E){let P=E;for(const C of T){if(null==P)return;if(!(C in P)){if(!y)return;P[C]={}}P=P[C]}return P}function R(T,y,E){return y?Object.keys(y).reduce((P,C)=>{let N=P[C],U=y[C];return N===U?P:void 0===N?(P[C]=(0,d.o8)(U),P):(Array.isArray(U)||Array.isArray(P)?(N=P[C]=N?Array.isArray(N)?N.slice():[N]:[],U&&(Array.isArray(U)||(U=[U]),E?U.forEach(W=>{N.includes(W)||N.push(W)}):P[C]=U.slice())):U&&"object"==typeof U?P[C]=R(N,U,E):P.hasOwnProperty(C)&&!y.hasOwnProperty(C)||(P[C]=U),P)},T||{}):T}},56492:(xe,re,u)=>{u.d(re,{$X:()=>K,G4:()=>C,Lx:()=>H,Mq:()=>P,NK:()=>y,NO:()=>_e,NY:()=>O,Ol:()=>q,Pl:()=>X,QP:()=>N,QZ:()=>Z,Te:()=>E,Tw:()=>se,YL:()=>ie,jH:()=>U,nA:()=>ee,qr:()=>v,sg:()=>G,u7:()=>W,wR:()=>A,z7:()=>B,zf:()=>m});var d=u(10467),p=u(64294),w=u(5922),_=u(40611),F=(u(35150),u(11432));function y(Oe="Aborted"){return new w.A("AbortError",Oe)}function E(Oe,fe="Aborted"){if(C(Oe))throw y(fe)}function P(Oe){return Oe instanceof AbortSignal?Oe:Oe?.signal??void 0}function C(Oe){const fe=P(Oe);return null!=fe&&fe.aborted}function N(Oe){if(m(Oe))throw Oe}function U(Oe){if(!m(Oe))throw Oe}function W(Oe,fe){const Se=P(Oe);if(null!=Se){if(!Se.aborted)return(0,_.Oo)(Se,"abort",()=>fe());fe()}}function O(Oe,fe){const Se=P(Oe);if(null!=Se)return E(Se),(0,_.Oo)(Se,"abort",()=>fe(y()))}function v(Oe,fe){return null==P(fe)?Oe:new Promise((Se,me)=>{let ge=W(fe,()=>me(y()));const Be=()=>{ge=(0,F.xt)(ge)};Oe.then(Be,Be),Oe.then(Se,me)})}function m(Oe){return"AbortError"===Oe?.name}function Z(Oe){return D.apply(this,arguments)}function D(){return(D=(0,d.A)(function*(Oe){try{return yield Oe}catch(fe){if(!m(fe))throw fe;return}})).apply(this,arguments)}function H(Oe){return Y.apply(this,arguments)}function Y(){return(Y=(0,d.A)(function*(Oe){if(!Oe)return;if("function"!=typeof Oe.forEach){const Se=Object.keys(Oe),me=Se.map(Le=>Oe[Le]),ge=yield H(me),Be={};return Se.map((Le,Re)=>Be[Le]=ge[Re]),Be}const fe=Oe;return Promise.allSettled(fe).then(Se=>Array.from(fe,(me,ge)=>{const Be=Se[ge];return"fulfilled"===Be.status?{promise:me,value:Be.value}:{promise:me,error:Be.reason}}))})).apply(this,arguments)}function ee(Oe){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.A)(function*(Oe){return(yield Promise.allSettled(Oe)).filter(fe=>"fulfilled"===fe.status).map(fe=>fe.value)})).apply(this,arguments)}function q(Oe){return j.apply(this,arguments)}function j(){return(j=(0,d.A)(function*(Oe){return(yield Promise.allSettled(Oe)).filter(fe=>"rejected"===fe.status).map(fe=>fe.reason)})).apply(this,arguments)}function X(Oe,fe=void 0,Se){const me=new AbortController;return W(Se,()=>me.abort()),new Promise((ge,Be)=>{let Le=setTimeout(()=>{Le=0,ge(fe)},Oe);W(me,()=>{Le&&(clearTimeout(Le),Be(y()))})})}function A(Oe,fe,Se,me){const ge=Se&&"abort"in Se?Se:null;null!=me||ge||(me=Se);let Be=setTimeout(()=>{Be=0,ge?.abort()},fe);const Le=()=>me||new w.A("promiseUtils:timeout","The wrapped promise did not resolve within "+fe+" ms");return Oe.then(Re=>{if(0===Be)throw Le();return clearTimeout(Be),Re},Re=>{throw clearTimeout(Be),0===Be?Le():Re})}function ie(Oe,fe){const Se=new AbortController,me=setTimeout(()=>Se.abort(),fe);return W(Oe,()=>{Se.abort(),clearTimeout(me)}),{...Oe,signal:Se.signal}}function K(Oe){return Oe&&"function"==typeof Oe.then}function B(Oe){return K(Oe)?Oe:Promise.resolve(Oe)}function G(Oe,fe=-1){let Se,me,ge,Be,Le=null;const Re=(...oe)=>{if(Se){me=oe,Be&&Be.reject(y()),Be=se();const he=Be.promise;if(Le){const Ae=Le;Le=null,Ae.abort()}return he}if(ge=Be||se(),Be=null,fe>0){const he=new AbortController;Se=B(Oe(...oe,he.signal));const Ae=Se;X(fe).then(()=>{Se===Ae&&(Be?he.abort():Le=he)})}else Se=1,Se=B(Oe(...oe));const S=()=>{const he=me;me=ge=Se=Le=null,null!=he&&Re(...he)},k=Se,ae=ge;return k.then(S,S),k.then(ae.resolve,ae.reject),ae.promise};return Re}function se(){let Oe,fe;const Se=new Promise((ge,Be)=>{Oe=ge,fe=Be}),me=ge=>{Oe(ge)};return me.resolve=ge=>Oe(ge),me.reject=ge=>fe(ge),me.timeout=(ge,Be)=>p.p.setTimeout(()=>me.reject(Be),ge),me.promise=Se,me}function _e(Oe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,d.A)(function*(Oe){yield Promise.resolve(),E(Oe)})).apply(this,arguments)}},48900:(xe,re,u)=>{u.d(re,{C1:()=>m,C_:()=>W,OH:()=>L,Vh:()=>b,lZ:()=>D,on:()=>N,pc:()=>H,wB:()=>E,z7:()=>P});var d=u(10467),p=u(89447),w=u(31178),_=u(40611),I=u(17715),F=u(11432),R=u(56492),T=u(76410);function E(Y,z,te={}){return C(Y,z,te,v)}function P(Y,z,te={}){return C(Y,z,te,M)}function C(Y,z,te={},ee){let Q=null;const q=te.once?(j,X)=>{ee(j)&&((0,F.xt)(Q),z(j,X))}:(j,X)=>{ee(j)&&z(j,X)};if(Q=(0,T.Cn)(Y,q,te.sync,te.equals),te.initial){const j=Y();q(j,j)}return Q}function N(Y,z,te,ee={}){let Q=null,q=null,j=null;function X(){Q&&q&&(q.remove(),ee.onListenerRemove?.(Q),Q=null,q=null)}function A(K){ee.once&&ee.once&&(0,F.xt)(j),te(K)}const ie=E(Y,(K,B)=>{X(),(0,_.wb)(K)&&(Q=K,q=(0,_.on)(K,z,A),ee.onListenerAdd?.(K))},{sync:ee.sync,initial:!0});return j=(0,I.hA)(()=>{ie.remove(),X()}),j}function W(Y,z){return function O(Y,z,te){if((0,R.G4)(te))return Promise.reject((0,R.NK)());const ee=Y();if(z?.(ee))return Promise.resolve(ee);let Q=null;function q(){Q=(0,F.xt)(Q)}return new Promise((j,X)=>{Q=(0,I.vE)([(0,R.u7)(te,()=>{q(),X((0,R.NK)())}),C(Y,A=>{q(),j(A)},{sync:!1,once:!0},z??v)])})}(Y,M,z)}function v(Y){return!0}function M(Y){return!!Y}function m(Y,z,te={}){let ee=!1;const Q=E(Y,(q,j)=>{ee||z(q,j)},te);return{remove(){Q.remove()},pause(){ee=!0},resume(){ee=!1}}}function D(Y,z){const te=new w.A,ee=function Z(Y,z){const te=new w.A,ee=N(Y,"after-splice",({added:Q,start:q,deleteCount:j})=>{const X=te.splice(q,j);for(const A of X)A.remove();if(Q?.length){const A=Q.map(z);te.addMany(A,q)}},{sync:!0,onListenerRemove:()=>te.drain(Q=>Q.remove()),onListenerAdd:Q=>te.addMany(Q.items.map(z))});return te.addHandles(ee),te}(Y,X=>(0,p.UT)(function(){var A=(0,d.A)(function*(ie){const K=yield z(X,ie);if((0,R.G4)(ie))throw K.remove(),(0,R.NK)();return K});return function(ie){return A.apply(this,arguments)}}())),Q=()=>null,q=function(){var X=(0,d.A)(function*(A){const ie=yield A.promise,K=ee.indexOf(A);K<0||te.splice(K,1,ie)});return function(ie){return X.apply(this,arguments)}}();te.addMany(ee.items.map(Q));for(const X of ee)(0,R.QZ)(q(X));const j=ee.on("after-splice",({added:X,start:A,deleteCount:ie})=>{const K=te.splice(A,ie);for(const B of K)B?.remove();if(X?.length){te.addMany(X.map(Q),A);for(const B of X)(0,R.QZ)(q(B))}});return te.addHandles([(0,I.DQ)(ee),j]),te}u(34703);const L={sync:!0},b={initial:!0},H={sync:!0,initial:!0}},3804:(xe,re,u)=>{u.d(re,{$m:()=>X,NO:()=>q,_:()=>m,md:()=>Q,mg:()=>Z});var d=u(10467),p=u(64662),w=u(13316),_=u(12438),I=u(56492),F=u(82595);class R{constructor(G){this.phases=G,this.paused=!1,this.ticks=-1,this.removed=!1}}class T{constructor(G){this.callback=G,this.isActive=!0}remove(){this.isActive=!1}}let y=0;const P={time:(0,F.l5)(0),deltaTime:(0,F.l5)(0),elapsedFrameTime:(0,F.l5)(0),frameDuration:(0,F.l5)(0)},C=["prepare","preRender","render","postRender","update","finish"],N=[],U=new _.A;class W{constructor(G){this._task=G}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,v()}}function v(){null==D&&(y=performance.now(),D=requestAnimationFrame(H))}const M={frameTasks:U,willDispatch:!1,clearFrameTasks:function L(B=!1){U.forAll(G=>{G.removed=!0}),B&&te()},dispatch:ee,executeFrameTasks:function Y(B){const G=(0,F.l5)(B-y);y=B;const se=1e3/60,J=Math.max(0,G-se);P.time=B,P.frameDuration=(0,F.l5)(se-J);for(let ce=0;ce<C.length;ce++){const _e=performance.now(),Ce=C[ce];U.forAll(Oe=>{Oe.paused||Oe.removed||(0===ce&&Oe.ticks++,Oe.phases[Ce]&&(P.elapsedFrameTime=(0,F.l5)(performance.now()-B),P.deltaTime=0===Oe.ticks?(0,F.l5)(0):G,Oe.phases[Ce]?.call(Oe,P)))}),ie[ce].push(performance.now()-_e)}te(),K.push(performance.now()-B)},reschedule:function O(){null!=D&&(cancelAnimationFrame(D),D=requestAnimationFrame(H))}};function m(B){const G=new T(B);return N.push(G),M.willDispatch||(M.willDispatch=!0,(0,p.d)(ee)),G}function Z(B){const G=new R(B);return U.push(G),v(),new W(G)}let D=null;function H(){const B=performance.now();D=null,D=U.some(se=>!se.paused&&!se.removed)?requestAnimationFrame(H):null,M.executeFrameTasks(B)}const z=new _.A;function te(){U.forAll(B=>{B.removed&&z.push(B)}),U.removeUnorderedMany(z.data,z.length),z.clear()}function ee(){for(;N.length;){const B=N.shift();B.isActive&&B.callback()}M.willDispatch=!1}function Q(B=1,G){const se=(0,I.Tw)(),J=()=>{(0,I.G4)(G)?se.reject((0,I.NK)()):0===B?se():(--B,(0,p.d)(()=>J()))};return J(),se.promise}function q(B){return Q(1,B)}function X(B){return A.apply(this,arguments)}function A(){return(A=(0,d.A)(function*(B){yield q(B),yield new Promise(G=>requestAnimationFrame(()=>{B?.aborted||G()}))})).apply(this,arguments)}const ie=C.map(B=>new w.A(B)),K=new w.A("total")},67685:(xe,re,u)=>{u.d(re,{Lz:()=>_,PN:()=>I,PR:()=>W,QG:()=>P,WA:()=>v,cr:()=>F,gs:()=>y,rX:()=>N,r_:()=>C,sc:()=>U,tc:()=>R,y8:()=>T});const d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,p="screenUtils.toPt: input not recognized!",w=96;function _(M){return M?M/72*w:0}function I(M){return M?72*M/w:0}function F(M){if("string"==typeof M){const m=M.match(d);if(m){const Z=Number(m[1]),D=m[3]&&m[3].toLowerCase(),L="-"===M.charAt(0),b="px"===D?I(Z):Z;return L?-b:b}return console.warn(p),null}return M}function R(M=0,m=0){return{x:M,y:m}}function T(M){return M?R(M.x,M.y):null}function y(M=0,m=0){return[M,m]}function P(M=0,m=0){return[M,m]}function C(M=0,m=0,Z=0){return[M,m,Z]}function N(M){return M}function U(M){return M}function W(M){return M}function v(M,m){return m?(m[0]=M.x,m[1]=M.y,m.length>2&&(m[2]=0),m):[M.x,M.y]}},54029:(xe,re,u)=>{u.d(re,{v:()=>I});var d=u(77806),p=u(9700),w=u(4032);class _{constructor(R,T){this._observable=new w.I,this._value=R,this._equalityFunction=T}get value(){return(0,p.gc)(this._observable),this._value}set value(R){this._equalityFunction(R,this._value)||(this._value=R,this._observable.notify())}mutate(R){R(this._value),this._observable.notify()}}function I(F,R=d.gh){return new _(F,R)}},63484:(xe,re,u)=>{u.d(re,{GP:()=>I,IW:()=>T,Yp:()=>y,mA:()=>R});var d=u(10467);let p;function _(){return(_=(0,d.A)(function*(){return null==p&&(p=Promise.all([u.e(1329),u.e(6092)]).then(u.bind(u,70171)).then(C=>new C.WhereClauseCache(500,500))),p})).apply(this,arguments)}function I(C,N){return F.apply(this,arguments)}function F(){return F=(0,d.A)(function*(C,N){const U=yield function w(){return _.apply(this,arguments)}(),W=U.get(C,N);if(null==W)throw U.getError(C,N);return W}),F.apply(this,arguments)}function R(C,N){return C||=null,N||=null,"1=1"===C?N??C:"1=1"===N?C??N:C&&N?`(${C}) AND (${N})`:C??N}function T(C,N){return C||=null,N||=null,"1=1"===C||"1=1"===N||C===N?"1=1"===C?C:N:C&&N?`(${C}) OR (${N})`:C??N}function y(C,N){return 0===N.length?null:`${C} IN (${function E(C){return C.map(N=>"string"==typeof N?function P(C){return`'${C.replaceAll("'","''")}'`}(N):N).join(",")}(N)})`}},24098:(xe,re,u)=>{u.d(re,{GB:()=>p,Qo:()=>_,Y4:()=>w});var d=u(44549);class p{}function w(I){return I instanceof d.bo?I===p.instance:"unknown"===I?.toString().toLowerCase()}function _(I){return w(I)?p.instance:I}p.instance=new d.oh("Etc/UTC")},1119:(xe,re,u)=>{u.d(re,{Cj:()=>I,HC:()=>_,ML:()=>E,Wm:()=>F,_e:()=>T,mk:()=>y});var d=u(89221);const p=/\{([^}]+)\}/g;function w(P){return P??""}function _(P,C){return C?P.replaceAll(p,"object"==typeof C?(N,U)=>w((0,d.wc)(U,C)):(N,U)=>w(C(U))):P}function I(P,C){return P.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,N=>C?.includes(N)?N:`\\${N}`)}function F(P){let C=0;for(let N=0;N<P.length;N++)C=(C<<5)-C+P.charCodeAt(N),C|=0;return C}let R;function T(P){return R??=new DOMParser,R.parseFromString(P||"","text/html").body.innerText||""}function y(P,C){return new RegExp(`{${C}}`,"ig").test(P)}function E(P,...C){let N=P[0];for(let U=0;U<C.length;++U)N+=C[U]+P[U+1];return N}},88494:(xe,re,u)=>{u.d(re,{C:()=>E,X:()=>y});var d=u(8189),p=u(31178),w=u(5605),F=(u(3248),u(35150),u(85211)),T=(u(40707),u(76576));let y=class extends p.A{constructor(P){super(P),this.addHandles([this.on("before-add",C=>{null==C.item&&C.preventDefault()}),this.on("after-add",C=>this._own(C.item)),this.on("after-remove",C=>this._release(C.item))])}get owner(){return this._get("owner")}set owner(P){P!==this._get("owner")&&(this._releaseAll(),this._set("owner",P),this._ownAll())}_ownAll(){for(const P of this.items)this._own(P)}_releaseAll(){for(const P of this.items)this._release(P)}_createNewInstance(P){return this.itemType?new(p.A.ofType(this.itemType.Type))(P):new p.A(P)}};function E(P,C){return{type:P,cast:w.H,set(N){const U=(0,w.V)(N,this._get(C),P);U.owner=this,this._set(C,U)}}}(0,d._)([(0,F.MZ)()],y.prototype,"owner",null),y=(0,d._)([(0,T.$)("esri.core.support.OwningCollection")],y)},56985:(xe,re,u)=>{u.d(re,{U:()=>T});var d=u(8189),p=u(98877),w=u(17715),_=u(48900),I=u(3804),F=u(85211),R=u(76576);let T=class extends p.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(E,P,C={}){return this._installWatch(E,P,C,_.wB)}addWhen(E,P,C={}){return this._installWatch(E,P,C,_.z7)}addOnCollectionChange(E,P,{initial:C=!1,final:N=!1}={}){const U=++this._handleId;return this.addHandles([(0,_.on)(E,"after-changes",this._createSyncUpdatingCallback(),_.OH),(0,_.on)(E,"change",P,{onListenerAdd:C?W=>P({added:W.toArray(),removed:[]}):void 0,onListenerRemove:N?W=>P({added:[],removed:W.toArray()}):void 0})],U),(0,w.hA)(()=>this.removeHandles(U))}addPromise(E){if(null==E)return E;const P=++this._handleId;this.addHandles((0,w.hA)(()=>{this._pendingPromises.delete(E)&&(0!==this._pendingPromises.size||this.hasHandles(y)||this._set("updating",!1))}),P),this._pendingPromises.add(E),this._set("updating",!0);const C=()=>this.removeHandles(P);return E.then(C,C),E}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(E,P,C={},N){const U=++this._handleId;C.sync||this._installSyncUpdatingWatch(E,U);const W=N(E,P,C);return this.addHandles(W,U),(0,w.hA)(()=>this.removeHandles(U))}_installSyncUpdatingWatch(E,P){const C=this._createSyncUpdatingCallback(),N=(0,_.wB)(E,C,{sync:!0,equals:()=>!1});return this.addHandles(N,P),N}_createSyncUpdatingCallback(){return()=>{this.removeHandles(y),++this._scheduleHandleId;const E=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,I._)(()=>{E===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(y))}),y)}}};(0,d._)([(0,F.MZ)({readOnly:!0})],T.prototype,"updating",void 0),T=(0,d._)([(0,R.$)("esri.core.support.UpdatingHandles")],T);const y=-42},82595:(xe,re,u)=>{function d(F){return F}function p(F){return 1e3*F}function w(F){return F}function _(F){return.001*F}u.d(re,{Kp:()=>w,gr:()=>p,l5:()=>d,y:()=>_})},97442:(xe,re,u)=>{u.d(re,{S1:()=>I,lL:()=>R,mi:()=>F,pJ:()=>U,t:()=>C,vf:()=>_});var d=u(48266),p=u(20543),w=u(44549);const _={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function I(O,v,M,m=p.qU){const Z=new w.oh((0,d.wj)(m)),D=w.c9.fromJSDate(O,{zone:Z}),L="decades"===M||"centuries"===M?"year":W(M);return"decades"===M&&(v*=10),"centuries"===M&&(v*=100),D.plus({[L]:v}).toJSDate()}function F(O,v,M="milliseconds"){const m=O.getTime(),Z=C(v,M,"milliseconds");return new Date(m+Z)}function R(O,v,M=p.qU){const m=new w.oh((0,d.wj)(M)),Z=w.c9.fromJSDate(O,{zone:m});if("decades"===v||"centuries"===v){const L=Z.startOf("year"),{year:b}=L;return L.set({year:b-b%("decades"===v?10:100)}).toJSDate()}const D=W(v);return Z.startOf(D).toJSDate()}function C(O,v,M){return 0===O?0:O*_[v]/_[M]}function U(O,v){return O&&v?O.intersection(v):O||v}function W(O){switch(O){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},79139:(xe,re,u)=>{function p(v){return v instanceof ArrayBuffer}function w(v){return"Int8Array"===v?.constructor?.name}function _(v){return"Uint8Array"===v?.constructor?.name}function I(v){return"Uint8ClampedArray"===v?.constructor?.name}function F(v){return"Int16Array"===v?.constructor?.name}function R(v){return"Uint16Array"===v?.constructor?.name}function T(v){return"Int32Array"===v?.constructor?.name}function y(v){return"Uint32Array"===v?.constructor?.name}function E(v){return"Float32Array"===v?.constructor?.name}function P(v){return"Float64Array"===v?.constructor?.name}function C(v){return"buffer"in v}u.d(re,{IY:()=>F,JI:()=>U,UR:()=>I,XJ:()=>y,_G:()=>T,a3:()=>O,aI:()=>P,dk:()=>W,dz:()=>w,iu:()=>C,jq:()=>R,mg:()=>_,mw:()=>p,vZ:()=>E,y9:()=>N}),u(3248);const N=1024;function U(v){return P(v)||E(v)||T(v)||F(v)||w(v)}function W(v){return P(v)||E(v)}function O(v){return P(v)?179769e303:E(v)?3402823e32:y(v)?4294967295:R(v)?65535:_(v)||I(v)?255:T(v)?2147483647:F(v)?32767:w(v)?127:256}},33894:(xe,re,u)=>{u.d(re,{c:()=>w});let d=0;function w(){return++d}},82663:(xe,re,u)=>{u.d(re,{Ao:()=>Be,B5:()=>he,G9:()=>Se,GA:()=>ge,Ij:()=>S,KX:()=>Le,LA:()=>fe,OU:()=>se,PQ:()=>Q,Sk:()=>Ee,TL:()=>_e,UW:()=>q,_H:()=>k,b$:()=>Me,dk:()=>ze,dy:()=>R,jM:()=>We,k1:()=>me,m5:()=>X,mq:()=>ae,oU:()=>ee,t$:()=>H,tW:()=>A,vl:()=>Oe,wL:()=>j,wv:()=>ce,x$:()=>G,x0:()=>B,x1:()=>je,y7:()=>J,yD:()=>C}),u(3248);var p=u(49976),w=u(87477),_=u(47258),I=u(58701),F=u(98946);const R=39.37,T=_.$O.radius*Math.PI/200,y=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,E=F.A,P=/UNIT\[([^\]]+)]/i,C=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),N=(0,p.O)()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),U=ve=>ve*ve,W=ve=>ve*ve*ve,O={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:U(.001)},"square-centimeters":{inBaseUnits:U(.01)},"square-decimeters":{inBaseUnits:U(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:U(1e3)},"square-inches":{inBaseUnits:U(.0254)},"square-feet":{inBaseUnits:U(.3048)},"square-yards":{inBaseUnits:U(.9144)},"square-miles":{inBaseUnits:U(1609.344)},"square-nautical-miles":{inBaseUnits:U(1852)},"square-us-feet":{inBaseUnits:U(1200/3937)},acres:{inBaseUnits:.0015625*U(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*W(.001)},"cubic-centimeters":{inBaseUnits:1e3*W(.01)},"cubic-decimeters":{inBaseUnits:1e3*W(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*W(1e3)},"cubic-inches":{inBaseUnits:1e3*W(.0254)},"cubic-feet":{inBaseUnits:1e3*W(.3048)},"cubic-yards":{inBaseUnits:1e3*W(.9144)},"cubic-miles":{inBaseUnits:1e3*W(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},v=(()=>{const ve={};for(const Ie in O)for(const be in O[Ie].units)ve[be]=Ie;return ve})(),D=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],L=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function H(ve){const Ie=v[ve];if(!Ie)throw new Error("unknown type");return Ie}function te(ve,Ie=null){return Ie=Ie||H(ve),O[Ie].baseUnit===ve}function ee(ve,Ie,be){if(Ie===be)return ve;const Je=H(Ie);if(Je!==H(be))throw new Error("incompatible units");const tt=te(Ie,Je)?ve:function M(ve,Ie,be){return ve*O[be].units[Ie].inBaseUnits}(ve,Ie,Je);return te(be,Je)?tt:function m(ve,Ie,be){return ve/O[be].units[Ie].inBaseUnits}(tt,be,Je)}function Q(ve,Ie,be,Je=!1){if(!Je&&(0,I.EA)(Ie))throw new Error("Unable to convert from an angular unit to a linear unit.");const tt=S(Ie);return tt!==be&&(ve=tt?ee(ve,tt,be):ee(ve*=ge(Ie),"meters",be)),ve}function q(ve,Ie,be,Je=!1){if(!Je&&(0,I.EA)(be))throw new Error("Unable to convert from a linear unit to an angular unit.");const tt=S(be);return Ie!==tt&&(ve=tt?ee(ve,Ie,tt):ee(ve,Ie,"meters")/ge(be)),ve}function j(ve){switch(ve){case"metric":return"meters";case"imperial":return"feet";default:return ve}}function X(ve){return j(ve)}function A(ve){switch(ve){case"metric":return"square-meters";case"imperial":return"square-feet";default:return ve}}function B(ve,Ie){const be=ee(ve,Ie,"meters");return Math.abs(be)<3e3?"meters":"kilometers"}function G(ve,Ie){const be=ee(ve,Ie,"meters");return Math.abs(be)<1e5?"meters":"kilometers"}function se(ve,Ie){const be=ee(ve,Ie,"feet");return Math.abs(be)<1e3?"feet":"miles"}function J(ve,Ie){const be=ee(ve,Ie,"feet");return Math.abs(be)<1e5?"feet":"miles"}function ce(ve,Ie){const be=ee(ve,Ie,"square-meters");return Math.abs(be)<3e6?"square-meters":"square-kilometers"}function _e(ve,Ie){const be=ee(ve,Ie,"square-feet");return Math.abs(be)<1e6?"square-feet":"square-miles"}function Oe(ve,Ie,be){return ee(ve,Ie,"meters")/(be*Math.PI/180)}function fe(ve){return N.fromJSON(ve.toLowerCase())||null}function Se(ve){if(null!=ve&&!(0,I.B3)(ve))return 1;const Ie=ge(ve);return Ie>1e5?1:Ie}function me(ve){return ge(ve)>=(0,w.tO)(ve).metersPerDegree?"meters":S(ve)}function ge(ve,Ie=_.$O.metersPerDegree){return Be(ve,!0)??Ie}function Be(ve,Ie=!1){const be=ve?.wkid??null,Je=ve?.wkt2??ve?.wkt??null;let tt=null;if(be){if((0,I.tl)(be))return _.sH.metersPerDegree;if((0,I.ZL)(be))return _.Sw.metersPerDegree;tt=E.values[E[be]],!tt&&Ie&&C.has(be)&&(tt=T)}else Je&&(je(Je)?tt=Re(y.exec(Je),tt):Ae(Je)&&(tt=Re(P.exec(Je),tt)));return tt}function Le(ve){return(0,I.EA)(ve)?1:ge(ve)}function Re(ve,Ie){return ve?.[1]?oe(ve[1]):Ie}function oe(ve){return parseFloat(ve.split(",")[1])}function S(ve){const Ie=ve?.wkid??null,be=ve?.wkt2??ve?.wkt??null;let Je=null;if(Ie)Je=E.units[E[Ie]];else if(be){const tt=je(be)?y:Ae(be)?P:null;if(tt){const lt=tt.exec(be);lt?.[1]&&(Je=function Ue(ve){let be=/[\\"']{1}([^\\"']+)/.exec(ve)?.[1];if(!be||!fe(be)){const Je=oe(ve);be=null;const tt=E.values;for(let lt=0;lt<tt.length;++lt)if(Math.abs(Je-tt[lt])<Fe){be=E.units[lt];break}}return be}(lt[1]))}}return null!=Je?fe(Je):null}function k(ve){const Ie=S(ve);return null!=Ie&&D.includes(Ie)?Ie:null}function ae(ve){const Ie=me(ve);return null!=Ie&&D.includes(Ie)?Ie:null}function he(ve){const Ie=S(ve);return null==Ie?null:L.get(Ie)}function Ae(ve){return/^GEOCCS/i.test(ve)}function je(ve){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(ve)}const Fe=1e-7;function We(ve){const Ie=S(ve);if(null==Ie)return null;switch(Ie){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const ze=(0,p.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),Ee=(0,p.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),Me=(0,p.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},45272:(xe,re,u)=>{u.d(re,{$1:()=>je,$z:()=>S,An:()=>q,BQ:()=>Ie,DB:()=>he,FL:()=>me,FX:()=>Se,Hg:()=>We,Il:()=>Qt,N9:()=>we,S8:()=>Re,T1:()=>nt,UC:()=>Wt,V1:()=>Le,XJ:()=>Tt,Xq:()=>z,Zo:()=>kt,_0:()=>us,a6:()=>xt,b8:()=>ce,e7:()=>zt,fj:()=>oe,gd:()=>te,lJ:()=>Ae,lM:()=>Et,m3:()=>Je,nM:()=>Vt,oP:()=>k,oy:()=>se,r$:()=>Ue,rs:()=>Ot,s0:()=>Z,s2:()=>Be,sC:()=>fe,s_:()=>A,tk:()=>ue,ut:()=>Ce,w8:()=>ae,x0:()=>X,xw:()=>Nt,yM:()=>ie,zf:()=>j,zi:()=>It,zs:()=>J});var d=u(10467),p=u(23098),w=u(89952),_=u(5922),I=u(71065),F=u(35150),R=u(17595),T=u(52706);const y=()=>F.A.getLogger("esri.core.urlUtils"),E=p.A.request,P="esri/config: esriConfig.request.proxyUrl is not set.",C=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,N=/^\s*http:/i,U=/^\s*https:/i,W=/^\s*file:/i,O=/:\d+$/,v=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,M=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),m=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class Z{constructor(at=""){this.uri=at,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let it=this.uri.match(M);this.scheme=it[2]||(it[1]?"":null),this.authority=it[4]||(it[3]?"":null),this.path=it[5],this.query=it[7]||(it[6]?"":null),this.fragment=it[9]||(it[8]?"":null),null!=this.authority&&(it=this.authority.match(m),this.user=it[3]||null,this.password=it[4]||null,this.host=it[6]||it[7],this.port=it[9]||null)}toString(){return this.uri}}const D={};let b=new Z(p.A.applicationUrl);let Y=function ee(){const Ve=b.path,at=Ve.slice(0,Ve.lastIndexOf("/")+1);return`${b.scheme}://${b.host}${null!=b.port?`:${b.port}`:""}${at}`}();const z=()=>b,te=()=>Y;function q(Ve){if(!Ve)return null;const at={path:null,query:null},it=new Z(Ve),ut=Ve.indexOf("?");return null===it.query?at.path=Ve:(at.path=Ve.slice(0,ut),at.query=j(it.query)),it.fragment&&(at.hash=it.fragment,null===it.query&&(at.path=at.path.slice(0,at.path.length-(it.fragment.length+1)))),at}function j(Ve){const at=Ve.split("&"),it={};for(const ut of at){if(!ut)continue;const At=ut.indexOf("=");let mt,Zt;At<0?(mt=decodeURIComponent(ut),Zt=""):(mt=decodeURIComponent(ut.slice(0,At)),Zt=decodeURIComponent(ut.slice(At+1)));let _s=it[mt];"string"==typeof _s&&(_s=it[mt]=[_s]),Array.isArray(_s)?_s.push(Zt):it[mt]=Zt}return it}function X(Ve,at){return Ve?at&&"function"==typeof at?Object.keys(Ve).map(it=>encodeURIComponent(it)+"="+encodeURIComponent(at(it,Ve[it]))).join("&"):Object.keys(Ve).map(it=>{const ut=Ve[it];if(null==ut)return"";const At=encodeURIComponent(it)+"=",mt=at?.[it];return mt?At+encodeURIComponent(mt(ut)):Array.isArray(ut)?ut.map(Zt=>I.A.isSerializable(Zt)?At+encodeURIComponent(JSON.stringify(Zt)):At+encodeURIComponent(Zt)).join("&"):I.A.isSerializable(ut)?At+encodeURIComponent(JSON.stringify(ut)):At+encodeURIComponent(ut)}).filter(it=>it).join("&"):""}function A(Ve=!1){let at,it=E.proxyUrl;if("string"==typeof Ve){at=Je(Ve);const ut=J(Ve);ut&&(it=ut.proxyUrl)}else at=!!Ve;if(!it)throw y().warn(P),new _.A("urlUtils:proxy-not-set",P);return at&&Rt()&&(it=Et(it)),q(it)}function ie(Ve,at=!1){const it=J(Ve);let ut,At;if(it){const mt=B(it.proxyUrl);ut=mt.path,At=mt.query?j(mt.query):null}else if(at){const mt=A(Ve);ut=mt.path,At=mt.query}if(ut){const mt=q(Ve);Ve=ut+"?"+mt.path;const Zt=X({...At,...mt.query});Zt&&(Ve=`${Ve}?${Zt}`)}return Ve}const K={path:"",query:""};function B(Ve){const at=Ve.indexOf("?");return-1!==at?(K.path=Ve.slice(0,at),K.query=Ve.slice(at+1)):(K.path=Ve,K.query=null),K}function G(Ve){return(Ve=Lt(Ve=Qt(Ve=B(Ve).path),!0)).toLowerCase()}function se(Ve){const at={proxyUrl:Ve.proxyUrl,urlPrefix:G(Ve.urlPrefix)},it=E.proxyRules,ut=at.urlPrefix;let At=it.length;for(let mt=0;mt<it.length;mt++){const Zt=it[mt].urlPrefix;if(0===ut.indexOf(Zt)){if(ut.length===Zt.length)return-1;At=mt;break}0===Zt.indexOf(ut)&&(At=mt+1)}return it.splice(At,0,at),At}function J(Ve){const at=E.proxyRules,it=G(Ve);for(let ut=0;ut<at.length;ut++)if(0===it.indexOf(at[ut].urlPrefix))return at[ut]}function ce(Ve,at){if(!Ve||!at)return!1;Ve=Oe(Ve),at=Oe(at);const it=(0,R.py)(Ve),ut=(0,R.py)(at);return null!=it&&null!=ut?it.portalHostname===ut.portalHostname:null==it&&null==ut&&Se(Ve,at,!0)}function Ce(Ve,at){return Ve=Oe(Ve),at=Oe(at),Lt(Ve)===Lt(at)}function Oe(Ve){const at=(Ve=Re(Ve)).indexOf("/sharing");return at>0?Ve.slice(0,at):Ve.replace(/\/+$/,"")}function fe(Ve,at=E.interceptors){const it=ut=>null==ut||ut instanceof RegExp&&ut.test(Ve)||"string"==typeof ut&&Ve.startsWith(ut);if(at)for(const ut of at)if(Array.isArray(ut.urls)){if(ut.urls.some(it))return ut}else if(it(ut.urls))return ut;return null}function Se(Ve,at,it=!1){if(!Ve||!at)return!1;const ut=gt(Ve),At=gt(at);return!(!it&&ut.scheme!==At.scheme)&&null!=ut.host&&null!=At.host&&ut.host.toLowerCase()===At.host.toLowerCase()&&ut.port===At.port}function me(Ve){if("string"==typeof Ve){if(!k(Ve))return!0;Ve=gt(Ve)}if(Se(Ve,b))return!0;const at=E.trustedServers||[];for(let it=0;it<at.length;it++){const ut=ge(at[it]);for(let At=0;At<ut.length;At++)if(Se(Ve,ut[At]))return!0}return!1}function ge(Ve){return D[Ve]||(D[Ve]=be(Ve)||Ie(Ve)?[new Z(Be(Ve))]:[new Z(`http://${Ve}`),new Z(`https://${Ve}`)]),D[Ve]}function Be(Ve,at=Y,it){return Ie(Ve)?it?.preserveProtocolRelative?Ve:"http"===b.scheme&&b.authority===S(Ve).slice(2)?`http:${Ve}`:`https:${Ve}`:be(Ve)?Ve:oe("/"===Ve[0]?function Kt(Ve){const at=Ve.indexOf("//"),it=Ve.indexOf("/",at+2);return-1===it?Ve:Ve.slice(0,it)}(at):at,Ve)}function Le(Ve,at=Y,it){if(null==Ve||!k(Ve))return Ve;const ut=Re(Ve),At=ut.toLowerCase(),mt=Re(at).toLowerCase().replace(/\/+$/,""),Zt=it?Re(it).toLowerCase().replace(/\/+$/,""):null;if(Zt&&0!==mt.indexOf(Zt))return Ve;const _s=(le,et,Ye)=>-1===(Ye=le.indexOf(et,Ye))?le.length:Ye;let Os=_s(At,"/",At.indexOf("//")+2),Ts=-1;for(;At.slice(0,Os+1)===mt.slice(0,Os)+"/"&&(Ts=Os+1,Os!==At.length);)Os=_s(At,"/",Os+1);if(-1===Ts||Zt&&Ts<Zt.length)return Ve;Ve=ut.slice(Ts);const Fs=mt.slice(Ts-1).replaceAll(/[^/]+/g,"").length;if(Fs>0)for(let le=0;le<Fs;le++)Ve=`../${Ve}`;else Ve=`./${Ve}`;return Ve}function Re(Ve){return function dt(Ve){const at=E.httpsDomains;if(!function tt(Ve){return null!=Ve&&N.test(Ve)||"http"===b.scheme&&Ie(Ve)}(Ve))return Ve;const it=Ve.indexOf("/",7);let ut;if(ut=-1===it?Ve:Ve.slice(0,it),ut=ut.toLowerCase().slice(7),O.test(ut)){if(!ut.endsWith(":80"))return Ve;ut=ut.slice(0,-3),Ve=Ve.replace(":80","")}return function St(){return"http"===b.scheme}()&&ut===b.authority&&!v.test(Ve)||(Rt()&&ut===b.authority||at&&at.some(At=>ut===At||ut.endsWith(`.${At}`))||Rt()&&!J(Ve))&&(Ve=Et(Ve)),Ve}(Ve=function st(Ve){return Ve.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(Ve=function Ne(Ve){if(/^https?:\/\//i.test(Ve)){const at=B(Ve);Ve=(Ve=at.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),at.query&&(Ve+=`?${at.query}`)}return Ve}(Ve=Be(Ve=Ve.trim()))))}function oe(...Ve){const at=Ve.filter(w.Ru);if(!at?.length)return;const it=[];if(k(at[0])){const At=at[0],mt=At.indexOf("//");-1!==mt&&(it.push(At.slice(0,mt+1)),function lt(Ve){return null!=Ve&&W.test(Ve)}(at[0])&&(it[0]+="/"),at[0]=At.slice(mt+2))}else"/"===at[0][0]&&it.push("");const ut=at.reduce((At,mt)=>mt?At.concat(mt.split("/")):At,[]);for(let At=0;At<ut.length;At++){const mt=ut[At];".."===mt&&it.length>0&&".."!==it[it.length-1]?it.pop():(!mt&&At===ut.length-1||mt&&("."!==mt||0===it.length))&&it.push(mt)}return it.join("/")}function S(Ve,at=!1){if(null==Ve||ae(Ve)||he(Ve))return null;let it=Ve.indexOf("://");if(-1===it&&Ie(Ve))it=2;else{if(-1===it)return null;it+=3}const ut=Ve.indexOf("/",it);return-1!==ut&&(Ve=Ve.slice(0,ut)),at&&(Ve=Lt(Ve,!0)),Ve}function k(Ve){return Ie(Ve)||be(Ve)}function ae(Ve){return null!=Ve&&"blob:"===Ve.slice(0,5)}function he(Ve){return null!=Ve&&"data:"===Ve.slice(0,5)}function Ae(Ve){const at=Ue(Ve);return at?.isBase64?(0,T.M)(at.data):null}function je(Ve){return(0,T.Y)(Ve).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Fe=/^data:(.*?)(;base64)?,(.*)$/;function Ue(Ve){const at=Ve.match(Fe);if(!at)return null;const[,it,ut,At]=at;return{mediaType:it,isBase64:!!ut,data:At}}function We(Ve){return Ve.isBase64?`data:${Ve.mediaType};base64,${Ve.data}`:`data:${Ve.mediaType},${Ve.data}`}function ue(Ve){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.A)(function*(Ve){return(yield fetch(Ve)).blob()})).apply(this,arguments)}function we(Ve){const at=Ae(Ve);if(!at)return null;const it=Ue(Ve);return new Blob([at],{type:it.mediaType})}function Ie(Ve){return null!=Ve&&"/"===Ve[0]&&"/"===Ve[1]}function be(Ve){return null!=Ve&&C.test(Ve)}function Je(Ve){return null!=Ve&&U.test(Ve)||"https"===b.scheme&&Ie(Ve)}function Et(Ve){return Ie(Ve)?`https:${Ve}`:Ve.replace(N,"https:")}function Rt(){return"https"===b.scheme}function Lt(Ve,at=!1){return Ie(Ve)?Ve.slice(2):(Ve=Ve.replace(C,""),at&&Ve.length>1&&"/"===Ve[0]&&"/"===Ve[1]&&(Ve=Ve.slice(2)),Ve)}function Vt(Ve){let at=0;if(k(Ve)){const ut=Ve.indexOf("//");-1!==ut&&(at=ut+2)}const it=Ve.lastIndexOf("/");return it<at?Ve:Ve.slice(0,it+1)}function zt(Ve,at){if(!Ve)return"";const it=q(Ve).path.replace(/\/+$/,""),ut=it.slice(it.lastIndexOf("/")+1);if(!at?.length)return ut;const At=new RegExp(`\\.(${at.join("|")})$`,"i");return ut.replace(At,"")}function Qt(Ve){return Ve.endsWith("/")?Ve:`${Ve}/`}function Wt(Ve){return Ve.replace(/\/+$/,"")}function nt(Ve,at,it){if(!(at&&it&&Ve&&k(Ve)))return Ve;const ut=Ve.indexOf("//"),At=Ve.indexOf("/",ut+2),mt=Ve.indexOf(":",ut+2),Zt=Math.min(At<0?Ve.length:At,mt<0?Ve.length:mt);return Ve.slice(ut+2,Zt).toLowerCase()!==at.toLowerCase()?Ve:`${Ve.slice(0,ut+2)}${it}${Ve.slice(Zt)}`}function gt(Ve){return"string"==typeof Ve?new Z(Be(Ve)):(Ve.scheme||(Ve.scheme=b.scheme),Ve)}function Tt(Ve){return gs.test(Ve)}function It(Ve,at){const it=q(Ve),ut=Object.keys(it.query||{});return ut.length>0&&at&&at.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ut.join(", ")}.`),it.path}function Ot(Ve,at,it){const ut=q(Ve),At=ut.query||{};return At[at]=String(it),`${ut.path}?${X(At)}`}function xt(Ve,at){if(!at)return Ve;const it=q(Ve),ut=it.query||{};for(const[mt,Zt]of Object.entries(at))null!=Zt&&(ut[mt]=Zt);const At=X(ut);return At?`${it.path}?${At}`:it.path}function kt(Ve){if(null==Ve)return null;const at=Ve.match(Rs);return at?at[2]:null}function Nt(Ve){if(null==Ve)return null;const at=Ve.match(Rs);return at?{path:at[1],extension:at[2]}:{path:Ve,extension:null}}function us(Ve){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.A)(function*(Ve){return"string"==typeof Ve?Ue(Ve)??{data:Ve}:new Promise((at,it)=>{const ut=new FileReader;ut.readAsDataURL(Ve),ut.onload=()=>at(Ue(ut.result)),ut.onerror=At=>it(At)})})).apply(this,arguments)}const Rs=/([^.]*)\.([^/]*)$/,gs=/(^data:image\/svg|\.svg$)/i},43085:(xe,re,u)=>{u.d(re,{AG:()=>I,lk:()=>p,vD:()=>_,yS:()=>w});const d="randomUUID"in crypto;function p(){if(d)return crypto.randomUUID();const F=crypto.getRandomValues(new Uint16Array(8));F[3]=4095&F[3]|16384,F[4]=16383&F[4]|32768;const R=T=>F[T].toString(16).padStart(4,"0");return R(0)+R(1)+"-"+R(2)+"-"+R(3)+"-"+R(4)+"-"+R(5)+R(6)+R(7)}function w(){return`{${p().toUpperCase()}}`}function _(){return`{${p()}}`}function I(F){const R=F.toUpperCase();return"{"!==F[0]?`{${R}}`:R}},88718:(xe,re,u)=>{u.d(re,{A:()=>T});var d=u(17715),w=(u(3248),u(56492)),_=u(82767),I=u(35785),F=u(93612),R=u(85311);class T{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new _.A}destroy(){this.close()}get closed(){return!this._clients?.length}open(E,P){return new Promise((C,N)=>{let U=!0;const W=O=>{(0,w.Te)(P.signal),U&&(U=!1,O())};this._clients.length=E.length,this._clientPromises.length=E.length,this._inUseClients.length=E.length;for(let O=0;O<E.length;++O){const v=E[O];(0,w.$X)(v)?this._clientPromises[O]=v.then(M=>(this._clients[O]=new R.A(M,P,this._ongoingJobsQueue),W(C),this._clients[O]),()=>(W(N),null)):(this._clients[O]=new R.A(v,P,this._ongoingJobsQueue),this._clientPromises[O]=Promise.resolve(this._clients[O]),W(C))}})}broadcast(E,P,C){const N=new Array(this._clientPromises.length);for(let U=0;U<this._clientPromises.length;++U)N[U]=this._clientPromises[U].then(O=>O?.invoke(E,P,C));return N}close(){let E;for(;E=this._ongoingJobsQueue.pop();)E.resolver.reject((0,w.NK)(`Worker closing, aborting job calling '${E.methodName}'`));for(const P of this._clientPromises)P.then(C=>C?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,I.h)(this)}invoke(E,P,C){return this.apply(E,[P],C)}apply(E,P,C){const N=(0,w.Tw)();this._ongoingJobsQueue.push({methodName:E,data:P,invokeOptions:C,resolver:N});for(let U=0;U<this._clientPromises.length;U++){const W=this._clients[U];W?W.jobAdded():this._clientPromises[U].then(O=>O?.jobAdded())}return N.promise}createInvokeProxy(E){return(0,F.L)(this,E)}on(E,P){return Promise.all(this._clientPromises).then(()=>(0,d.vE)(this._clients.map(C=>C.on(E,P))))}openPorts(){return new Promise(E=>{const P=new Array(this._clientPromises.length);let C=P.length;for(let N=0;N<this._clientPromises.length;++N)this._clientPromises[N].then(U=>{U&&(P[N]=U.openPort()),0==--C&&E(P)})})}get test(){}}},93612:(xe,re,u)=>{function d(w,_){return new Proxy({},{get:(I,F,R)=>(...T)=>{let y,E;const P=T[T.length-1];return function p(w){return"object"==typeof w&&!Array.isArray(w)&&null!=w&&("signal"in w||"transferList"in w||0===Object.keys(w).length)}(P)&&(y=P.signal,E=P.transferList,T.pop()),w.apply(_?`${_}.${F.toString()}`:F.toString(),T,{transferList:E,signal:y})}})}u.d(re,{L:()=>d})},85311:(xe,re,u)=>{u.d(re,{A:()=>m});var d=u(77469),p=u(5922),w=u(40611),_=u(17715),I=u(11432),F=u(56492),R=u(93612);const T={statsWorker:()=>Promise.all([u.e(9377),u.e(8113),u.e(5930)]).then(u.bind(u,88113)),geometryEngineWorker:()=>Promise.all([u.e(3930),u.e(2076),u.e(9587)]).then(u.bind(u,56855)),arcadeGeometryOperatorsWorker:()=>u.e(1587).then(u.bind(u,51587)),CSVSourceWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(7960),u.e(6412),u.e(6245)]).then(u.bind(u,39424)),EdgeProcessingWorker:()=>Promise.all([u.e(5434),u.e(2230),u.e(2076),u.e(3401)]).then(u.bind(u,28180)),ElevationSamplerWorker:()=>Promise.all([u.e(5434),u.e(7759)]).then(u.bind(u,98739)),FeatureServiceSnappingSourceWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(8304),u.e(7960),u.e(6412),u.e(2076),u.e(8779)]).then(u.bind(u,22079)),GeoJSONSourceWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(7960),u.e(6412),u.e(5033)]).then(u.bind(u,81570)),LercWorker:()=>u.e(671).then(u.bind(u,80671)),MemorySourceWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(7960),u.e(6412),u.e(2076),u.e(1340)]).then(u.bind(u,53688)),PBFDecoderWorker:()=>Promise.all([u.e(1732),u.e(8304),u.e(1997)]).then(u.bind(u,86377)),FeaturePipelineWorker:()=>Promise.all([u.e(6160),u.e(1732),u.e(3247),u.e(812),u.e(2614),u.e(6747),u.e(5362),u.e(1329),u.e(9377),u.e(8304),u.e(302),u.e(7960),u.e(5976),u.e(9544),u.e(788),u.e(5225),u.e(2190),u.e(2076),u.e(4857)]).then(u.bind(u,39765)),PointCloudWorker:()=>Promise.all([u.e(7284),u.e(2076),u.e(2007)]).then(u.bind(u,90192)),RasterWorker:()=>Promise.all([u.e(9642),u.e(18),u.e(2758),u.e(126),u.e(2076),u.e(5910)]).then(u.bind(u,98204)),SceneLayerSnappingSourceWorker:()=>Promise.all([u.e(5434),u.e(7269),u.e(3926),u.e(2230),u.e(645)]).then(u.bind(u,5409)),SceneLayerWorker:()=>Promise.all([u.e(7269),u.e(7284),u.e(7965),u.e(2076),u.e(7068)]).then(u.bind(u,31184)),WFSSourceWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(7960),u.e(6412),u.e(3650),u.e(8552)]).then(u.bind(u,18219)),WorkerTileHandler:()=>Promise.all([u.e(2614),u.e(6517),u.e(2076),u.e(2937)]).then(u.bind(u,80996)),Lyr3DWorker:()=>Promise.all([u.e(2076),u.e(568)]).then(u.bind(u,80568)),Feature3DPipelineWorker:()=>Promise.all([u.e(1732),u.e(812),u.e(1329),u.e(9377),u.e(8304),u.e(5434),u.e(7960),u.e(7269),u.e(7284),u.e(9146),u.e(3926),u.e(3781),u.e(8023),u.e(9468),u.e(4093),u.e(5340),u.e(2076),u.e(6573)]).then(u.bind(u,66848)),TextureCompressionWorker:()=>u.e(8752).then(u.bind(u,38752))};var y=u(46037),E=u(97333);const{CLOSE:P,ABORT:C,INVOKE:N,RESPONSE:U,OPEN_PORT:W,ON:O}=y.Go;class M{constructor(D){this._invoke=D,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(D){D.type===y.Go.ABORT?this._cancelledJobIds.add(D.jobId):(this._invokeMessages.push(D),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const D of this._invokeMessages)this._cancelledJobIds.has(D.jobId)||this._invoke(D);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class m{static connect(D,L){const b=new MessageChannel;let H;H="function"==typeof D?new D:"default"in D&&"function"==typeof D.default?new D.default:D;const Y=new m(b.port1,{channel:b,client:H,schedule:L});return"object"==typeof H&&"remoteClient"in H&&(H.remoteClient=Y),m.clients.set(Y,H),b.port2}static loadWorker(D){const L=T[D];return L?L():Promise.resolve(null)}constructor(D,L,b){this._port=D,this._jobQueue=b,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new M(H=>this._onInvokeMessage(H)),this._client=L.client,this._onMessage=this._onMessage.bind(this),this._channel=L.channel,this._schedule=L.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:P}),this._close()}isBusy(){return this._outJobs.size>0}invoke(D,L,b){return this.apply(D,[L],b)}apply(D,L,b){const H=b?.signal,Y=b?.transferList;if(!this._port)return Promise.reject(new p.A(y.T,`Cannot call invoke('${D}'), port is closed`,{methodName:D,data:L}));const z=(0,y.Jc)();return new Promise((te,ee)=>{if((0,F.G4)(H))return this._processWork(),void ee((0,F.NK)());const Q=(0,F.u7)(H,()=>{const j=this._outJobs.get(z);j&&(this._outJobs.delete(z),this._processWork(),(0,I.xt)(j.abortHandle),this._post({type:C,jobId:z}),ee((0,F.NK)()))});this._outJobs.set(z,{resolve:te,reject:ee,abortHandle:Q,debugInfo:D}),this._post({type:N,jobId:z,methodName:D,abortable:null!=H},L,Y)})}createInvokeProxy(D){return(0,R.L)(this,D)}on(D,L){const b=new MessageChannel;function H(Y){L(Y.data)}return this._port.postMessage({type:y.Go.ON,eventType:D,port:b.port2},[b.port2]),b.port1.addEventListener("message",H),b.port1.start(),(0,_.hA)(()=>{b.port1.postMessage({type:y.Go.CLOSE}),b.port1.close(),b.port1.removeEventListener("message",H)})}jobAdded(){this._processWork()}openPort(){const D=new MessageChannel;return this._post({type:W,port:D.port2}),D.port1}_processWork(){if(this._outJobs.size>=2)return;const D=this._jobQueue?.pop();if(!D)return;const{methodName:L,data:b,invokeOptions:H,resolver:Y}=D;this.apply(L,b,H).then(z=>Y.resolve(z)).catch(z=>Y.reject(z))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(D=>{(0,I.xt)(D.abortHandle),D.reject((0,F.NK)(`Worker closing, aborting job calling '${D.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(D){null!=this._schedule?this._schedule(()=>this._processMessage(D,!0)):this._processMessage(D,!1)}_processMessage(D,L){const b=(0,y.VI)(D);if(b)switch(b.type){case U:this._onResponseMessage(b);break;case N:L?this._onInvokeMessage(b):this._invokeQueue.push(b);break;case C:this._onAbortMessage(b);break;case P:this._onCloseMessage();break;case W:this._onOpenPortMessage(b);break;case O:this._onOnMessage(b)}}_onAbortMessage(D){const L=this._inJobs,b=D.jobId,H=L.get(b);this._invokeQueue.push(D),H&&(H.controller&&H.controller.abort(),L.delete(b))}_onCloseMessage(){const D=this._client;this._close(),D&&"destroy"in D&&m.clients.get(this)===D&&D.destroy(),m.clients.delete(this),D?.remoteClient&&(D.remoteClient=null)}_onInvokeMessage(D){const{methodName:L,jobId:b,data:H=[],abortable:Y}=D,z=Y?new AbortController:null,te=this._inJobs;let ee,Q=this._client,q=Q[L];try{if(!q&&L&&L.includes(".")){const j=L.split(".");for(let X=0;X<j.length-1;X++)Q=Q[j[X]],q=Q[j[X+1]]}if("function"!=typeof q)throw new TypeError(`${L} is not a function`);H.push({client:this,signal:z?z.signal:null}),ee=q.apply(Q,H)}catch(j){return void this._post({type:U,jobId:b,error:(0,y.mF)(j)})}(0,F.$X)(ee)?(te.set(b,{controller:z,promise:ee}),ee.then(j=>{te.has(b)&&(te.delete(b),this._post({type:U,jobId:b},j))},j=>{te.has(b)&&(te.delete(b),(0,F.zf)(j)||this._post({type:U,jobId:b,error:(0,y.mF)(j||{message:`Error encountered at method ${L}`})}))})):this._post({type:U,jobId:b},ee)}_onOpenPortMessage(D){new m(D.port,{client:this._client})}_onOnMessage(D){const{port:L}=D,b=this._client.on(D.eventType,Y=>{L.postMessage(Y)}),H=(0,w.on)(D.port,"message",Y=>{(0,y.VI)(Y)?.type===y.Go.CLOSE&&(H.remove(),b.remove(),L.close())})}_onResponseMessage(D){const{jobId:L,error:b,data:H}=D,Y=this._outJobs;if(!Y.has(L))return;const z=Y.get(L);Y.delete(L),this._processWork(),(0,I.xt)(z.abortHandle),b?z.reject(p.A.fromJSON(JSON.parse(b))):z.resolve(H)}_post(D,L,b){return(0,y.u1)(this._port,D,L,b)}}m.kernelInfo={buildDate:E.$,fullVersion:d.ol,revision:E.u},m.clients=new Map},35785:(xe,re,u)=>{u.d(re,{h:()=>w,k:()=>p});const d=new FinalizationRegistry(_=>{_.close()});function p(_,I){d.register(_,I,I)}function w(_){d.unregister(_)}},46037:(xe,re,u)=>{u.d(re,{Go:()=>I,Jc:()=>R,T:()=>_,VI:()=>P,mF:()=>y,oV:()=>U,u1:()=>E});var d=u(10467),p=u(3248),w=u(56492);const _="worker:port-closed";var I,O;(O=I||(I={}))[O.HANDSHAKE=0]="HANDSHAKE",O[O.OPEN=1]="OPEN",O[O.OPENED=2]="OPENED",O[O.RESPONSE=3]="RESPONSE",O[O.INVOKE=4]="INVOKE",O[O.ABORT=5]="ABORT",O[O.CLOSE=6]="CLOSE",O[O.OPEN_PORT=7]="OPEN_PORT",O[O.ON=8]="ON";let F=0;function R(){return F++}function y(O){return O?"string"==typeof O?JSON.stringify({name:"message",message:O}):O.toJSON?JSON.stringify(O):JSON.stringify({name:O.name,message:O.message,details:O.details||{stack:O.stack}}):null}function E(O,v,M,m){if(v.type===I.OPEN_PORT)return void O.postMessage(v,[v.port]);if(v.type!==I.INVOKE&&v.type!==I.RESPONSE)return void O.postMessage(v);let Z;if(function T(O){return O&&"object"==typeof O&&("result"in O||"transferList"in O)}(M)?(Z=C(M.transferList),v.data=M.result):(Z=C(m),v.data=M),Z){if((0,p.A)("ff"))for(const D of Z)if("byteLength"in D&&D.byteLength>267386880){const L="Worker call with large ArrayBuffer would crash Firefox";switch(v.type){case I.INVOKE:throw L;case I.RESPONSE:return void E(O,{type:I.RESPONSE,jobId:v.jobId,error:y(L)})}}O.postMessage(v,Z)}else O.postMessage(v)}function P(O){if(!O)return null;const v=O.data;return v?"string"==typeof v?JSON.parse(v):v:null}function C(O){if(!O?.length)return null;if((0,p.A)("esri-workers-arraybuffer-transfer"))return O;const v=O.filter(M=>!function N(O){return O instanceof ArrayBuffer||"ArrayBuffer"===O?.constructor?.name}(M));return v.length?v:null}function U(O){return W.apply(this,arguments)}function W(){return W=(0,d.A)(function*(O){try{return yield O}catch(v){const M=v?.name===_;if(!(0,w.zf)(v)&&!M)throw v;return}}),W.apply(this,arguments)}},19284:(xe,re,u)=>{u.d(re,{n_:()=>Be,ho:()=>S});var d=u(10467),p=u(5922),w=u(3248),_=u(56492),I=u(88718),F=u(35785),R=u(85311),T=u(35150),y=u(11432),E=u(89563),P=u(45272);const C={request:(Ue,We)=>(0,d.A)(function*(){const ue=Ue.options,Te=ue.responseType;ue.signal=We?.signal,ue.responseType="native"===Te||"native-request-init"===Te?"native-request-init":Te&&["blob","json","text"].includes(Te)&&(0,P.sC)(Ue.url)?.after?Te:"array-buffer";const we=yield(0,E.A)(Ue.url,ue),ze={data:we.data,httpStatus:we.httpStatus,ssl:we.ssl};switch(we.requestOptions?.responseType){case"native-request-init":return delete ze.data.signal,ze;case"blob":ze.data=yield ze.data.arrayBuffer();break;case"json":ze.data=(new TextEncoder).encode(JSON.stringify(ze.data)).buffer;break;case"text":ze.data=(new TextEncoder).encode(ze.data).buffer}return{result:ze,transferList:[ze.data]}})()};var N=u(46037),U=u(90261),W=u(23098),v=(u(13242),u(77469));const m={};var D=u(64662);class L{constructor(){const We=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(ue=>{this[ue]=(...Te)=>We[ue](...Te)})}}class b{constructor(){this._dispatcher=new L,this._workerPostMessage({type:N.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(We){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=We,We&&this.addEventListener("message",We)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(We){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=We,We&&this.addEventListener("messageerror",We)}get onerror(){return this._onerrorHandler}set onerror(We){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=We,We&&this.addEventListener("error",We)}postMessage(We){(0,D.d)(()=>{this._workerMessageHandler(new MessageEvent("message",{data:We}))})}dispatchEvent(We){return this._dispatcher.dispatchEvent(We)}addEventListener(We,ue,Te){this._dispatcher.addEventListener(We,ue,Te)}removeEventListener(We,ue,Te){this._dispatcher.removeEventListener(We,ue,Te)}_workerPostMessage(We){(0,D.d)(()=>{this.dispatchEvent(new MessageEvent("message",{data:We}))})}_workerMessageHandler(We){var ue=this;return(0,d.A)(function*(){const Te=(0,N.VI)(We);if(Te&&Te.type===N.Go.OPEN){const{modulePath:we,jobId:ze}=Te;let Ee=yield R.A.loadWorker(we);Ee||(Ee=yield import(we));const Me=R.A.connect(Ee);ue._workerPostMessage({type:N.Go.OPENED,jobId:ze,data:Me})}})()}}var H=u(88996),Y=u(97333);const z=()=>T.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:te}=N.Go;let Q,q;const j="Failed to create Worker. Fallback to execute module in main thread";function A(){return(A=(0,d.A)(function*(){if(!(0,w.A)("esri-workers"))return ie(new b);if(!Q&&!q)try{const We='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function B(){let Ue;if(null!=W.A.default){const we={...W.A};delete we.default,Ue=JSON.parse(JSON.stringify(we))}else Ue=JSON.parse(JSON.stringify(W.A));Ue.assetsPath=(0,P.s2)(Ue.assetsPath),Ue.defaultAssetsPath=Ue.defaultAssetsPath?(0,P.s2)(Ue.defaultAssetsPath):void 0,Ue.request.interceptors=[],Ue.log.interceptors=[],Ue.locale=(0,H.JK)(),Ue.has={"esri-csp-restrictions":(0,w.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,w.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,w.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,w.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,w.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,w.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,w.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,w.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,w.A)("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":(0,w.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-enabled":(0,w.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,w.A)("esri-atomics"),"esri-shared-array-buffer":(0,w.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,w.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,w.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,w.A)("feature-polyline-generalization-factor"),"host-webworker":1},Ue.workers.loaderUrl&&(Ue.workers.loaderUrl=(0,P.s2)(Ue.workers.loaderUrl)),Ue.workers.workerPath=(0,P.s2)(Ue.workers.workerPath?Ue.workers.workerPath:(0,U.s)("esri/core/workers/RemoteClient.js")),Ue.workers.useDynamicImport=!1;const We=W.A.workers.loaderConfig,ue=function Z(Ue){const We={async:Ue.async,isDebug:Ue.isDebug,locale:Ue.locale,baseUrl:Ue.baseUrl,has:{...Ue.has},map:{...Ue.map},packages:Ue.packages?.slice()||[],paths:{...m.paths,...Ue.paths}};return Ue.hasOwnProperty("async")||(We.async=!0),Ue.hasOwnProperty("isDebug")||(We.isDebug=!1),Ue.baseUrl||(We.baseUrl=m.baseUrl),We}({baseUrl:We?.baseUrl,locale:(0,H.JK)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...We?.has},map:{...We?.map},paths:{...We?.paths},packages:We?.packages||[]});return JSON.stringify({esriConfig:Ue,loaderConfig:ue,kernelInfo:{buildDate:Y.$,fullVersion:v.ol,revision:Y.u}})}());Q=URL.createObjectURL(new Blob([We],{type:"text/javascript"}))}catch(We){q=We||{}}let Ue;if(Q)try{Ue=new Worker(Q,{name:"esri-worker-"+G++})}catch{z().warn(j,q),Ue=new b}else z().warn(j,q),Ue=new b;return ie(Ue)})).apply(this,arguments)}function ie(Ue){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(Ue){return new Promise(We=>{function ue(we){const ze=(0,N.VI)(we);ze&&ze.type===te&&(Ue.removeEventListener("message",ue),Ue.removeEventListener("error",Te),We(Ue))}function Te(we){we.preventDefault(),Ue.removeEventListener("message",ue),Ue.removeEventListener("error",Te),z().warn("Failed to create Worker. Fallback to execute module in main thread",we),(Ue=new b).addEventListener("message",ue),Ue.addEventListener("error",Te)}Ue.addEventListener("message",ue),Ue.addEventListener("error",Te)})})).apply(this,arguments)}let G=0;const{ABORT:se,INVOKE:J,OPEN:ce,OPENED:_e,RESPONSE:Ce}=N.Go;class Oe{static create(We){return(0,d.A)(function*(){const ue=yield function X(){return A.apply(this,arguments)}();return new Oe(ue,We)})()}constructor(We,ue){this._outJobs=new Map,this._inJobs=new Map,this.worker=We,this.id=ue,We.addEventListener("message",this._onMessage.bind(this)),We.addEventListener("error",Te=>{Te.preventDefault(),T.A.getLogger("esri.core.workers.WorkerOwner").error(Te)})}terminate(){this.worker.terminate()}open(We,ue={}){var Te=this;return(0,d.A)(function*(){const{signal:we}=ue,ze=(0,N.Jc)();return new Promise((Ee,Me)=>{const ve={resolve:Ee,reject:Me,abortHandle:(0,_.NY)(we,()=>{Te._outJobs.delete(ze),Te._post({type:se,jobId:ze})})};Te._outJobs.set(ze,ve),Te._post({type:ce,jobId:ze,modulePath:We})})})()}_onMessage(We){const ue=(0,N.VI)(We);if(ue)switch(ue.type){case _e:this._onOpenedMessage(ue);break;case Ce:this._onResponseMessage(ue);break;case se:this._onAbortMessage(ue);break;case J:this._onInvokeMessage(ue)}}_onAbortMessage(We){const ue=this._inJobs,Te=We.jobId,we=ue.get(Te);we&&(we.controller&&we.controller.abort(),ue.delete(Te))}_onInvokeMessage(We){const{methodName:ue,jobId:Te,data:we,abortable:ze}=We,Ee=ze?new AbortController:null,Me=this._inJobs,ve=C[ue];let Ie;try{if("function"!=typeof ve)throw new TypeError(`${ue} is not a function`);Ie=ve.call(null,we,{signal:Ee?Ee.signal:null})}catch(be){return void this._post({type:Ce,jobId:Te,error:(0,N.mF)(be)})}(0,_.$X)(Ie)?(Me.set(Te,{controller:Ee,promise:Ie}),Ie.then(be=>{Me.has(Te)&&(Me.delete(Te),this._post({type:Ce,jobId:Te},be))},be=>{Me.has(Te)&&(Me.delete(Te),be||(be={message:"Error encountered at method"+ue}),(0,_.zf)(be)||this._post({type:Ce,jobId:Te,error:(0,N.mF)(be||{message:`Error encountered at method ${ue}`})}))})):this._post({type:Ce,jobId:Te},Ie)}_onOpenedMessage(We){const{jobId:ue,data:Te}=We,we=this._outJobs.get(ue);we&&(this._outJobs.delete(ue),(0,y.xt)(we.abortHandle),we.resolve(Te))}_onResponseMessage(We){const{jobId:ue,error:Te,data:we}=We,ze=this._outJobs.get(ue);ze&&(this._outJobs.delete(ue),(0,y.xt)(ze.abortHandle),Te?ze.reject(p.A.fromJSON(JSON.parse(Te))):ze.resolve(we))}_post(We,ue,Te){return(0,N.u1)(this.worker,We,ue,Te)}}const fe=(0,w.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,w.A)("workers-pool-size")??8):0;let Se=(0,w.A)("esri-mobile")?Math.min(fe,3):fe;Se||(Se=(0,w.A)("safari")&&(0,w.A)("mac")?7:2);let me=0;const ge=[];function Be(){je()}function Re(Ue,We){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.A)(function*(Ue,We){const ue=new I.A,{registryTarget:Te,...we}=We;return yield ue.open(Ue,we),Te&&(0,F.k)(Te,ue),ue})).apply(this,arguments)}function S(Ue){return k.apply(this,arguments)}function k(){return(k=(0,d.A)(function*(Ue,We={}){if("string"!=typeof Ue)throw new p.A("workers:undefined-module","modulePath is missing");let ue=We.strategy||"distributed";if((0,w.A)("host-webworker")&&!(0,w.A)("esri-workers")&&(ue="local"),"local"===ue){let Te=yield R.A.loadWorker(Ue);Te||(Te=yield import(Ue)),(0,_.Te)(We.signal);const we=We.client||Te;return Re([R.A.connect(Te,We.schedule)],{...We,client:we})}if(yield je(),(0,_.Te)(We.signal),"dedicated"===ue){const Te=me++%Se;return Re([yield ge[Te].open(Ue,We)],We)}if(We.maxNumWorkers&&We.maxNumWorkers>0){const Te=Math.min(We.maxNumWorkers,Se);if(Te<Se){const we=new Array(Te);for(let ze=0;ze<Te;++ze){const Ee=me++%Se;we[ze]=ge[Ee].open(Ue,We)}return Re(we,We)}}return Re(ge.map(Te=>Te.open(Ue,We)),We)})).apply(this,arguments)}let he,Ae=null;function je(){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,d.A)(function*(){if(Ae)return Ae;he=new AbortController;const Ue=[];for(let We=0;We<Se;We++){const ue=Oe.create(We).then(Te=>(ge[We]=Te,Te));Ue.push(ue)}return Ae=Promise.all(Ue),Ae})).apply(this,arguments)}},28067:(xe,re,u)=>{u.d(re,{A:()=>Z});var W,d=u(8189),p=u(1119),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(68643),y=u(1749),E=u(32034),P=u(8190),C=u(62928),N=u(58701),U=u(55039);function v(D,L,b){return null==L?b:null==b?L:D(L,b)}let M=W=class extends T.A{constructor(...D){super(...D),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(D,L,b,H,Y){return function O(D){return D&&("esri.geometry.SpatialReference"===D.declaredClass||null!=D.wkid)}(D)?{spatialReference:D,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof D?(D.spatialReference=null==D.spatialReference?E.A.WGS84:D.spatialReference,D):{xmin:D,ymin:L,xmax:b,ymax:H,spatialReference:Y??E.A.WGS84}}static fromPoint(D){return new W({xmin:D.x,ymin:D.y,zmin:D.z,xmax:D.x,ymax:D.y,zmax:D.z,spatialReference:D.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const D=new y.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(D.z=.5*(this.zmin+this.zmax)),this.hasM&&(D.m=.5*(this.mmin+this.mmax)),D}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(D){const L=this.center;return null!=D.z&&this.hasZ?this.offset(D.x-L.x,D.y-L.y,D.z-L.z):this.offset(D.x-L.x,D.y-L.y)}clone(){const D=new W;return D.xmin=this.xmin,D.ymin=this.ymin,D.xmax=this.xmax,D.ymax=this.ymax,D.spatialReference=this.spatialReference,null!=this.zmin&&(D.zmin=this.zmin,D.zmax=this.zmax),null!=this.mmin&&(D.mmin=this.mmin,D.mmax=this.mmax),D}contains(D){if(!D)return!1;const L=this.spatialReference,b=D.spatialReference;return L&&b&&!L.equals(b)&&(0,U.y7)(L,b)&&(D=L.isWebMercator?(0,U.Gh)(D):(0,U.ci)(D,!0)),"point"===D.type?(0,P.qz)(this,D):"extent"===D.type&&(0,P.gH)(this,D)}equals(D){if(this===D)return!0;if(null==D)return!1;const L=this.spatialReference,b=D.spatialReference;return L&&b&&!L.equals(b)&&(0,U.y7)(L,b)&&(D=L.isWebMercator?(0,U.Gh)(D):(0,U.ci)(D,!0)),this.xmin===D.xmin&&this.ymin===D.ymin&&this.zmin===D.zmin&&this.mmin===D.mmin&&this.xmax===D.xmax&&this.ymax===D.ymax&&this.zmax===D.zmax&&this.mmax===D.mmax}expand(D){const L=.5*(1-D),b=this.width*L,H=this.height*L;if(this.xmin+=b,this.ymin+=H,this.xmax-=b,this.ymax-=H,this.hasZ){const Y=(this.zmax-this.zmin)*L;this.zmin+=Y,this.zmax-=Y}if(this.hasM){const Y=(this.mmax-this.mmin)*L;this.mmin+=Y,this.mmax-=Y}return this}intersects(D){if(null==D)return!1;"mesh"===D.type&&(D=D.extent);const L=this.spatialReference,b=D.spatialReference;return L&&b&&!(0,N.aI)(L,b)&&(0,U.y7)(L,b)&&(D=L.isWebMercator?(0,U.Gh)(D):(0,U.ci)(D,!0)),(0,C.xK)(D.type)(this,D)}normalize(){const D=this._normalize(!1,!0);return Array.isArray(D)?D:[D]}offset(D,L,b){return this.xmin+=D,this.ymin+=L,this.xmax+=D,this.ymax+=L,null!=b&&(this.zmin+=b,this.zmax+=b),this}shiftCentralMeridian(){return this._normalize(!0)}union(D){return this===D||(this.xmin=Math.min(this.xmin,D.xmin),this.ymin=Math.min(this.ymin,D.ymin),this.xmax=Math.max(this.xmax,D.xmax),this.ymax=Math.max(this.ymax,D.ymax),(this.hasZ||D.hasZ)&&(this.zmin=v(Math.min,this.zmin,D.zmin),this.zmax=v(Math.max,this.zmax,D.zmax)),(this.hasM||D.hasM)&&(this.mmin=v(Math.min,this.mmin,D.mmin),this.mmax=v(Math.max,this.mmax,D.mmax))),this}intersection(D){return this===D?this:null!=D&&this.intersects(D)?(this.xmin=Math.max(this.xmin,D.xmin),this.ymin=Math.max(this.ymin,D.ymin),this.xmax=Math.min(this.xmax,D.xmax),this.ymax=Math.min(this.ymax,D.ymax),(this.hasZ||D.hasZ)&&(this.zmin=v(Math.max,this.zmin,D.zmin),this.zmax=v(Math.min,this.zmax,D.zmax)),(this.hasM||D.hasM)&&(this.mmin=v(Math.max,this.mmin,D.mmin),this.mmax=v(Math.min,this.mmax,D.mmax)),this):null}toJSON(D){return this.write({},D)}_shiftCM(D=(0,N.Vp)(this.spatialReference)){if(!D||!this.spatialReference)return this;const L=this.spatialReference,b=this._getCM(D);if(b){const H=L.isWebMercator?(0,U.ci)(b):b;this.xmin-=b.x,this.xmax-=b.x,L.isWebMercator||(H.x=m(H.x,D).x),this.spatialReference=new E.A((0,p.HC)((L.isWGS84?D.altTemplate:null)??D.wkTemplate,{Central_Meridian:H.x}))}return this}_getCM(D){let L=null;const[b,H]=D.valid,Y=this.xmin,z=this.xmax;return Y>=b&&Y<=H&&z>=b&&z<=H||(L=this.center),L}_normalize(D,L,b){const H=this.spatialReference;if(!H)return this;const Y=b??(0,N.Vp)(H);if(null==Y)return this;const z=this._getParts(Y).map(Q=>Q.extent);if(z.length<2)return z[0]||this;if(z.length>2)return D?this._shiftCM(Y):this.set({xmin:Y.valid[0],xmax:Y.valid[1]});if(D)return this._shiftCM(Y);if(L)return z;let te=!0,ee=!0;return z.forEach(Q=>{Q.hasZ||(te=!1),Q.hasM||(ee=!1)}),{rings:z.map(Q=>{const q=[[Q.xmin,Q.ymin],[Q.xmin,Q.ymax],[Q.xmax,Q.ymax],[Q.xmax,Q.ymin],[Q.xmin,Q.ymin]];if(te){const j=(Q.zmax-Q.zmin)/2;for(let X=0;X<q.length;X++)q[X].push(j)}if(ee){const j=(Q.mmax-Q.mmin)/2;for(let X=0;X<q.length;X++)q[X].push(j)}return q}),hasZ:te,hasM:ee,spatialReference:H}}_getParts(D){let L=this.cache._parts;if(!L){L=[];const{ymin:Y,ymax:z,spatialReference:te}=this,ee=this.width,Q=this.xmin,q=this.xmax;let j;D=D||(0,N.Vp)(te);const[X,A]=D.valid;j=m(this.xmin,D);const ie=j.x,K=j.frameId;j=m(this.xmax,D);const B=j.x,G=j.frameId,se=ie===B&&ee>0;if(ee>2*A){const J=new W(Q<q?ie:B,Y,A,z,te),ce=new W(X,Y,Q<q?B:ie,z,te),_e=new W(0,Y,A,z,te),Ce=new W(X,Y,0,z,te),Oe=[],fe=[];J.contains(_e)&&Oe.push(K),J.contains(Ce)&&fe.push(K),ce.contains(_e)&&Oe.push(G),ce.contains(Ce)&&fe.push(G);for(let Se=K+1;Se<G;Se++)Oe.push(Se),fe.push(Se);L.push({extent:J,frameIds:[K]},{extent:ce,frameIds:[G]},{extent:_e,frameIds:Oe},{extent:Ce,frameIds:fe})}else ie>B||se?L.push({extent:new W(ie,Y,A,z,te),frameIds:[K]},{extent:new W(X,Y,B,z,te),frameIds:[G]}):L.push({extent:new W(ie,Y,B,z,te),frameIds:[K]});this.cache._parts=L}const b=this.hasZ,H=this.hasM;if(b||H){const Y={};b&&(Y.zmin=this.zmin,Y.zmax=this.zmax),H&&(Y.mmin=this.mmin,Y.mmax=this.mmax);for(let z=0;z<L.length;z++)L[z].extent.set(Y)}return L}};function m(D,L){const[b,H]=L.valid,Y=2*H;let z,te=0;return D>H?(z=Math.ceil(Math.abs(D-H)/Y),D-=z*Y,te=z):D<b&&(z=Math.ceil(Math.abs(D-b)/Y),D+=z*Y,te=-z),{x:D,frameId:te}}(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"cache",null),(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"center",null),(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"extent",null),(0,d._)([(0,w.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],M.prototype,"hasM",null),(0,d._)([(0,w.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],M.prototype,"hasZ",null),(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"height",null),(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"width",null),(0,d._)([(0,w.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],M.prototype,"xmin",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],M.prototype,"ymin",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],M.prototype,"mmin",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],M.prototype,"zmin",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],M.prototype,"xmax",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],M.prototype,"ymax",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],M.prototype,"mmax",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],M.prototype,"zmax",void 0),M=W=(0,d._)([(0,R.$)("esri.geometry.Extent")],M),M.prototype.toJSON.isDefaultToJSON=!0;const Z=M},68643:(xe,re,u)=>{u.d(re,{A:()=>P});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(17221)),T=u(76576),y=u(32034);let E=class extends p.A{constructor(...C){super(...C),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=y.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(C,N){if(C instanceof y.A)return C;if(null!=C){const U=new y.A;return U.read(C,N),U}return C}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(C){return this.cache[C]}setCacheValue(C,N){this.cache[C]=N}};(0,d._)([(0,w.MZ)()],E.prototype,"type",void 0),(0,d._)([(0,w.MZ)({readOnly:!0})],E.prototype,"cache",null),(0,d._)([(0,w.MZ)({readOnly:!0})],E.prototype,"extent",null),(0,d._)([(0,w.MZ)({type:Boolean,json:{write:{overridePolicy:C=>({enabled:C})}}})],E.prototype,"hasM",void 0),(0,d._)([(0,w.MZ)({type:Boolean,json:{write:{overridePolicy:C=>({enabled:C})}}})],E.prototype,"hasZ",void 0),(0,d._)([(0,w.MZ)({type:y.A,json:{write:!0},value:y.A.WGS84})],E.prototype,"spatialReference",void 0),(0,d._)([(0,R.w)("spatialReference")],E.prototype,"readSpatialReference",null),E=(0,d._)([(0,T.$)("esri.geometry.Geometry")],E);const P=E},33119:(xe,re,u)=>{u.d(re,{A:()=>Z});var N,d=u(8189),p=u(89952),w=u(49976),_=u(71065),I=u(82663),F=u(96996),R=u(85211),E=(u(3248),u(35150),u(17221)),P=u(76576),C=u(50305);const U=(0,w.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),W=U.jsonValues.slice();(0,p.Xy)(W,"orthometric");const O=(0,w.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let v=N=class extends _.A{constructor(D){super(D),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(D,L,b){return U.write(D,L,b)}readHeightModel(D,L,b){return U.read(D)||(b?.messages&&b.messages.push(function m(D,L){return new F.A("height-model:unsupported",`Height model of value '${D}' is not supported`,L)}(D,{context:b})),null)}readHeightUnit(D,L,b){return O.read(D)||(b?.messages&&b.messages.push(M(D,{context:b})),null)}readHeightUnitService(D,L,b){return(0,I.LA)(D)||O.read(D)||(b?.messages&&b.messages.push(M(D,{context:b})),null)}readVertCRS(D,L){return L.vertCRS||L.ellipsoid||L.geoid}clone(){return new N({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(D){return!!D&&(this===D||this.heightModel===D.heightModel&&this.heightUnit===D.heightUnit&&this.vertCRS===D.vertCRS)}static deriveUnitFromSR(D,L){const b=(0,I.k1)(L);return new N({heightModel:D.heightModel,heightUnit:b??void 0,vertCRS:D.vertCRS})}write(D,L){return L={origin:"web-scene",...L},super.write(D,L)}static fromJSON(D){if(!D)return null;const L=new N;return L.read(D,{origin:"web-scene"}),L}};function M(D,L){return new F.A("height-unit:unsupported",`Height unit of value '${D}' is not supported`,L)}(0,d._)([(0,R.MZ)({type:U.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:W,default:"ellipsoidal",write:{isRequired:!0}}}}})],v.prototype,"heightModel",void 0),(0,d._)([(0,C.K)("web-scene","heightModel")],v.prototype,"writeHeightModel",null),(0,d._)([(0,E.w)(["web-scene","service"],"heightModel")],v.prototype,"readHeightModel",null),(0,d._)([(0,R.MZ)({type:O.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:O.jsonValues,write:{writer:O.write,isRequired:!0}}}}})],v.prototype,"heightUnit",void 0),(0,d._)([(0,E.w)("web-scene","heightUnit")],v.prototype,"readHeightUnit",null),(0,d._)([(0,E.w)("service","heightUnit")],v.prototype,"readHeightUnitService",null),(0,d._)([(0,R.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],v.prototype,"vertCRS",void 0),(0,d._)([(0,E.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],v.prototype,"readVertCRS",null),v=N=(0,d._)([(0,P.$)("esri.geometry.HeightModelInfo")],v);const Z=v},21870:(xe,re,u)=>{u.d(re,{A:()=>O});var C,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(76576)),R=u(50305),T=u(28067),y=u(68643),E=u(1749),P=u(70977);function N(v){return(M,m)=>null==M?m:null==m?M:v(M,m)}let W=C=class extends y.A{constructor(...v){super(...v),this.points=[],this.type="multipoint"}normalizeCtorArgs(v,M){if(!v&&!M)return{};const m={};Array.isArray(v)?(m.points=v,m.spatialReference=M):function U(v){return v&&("esri.geometry.SpatialReference"===v.declaredClass||null!=v.wkid)}(v)?m.spatialReference=v:(v.points&&(m.points=v.points),v.spatialReference&&(m.spatialReference=v.spatialReference),v.hasZ&&(m.hasZ=v.hasZ),v.hasM&&(m.hasM=v.hasM));const Z=m.points?.[0];return Z&&(void 0===m.hasZ&&void 0===m.hasM?(m.hasZ=Z.length>2,m.hasM=!1):void 0===m.hasZ?m.hasZ=Z.length>3:void 0===m.hasM&&(m.hasM=Z.length>3)),m}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const v=this.points;if(!v.length)return null;const M=new T.A,m=this.hasZ,Z=this.hasM,D=m?3:2,L=v[0],b=N(Math.min),H=N(Math.max);let Y,z,te,ee,[Q,q]=L,[j,X]=L;for(let A=0,ie=v.length;A<ie;A++){const K=v[A],[B,G]=K;if(Q=b(Q,B),q=b(q,G),j=H(j,B),X=H(X,G),m&&K.length>2){const se=K[2];Y=b(Y,se),te=H(te,se)}if(Z&&K.length>D){const se=K[D];z=b(z,se),ee=H(ee,se)}}return M.xmin=Q,M.ymin=q,M.xmax=j,M.ymax=X,M.spatialReference=this.spatialReference,m?(M.zmin=Y,M.zmax=te):(M.zmin=void 0,M.zmax=void 0),Z?(M.mmin=z,M.mmax=ee):(M.mmin=void 0,M.mmax=void 0),M}writePoints(v,M){M.points=(0,p.o8)(this.points)}addPoint(v){return(0,P.h)(this,v),Array.isArray(v)?this.points.push(v):this.points.push(v.toArray()),this.notifyChange("points"),this}clone(){const v={points:(0,p.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(v.hasZ=!0),this.hasM&&(v.hasM=!0),new C(v)}getPoint(v){if(!this._validateInputs(v))return null;const M=this.points[v],m={x:M[0],y:M[1],spatialReference:this.spatialReference};let Z=2;return this.hasZ&&(m.z=M[2],Z=3),this.hasM&&(m.m=M[Z]),new E.A(m)}removePoint(v){if(!this._validateInputs(v))return null;const M=new E.A(this.points.splice(v,1)[0],this.spatialReference);return this.notifyChange("points"),M}setPoint(v,M){return this._validateInputs(v)?((0,P.h)(this,M),Array.isArray(M)||(M=M.toArray()),this.points[v]=M,this.notifyChange("points"),this):this}toJSON(v){return this.write({},v)}_validateInputs(v){return null!=v&&v>=0&&v<this.points.length}};(0,d._)([(0,w.MZ)({readOnly:!0})],W.prototype,"cache",null),(0,d._)([(0,w.MZ)()],W.prototype,"extent",null),(0,d._)([(0,w.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],W.prototype,"points",void 0),(0,d._)([(0,R.K)("points")],W.prototype,"writePoints",null),W=C=(0,d._)([(0,F.$)("esri.geometry.Multipoint")],W),W.prototype.toJSON.isDefaultToJSON=!0;const O=W},1749:(xe,re,u)=>{u.d(re,{A:()=>D});var v,d=u(8189),p=u(98877),w=u(35150),_=u(85211),I=u(48669),T=(u(3248),u(40707),u(17221)),y=u(76576),E=u(50305),P=u(55739),C=u(68643),N=u(32034),U=u(15364),W=u(58701),O=u(55039);const M=[0,0];function m(L){return L&&("esri.geometry.SpatialReference"===L.declaredClass||null!=L.wkid)}let Z=v=class extends C.A{static copy(L,b){b._set("x",L._get("x")),b._set("y",L._get("y")),b._set("z",L._get("z")),b._set("m",L._get("m"));const H=L._get("spatialReference");b._set("spatialReference",p.A.isFrozen(H)?H:H.clone())}constructor(...L){super(...L),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(L,b,H,Y,z){let te;if(Array.isArray(L))te=L,z=b,L=te[0],b=te[1],H=te[2],Y=te[3];else if(L&&"object"==typeof L){if(te=L,L=null!=te.x?te.x:te.longitude,b=null!=te.y?te.y:te.latitude,H=te.z,Y=te.m,(z=te.spatialReference)&&"esri.geometry.SpatialReference"!==z.declaredClass&&(z=new N.A(z)),null!=te.longitude||null!=te.latitude)if(null==te.longitude)w.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==te.latitude)w.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!te.declaredClass&&z?.isWebMercator){const Q=(0,O.je)(te.longitude,te.latitude,M);L=Q[0],b=Q[1]}}else m(H)?(z=H,H=null):m(Y)&&(z=Y,Y=null);const ee={x:L,y:b};return null==ee.x&&null!=ee.y?w.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==ee.y&&null!=ee.x&&w.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=z&&(ee.spatialReference=z),null!=H&&(ee.z=H),null!=Y&&(ee.m=Y),ee}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(L){L!==(void 0!==this._get("m"))&&(this._set("m",L?0:void 0),this._set("hasM",L))}get hasZ(){return void 0!==this.z}set hasZ(L){L!==(void 0!==this._get("z"))&&(this._set("z",L?0:void 0),this._set("hasZ",L))}get latitude(){return(0,U.T0)(this)}set latitude(L){const{spatialReference:b,x:H}=this;null!=L&&b&&(b.isWebMercator?this._set("y",(0,O.je)(H,L,M)[1]):b.isGeographic&&this._set("y",L),this._set("latitude",L))}get longitude(){return(0,U.EZ)(this)}set longitude(L){const{y:b,spatialReference:H}=this;null!=L&&H&&(H.isWebMercator?this._set("x",(0,O.je)(L,b,M)[0]):H.isGeographic&&this._set("x",L),this._set("longitude",L))}writeX(L,b,H){b[H]=isNaN(L)?"NaN":L}readX(L){return"string"==typeof L?NaN:L}clone(){const L=new v;return L.x=this.x,L.y=this.y,L.z=this.z,L.m=this.m,L.spatialReference=this.spatialReference,L}copy(L){return v.copy(L,this),this}equals(L){if(null==L)return!1;const{x:b,y:H,z:Y,m:z,spatialReference:te}=this,{z:ee,m:Q}=L;let{x:q,y:j,spatialReference:X}=L;if(!te.equals(X))if(te.isWebMercator&&X.isWGS84)[q,j]=(0,O.je)(q,j),X=te;else{if(!te.isWGS84||!X.isWebMercator)return!1;[q,j]=(0,O.tD)(q,j),X=te}return b===q&&H===j&&Y===ee&&z===Q&&te.wkid===X.wkid}offset(L,b,H){return this.x+=L,this.y+=b,null!=H&&(this.z=(this.z??0)+H),this}normalize(){if(!this.spatialReference)return this;const L=(0,W.Vp)(this.spatialReference);if(!L)return this;let b=this.x;const[H,Y]=L.valid,z=2*Y;let te;return b>Y?(te=Math.ceil(Math.abs(b-Y)/z),b-=te*z):b<H&&(te=Math.ceil(Math.abs(b-H)/z),b+=te*z),this._set("x",b),this}distance(L){return(0,U.Io)(this,L)}toArray(){const L=this.hasZ,b=this.hasM;return L&&b?[this.x,this.y,this.z,this.m]:L?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(L){return this.write({},L)}};(0,d._)([(0,_.MZ)({readOnly:!0})],Z.prototype,"cache",null),(0,d._)([(0,_.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Z.prototype,"hasM",null),(0,d._)([(0,_.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Z.prototype,"hasZ",null),(0,d._)([(0,_.MZ)({type:Number})],Z.prototype,"latitude",null),(0,d._)([(0,_.MZ)({type:Number})],Z.prototype,"longitude",null),(0,d._)([(0,_.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,I.w)(L=>isNaN(L)?L:(0,P.GB)(L))],Z.prototype,"x",void 0),(0,d._)([(0,E.K)("x")],Z.prototype,"writeX",null),(0,d._)([(0,T.w)("x")],Z.prototype,"readX",null),(0,d._)([(0,_.MZ)({type:Number,json:{write:!0}})],Z.prototype,"y",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Z.prototype,"z",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Z.prototype,"m",void 0),Z=v=(0,d._)([(0,y.$)("esri.geometry.Point")],Z),Z.prototype.toJSON.isDefaultToJSON=!0;const D=Z},55861:(xe,re,u)=>{u.d(re,{A:()=>Y});var Z,d=u(8189),p=u(89952),w=u(77806),_=u(85211),R=(u(3248),u(35150),u(76576)),T=u(50305),y=u(28067),E=u(68643),P=u(1749),C=u(32034),N=u(39239),U=u(8190),W=u(15268),O=u(22442),v=u(62928),M=u(55039),m=u(70977);function D(z){return!Array.isArray(z[0])}let H=Z=class extends E.A{static fromExtent(z){const te=z.clone().normalize(),{spatialReference:ee}=z;let Q=!1,q=!1;for(const X of te)X.hasZ&&(Q=!0),X.hasM&&(q=!0);const j={rings:te.map(X=>{const A=[[X.xmin,X.ymin],[X.xmin,X.ymax],[X.xmax,X.ymax],[X.xmax,X.ymin],[X.xmin,X.ymin]];if(Q&&X.hasZ){const ie=X.zmin+.5*(X.zmax-X.zmin);for(let K=0;K<A.length;K++)A[K].push(ie)}if(q&&X.hasM){const ie=X.mmin+.5*(X.mmax-X.mmin);for(let K=0;K<A.length;K++)A[K].push(ie)}return A}),spatialReference:ee};return Q&&(j.hasZ=!0),q&&(j.hasM=!0),new Z(j)}constructor(z){super(function b(z){if(!z)return;let{rings:te,hasM:ee,hasZ:Q,spatialReference:q}=z;switch(te??=[],function L(z){return"number"==typeof z[0]?.[0]}(te)&&(te=[te]),te[0]?.[0]?.length){case 4:Q??=!0,ee??=!0;break;case 3:Q??=!0!==ee,ee??=!Q;break;default:Q??=!1,ee??=!1}return q??=C.A.WGS84,{...z,hasM:ee,hasZ:Q,rings:te,spatialReference:q}}(z)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const z=(0,N.l8)(this);if(!z||isNaN(z[0])||isNaN(z[1])||this.hasZ&&isNaN(z[2]))return null;const te=new P.A;return te.x=z[0],te.y=z[1],te.spatialReference=this.spatialReference,this.hasZ&&(te.z=z[2]),te}writeCurveRings(z,te){te.curveRings=(0,w.o8)(z)}get extent(){const z=(0,O.v)(this),{spatialReference:te}=this;return z?new y.A({...z,spatialReference:te}):null}get isSelfIntersecting(){return(0,v.A3)(this.rings)}writeRings(z,te){te.rings=(0,w.o8)(this.rings)}addRing(z){if(!z)return;const te=this.rings,ee=te.length;if(D(z)){const Q=[];for(let q=0,j=z.length;q<j;q++)Q[q]=z[q].toArray();te[ee]=Q}else te[ee]=z.slice();return this.notifyChange("rings"),this}clone(){const z=new Z;return z.spatialReference=this.spatialReference,z.rings=(0,w.o8)(this.rings),z.curveRings=(0,w.o8)(this.curveRings),z.hasZ=this.hasZ,z.hasM=this.hasM,z}equals(z){if(this===z)return!0;if(null==z)return!1;const te=this.spatialReference,ee=z.spatialReference;if(null!=te!=(null!=ee)||null!=te&&null!=ee&&!te.equals(ee)||this.rings.length!==z.rings.length)return!1;const Q=([q,j,X,A],[ie,K,B,G])=>q===ie&&j===K&&(null==X&&null==B||X===B)&&(null==A&&null==G||A===G);for(let q=0;q<this.rings.length;q++)if(!(0,p.aI)(this.rings[q],z.rings[q],Q))return!1;return!0}contains(z){if(!z)return!1;const te=(0,M.Cv)(z,this.spatialReference);return(0,U.m3)(this,te??z)}isClockwise(z){const te=D(z)?z.map(ee=>this.hasZ?this.hasM?[ee.x,ee.y,ee.z,ee.m]:[ee.x,ee.y,ee.z]:[ee.x,ee.y]):z;return(0,W.$3)(te)}getPoint(z,te){if(!this._validateInputs(z,te))return null;const ee=this.rings[z][te],Q=this.hasZ,q=this.hasM;return Q&&!q?new P.A(ee[0],ee[1],ee[2],void 0,this.spatialReference):q&&!Q?new P.A(ee[0],ee[1],void 0,ee[2],this.spatialReference):Q&&q?new P.A(ee[0],ee[1],ee[2],ee[3],this.spatialReference):new P.A(ee[0],ee[1],this.spatialReference)}insertPoint(z,te,ee){return this._validateInputs(z,te,!0)?((0,m.h)(this,ee),Array.isArray(ee)||(ee=ee.toArray()),this.rings[z].splice(te,0,ee),this.notifyChange("rings"),this):this}removePoint(z,te){if(!this._validateInputs(z,te))return null;const ee=new P.A(this.rings[z].splice(te,1)[0],this.spatialReference);return this.notifyChange("rings"),ee}removeRing(z){if(!this._validateInputs(z,null))return null;const te=this.rings.splice(z,1)[0],ee=this.spatialReference,Q=te.map(q=>new P.A(q,ee));return this.notifyChange("rings"),Q}setPoint(z,te,ee){return this._validateInputs(z,te)?((0,m.h)(this,ee),Array.isArray(ee)||(ee=ee.toArray()),this.rings[z][te]=ee,this.notifyChange("rings"),this):this}_validateInputs(z,te,ee=!1){if(null==z||z<0||z>=this.rings.length)return!1;if(null!=te){const Q=this.rings[z];if(ee&&(te<0||te>Q.length)||!ee&&(te<0||te>=Q.length))return!1}return!0}toJSON(z){return this.write({},z)}};(0,d._)([(0,_.MZ)({readOnly:!0})],H.prototype,"cache",null),(0,d._)([(0,_.MZ)({readOnly:!0})],H.prototype,"centroid",null),(0,d._)([(0,_.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],H.prototype,"curveRings",void 0),(0,d._)([(0,T.K)("curveRings")],H.prototype,"writeCurveRings",null),(0,d._)([(0,_.MZ)({readOnly:!0})],H.prototype,"extent",null),(0,d._)([(0,_.MZ)({readOnly:!0})],H.prototype,"isSelfIntersecting",null),(0,d._)([(0,_.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],H.prototype,"rings",void 0),(0,d._)([(0,T.K)("rings")],H.prototype,"writeRings",null),H=Z=(0,d._)([(0,R.$)("esri.geometry.Polygon")],H);const Y=H;H.prototype.toJSON.isDefaultToJSON=!0},93615:(xe,re,u)=>{u.d(re,{A:()=>m});var U,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(76576)),R=u(50305),T=u(28067),y=u(68643),E=u(1749),P=u(32034),C=u(22442),N=u(70977);let M=U=class extends y.A{constructor(Z){super(function v(Z){if(!Z)return;let{paths:D,hasM:L,hasZ:b,spatialReference:H}=Z;switch(D??=[],function O(Z){return"number"==typeof Z[0]?.[0]}(D)&&(D=[D]),D[0]?.[0]?.length){case 4:b??=!0,L??=!0;break;case 3:b??=!0!==L,L??=!b;break;default:b??=!1,L??=!1}return H??=P.A.WGS84,{...Z,hasM:L,hasZ:b,paths:D,spatialReference:H}}(Z)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(Z,D){D.curvePaths=(0,p.o8)(Z)}get extent(){const Z=(0,C.Z3)(this),{spatialReference:D}=this;return Z?new T.A({...Z,spatialReference:D}):null}writePaths(Z,D){D.paths=(0,p.o8)(this.paths)}addPath(Z){if(!Z)return;const D=this.paths,L=D.length;if(function W(Z){return!Array.isArray(Z[0])}(Z)){const b=[];for(let H=0,Y=Z.length;H<Y;H++)b[H]=Z[H].toArray();D[L]=b}else D[L]=Z.slice();return this.notifyChange("paths"),this}clone(){const Z=new U;return Z.spatialReference=this.spatialReference,Z.paths=(0,p.o8)(this.paths),Z.curvePaths=(0,p.o8)(this.curvePaths),Z.hasZ=this.hasZ,Z.hasM=this.hasM,Z}getPoint(Z,D){if(!this._validateInputs(Z,D))return null;const L=this.paths[Z][D],b=this.hasZ,H=this.hasM;return b&&!H?new E.A(L[0],L[1],L[2],void 0,this.spatialReference):H&&!b?new E.A(L[0],L[1],void 0,L[2],this.spatialReference):b&&H?new E.A(L[0],L[1],L[2],L[3],this.spatialReference):new E.A(L[0],L[1],this.spatialReference)}insertPoint(Z,D,L){return this._validateInputs(Z,D,!0)?((0,N.h)(this,L),Array.isArray(L)||(L=L.toArray()),this.paths[Z].splice(D,0,L),this.notifyChange("paths"),this):this}removePath(Z){if(!this._validateInputs(Z,null))return null;const D=this.paths.splice(Z,1)[0],L=this.spatialReference,b=D.map(H=>new E.A(H,L));return this.notifyChange("paths"),b}removePoint(Z,D){if(!this._validateInputs(Z,D))return null;const L=new E.A(this.paths[Z].splice(D,1)[0],this.spatialReference);return this.notifyChange("paths"),L}setPoint(Z,D,L){return this._validateInputs(Z,D)?((0,N.h)(this,L),Array.isArray(L)||(L=L.toArray()),this.paths[Z][D]=L,this.notifyChange("paths"),this):this}_validateInputs(Z,D,L=!1){if(null==Z||Z<0||Z>=this.paths.length)return!1;if(null!=D){const b=this.paths[Z];if(L&&(D<0||D>b.length)||!L&&(D<0||D>=b.length))return!1}return!0}toJSON(Z){return this.write({},Z)}};(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"cache",null),(0,d._)([(0,w.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],M.prototype,"curvePaths",void 0),(0,d._)([(0,R.K)("curvePaths")],M.prototype,"writeCurvePaths",null),(0,d._)([(0,w.MZ)({readOnly:!0})],M.prototype,"extent",null),(0,d._)([(0,w.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],M.prototype,"paths",void 0),(0,d._)([(0,R.K)("paths")],M.prototype,"writePaths",null),M=U=(0,d._)([(0,F.$)("esri.geometry.Polyline")],M);const m=M;M.prototype.toJSON.isDefaultToJSON=!0},32034:(xe,re,u)=>{u.d(re,{A:()=>N});var P,d=u(8189),p=u(98877),w=u(71065),_=u(77806),I=u(82663),F=u(55739),R=u(85211),T=u(76576),y=u(50305),E=u(58701);let C=P=class extends w.A{static fromJSON(U){if(!U)return null;if(102100===U?.wkid)return P.WebMercator;if(4326===U?.wkid)return P.WGS84;const W=new P;return W.read(U),W}constructor(U){super(U),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(U){return U&&"object"==typeof U?U:{["string"==typeof U?"wkt":"wkid"]:U}}get isWGS84(){return(0,E.oT)(this)}get isWebMercator(){return(0,E.K8)(this)}get isGeographic(){return(0,E.EA)(this)}get isWrappable(){return(0,E.d9)(this)}get metersPerUnit(){return(0,I.GA)(this)}get unit(){return(0,I.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(U,W){this.wkid||(W.wkt=U)}clone(){if(this===P.WGS84)return new P(E.KK);if(this===P.WebMercator)return new P(E.ch);const U=new P;return null!=this.wkid?(U.wkid=this.wkid,null!=this.latestWkid&&(U.latestWkid=this.latestWkid),null!=this.vcsWkid&&(U.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(U.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(U.wkt=this.wkt),null!=this.wkt2&&(U.wkt2=this.wkt2)),this.imageCoordinateSystem&&(U.imageCoordinateSystem=(0,_.o8)(this.imageCoordinateSystem)),U}equals(U){if(null==U)return!1;if(this.imageCoordinateSystem||U.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==U.imageCoordinateSystem)return!1;const{id:W,referenceServiceName:O}=U.imageCoordinateSystem,{geodataXform:v}=U.imageCoordinateSystem,M=this.imageCoordinateSystem;return null==W||v?JSON.stringify(M)===JSON.stringify(U.imageCoordinateSystem):O?M.id===W&&M.referenceServiceName===O:M.id===W}return(0,E.aI)(this,U)}toJSON(U){return this.write(void 0,U)}};C.GCS_NAD_1927=null,C.WGS84=null,C.WebMercator=null,C.PlateCarree=null,(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"isWGS84",null),(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"isWebMercator",null),(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"isGeographic",null),(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"isWrappable",null),(0,d._)([(0,R.MZ)({type:F.jz,json:{write:!0}})],C.prototype,"latestWkid",void 0),(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"metersPerUnit",null),(0,d._)([(0,R.MZ)({readOnly:!0})],C.prototype,"unit",null),(0,d._)([(0,R.MZ)({type:F.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],C.prototype,"wkid",void 0),(0,d._)([(0,R.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],C.prototype,"wkt",void 0),(0,d._)([(0,y.K)("wkt"),(0,y.K)("web-scene","wkt")],C.prototype,"writeWkt",null),(0,d._)([(0,R.MZ)({type:String,json:{write:!1}})],C.prototype,"wkt2",void 0),(0,d._)([(0,R.MZ)({type:F.jz,json:{write:!0}})],C.prototype,"vcsWkid",void 0),(0,d._)([(0,R.MZ)({type:F.jz,json:{write:!0}})],C.prototype,"latestVcsWkid",void 0),(0,d._)([(0,R.MZ)()],C.prototype,"imageCoordinateSystem",void 0),C=P=(0,d._)([(0,T.$)("esri.geometry.SpatialReference")],C),C.prototype.toJSON.isDefaultToJSON=!0,C.GCS_NAD_1927=p.A.freeze(new C({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),C.WGS84=p.A.freeze(new C(E.KK)),C.WebMercator=p.A.freeze(new C(E.ch)),C.PlateCarree=p.A.freeze(new C(E.tQ));const N=C},29020:(xe,re,u)=>{u.d(re,{H:()=>w,f:()=>p});var d=u(5922);function p(_){if(_&&"object"==typeof _&&"type"in _&&"mesh"===_.type)throw new d.A("Mesh geometries are not supported for this operation")}function w(_){_.forEach(p)}},87477:(xe,re,u)=>{u.d(re,{FY:()=>I,LJ:()=>F,Ro:()=>R,fv:()=>_,jA:()=>C,tO:()=>E,xP:()=>N,y7:()=>P});var d=u(47258),p=u(58701);function w(U){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${U.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const _=w(d.$O),I=w(d.sH),F=w(d.Sw),R={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${d.$O.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},T=I.wkt.toUpperCase(),y=F.wkt.toUpperCase();function E(U){if(null!=U&&(0,p.fn)(U)){const W=U.wkid,O=U.wkt2??U.wkt;if((0,p.tl)(W))return d.sH;const v=O?.toUpperCase();if(O&&v===T)return d.sH;if((0,p.ZL)(W)||v&&v===y)return d.Sw}return d.$O}function P(U){return(0,p.tl)(U)?d.sH:(0,p.ZL)(U)?d.Sw:d.$O}function C(U){return(0,p.aI)(U,_)}function N(U){return C(U)||(0,p.aI)(U,I)||(0,p.aI)(U,F)}},53262:(xe,re,u)=>{function d(w){const _=[];for(w.reset();w.nextPath();){const I=[];for(;w.nextPoint();)I.push([w.x,w.y]);_.push(I)}return w.reset(),_}function p(w){const _=[];for(;w.nextPoint();)_.push([w.x,w.y]);return w.seekPathStart(),_}u.d(re,{A:()=>p,x:()=>d})},13970:(xe,re,u)=>{u.r(re),u.d(re,{canProjectWithoutEngine:()=>fe,getTransformation:()=>B,getTransformations:()=>G,initializeProjection:()=>me,isEqualBaseGCS:()=>Se,isLoaded:()=>te,isLoadedOrLoad:()=>ee,isLoadedOrLoadFor:()=>Q,load:()=>j,project:()=>X,projectExtent:()=>je,projectMany:()=>A,projectMultipoint:()=>oe,projectOrLoad:()=>ie,projectOrLoadMany:()=>K,projectPoint:()=>Le,projectPolygon:()=>he,projectPolyline:()=>k,projectWithZConversion:()=>Ce,projectWithoutEngine:()=>Be,requiresLoad:()=>q,test:()=>ce,tryProjectWithZConversion:()=>_e,unload:()=>J});var d=u(10467),p=u(5922),w=u(56492),_=u(9700),I=u(4032),F=u(25866),R=u(29020),T=u(87477),y=u(28067),E=u(21870),P=u(33658),C=u(1749),N=u(55861),U=u(93615),W=u(32034),O=u(23234),v=u(70744),M=u(29695),m=u(93822),Z=u(58701),D=u(23743);let L=null,b=null,H=null,Y={};const z=new I.I;function te(){return!!L&&(0,P.i)()}function ee(){return!!te()||((0,_.gc)(z),j(),!1)}function Q(ue,Te){return!ue||!Te||fe(ue,Te)||ee()}function q(ue,Te){return!fe(ue,Te)&&!te()}function j(ue){return null==H&&(H=Promise.all([(0,P.l)(),Promise.all([u.e(3930),u.e(3293)]).then(u.bind(u,53930)).then(Te=>Te.g),u.e(3723).then(u.bind(u,93723))])),H.then(([,Te,{hydratedAdapter:we}])=>{(0,w.Te)(ue),b=we,L=Te.default,L._enableProjection(P.p),z.notify()})}function X(ue,Te,we=null,ze=null){return Array.isArray(ue)?0===ue.length?[]:((0,R.H)(ue),A(b,ue,ue[0].spatialReference,Te,we,ze)):((0,R.f)(ue),A(b,[ue],ue.spatialReference,Te,we,ze)[0])}function A(ue,Te,we,ze,Ee=null,Me=null){if(null==we||null==ze)return Te;if(fe(we,ze,Ee))return Te.map(ve=>Be(ve,we,ze));if(null==Ee&&(0,T.jA)(we))return Te.map(ve=>Be(ve,we,W.A.WGS84)).map(ve=>_e(ve,ze));if(null==Ee&&(0,T.jA)(ze))return Te.map(ve=>_e(ve,W.A.WGS84)).map(ve=>Be(ve,W.A.WGS84,ze));if(null==Ee){const ve=m.A.cacheKey(we,ze);void 0!==Y[ve]?Ee=Y[ve]:(null==(Ee=B(we,ze,void 0))&&(Ee=new m.A),Y[ve]=Ee)}if(null==L||null==ue)throw new se;return null!=Me?L._project(ue,Te,we,ze,Ee,Me):L._project(ue,Te,we,ze,Ee)}function ie(ue,Te){const we=K([ue],Te);return null!=we.pending?{pending:we.pending,geometry:null}:null!=we.geometries?{pending:null,geometry:we.geometries[0]}:{pending:null,geometry:null}}function K(ue,Te){if(!te())for(const we of ue)if(null!=we&&!(0,Z.aI)(we.spatialReference,Te)&&(0,Z.fn)(we.spatialReference)&&(0,Z.fn)(Te)&&!fe(we.spatialReference,Te))return(0,_.gc)(z),{pending:j(),geometries:null};return{pending:null,geometries:ue.map(we=>null==we?null:(0,Z.aI)(we.spatialReference,Te)?we:(0,Z.fn)(we.spatialReference)&&(0,Z.fn)(Te)?_e(we,Te):null)}}function B(ue,Te,we=null){if(null==ue||null==Te)return null;if(null==L||null==b)throw new se;const ze=L._getTransformation(b,ue,Te,we,we?.spatialReference);return null!==ze?m.A.fromGE(ze):null}function G(ue,Te,we=null){if(null==L||null==b)throw new se;const ze=L._getTransformationBySuitability(b,ue,Te,we,we?.spatialReference);if(null!==ze){const Ee=[];for(const Me of ze)Ee.push(m.A.fromGE(Me));return Ee}return[]}class se extends p.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function J(){L=null,b=null,H=null,Y={}}const ce={get loadPromise(){return H}};function _e(ue,Te){try{const we=X(ue,Te);if(null==we)return null;"xmin"in ue&&"xmin"in we&&(we.zmin=ue.zmin,we.zmax=ue.zmax);const ze=(0,D.N)(we.type,ue.spatialReference,Te);return ze?.(we),we}catch(we){if(!(we instanceof se))throw we;return null}}function Ce(ue,Te,we){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(ue,Te,we){const ze=ue.spatialReference;return null!=ze&&null!=Te&&(yield me(ze,Te,null,we)),_e(ue,Te)})).apply(this,arguments)}function fe(ue,Te,we){return!we&&(!!(0,Z.aI)(ue,Te)||(0,Z.fn)(ue)&&(0,Z.fn)(Te)&&!!(0,v.jd)(ue,Te))}function Se(ue,Te){if((0,Z.aI)(ue,Te))return!0;if(!(0,Z.fn)(ue)||!(0,Z.fn)(Te))return!1;const we=(0,Z.oT)(ue)||(0,Z.K8)(ue)||(0,Z.x1)(ue),ze=(0,Z.oT)(Te)||(0,Z.K8)(Te)||(0,Z.x1)(Te);return we&&ze}function me(ue,Te,we,ze){return ge.apply(this,arguments)}function ge(){return(ge=(0,d.A)(function*(ue,Te,we,ze){if(te())return(0,w.NO)(ze);if(Array.isArray(ue)){for(const{source:Ee,dest:Me,geographicTransformation:ve}of ue)if(Ee&&Me&&!fe(Ee,Me,ve))return j(ze)}else if(ue&&Te&&!fe(ue,Te,we))return j(ze);return(0,w.NO)(ze)})).apply(this,arguments)}function Be(ue,Te,we){return ue?"x"in ue?Re(ue,Te,new C.A,we,0):"xmin"in ue?Fe(ue,Te,new y.A,we,0):"rings"in ue?Ae(ue,Te,new N.A,we,0):"paths"in ue?ae(ue,Te,new U.A,we,0):"points"in ue?S(ue,Te,new E.A,we,0):null:null}function Le(ue,Te,we=Te.spatialReference,ze=0){return null!=we&&null!=ue.spatialReference&&null!=Re(ue,ue.spatialReference,Te,we,ze)}function Re(ue,Te,we,ze,Ee){We[0]=ue.x,We[1]=ue.y;const Me=ue.z;return We[2]=void 0!==Me?Me:Ee,(0,O.projectBuffer)(We,Te,0,We,ze,0)?(we.x=We[0],we.y=We[1],we.spatialReference=ze,void 0!==Me||(0,T.xP)(ze)?(we.z=We[2],we.hasZ=!0):(we.z=void 0,we.hasZ=!1),void 0===ue.m?(we.m=void 0,we.hasM=!1):(we.m=ue.m,we.hasM=!0),we):null}function oe(ue,Te,we=Te.spatialReference,ze=0){return null!=ue.spatialReference&&null!=we&&null!=S(ue,ue.spatialReference,Te,we,ze)}function S(ue,Te,we,ze,Ee){const{points:Me,hasZ:ve,hasM:Ie}=ue,be=[],Je=Me.length,tt=[];for(const ft of Me)tt.push(ft[0],ft[1],ve?ft[2]:Ee);if(!(0,O.projectBuffer)(tt,Te,0,tt,ze,0,Je))return null;const lt=ve||(0,T.xP)(ze);for(let ft=0;ft<Je;++ft){const Et=3*ft,St=tt[Et],Rt=tt[Et+1];be.push(lt&&Ie?[St,Rt,tt[Et+2],Me[ft][3]]:lt?[St,Rt,tt[Et+2]]:Ie?[St,Rt,Me[ft][2]]:[St,Rt])}return we.points=be,we.spatialReference=ze,we.hasZ=ve,we.hasM=Ie,we}function k(ue,Te,we=Te.spatialReference,ze=0){return null!=ue.spatialReference&&null!=we&&null!=ae(ue,ue.spatialReference,Te,we,ze)}function ae(ue,Te,we,ze,Ee){const{paths:Me,hasZ:ve,hasM:Ie}=ue,be=[];if(!Ue(Me,ve??!1,Ie??!1,Te,be,ze,Ee))return null;const Je=ve||(0,T.xP)(ze);return we.paths=be,we.spatialReference=ze,we.hasZ=Je,we.hasM=Ie,we}function he(ue,Te,we=Te.spatialReference,ze=0){return null!=ue.spatialReference&&null!=we&&null!=Ae(ue,ue.spatialReference,Te,we,ze)}function Ae(ue,Te,we,ze,Ee){const{rings:Me,hasZ:ve,hasM:Ie}=ue,be=[];if(!Ue(Me,ve??!1,Ie??!1,Te,be,ze,Ee))return null;const Je=ve||(0,T.xP)(ze);return we.rings=be,we.spatialReference=ze,we.hasZ=Je,we.hasM=Ie,we}function je(ue,Te,we=Te.spatialReference,ze=0){return null!=ue.spatialReference&&null!=we&&null!=Fe(ue,ue.spatialReference,Te,we,ze)}function Fe(ue,Te,we,ze,Ee){const{xmin:Me,ymin:ve,xmax:Ie,ymax:be,hasZ:Je,hasM:tt}=ue;if(!(0,M.L)(Me,ve,Je?ue.zmin:Ee,Te,We,ze))return null;const ft=Je||(0,T.xP)(ze);return we.xmin=We[0],we.ymin=We[1],ft&&(we.zmin=We[2]),(0,M.L)(Ie,be,Je?ue.zmax:Ee,Te,We,ze)?(we.xmax=We[0],we.ymax=We[1],ft&&(we.zmax=We[2]),tt&&(we.mmin=ue.mmin,we.mmax=ue.mmax),we.spatialReference=ze,we):null}function Ue(ue,Te,we,ze,Ee,Me,ve=0){const Ie=new Array;for(const tt of ue)for(const lt of tt)Ie.push(lt[0],lt[1],Te?lt[2]:ve);if(!(0,O.projectBuffer)(Ie,ze,0,Ie,Me,0))return!1;let be=0;Ee.length=0;const Je=Te||(0,T.xP)(Me);for(const tt of ue){const lt=new Array;for(const ft of tt)Je&&we?lt.push([Ie[be++],Ie[be++],Ie[be++],ft[3]]):Je?lt.push([Ie[be++],Ie[be++],Ie[be++]]):we?(lt.push([Ie[be++],Ie[be++],ft[2]]),be++):(lt.push([Ie[be++],Ie[be++]]),be++);Ee.push(lt)}return!0}const We=(0,F.vt)()},23234:(xe,re,u)=>{u.r(re),u.d(re,{projectBuffer:()=>p});var d=u(70744);function p(w,_,I,F,R,T,y=Math.floor(w.length/3)){const E=(0,d.jd)(_,R);if(null==E)return!1;if(E===d.pO){if(w===F&&I===T)return!0;const C=I+3*y;for(let N=I,U=T;N<C;N++,U++)F[U]=w[N];return!0}const P=I+3*y;for(let C=I,N=T;C<P;C+=3,N+=3)E(w,C,F,N);return!0}},29695:(xe,re,u)=>{u.d(re,{L:()=>w});var d=u(25866),p=u(23234);function w(I,F,R,T,y,E){return _[0]=I,_[1]=F,_[2]=R,(0,p.projectBuffer)(_,T,0,y,E,0)}const _=(0,d.vt)()},70744:(xe,re,u)=>{u.d(re,{RC:()=>M,Tp:()=>P,jd:()=>E,n4:()=>X,pO:()=>U,rz:()=>T,w5:()=>y});var T,Re,d=u(69287),p=u(82663),w=u(87477),_=u(47258),I=u(2947),F=u(58701),R=u(1120);(Re=T||(T={}))[Re.UNKNOWN=0]="UNKNOWN",Re[Re.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",Re[Re.WGS84=2]="WGS84",Re[Re.WEB_MERCATOR=3]="WEB_MERCATOR",Re[Re.WGS84_ECEF=4]="WGS84_ECEF",Re[Re.CGCS2000=5]="CGCS2000",Re[Re.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",Re[Re.GCSMARS2000=7]="GCSMARS2000",Re[Re.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",Re[Re.GCSMOON2000=9]="GCSMOON2000",Re[Re.LON_LAT=10]="LON_LAT",Re[Re.PLATE_CARREE=11]="PLATE_CARREE";const y={[T.WGS84]:{[T.CGCS2000]:U,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:U,[T.SPHERICAL_ECEF]:j,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:m,[T.PLATE_CARREE]:Z,[T.WGS84]:U,[T.WGS84_ECEF]:J},[T.CGCS2000]:{[T.CGCS2000]:U,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:U,[T.SPHERICAL_ECEF]:j,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:m,[T.PLATE_CARREE]:Z,[T.WGS84]:U,[T.WGS84_ECEF]:J},[T.GCSMARS2000]:{[T.CGCS2000]:null,[T.GCSMARS2000]:U,[T.GCSMOON2000]:null,[T.LON_LAT]:U,[T.SPHERICAL_ECEF]:null,[T.SPHERICAL_MARS_PCPF]:q,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:null,[T.PLATE_CARREE]:null,[T.WGS84]:null,[T.WGS84_ECEF]:null},[T.GCSMOON2000]:{[T.CGCS2000]:null,[T.GCSMARS2000]:null,[T.GCSMOON2000]:U,[T.LON_LAT]:U,[T.SPHERICAL_ECEF]:null,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:Q,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:null,[T.PLATE_CARREE]:null,[T.WGS84]:null,[T.WGS84_ECEF]:null},[T.WEB_MERCATOR]:{[T.CGCS2000]:W,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:W,[T.SPHERICAL_ECEF]:function O(Re,oe,S,k){const ae=Re[oe]/ge,he=me-2*Math.atan(Math.exp(-Re[oe+1]/ge)),Ae=ge+Re[oe+2],je=Math.cos(he)*Ae;S[k]=Math.cos(ae)*je,S[k+1]=Math.sin(ae)*je,S[k+2]=Math.sin(he)*Ae},[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:U,[T.PLATE_CARREE]:function L(Re,oe,S,k){W(Re,oe,S,k),Z(S,k,S,k)},[T.WGS84]:W,[T.WGS84_ECEF]:function v(Re,oe,S,k){W(Re,oe,S,k),J(S,k,S,k)}},[T.WGS84_ECEF]:{[T.CGCS2000]:ce,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:ce,[T.SPHERICAL_ECEF]:function _e(Re,oe,S,k){ce(Re,oe,S,k),j(S,k,S,k)},[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:function Ce(Re,oe,S,k){ce(Re,oe,S,k),m(S,k,S,k)},[T.PLATE_CARREE]:function b(Re,oe,S,k){ce(Re,oe,S,k),Z(S,k,S,k)},[T.WGS84]:ce,[T.WGS84_ECEF]:U},[T.SPHERICAL_ECEF]:{[T.CGCS2000]:K,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:K,[T.SPHERICAL_ECEF]:U,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:function B(Re,oe,S,k){K(Re,oe,S,k),m(S,k,S,k)},[T.PLATE_CARREE]:function H(Re,oe,S,k){K(Re,oe,S,k),Z(S,k,S,k)},[T.WGS84]:K,[T.WGS84_ECEF]:function G(Re,oe,S,k){K(Re,oe,S,k),J(S,k,S,k)}},[T.SPHERICAL_MARS_PCPF]:{[T.CGCS2000]:null,[T.GCSMARS2000]:ie,[T.GCSMOON2000]:null,[T.LON_LAT]:ie,[T.SPHERICAL_ECEF]:null,[T.SPHERICAL_MARS_PCPF]:U,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:null,[T.PLATE_CARREE]:null,[T.WGS84]:null,[T.WGS84_ECEF]:null},[T.SPHERICAL_MOON_PCPF]:{[T.CGCS2000]:null,[T.GCSMARS2000]:null,[T.GCSMOON2000]:A,[T.LON_LAT]:A,[T.SPHERICAL_ECEF]:null,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:U,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:null,[T.PLATE_CARREE]:null,[T.WGS84]:null,[T.WGS84_ECEF]:null},[T.UNKNOWN]:{[T.CGCS2000]:null,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:null,[T.SPHERICAL_ECEF]:null,[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:U,[T.WEB_MERCATOR]:null,[T.PLATE_CARREE]:null,[T.WGS84]:null,[T.WGS84_ECEF]:null},[T.LON_LAT]:{[T.CGCS2000]:U,[T.GCSMARS2000]:U,[T.GCSMOON2000]:U,[T.LON_LAT]:U,[T.SPHERICAL_ECEF]:j,[T.SPHERICAL_MARS_PCPF]:q,[T.SPHERICAL_MOON_PCPF]:Q,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:m,[T.PLATE_CARREE]:Z,[T.WGS84]:U,[T.WGS84_ECEF]:J},[T.PLATE_CARREE]:{[T.CGCS2000]:D,[T.GCSMARS2000]:null,[T.GCSMOON2000]:null,[T.LON_LAT]:D,[T.SPHERICAL_ECEF]:function Y(Re,oe,S,k){D(Re,oe,S,k),j(S,k,S,k)},[T.SPHERICAL_MARS_PCPF]:null,[T.SPHERICAL_MOON_PCPF]:null,[T.UNKNOWN]:null,[T.WEB_MERCATOR]:function z(Re,oe,S,k){D(Re,oe,S,k),m(S,k,S,k)},[T.PLATE_CARREE]:U,[T.WGS84]:D,[T.WGS84_ECEF]:function te(Re,oe,S,k){D(Re,oe,S,k),J(S,k,S,k)}}};function E(Re,oe){return P(Re,oe)?.projector}function P(Re,oe){if(null==Re||null==oe)return null;if(Oe.source.spatialReference===Re&&Oe.dest.spatialReference===oe)return Oe;const S=N(Re,Oe.source),k=N(oe,Oe.dest);return Oe.projector=S===T.UNKNOWN&&k===T.UNKNOWN?(0,F.aI)(Re,oe)?U:null:y[S][k],Oe}function N(Re,oe){return Re?oe.spatialReference===Re?oe.spatialReferenceId:(oe.spatialReference=Re,"metersPerUnit"in oe&&(oe.metersPerUnit=(0,p.GA)(Re,1)),oe.spatialReferenceId=(0,w.jA)(Re)?T.SPHERICAL_ECEF:(0,F.oT)(Re)?T.WGS84:(0,F.K8)(Re)?T.WEB_MERCATOR:(0,F.r1)(Re)?T.PLATE_CARREE:Re.wkt===w.Ro.wkt?T.WGS84_ECEF:Re.wkid===R.Y.CGCS2000?T.CGCS2000:Re.wkt===w.FY.wkt?T.SPHERICAL_MARS_PCPF:Re.wkt===w.LJ.wkt?T.SPHERICAL_MOON_PCPF:(0,F.q8)(Re)?T.GCSMARS2000:(0,F.KQ)(Re)?T.GCSMOON2000:T.UNKNOWN):T.UNKNOWN}function U(Re,oe,S,k){Re!==S&&(S[k++]=Re[oe++],S[k++]=Re[oe++],S[k]=Re[oe])}function W(Re,oe,S,k){S[k]=Se*(Re[oe]/ge),S[k+1]=Se*(me-2*Math.atan(Math.exp(-Re[oe+1]/ge))),S[k+2]=Re[oe+2]}function M(Re,oe,S,k,ae){const he=.4999999*Math.PI,Ae=(0,d.qE)(fe*Re[oe+1],-he,he),je=Math.sin(Ae);S[k++]=fe*Re[oe]*ae.radius,S[k++]=ae.halfSemiMajorAxis*Math.log((1+je)/(1-je)),S[k]=Re[oe+2]}function m(Re,oe,S,k){M(Re,oe,S,k,_.$O)}function Z(Re,oe,S,k){S[k]=Re[oe]*Be,S[k+1]=Re[oe+1]*Be,S[k+2]=Re[oe+2]}function D(Re,oe,S,k){S[k]=Re[oe]*Le,S[k+1]=Re[oe+1]*Le,S[k+2]=Re[oe+2]}function ee(Re,oe,S,k,ae){const he=ae+Re[oe+2],Ae=fe*Re[oe+1],je=fe*Re[oe],Fe=Math.cos(Ae)*he;S[k]=Math.cos(je)*Fe,S[k+1]=Math.sin(je)*Fe,S[k+2]=Math.sin(Ae)*he}function Q(Re,oe,S,k){ee(Re,oe,S,k,_.Sw.radius)}function q(Re,oe,S,k){ee(Re,oe,S,k,_.sH.radius)}function j(Re,oe,S,k){ee(Re,oe,S,k,_.$O.radius)}function X(Re,oe,S,k,ae){const he=Re[oe],Ae=Re[oe+1],je=Re[oe+2],Fe=Math.sqrt(he*he+Ae*Ae+je*je),Ue=(0,d.YN)(je/(0===Fe?1:Fe)),We=Math.atan2(Ae,he);S[k++]=Se*We,S[k++]=Se*Ue,S[k]=Fe-ae}function A(Re,oe,S,k){X(Re,oe,S,k,_.Sw.radius)}function ie(Re,oe,S,k){X(Re,oe,S,k,_.sH.radius)}function K(Re,oe,S,k){X(Re,oe,S,k,_.$O.radius)}function J(Re,oe,S,k){!function se(Re,oe,S,k,ae){const he=fe*Re[oe],Ae=fe*Re[oe+1],je=Re[oe+2],Fe=Math.sin(Ae),Ue=Math.cos(Ae),We=ae.radius/Math.sqrt(1-ae.eccentricitySquared*Fe*Fe);S[k++]=(We+je)*Ue*Math.cos(he),S[k++]=(We+je)*Ue*Math.sin(he),S[k++]=(We*(1-ae.eccentricitySquared)+je)*Fe}(Re,oe,S,k,_.$O)}function ce(Re,oe,S,k){const ae=I.TP,he=Re[oe],Ae=Re[oe+1],je=Re[oe+2];let Fe,Ue,We,ue,Te,we,ze,Ee,Me,ve,Ie,be,Je,tt,lt,ft,Et,St,Rt,Lt,Kt;Fe=Math.abs(je),Ue=he*he+Ae*Ae,We=Math.sqrt(Ue),ue=Ue+je*je,Te=Math.sqrt(ue),Lt=Math.atan2(Ae,he),we=je*je/ue,ze=Ue/ue,tt=ae.a2/Te,lt=ae.a3-ae.a4/Te,ze>.3?(Ee=Fe/Te*(1+ze*(ae.a1+tt+we*lt)/Te),Rt=Math.asin(Ee),ve=Ee*Ee,Me=Math.sqrt(1-ve)):(Me=We/Te*(1-we*(ae.a5-tt-ze*lt)/Te),Rt=Math.acos(Me),ve=1-Me*Me,Ee=Math.sqrt(ve)),Ie=1-_.$O.eccentricitySquared*ve,be=_.$O.radius/Math.sqrt(Ie),Je=ae.a6*be,tt=We-be*Me,lt=Fe-Je*Ee,Et=Me*tt+Ee*lt,ft=Me*lt-Ee*tt,St=ft/(Je/Ie+Et),Rt+=St,Kt=Et+ft*St/2,je<0&&(Rt=-Rt),S[k++]=Se*Lt,S[k++]=Se*Rt,S[k]=Kt}const Oe={source:{spatialReference:null,spatialReferenceId:T.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:T.UNKNOWN,metersPerUnit:1},projector:U},fe=(0,d.kU)(1),Se=(0,d.KJ)(1),me=.5*Math.PI,ge=_.$O.radius,Be=ge*Math.PI/180,Le=180/(ge*Math.PI)},41510:(xe,re,u)=>{var d,p;u.d(re,{_:()=>d}),(p=d||(d={}))[p.X=0]="X",p[p.Y=1]="Y",p[p.Z=2]="Z"},23653:(xe,re,u)=>{u.d(re,{jh:()=>p,l5:()=>_,xm:()=>w});var d=u(79139);function p(R,T=!1){return R<=d.y9?T?new Array(R).fill(0):new Array(R):new Float64Array(R)}function w(R){return((0,d.iu)(R)?R.byteLength/8:R.length)<=d.y9?Array.from(R):new Float64Array(R)}function _(R,T,y){return Array.isArray(R)?R.slice(T,T+y):R.subarray(T,T+y)}},47258:(xe,re,u)=>{u.d(re,{$O:()=>p,Sw:()=>_,sH:()=>w});class d{constructor(F,R,T,y,E,P){this.semiMajorAxis=F,this.flattening=R,this.outerAtmosphereRimWidth=T,this.atmosphereHeight=y,this.scaleHeight=E,this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening),this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=P||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const p=new d(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),w=new d(3396190,1/169.8944472236118,23e4,6e4,.111),_=new d(1737400,0,0,0,0)},93822:(xe,re,u)=>{u.d(re,{A:()=>w});let d=0;class p{static fromGE(I){const F=new p;return F._wkt=I.wkt,F._wkid=I.wkid,F._isInverse=I.isInverse,F}constructor(I){this.uid=d++,I?(this._wkt=null!=I.wkt?I.wkt:null,this._wkid=null!=I.wkid?I.wkid:-1,this._isInverse=null!=I.isInverse&&!0===I.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(I){this._wkt=I,this.uid=d++}get wkid(){return this._wkid}set wkid(I){this._wkid=I,this.uid=d++}get isInverse(){return this._isInverse}set isInverse(I){this._isInverse=I,this.uid=d++}getInverse(){const I=new p;return I._wkt=this.wkt,I._wkid=this._wkid,I._isInverse=!this.isInverse,I}}class w{static cacheKey(I,F){return[I.wkid?.toString()??"-1",I.wkt?.toString()??"",I.wkt2?.toString()??"",F.wkid?.toString()??"-1",F.wkt?.toString()??"",F.wkt2?.toString()??""].join()}static fromGE(I){const F=new w;let R="";for(const T of I.steps){const y=p.fromGE(T);F.steps.push(y),R+=y.uid.toString()+","}return F._cachedProjection={},F._gtlistentry=null,F._chain=R,F}constructor(I){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,I?.steps)for(const F of I.steps)this.steps.push(F instanceof p?F:new p({wkid:F.wkid,wkt:F.wkt,isInverse:F.isInverse}))}getInverse(){const I=new w;I.steps=[];for(let F=this.steps.length-1;F>=0;F--)I.steps.push(this.steps[F].getInverse());return I}getGTListEntry(){let I="";for(const F of this.steps)I+=F.uid.toString()+",";return I!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=I),this._gtlistentry}assignCachedGe(I,F,R){this._cachedProjection[w.cacheKey(I,F)]=R}getCachedGeTransformation(I,F){let R="";for(const y of this.steps)R+=y.uid.toString()+",";R!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=R);const T=this._cachedProjection[w.cacheKey(I,F)];return void 0===T?null:T}}},1120:(xe,re,u)=>{var d,p;u.d(re,{Y:()=>d}),(p=d||(d={}))[p.CGCS2000=4490]="CGCS2000",p[p.GCSMARS2000=104971]="GCSMARS2000",p[p.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",p[p.GCSMOON2000=104903]="GCSMOON2000"},98946:(xe,re,u)=>{let d;u.d(re,{A:()=>p});const p={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(d=2e3;d<=2045;d++)p[d]=0;for(d=2056;d<=2065;d++)p[d]=0;for(d=2067;d<=2135;d++)p[d]=0;for(d=2137;d<=2154;d++)p[d]=0;for(d=2161;d<=2170;d++)p[d]=0;for(d=2172;d<=2193;d++)p[d]=0;for(d=2195;d<=2198;d++)p[d]=0;for(d=2200;d<=2203;d++)p[d]=0;for(d=2205;d<=2217;d++)p[d]=0;for(d=2222;d<=2224;d++)p[d]=1;for(d=2225;d<=2250;d++)p[d]=2;for(d=2251;d<=2253;d++)p[d]=1;for(d=2257;d<=2264;d++)p[d]=2;for(d=2274;d<=2279;d++)p[d]=2;for(d=2280;d<=2282;d++)p[d]=1;for(d=2283;d<=2289;d++)p[d]=2;for(d=2290;d<=2292;d++)p[d]=0;for(d=2308;d<=2313;d++)p[d]=0;for(d=2315;d<=2491;d++)p[d]=0;for(d=2494;d<=2866;d++)p[d]=0;for(d=2867;d<=2869;d++)p[d]=1;for(d=2870;d<=2888;d++)p[d]=2;for(d=2891;d<=2895;d++)p[d]=2;for(d=2896;d<=2898;d++)p[d]=1;for(d=2902;d<=2908;d++)p[d]=2;for(d=2915;d<=2920;d++)p[d]=2;for(d=2921;d<=2923;d++)p[d]=1;for(d=2924;d<=2930;d++)p[d]=2;for(d=2931;d<=2962;d++)p[d]=0;for(d=2964;d<=2968;d++)p[d]=2;for(d=2969;d<=2973;d++)p[d]=0;for(d=2975;d<=2991;d++)p[d]=0;for(d=2995;d<=3051;d++)p[d]=0;for(d=3054;d<=3079;d++)p[d]=0;for(d=3081;d<=3088;d++)p[d]=0;for(d=3092;d<=3101;d++)p[d]=0;for(d=3106;d<=3138;d++)p[d]=0;for(d=3146;d<=3151;d++)p[d]=0;for(d=3153;d<=3166;d++)p[d]=0;for(d=3168;d<=3172;d++)p[d]=0;for(d=3174;d<=3203;d++)p[d]=0;for(d=3294;d<=3358;d++)p[d]=0;for(d=3367;d<=3403;d++)p[d]=0;for(d=3408;d<=3416;d++)p[d]=0;for(d=3417;d<=3438;d++)p[d]=2;for(d=3441;d<=3446;d++)p[d]=2;for(d=3447;d<=3450;d++)p[d]=0;for(d=3451;d<=3459;d++)p[d]=2;for(d=3460;d<=3478;d++)p[d]=0;for(d=3554;d<=3559;d++)p[d]=0;for(d=3560;d<=3570;d++)p[d]=2;for(d=3571;d<=3581;d++)p[d]=0;for(d=3594;d<=3597;d++)p[d]=0;for(d=3601;d<=3604;d++)p[d]=0;for(d=3637;d<=3639;d++)p[d]=0;for(d=3665;d<=3667;d++)p[d]=0;for(d=3693;d<=3695;d++)p[d]=0;for(d=3701;d<=3727;d++)p[d]=0;for(d=3728;d<=3739;d++)p[d]=2;for(d=3740;d<=3751;d++)p[d]=0;for(d=3753;d<=3760;d++)p[d]=2;for(d=3761;d<=3773;d++)p[d]=0;for(d=3775;d<=3777;d++)p[d]=0;for(d=3779;d<=3781;d++)p[d]=0;for(d=3783;d<=3785;d++)p[d]=0;for(d=3788;d<=3791;d++)p[d]=0;for(d=3797;d<=3802;d++)p[d]=0;for(d=3814;d<=3816;d++)p[d]=0;for(d=3825;d<=3829;d++)p[d]=0;for(d=3832;d<=3841;d++)p[d]=0;for(d=3844;d<=3852;d++)p[d]=0;for(d=3873;d<=3885;d++)p[d]=0;for(d=3890;d<=3893;d++)p[d]=0;for(d=3907;d<=3912;d++)p[d]=0;for(d=3942;d<=3950;d++)p[d]=0;for(d=3968;d<=3970;d++)p[d]=0;for(d=3973;d<=3976;d++)p[d]=0;for(d=3986;d<=3989;d++)p[d]=0;for(d=3994;d<=3997;d++)p[d]=0;for(d=4048;d<=4051;d++)p[d]=0;for(d=4056;d<=4063;d++)p[d]=0;for(d=4093;d<=4096;d++)p[d]=0;for(d=4390;d<=4398;d++)p[d]=0;for(d=4399;d<=4413;d++)p[d]=2;for(d=4418;d<=4433;d++)p[d]=2;for(d=4455;d<=4457;d++)p[d]=2;for(d=4484;d<=4489;d++)p[d]=0;for(d=4491;d<=4554;d++)p[d]=0;for(d=4568;d<=4589;d++)p[d]=0;for(d=4652;d<=4656;d++)p[d]=0;for(d=4766;d<=4800;d++)p[d]=0;for(d=5014;d<=5016;d++)p[d]=0;for(d=5069;d<=5072;d++)p[d]=0;for(d=5105;d<=5130;d++)p[d]=0;for(d=5167;d<=5188;d++)p[d]=0;for(d=5253;d<=5259;d++)p[d]=0;for(d=5269;d<=5275;d++)p[d]=0;for(d=5292;d<=5311;d++)p[d]=0;for(d=5329;d<=5331;d++)p[d]=0;for(d=5343;d<=5349;d++)p[d]=0;for(d=5355;d<=5357;d++)p[d]=0;for(d=5387;d<=5389;d++)p[d]=0;for(d=5459;d<=5463;d++)p[d]=0;for(d=5479;d<=5482;d++)p[d]=0;for(d=5518;d<=5520;d++)p[d]=0;for(d=5530;d<=5539;d++)p[d]=0;for(d=5550;d<=5552;d++)p[d]=0;for(d=5562;d<=5583;d++)p[d]=0;for(d=5623;d<=5625;d++)p[d]=2;for(d=5631;d<=5639;d++)p[d]=0;for(d=5649;d<=5653;d++)p[d]=0;for(d=5663;d<=5680;d++)p[d]=0;for(d=5682;d<=5685;d++)p[d]=0;for(d=5875;d<=5877;d++)p[d]=0;for(d=5896;d<=5899;d++)p[d]=0;for(d=5921;d<=5940;d++)p[d]=0;for(d=6050;d<=6125;d++)p[d]=0;for(d=6244;d<=6275;d++)p[d]=0;for(d=6328;d<=6348;d++)p[d]=0;for(d=6350;d<=6356;d++)p[d]=0;for(d=6366;d<=6372;d++)p[d]=0;for(d=6381;d<=6387;d++)p[d]=0;for(d=6393;d<=6404;d++)p[d]=0;for(d=6480;d<=6483;d++)p[d]=0;for(d=6511;d<=6514;d++)p[d]=0;for(d=6579;d<=6581;d++)p[d]=0;for(d=6619;d<=6624;d++)p[d]=0;for(d=6625;d<=6627;d++)p[d]=2;for(d=6628;d<=6632;d++)p[d]=0;for(d=6634;d<=6637;d++)p[d]=0;for(d=6669;d<=6692;d++)p[d]=0;for(d=6707;d<=6709;d++)p[d]=0;for(d=6720;d<=6723;d++)p[d]=0;for(d=6732;d<=6738;d++)p[d]=0;for(d=6931;d<=6933;d++)p[d]=0;for(d=6956;d<=6959;d++)p[d]=0;for(d=7005;d<=7007;d++)p[d]=0;for(d=7057;d<=7070;d++)p[d]=2;for(d=7074;d<=7082;d++)p[d]=0;for(d=7109;d<=7118;d++)p[d]=0;for(d=7119;d<=7127;d++)p[d]=1;for(d=7374;d<=7376;d++)p[d]=0;for(d=7528;d<=7586;d++)p[d]=0;for(d=7587;d<=7645;d++)p[d]=2;for(d=7692;d<=7696;d++)p[d]=0;for(d=7755;d<=7787;d++)p[d]=0;for(d=7791;d<=7795;d++)p[d]=0;for(d=7799;d<=7801;d++)p[d]=0;for(d=7803;d<=7805;d++)p[d]=0;for(d=7825;d<=7831;d++)p[d]=0;for(d=7845;d<=7859;d++)p[d]=0;for(d=8013;d<=8032;d++)p[d]=0;for(d=8065;d<=8068;d++)p[d]=1;for(d=8518;d<=8529;d++)p[d]=2;for(d=8533;d<=8536;d++)p[d]=2;for(d=8538;d<=8540;d++)p[d]=2;for(d=8677;d<=8679;d++)p[d]=0;for(d=8836;d<=8840;d++)p[d]=0;for(d=8857;d<=8859;d++)p[d]=0;for(d=8908;d<=8910;d++)p[d]=0;for(d=9154;d<=9159;d++)p[d]=0;for(d=9205;d<=9218;d++)p[d]=0;for(d=9271;d<=9273;d++)p[d]=0;for(d=9295;d<=9297;d++)p[d]=0;for(d=9356;d<=9360;d++)p[d]=0;for(d=9404;d<=9407;d++)p[d]=0;for(d=9476;d<=9482;d++)p[d]=0;for(d=9487;d<=9494;d++)p[d]=0;for(d=9697;d<=9699;d++)p[d]=0;for(d=9821;d<=9865;d++)p[d]=0;for(d=10285;d<=10291;d++)p[d]=0;for(d=10314;d<=10317;d++)p[d]=0;for(d=10448;d<=10465;d++)p[d]=0;for(d=10731;d<=10733;d++)p[d]=0;for(d=11114;d<=11118;d++)p[d]=0;for(d=20004;d<=20032;d++)p[d]=0;for(d=20047;d<=20049;d++)p[d]=0;for(d=20062;d<=20092;d++)p[d]=0;for(d=20135;d<=20138;d++)p[d]=0;for(d=20248;d<=20258;d++)p[d]=0;for(d=20348;d<=20358;d++)p[d]=0;for(d=20436;d<=20440;d++)p[d]=0;for(d=20822;d<=20824;d++)p[d]=0;for(d=20904;d<=20932;d++)p[d]=0;for(d=20934;d<=20936;d++)p[d]=0;for(d=21004;d<=21032;d++)p[d]=0;for(d=21035;d<=21037;d++)p[d]=0;for(d=21095;d<=21097;d++)p[d]=0;for(d=21148;d<=21150;d++)p[d]=0;for(d=21207;d<=21264;d++)p[d]=0;for(d=21307;d<=21364;d++)p[d]=0;for(d=21413;d<=21423;d++)p[d]=0;for(d=21453;d<=21463;d++)p[d]=0;for(d=21473;d<=21483;d++)p[d]=0;for(d=21780;d<=21782;d++)p[d]=0;for(d=21891;d<=21894;d++)p[d]=0;for(d=21896;d<=21899;d++)p[d]=0;for(d=22171;d<=22177;d++)p[d]=0;for(d=22181;d<=22187;d++)p[d]=0;for(d=22191;d<=22197;d++)p[d]=0;for(d=22207;d<=22222;d++)p[d]=0;for(d=22229;d<=22232;d++)p[d]=0;for(d=22234;d<=22236;d++)p[d]=0;for(d=22243;d<=22250;d++)p[d]=0;for(d=22262;d<=22265;d++)p[d]=0;for(d=22307;d<=22322;d++)p[d]=0;for(d=22348;d<=22357;d++)p[d]=0;for(d=22407;d<=22422;d++)p[d]=0;for(d=22462;d<=22465;d++)p[d]=0;for(d=22521;d<=22525;d++)p[d]=0;for(d=22607;d<=22622;d++)p[d]=0;for(d=22641;d<=22646;d++)p[d]=0;for(d=22648;d<=22657;d++)p[d]=0;for(d=22707;d<=22722;d++)p[d]=0;for(d=22762;d<=22765;d++)p[d]=0;for(d=22807;d<=22822;d++)p[d]=0;for(d=22991;d<=22994;d++)p[d]=0;for(d=23028;d<=23038;d++)p[d]=0;for(d=23301;d<=23333;d++)p[d]=2;for(d=23830;d<=23853;d++)p[d]=0;for(d=23866;d<=23872;d++)p[d]=0;for(d=23877;d<=23884;d++)p[d]=0;for(d=23886;d<=23894;d++)p[d]=0;for(d=23946;d<=23948;d++)p[d]=0;for(d=24311;d<=24313;d++)p[d]=0;for(d=24342;d<=24347;d++)p[d]=0;for(d=24370;d<=24374;d++)p[d]=10;for(d=24375;d<=24381;d++)p[d]=0;for(d=24718;d<=24721;d++)p[d]=0;for(d=24817;d<=24821;d++)p[d]=0;for(d=24877;d<=24882;d++)p[d]=0;for(d=24891;d<=24893;d++)p[d]=0;for(d=25391;d<=25395;d++)p[d]=0;for(d=25828;d<=25838;d++)p[d]=0;for(d=26191;d<=26195;d++)p[d]=0;for(d=26391;d<=26393;d++)p[d]=0;for(d=26701;d<=26722;d++)p[d]=0;for(d=26729;d<=26799;d++)p[d]=2;for(d=26801;d<=26803;d++)p[d]=2;for(d=26811;d<=26813;d++)p[d]=2;for(d=26847;d<=26870;d++)p[d]=2;for(d=26891;d<=26899;d++)p[d]=0;for(d=26901;d<=26923;d++)p[d]=0;for(d=26929;d<=26946;d++)p[d]=0;for(d=26948;d<=26998;d++)p[d]=0;for(d=27037;d<=27040;d++)p[d]=0;for(d=27205;d<=27232;d++)p[d]=0;for(d=27258;d<=27260;d++)p[d]=0;for(d=27391;d<=27398;d++)p[d]=0;for(d=27561;d<=27564;d++)p[d]=0;for(d=27571;d<=27574;d++)p[d]=0;for(d=27581;d<=27584;d++)p[d]=0;for(d=27591;d<=27594;d++)p[d]=0;for(d=27700;d<=27707;d++)p[d]=0;for(d=28191;d<=28193;d++)p[d]=0;for(d=28348;d<=28358;d++)p[d]=0;for(d=28402;d<=28432;d++)p[d]=0;for(d=28462;d<=28492;d++)p[d]=0;for(d=29118;d<=29122;d++)p[d]=0;for(d=29168;d<=29172;d++)p[d]=0;for(d=29177;d<=29185;d++)p[d]=0;for(d=29187;d<=29195;d++)p[d]=0;for(d=29900;d<=29903;d++)p[d]=0;for(d=30161;d<=30179;d++)p[d]=0;for(d=30491;d<=30494;d++)p[d]=0;for(d=30729;d<=30732;d++)p[d]=0;for(d=31251;d<=31259;d++)p[d]=0;for(d=31265;d<=31268;d++)p[d]=0;for(d=31275;d<=31279;d++)p[d]=0;for(d=31281;d<=31297;d++)p[d]=0;for(d=31461;d<=31469;d++)p[d]=0;for(d=31491;d<=31495;d++)p[d]=0;for(d=31917;d<=31922;d++)p[d]=0;for(d=31965;d<=32e3;d++)p[d]=0;for(d=32001;d<=32003;d++)p[d]=2;for(d=32005;d<=32031;d++)p[d]=2;for(d=32033;d<=32060;d++)p[d]=2;for(d=32064;d<=32067;d++)p[d]=2;for(d=32074;d<=32077;d++)p[d]=2;for(d=32081;d<=32086;d++)p[d]=0;for(d=32107;d<=32130;d++)p[d]=0;for(d=32133;d<=32159;d++)p[d]=0;for(d=32164;d<=32167;d++)p[d]=2;for(d=32180;d<=32199;d++)p[d]=0;for(d=32201;d<=32260;d++)p[d]=0;for(d=32301;d<=32360;d++)p[d]=0;for(d=32401;d<=32460;d++)p[d]=0;for(d=32501;d<=32560;d++)p[d]=0;for(d=32601;d<=32662;d++)p[d]=0;for(d=32664;d<=32667;d++)p[d]=2;for(d=32701;d<=32761;d++)p[d]=0;for(d=53001;d<=53004;d++)p[d]=0;for(d=53008;d<=53019;d++)p[d]=0;for(d=53021;d<=53032;d++)p[d]=0;for(d=53034;d<=53037;d++)p[d]=0;for(d=53042;d<=53046;d++)p[d]=0;for(d=53074;d<=53080;d++)p[d]=0;for(d=54001;d<=54004;d++)p[d]=0;for(d=54008;d<=54019;d++)p[d]=0;for(d=54021;d<=54032;d++)p[d]=0;for(d=54034;d<=54037;d++)p[d]=0;for(d=54042;d<=54046;d++)p[d]=0;for(d=54048;d<=54053;d++)p[d]=0;for(d=54074;d<=54080;d++)p[d]=0;for(d=54098;d<=54101;d++)p[d]=0;for(d=102001;d<=102040;d++)p[d]=0;for(d=102042;d<=102063;d++)p[d]=0;for(d=102065;d<=102067;d++)p[d]=0;for(d=102070;d<=102117;d++)p[d]=0;for(d=102122;d<=102216;d++)p[d]=0;for(d=102221;d<=102377;d++)p[d]=0;for(d=102382;d<=102388;d++)p[d]=0;for(d=102389;d<=102398;d++)p[d]=2;for(d=102399;d<=102444;d++)p[d]=0;for(d=102445;d<=102447;d++)p[d]=2;for(d=102448;d<=102458;d++)p[d]=0;for(d=102459;d<=102468;d++)p[d]=2;for(d=102469;d<=102499;d++)p[d]=0;for(d=102500;d<=102519;d++)p[d]=1;for(d=102520;d<=102524;d++)p[d]=0;for(d=102525;d<=102529;d++)p[d]=2;for(d=102530;d<=102588;d++)p[d]=0;for(d=102590;d<=102598;d++)p[d]=0;for(d=102601;d<=102603;d++)p[d]=0;for(d=102605;d<=102628;d++)p[d]=0;for(d=102629;d<=102646;d++)p[d]=2;for(d=102648;d<=102700;d++)p[d]=2;for(d=102701;d<=102703;d++)p[d]=0;for(d=102707;d<=102730;d++)p[d]=2;for(d=102733;d<=102758;d++)p[d]=2;for(d=102767;d<=102900;d++)p[d]=0;for(d=102901;d<=102933;d++)p[d]=2;for(d=102934;d<=102950;d++)p[d]=13;for(d=102951;d<=102963;d++)p[d]=0;for(d=102965;d<=102969;d++)p[d]=0;for(d=102971;d<=102973;d++)p[d]=0;for(d=102975;d<=102989;d++)p[d]=0;for(d=102990;d<=102992;d++)p[d]=1;for(d=102997;d<=103002;d++)p[d]=0;for(d=103003;d<=103008;d++)p[d]=2;for(d=103009;d<=103011;d++)p[d]=0;for(d=103012;d<=103014;d++)p[d]=2;for(d=103019;d<=103021;d++)p[d]=0;for(d=103022;d<=103024;d++)p[d]=2;for(d=103029;d<=103031;d++)p[d]=0;for(d=103032;d<=103034;d++)p[d]=2;for(d=103065;d<=103068;d++)p[d]=0;for(d=103074;d<=103076;d++)p[d]=0;for(d=103077;d<=103079;d++)p[d]=1;for(d=103080;d<=103082;d++)p[d]=0;for(d=103083;d<=103085;d++)p[d]=2;for(d=103090;d<=103093;d++)p[d]=0;for(d=103097;d<=103099;d++)p[d]=0;for(d=103100;d<=103102;d++)p[d]=2;for(d=103107;d<=103109;d++)p[d]=0;for(d=103110;d<=103112;d++)p[d]=2;for(d=103113;d<=103116;d++)p[d]=0;for(d=103117;d<=103120;d++)p[d]=2;for(d=103153;d<=103157;d++)p[d]=0;for(d=103158;d<=103162;d++)p[d]=2;for(d=103163;d<=103165;d++)p[d]=0;for(d=103166;d<=103168;d++)p[d]=1;for(d=103169;d<=103171;d++)p[d]=2;for(d=103186;d<=103188;d++)p[d]=0;for(d=103189;d<=103191;d++)p[d]=2;for(d=103192;d<=103195;d++)p[d]=0;for(d=103196;d<=103199;d++)p[d]=2;for(d=103200;d<=103224;d++)p[d]=0;for(d=103225;d<=103227;d++)p[d]=1;for(d=103232;d<=103237;d++)p[d]=0;for(d=103238;d<=103243;d++)p[d]=2;for(d=103244;d<=103246;d++)p[d]=0;for(d=103247;d<=103249;d++)p[d]=2;for(d=103254;d<=103256;d++)p[d]=0;for(d=103257;d<=103259;d++)p[d]=2;for(d=103264;d<=103266;d++)p[d]=0;for(d=103267;d<=103269;d++)p[d]=2;for(d=103300;d<=103375;d++)p[d]=0;for(d=103381;d<=103383;d++)p[d]=0;for(d=103384;d<=103386;d++)p[d]=1;for(d=103387;d<=103389;d++)p[d]=0;for(d=103390;d<=103392;d++)p[d]=2;for(d=103397;d<=103399;d++)p[d]=0;for(d=103400;d<=103471;d++)p[d]=2;for(d=103476;d<=103478;d++)p[d]=0;for(d=103479;d<=103481;d++)p[d]=2;for(d=103486;d<=103488;d++)p[d]=0;for(d=103489;d<=103491;d++)p[d]=2;for(d=103492;d<=103495;d++)p[d]=0;for(d=103496;d<=103499;d++)p[d]=2;for(d=103528;d<=103543;d++)p[d]=0;for(d=103544;d<=103548;d++)p[d]=2;for(d=103549;d<=103551;d++)p[d]=0;for(d=103552;d<=103554;d++)p[d]=1;for(d=103555;d<=103557;d++)p[d]=2;for(d=103558;d<=103560;d++)p[d]=0;for(d=103571;d<=103573;d++)p[d]=0;for(d=103574;d<=103576;d++)p[d]=2;for(d=103577;d<=103580;d++)p[d]=0;for(d=103581;d<=103583;d++)p[d]=2;for(d=103595;d<=103694;d++)p[d]=0;for(d=103696;d<=103699;d++)p[d]=0;for(d=103700;d<=103793;d++)p[d]=2;for(d=103794;d<=103890;d++)p[d]=0;for(d=103891;d<=103896;d++)p[d]=2;for(d=103900;d<=103971;d++)p[d]=2;for(d=103972;d<=103977;d++)p[d]=0;for(d=112e3;d<=112101;d++)p[d]=0},2296:(xe,re,u)=>{u.d(re,{BI:()=>Ce,DC:()=>U,ES:()=>ce,Ej:()=>Y,Hq:()=>O,Ie:()=>J,Jf:()=>M,Jt:()=>_e,KG:()=>j,Ne:()=>B,RF:()=>N,Rz:()=>y,Uc:()=>te,VL:()=>Z,_F:()=>b,aI:()=>Se,cY:()=>X,fA:()=>F,fT:()=>fe,gE:()=>E,gX:()=>H,hZ:()=>se,hs:()=>A,iT:()=>W,is:()=>Oe,pg:()=>ie,qv:()=>Be,uJ:()=>L,vI:()=>G,vQ:()=>m,vY:()=>T,v_:()=>Le,vt:()=>I,w1:()=>P,yr:()=>D});var d=u(28067),p=u(51995),w=u(23653);function I(oe=Le){return[oe[0],oe[1],oe[2],oe[3],oe[4],oe[5]]}function F(oe,S,k,ae,he,Ae,je=I()){return je[0]=oe,je[1]=S,je[2]=k,je[3]=ae,je[4]=he,je[5]=Ae,je}function T(oe,S=I()){return y(oe,0,oe.length/3,S)}function y(oe,S,k,ae=I()){return se(ae,Be),O(ae,oe,S,k),ae}function E(oe,S=(0,w.jh)(24)){const[k,ae,he,Ae,je,Fe]=oe;return S[0]=k,S[1]=ae,S[2]=he,S[3]=k,S[4]=ae,S[5]=Fe,S[6]=k,S[7]=je,S[8]=he,S[9]=k,S[10]=je,S[11]=Fe,S[12]=Ae,S[13]=ae,S[14]=he,S[15]=Ae,S[16]=ae,S[17]=Fe,S[18]=Ae,S[19]=je,S[20]=he,S[21]=Ae,S[22]=je,S[23]=Fe,S}function P(oe,S){const k=isFinite(oe[2])||isFinite(oe[5]);return new d.A(k?{xmin:oe[0],xmax:oe[3],ymin:oe[1],ymax:oe[4],zmin:oe[2],zmax:oe[5],spatialReference:S}:{xmin:oe[0],xmax:oe[3],ymin:oe[1],ymax:oe[4],spatialReference:S})}function N(oe,S){oe[0]=Math.min(oe[0],S[0]),oe[1]=Math.min(oe[1],S[1]),oe[2]=Math.min(oe[2],S[2]),oe[3]=Math.max(oe[3],S[3]),oe[4]=Math.max(oe[4],S[4]),oe[5]=Math.max(oe[5],S[5])}function U(oe,S){oe[0]=Math.min(oe[0],S[0]),oe[1]=Math.min(oe[1],S[1]),oe[3]=Math.max(oe[3],S[2]),oe[4]=Math.max(oe[4],S[3])}function W(oe,S){oe[0]=Math.min(oe[0],S[0]),oe[1]=Math.min(oe[1],S[1]),oe[2]=Math.min(oe[2],S[2]),oe[3]=Math.max(oe[3],S[0]),oe[4]=Math.max(oe[4],S[1]),oe[5]=Math.max(oe[5],S[2])}function O(oe,S,k=0,ae=S.length/3){let he=oe[0],Ae=oe[1],je=oe[2],Fe=oe[3],Ue=oe[4],We=oe[5];for(let ue=0;ue<ae;ue++)he=Math.min(he,S[k+3*ue]),Ae=Math.min(Ae,S[k+3*ue+1]),je=Math.min(je,S[k+3*ue+2]),Fe=Math.max(Fe,S[k+3*ue]),Ue=Math.max(Ue,S[k+3*ue+1]),We=Math.max(We,S[k+3*ue+2]);oe[0]=he,oe[1]=Ae,oe[2]=je,oe[3]=Fe,oe[4]=Ue,oe[5]=We}function M(oe,S,k){const ae=S.length;let he=oe[0],Ae=oe[1],je=oe[2],Fe=oe[3],Ue=oe[4],We=oe[5];if(k)for(let ue=0;ue<ae;ue++){const Te=S[ue];he=Math.min(he,Te[0]),Ae=Math.min(Ae,Te[1]),je=Math.min(je,Te[2]),Fe=Math.max(Fe,Te[0]),Ue=Math.max(Ue,Te[1]),We=Math.max(We,Te[2])}else for(let ue=0;ue<ae;ue++){const Te=S[ue];he=Math.min(he,Te[0]),Ae=Math.min(Ae,Te[1]),Fe=Math.max(Fe,Te[0]),Ue=Math.max(Ue,Te[1])}oe[0]=he,oe[1]=Ae,oe[2]=je,oe[3]=Fe,oe[4]=Ue,oe[5]=We}function m(oe){for(let S=0;S<6;S++)if(!isFinite(oe[S]))return!1;return!0}function Z(oe){return oe[0]>=oe[3]?0:oe[3]-oe[0]}function D(oe){return oe[1]>=oe[4]?0:oe[4]-oe[1]}function L(oe){return oe[2]>=oe[5]?0:oe[5]-oe[2]}function b(oe){const S=Z(oe),k=L(oe),ae=D(oe);return Math.sqrt(S*S+k*k+ae*ae)}function H(oe,S=[0,0,0]){return S[0]=oe[0]+Z(oe)/2,S[1]=oe[1]+D(oe)/2,S[2]=oe[2]+L(oe)/2,S}function Y(oe,S=[0,0,0]){return S[0]=Z(oe),S[1]=D(oe),S[2]=L(oe),S}function te(oe,S){return S[0]>=oe[0]&&S[1]>=oe[1]&&S[2]>=oe[2]&&S[0]<=oe[3]&&S[1]<=oe[4]&&S[2]<=oe[5]}function j(oe,S){return null==S||function q(oe,S){return Math.max(S[0],oe[0])<=Math.min(S[3],oe[3])&&Math.max(S[1],oe[1])<=Math.min(S[4],oe[4])&&Math.max(S[2],oe[2])<=Math.min(S[5],oe[5])}(oe,S)}function X(oe,S,k,ae,he=oe){return he[0]=oe[0]+S,he[1]=oe[1]+k,he[2]=oe[2]+ae,he[3]=oe[3]+S,he[4]=oe[4]+k,he[5]=oe[5]+ae,he}function A(oe,S,k=oe){const ae=oe[0]+Z(oe)/2,he=oe[1]+D(oe)/2,Ae=oe[2]+L(oe)/2;return k[0]=ae+(oe[0]-ae)*S,k[1]=he+(oe[1]-he)*S,k[2]=Ae+(oe[2]-Ae)*S,k[3]=ae+(oe[3]-ae)*S,k[4]=he+(oe[4]-he)*S,k[5]=Ae+(oe[5]-Ae)*S,k}function ie(oe,S){return S[0]=oe[0],S[1]=oe[1],S[2]=oe[2],S}function B(oe,S,k=oe){return k[0]=S[0],k[1]=S[1],k[2]=S[2],k!==oe&&(k[3]=oe[3],k[4]=oe[4],k[5]=oe[5]),k}function G(oe,S,k=oe){return k[3]=S[0],k[4]=S[1],k[5]=S[2],k!==oe&&(k[0]=oe[0],k[1]=oe[1],k[2]=oe[2]),oe}function se(oe,S){return oe[0]=S[0],oe[1]=S[1],oe[2]=S[2],oe[3]=S[3],oe[4]=S[4],oe[5]=S[5],oe}function J(oe){return oe?se(oe,Be):I(Be)}function ce(oe,S){return S||(S=(0,p.vt)()),S[0]=oe[0],S[1]=oe[1],S[2]=oe[3],S[3]=oe[4],S}function _e(oe,S){return oe[0]=S[0],oe[1]=S[1],oe[2]=Number.NEGATIVE_INFINITY,oe[3]=S[2],oe[4]=S[3],oe[5]=Number.POSITIVE_INFINITY,oe}function Ce(oe,S,k,ae,he){return oe[0]=S,oe[1]=k,oe[2]=Number.NEGATIVE_INFINITY,oe[3]=ae,oe[4]=he,oe[5]=Number.POSITIVE_INFINITY,oe}function Oe(oe){return 6===oe.length}function fe(oe){return 0===Z(oe)&&0===D(oe)&&0===L(oe)}function Se(oe,S,k){if(null==oe||null==S)return oe===S;if(!Oe(oe)||!Oe(S))return!1;if(k){for(let ae=0;ae<oe.length;ae++)if(!k(oe[ae],S[ae]))return!1}else for(let ae=0;ae<oe.length;ae++)if(oe[ae]!==S[ae])return!1;return!0}const Be=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Le=[0,0,0,0,0,0];I()},51995:(xe,re,u)=>{u.d(re,{$9:()=>Q,C:()=>R,HY:()=>ee,Ie:()=>se,Jf:()=>N,Rj:()=>Y,VL:()=>W,VY:()=>y,Wc:()=>v,aI:()=>_e,cY:()=>ie,fA:()=>T,fT:()=>C,gR:()=>q,gX:()=>m,ib:()=>Z,qv:()=>Oe,tK:()=>P,uJ:()=>O,vQ:()=>U,vR:()=>H,vt:()=>I,w1:()=>E}),u(3248),u(69287);var w=u(28067);function I(me=fe){return[me[0],me[1],me[2],me[3]]}function R(me,ge){return me!==ge&&(me[0]=ge[0],me[1]=ge[1],me[2]=ge[2],me[3]=ge[3]),me}function T(me,ge,Be,Le,Re=I()){return Re[0]=me,Re[1]=ge,Re[2]=Be,Re[3]=Le,Re}function y(me,ge=I()){return ge[0]=me.xmin,ge[1]=me.ymin,ge[2]=me.xmax,ge[3]=me.ymax,ge}function E(me,ge,Be=new w.A){return Be.xmin=me[0],Be.ymin=me[1],Be.xmax=me[2],Be.ymax=me[3],Be.spatialReference=ge,Be}function P(me,ge){ge[0]<me[0]&&(me[0]=ge[0]),ge[0]>me[2]&&(me[2]=ge[0]),ge[1]<me[1]&&(me[1]=ge[1]),ge[1]>me[3]&&(me[3]=ge[1])}function C(me,ge,Be){if(null!=ge)if("length"in ge)J(ge)?(Be[0]=Math.min(me[0],ge[0]),Be[1]=Math.min(me[1],ge[1]),Be[2]=Math.max(me[2],ge[2]),Be[3]=Math.max(me[3],ge[3])):2!==ge.length&&3!==ge.length||(Be[0]=Math.min(me[0],ge[0]),Be[1]=Math.min(me[1],ge[1]),Be[2]=Math.max(me[2],ge[0]),Be[3]=Math.max(me[3],ge[1]));else switch(ge.type){case"extent":Be[0]=Math.min(me[0],ge.xmin),Be[1]=Math.min(me[1],ge.ymin),Be[2]=Math.max(me[2],ge.xmax),Be[3]=Math.max(me[3],ge.ymax);break;case"point":Be[0]=Math.min(me[0],ge.x),Be[1]=Math.min(me[1],ge.y),Be[2]=Math.max(me[2],ge.x),Be[3]=Math.max(me[3],ge.y)}else R(Be,me)}function N(me,ge,Be=me){const Le=ge.length;let Re=me[0],oe=me[1],S=me[2],k=me[3];for(let ae=0;ae<Le;ae++){const he=ge[ae];Re=Math.min(Re,he[0]),oe=Math.min(oe,he[1]),S=Math.max(S,he[0]),k=Math.max(k,he[1])}return Be[0]=Re,Be[1]=oe,Be[2]=S,Be[3]=k,Be}function U(me){for(let ge=0;ge<4;ge++)if(!isFinite(me[ge]))return!1;return!0}function W(me){return null==me||me[0]>=me[2]?0:me[2]-me[0]}function O(me){return null==me||me[1]>=me[3]?0:me[3]-me[1]}function v(me){return W(me)*O(me)}function m(me,ge=[0,0]){return ge[0]=(me[0]+me[2])/2,ge[1]=(me[1]+me[3])/2,ge}function Z(me){const ge=W(me),Be=O(me);return Math.sqrt(ge*ge+Be*Be)}function H(me,ge){return Y(me,ge.x,ge.y)}function Y(me,ge,Be){return ge>=me[0]&&Be>=me[1]&&ge<=me[2]&&Be<=me[3]}function ee(me,ge){return Math.max(ge[0],me[0])<=Math.min(ge[2],me[2])&&Math.max(ge[1],me[1])<=Math.min(ge[3],me[3])}function Q(me,ge,Be){return Math.max(ge[0],me[0])-Be<=Math.min(ge[2],me[2])&&Math.max(ge[1],me[1])-Be<=Math.min(ge[3],me[3])}function q(me,ge){return ge[0]>=me[0]&&ge[2]<=me[2]&&ge[1]>=me[1]&&ge[3]<=me[3]}function ie(me,ge,Be,Le=me){return Le[0]=me[0]+ge,Le[1]=me[1]+Be,Le[2]=me[2]+ge,Le[3]=me[3]+Be,Le}function se(me){return me?R(me,Oe):I(Oe)}function J(me){return null!=me&&4===me.length}function _e(me,ge){return J(me)&&J(ge)?me[0]===ge[0]&&me[1]===ge[1]&&me[2]===ge[2]&&me[3]===ge[3]:me===ge}const Oe=[1/0,1/0,-1/0,-1/0],fe=[0,0,0,0]},83065:(xe,re,u)=>{u.d(re,{B$:()=>C,LJ:()=>N,Pj:()=>O,Rg:()=>E,Yz:()=>U,z8:()=>P});var d=u(51995);function p(v){return void 0!==v.xmin&&void 0!==v.ymin&&void 0!==v.xmax&&void 0!==v.ymax}function w(v){return void 0!==v.points}function _(v){return void 0!==v.x&&void 0!==v.y}function I(v){return void 0!==v.paths}function F(v){return void 0!==v.rings}function R(v){return function M(m,Z){return null==m?Z:null==Z?m:v(m,Z)}}const T=R(Math.min),y=R(Math.max);function E(v,M){return I(M)?U(v,M.paths,!1,!1):F(M)?U(v,M.rings,!1,!1):w(M)?O(v,M.points,!1,!1,!1,!1):p(M)?W(v,M):(_(M)&&(v[0]=M.x,v[1]=M.y,v[2]=M.x,v[3]=M.y),v)}function P(v){let M,m,Z,D;for(v.reset(),M=Z=1/0,m=D=-1/0;v.nextPath();){const L=C(v);M=Math.min(L[0],M),Z=Math.min(L[1],Z),m=Math.max(L[2],m),D=Math.max(L[3],D)}return(0,d.vt)([M,Z,m,D])}function C(v){let M,m,Z,D;for(M=Z=1/0,m=D=-1/0;v.nextPoint();)M=Math.min(v.x,M),Z=Math.min(v.y,Z),m=Math.max(v.x,m),D=Math.max(v.y,D);return(0,d.vt)([M,Z,m,D])}function N(v,M){return I(M)?U(v,M.paths,!0,!1):F(M)?U(v,M.rings,!0,!1):w(M)?O(v,M.points,!0,!1,!0,!1):p(M)?W(v,M,0,0,!0,!1):(_(M)&&(v[0]=M.x,v[1]=M.y,v[2]=M.z,v[3]=M.x,v[4]=M.y,v[5]=M.z),v)}function U(v,M,m,Z){const D=m?3:2;if(!M.length||!M[0].length)return null;let L,b,H,Y,[z,te]=M[0][0],[ee,Q]=M[0][0];for(let q=0;q<M.length;q++){const j=M[q];for(let X=0;X<j.length;X++){const A=j[X],[ie,K]=A;if(z=T(z,ie),te=T(te,K),ee=y(ee,ie),Q=y(Q,K),m&&A.length>2){const B=A[2];L=T(L,B),b=y(b,B)}if(Z&&A.length>D){const B=A[D];H=T(L,B),Y=y(b,B)}}}return m?Z?(v[0]=z,v[1]=te,v[2]=L,v[3]=H,v[4]=ee,v[5]=Q,v[6]=b,v[7]=Y,v.length=8,v):(v[0]=z,v[1]=te,v[2]=L,v[3]=ee,v[4]=Q,v[5]=b,v.length=6,v):Z?(v[0]=z,v[1]=te,v[2]=H,v[3]=ee,v[4]=Q,v[5]=Y,v.length=6,v):(v[0]=z,v[1]=te,v[2]=ee,v[3]=Q,v.length=4,v)}function W(v,M,m,Z,D,L){const b=M.xmin,H=M.xmax,Y=M.ymin,z=M.ymax;let te=M.zmin,ee=M.zmax,Q=M.mmin,q=M.mmax;return D?(te=te||0,ee=ee||0,L?(Q=Q||0,q=q||0,v[0]=b,v[1]=Y,v[2]=te,v[3]=Q,v[4]=H,v[5]=z,v[6]=ee,v[7]=q,v):(v[0]=b,v[1]=Y,v[2]=te,v[3]=H,v[4]=z,v[5]=ee,v)):L?(Q=Q||0,q=q||0,v[0]=b,v[1]=Y,v[2]=Q,v[3]=H,v[4]=z,v[5]=q,v):(v[0]=b,v[1]=Y,v[2]=H,v[3]=z,v)}function O(v,M,m,Z,D,L){const b=m?3:2,H=Z&&L,Y=m&&D;if(!M.length||!M[0].length)return null;let z,te,ee,Q,[q,j]=M[0],[X,A]=M[0];for(let ie=0;ie<M.length;ie++){const K=M[ie],[B,G]=K;if(q=T(q,B),j=T(j,G),X=y(X,B),A=y(A,G),Y&&K.length>2){const se=K[2];z=T(z,se),te=y(te,se)}if(H&&K.length>b){const se=K[b];ee=T(z,se),Q=y(te,se)}}return D?(z=z||0,te=te||0,L?(ee=ee||0,Q=Q||0,v[0]=q,v[1]=j,v[2]=z,v[3]=ee,v[4]=X,v[5]=A,v[6]=te,v[7]=Q,v):(v[0]=q,v[1]=j,v[2]=z,v[3]=X,v[4]=A,v[5]=te,v)):L?(ee=ee||0,Q=Q||0,v[0]=q,v[1]=j,v[2]=ee,v[3]=X,v[4]=A,v[5]=Q,v):(v[0]=q,v[1]=j,v[2]=X,v[3]=A,v)}},39239:(xe,re,u)=>{u.d(re,{S8:()=>I,TP:()=>C,Z4:()=>w,l8:()=>_,w2:()=>R});var d=u(53262),p=u(15268);function w(W){return W?W.hasZ?[W.xmax-W.xmin/2,W.ymax-W.ymin/2,W.zmax-W.zmin/2]:[W.xmax-W.xmin/2,W.ymax-W.ymin/2]:null}function _(W){return W?I(W.rings,W.hasZ??!1):null}function I(W,O){if(!W?.length)return null;const v=[],M=[],m=O?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let Z=0,D=W.length;Z<D;Z++){const L=F(W[Z],O,m);L&&M.push(L)}if(M.sort((Z,D)=>{let L=Z[2]-D[2];return 0===L&&O&&(L=Z[4]-D[4]),L}),M.length&&(v[0]=M[0][0],v[1]=M[0][1],O&&(v[2]=M[0][3]),(v[0]<m[0]||v[0]>m[1]||v[1]<m[2]||v[1]>m[3]||O&&(v[2]<m[4]||v[2]>m[5]))&&(v.length=0)),!v.length){const Z=W[0]&&W[0].length?function T(W,O){const v=O?[0,0,0]:[0,0],M=O?[0,0,0]:[0,0];let m=0,Z=0,D=0,L=0;for(let b=0,H=W.length;b<H-1;b++){const Y=W[b],z=W[b+1];if(Y&&z){v[0]=Y[0],v[1]=Y[1],M[0]=z[0],M[1]=z[1],O&&Y.length>2&&z.length>2&&(v[2]=Y[2],M[2]=z[2]);const te=(0,p.R3)(v,M);if(te){m+=te;const ee=(0,p.t9)(Y,z);Z+=te*ee[0],D+=te*ee[1],O&&ee.length>2&&(L+=te*ee[2])}}}return m>0?O?[Z/m,D/m,L/m]:[Z/m,D/m]:W.length?W[0]:null}(W[0],O):null;if(!Z)return null;v[0]=Z[0],v[1]=Z[1],O&&Z.length>2&&(v[2]=Z[2])}return v}function F(W,O,v){let M=0,m=0,Z=0,D=0,L=0;const b=W.length?W[0][0]:0,H=W.length?W[0][1]:0,Y=W.length&&O?W[0][2]:0;for(let te=0;te<W.length;te++){const ee=W[te],Q=W[(te+1)%W.length],[q,j,X]=ee,A=q-b,ie=j-H,[K,B,G]=Q,se=K-b,J=B-H,ce=A*J-se*ie;if(D+=ce,M+=(A+se)*ce,m+=(ie+J)*ce,O&&ee.length>2&&Q.length>2){const _e=X-Y,Ce=G-Y,Oe=A*Ce-se*_e;Z+=(_e+Ce)*Oe,L+=Oe}q<v[0]&&(v[0]=q),q>v[1]&&(v[1]=q),j<v[2]&&(v[2]=j),j>v[3]&&(v[3]=j),O&&(X<v[4]&&(v[4]=X),X>v[5]&&(v[5]=X))}if(D>0&&(D*=-1),L>0&&(L*=-1),!D)return null;D*=.5,L*=.5;const z=[M/(6*D)+b,m/(6*D)+H,D];return O&&(v[4]===v[5]||0===L?(z[3]=(v[4]+v[5])/2,z[4]=0):(z[3]=Z/(6*L)+Y,z[4]=L)),z}function R(W,O){let v=0,M=0,m=0;W.nextPoint();const Z=W.pathSize?W.x:0,D=W.pathSize?W.y:0;for(let L=0;L<W.pathSize;L++){W.seekInPath(L);const b=[W.x,W.y];W.seekInPath((L+1)%W.pathSize);const H=[W.x,W.y],[Y,z]=b,te=Y-Z,ee=z-D,[Q,q]=H,j=Q-Z,X=q-D,A=te*X-j*ee;m+=A,v+=(te+j)*A,M+=(ee+X)*A,Y<O[0]&&(O[0]=Y),Y>O[1]&&(O[1]=Y),z<O[2]&&(O[2]=z),z>O[3]&&(O[3]=z)}return m>0&&(m*=-1),m?(m*=.5,[v/(6*m)+Z,M/(6*m)+D,m]):null}const P=1e-6;function C(W){let O=0;for(W.reset();W.nextPath();)O+=W.getCurrentRingArea();if(O<P){const m=function y(W){const{hasZ:O,totalSize:v}=W;if(0===v)return null;const M=[],m=[],Z=O?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(W.reset();W.nextPath();){const D=F((0,d.A)(W),W.hasZ,Z);D&&m.push(D)}if(m.sort((D,L)=>{let b=D[2]-L[2];return 0===b&&O&&(b=D[4]-L[4]),b}),m.length&&(M[0]=m[0][0],M[1]=m[0][1],O&&(M[2]=m[0][3]),(M[0]<Z[0]||M[0]>Z[1]||M[1]<Z[2]||M[1]>Z[3]||O&&(M[2]<Z[4]||M[2]>Z[5]))&&(M.length=0)),!M.length){W.reset(),W.nextPath();const D=W.pathSize?function E(W){const{hasZ:O}=W,v=O?[0,0,0]:[0,0],M=O?[0,0,0]:[0,0];let m=0,Z=0,D=0,L=0;if(W.nextPoint()){let b=W.x,H=W.y,Y=W.z;for(;W.nextPoint();){const z=W.x,te=W.y,ee=W.z;v[0]=b,v[1]=H,M[0]=z,M[1]=te,O&&(v[2]=Y,M[2]=ee);const Q=(0,p.R3)(v,M);if(Q){m+=Q;const q=(0,p.t9)(v,M);Z+=Q*q[0],D+=Q*q[1],O&&q.length>2&&(L+=Q*q[2])}b=z,H=te,Y=ee}}return m>0?O?[Z/m,D/m,L/m]:[Z/m,D/m]:W.pathSize?(W.seekPathStart(),W.nextPoint(),[W.x,W.y]):null}(W):null;if(!D)return null;M[0]=D[0],M[1]=D[1],O&&D.length>2&&(M[2]=D[2])}return M}(W);return m?[m[0],m[1]]:null}const v=[0,0];if(W.reset(),!W.nextPath()||!W.nextPoint())return null;const M=[W.x,W.y];for(W.reset();W.nextPath();)U(v,M,W);return v[0]*=1/O,v[1]*=1/O,v[0]+=M[0],v[1]+=M[1],v}const N=1/3;function U(W,O,v){if(!v||v.pathSize<3)return null;v.nextPoint();const M=v.x,m=v.y;v.nextPoint();let Z,D=v.x-M,L=v.y-m,b=0,H=0;for(;v.nextPoint();)b=v.x-M,H=v.y-m,Z=.5*N*(b*L-H*D),W[0]+=Z*(D+b),W[1]+=Z*(L+H),D=b,L=H;const Y=v.getCurrentRingArea(),z=[M,m];return z[0]-=O[0],z[1]-=O[1],z[0]*=Y,z[1]*=Y,W[0]+=z[0],W[1]+=z[1],W}},8190:(xe,re,u)=>{u.d(re,{CW:()=>I,F8:()=>F,gH:()=>_,m3:()=>T,qz:()=>p,rL:()=>w,t1:()=>E});const d=[0,0];function p(N,U){return null!=U&&R(N,U.x,U.y,U.z)}function w(N,U){if(!U.points?.length)return!1;for(const W of U.points)if(!I(N,W))return!1;return!0}function _(N,U){const{xmin:W,ymin:O,zmin:v,xmax:M,ymax:m,zmax:Z}=U;return N.hasZ&&U.hasZ?R(N,W,O,v)&&R(N,W,m,v)&&R(N,M,m,v)&&R(N,M,O,v)&&R(N,W,O,Z)&&R(N,W,m,Z)&&R(N,M,m,Z)&&R(N,M,O,Z):R(N,W,O)&&R(N,W,m)&&R(N,M,m)&&R(N,M,O)}function I(N,U){return R(N,U[0],U[1])}function F(N,U){return R(N,U[0],U[1],U[2])}function R(N,U,W,O){return U>=N.xmin&&U<=N.xmax&&W>=N.ymin&&W<=N.ymax&&(null==O||!N.hasZ||O>=N.zmin&&O<=N.zmax)}function T(N,U){return d[1]=U.y,d[0]=U.x,function y(N,U){return E(N.rings,U)}(N,d)}function E(N,U){if(!N)return!1;if(function P(N){return!Array.isArray(N[0][0])}(N))return C(!1,N,U);let W=!1;for(let O=0,v=N.length;O<v;O++)W=C(W,N[O],U);return W}function C(N,U,W){const[O,v]=W;let M=N,m=0;for(let Z=0,D=U.length;Z<D;Z++){m++,m===D&&(m=0);const[L,b]=U[Z],[H,Y]=U[m];(b<v&&Y>=v||Y<v&&b>=v)&&L+(v-b)/(Y-b)*(H-L)<O&&(M=!M)}return M}},15268:(xe,re,u)=>{u.d(re,{$3:()=>U,$H:()=>N,$K:()=>_,B1:()=>R,It:()=>L,JM:()=>Z,Ng:()=>E,R3:()=>I,Yl:()=>C,_7:()=>m,gR:()=>T,m3:()=>v,t9:()=>P,uC:()=>O});var d=u(89952),p=u(41510),w=u(58701);function _(b){if(!b)return null;if(Array.isArray(b))return b;const H=b.hasZ,Y=b.hasM;if("point"===b.type)return Y&&H?[b.x,b.y,b.z,b.m]:H?[b.x,b.y,b.z]:Y?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice();if("polyline"===b.type)return b.paths.slice();if("multipoint"===b.type)return b.points.slice();if("extent"===b.type){const z=b.clone().normalize();if(!z)return null;let te=!1,ee=!1;return z.forEach(Q=>{Q.hasZ&&(te=!0),Q.hasM&&(ee=!0)}),z.map(Q=>{const q=[[Q.xmin,Q.ymin],[Q.xmin,Q.ymax],[Q.xmax,Q.ymax],[Q.xmax,Q.ymin],[Q.xmin,Q.ymin]];if(te&&Q.hasZ){const j=.5*(Q.zmax-Q.zmin);for(let X=0;X<q.length;X++)q[X].push(j)}if(ee&&Q.hasM){const j=.5*(Q.mmax-Q.mmin);for(let X=0;X<q.length;X++)q[X].push(j)}return q})}return null}function I(b,H){const Y=H[0]-b[0],z=H[1]-b[1];if(b.length>2&&H.length>2){const te=b[2]-H[2];return Math.sqrt(Y*Y+z*z+te*te)}return Math.sqrt(Y*Y+z*z)}function F(b,H,Y){const z=b[0]+Y*(H[0]-b[0]),te=b[1]+Y*(H[1]-b[1]);return b.length>2&&H.length>2?[z,te,b[2]+Y*(H[2]-b[2])]:[z,te]}function R(b,H,Y,z){return T(b,H,Y[z],Y[z+1])}function T(b,H,Y,z){const[te,ee]=H,[Q,q]=Y,[j,X]=z,A=j-Q,ie=X-q,G=Math.min(1,Math.max(0,((te-Q)*A+(ee-q)*ie)/(A*A+ie*ie)));return b[0]=Q+A*G,b[1]=q+ie*G,b}function E(b,H,Y,z,te,ee){let Q=Y,q=z,j=te-Q,X=ee-q;if(0!==j||0!==X){const A=((b-Q)*j+(H-q)*X)/(j*j+X*X);A>1?(Q=te,q=ee):A>0&&(Q+=j*A,q+=X*A)}return j=b-Q,X=H-q,j*j+X*X}function P(b,H){return F(b,H,.5)}function C(b){const H=b.length;let Y=0;for(let z=0;z<H-1;++z)Y+=I(b[z],b[z+1]);return Y}function N(b,H){if(H<=0)return b[0];const Y=b.length;let z=0;for(let te=0;te<Y-1;++te){const ee=I(b[te],b[te+1]);if(H-z<ee)return F(b[te],b[te+1],(H-z)/ee);z+=ee}return b[Y-1]}function U(b,H=p._.X,Y=p._.Y){let z=0;const te=b.length;let ee=b[0];for(let Q=1;Q<te;Q++){const q=b[Q];z+=(q[H]-ee[H])*(q[Y]+ee[Y]),ee=q}if(!W(b)){const Q=b[0];z+=(Q[H]-ee[H])*(Q[Y]+ee[Y])}return z>=0}function W(b){const H=b.length;return H<3||(0,d.aI)(b[0],b[H-1])}function O(b){"rings"in b&&(v(b),function M(b){if(!("rings"in b)||0===b.rings.length||U(b.rings[0]))return!1;for(const H of b.rings)H.reverse()}(b))}function v(b){if(!("rings"in b))return!1;let H=!1;for(const Y of b.rings)W(Y)||(Y.push(Y[0].slice()),H=!0);return H}function m(b){return"polygon"!==b.type&&"polyline"!==b.type||Z("polygon"===b.type?b.rings:b.paths,b.spatialReference),b}function Z(b,H){const Y=(0,w.Vp)(H);if(!Y)return;const z=Y.valid[0],te=Y.valid[1],ee=te-z;for(const Q of b){let q=1/0,j=-1/0;for(const A of Q){const ie=D(A[0],z,te);q=Math.min(q,ie),j=Math.max(j,ie),A[0]=ie}const X=j-q;ee-X<X&&Q.forEach(A=>{A[0]<0&&(A[0]+=ee)})}}function D(b,H,Y){const z=Y-H;return b<H?Y-(H-b)%z:b>Y?H+(b-H)%z:b}function L(b,H){if(b===H)return!0;if(b.type!==H.type)return!1;if("point"===b.type||"mesh"===b.type||"extent"===b.type)return!0;if("multipoint"===b.type)return b.points.length===H.points.length;const[Y,z]="polyline"===b.type?[b.paths,H.paths]:[b.rings,H.rings];return Y.length===z.length&&Y.every((te,ee)=>te.length===z[ee].length)}},22442:(xe,re,u)=>{u.d(re,{HA:()=>N,Z3:()=>v,v:()=>O});var d=u(83065);const R=[];function T(M,m,Z,D){return{xmin:M,ymin:m,xmax:Z,ymax:D}}function y(M,m,Z,D,L,b){return{xmin:M,ymin:m,zmin:Z,xmax:D,ymax:L,zmax:b}}function E(M,m,Z,D,L,b){return{xmin:M,ymin:m,mmin:Z,xmax:D,ymax:L,mmax:b}}function P(M,m,Z,D,L,b,H,Y){return{xmin:M,ymin:m,zmin:Z,mmin:D,xmax:L,ymax:b,zmax:H,mmax:Y}}function C(M,m=!1,Z=!1){return m?Z?P(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7]):y(M[0],M[1],M[2],M[3],M[4],M[5]):Z?E(M[0],M[1],M[2],M[3],M[4],M[5]):T(M[0],M[1],M[2],M[3])}function N(M){return M?function p(M){return void 0!==M.xmin&&void 0!==M.ymin&&void 0!==M.xmax&&void 0!==M.ymax}(M)?M:function _(M){return void 0!==M.x&&void 0!==M.y}(M)?function W(M){const{x:m,y:Z,z:D,m:L}=M,b=null!=L;return null!=D?b?P(m,Z,D,L,m,Z,D,L):y(m,Z,D,m,Z,D):b?E(m,Z,L,m,Z,L):T(m,Z,m,Z)}(M):function F(M){return void 0!==M.rings}(M)?O(M):function I(M){return void 0!==M.paths}(M)?v(M):function w(M){return void 0!==M.points}(M)?function U(M){const{hasZ:m,hasM:Z,points:D}=M;return C((0,d.Pj)(R,D,m??!1,Z??!1),m,Z)}(M):null:null}function O(M){const{hasZ:m,hasM:Z,rings:D}=M,L=(0,d.Yz)(R,D,m??!1,Z??!1);return L?C(L,m,Z):null}function v(M){const{hasZ:m,hasM:Z,paths:D}=M,L=(0,d.Yz)(R,D,m??!1,Z??!1);return L?C(L,m,Z):null}},2947:(xe,re,u)=>{u.d(re,{TP:()=>F,_f:()=>w,eh:()=>p,uw:()=>R});var d=u(47258);const p=Math.PI/180,w=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,_=d.$O.radius,I=d.$O.eccentricitySquared,F={a1:_*I,a2:_*I*_*I,a3:_*I*I/2,a4:_*I*_*I*2.5,a5:_*I+_*I*I/2,a6:1-I},R={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.$O.radius,f:d.$O.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:d.Sw.radius,f:d.Sw.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:d.sH.radius,f:d.sH.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:d.sH.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},3846:(xe,re,u)=>{u.d(re,{Hu:()=>F,jI:()=>W,zy:()=>P}),u(3248);var T,M,p=u(5922),w=u(33119),_=u(68438);function F(M,m,Z){const D=P(M),L=m,b=function R(M,m,Z){if(!y(M)||!y(m))return T.Unsupported;if(null==M||null==m)return T.Ok;if(!Z&&M.heightUnit!==m.heightUnit)return T.Units;if(M.heightModel!==m.heightModel)return T.HeightModel;switch(M.heightModel){case"gravity-related-height":return T.Ok;case"ellipsoidal":return M.vertCRS===m.vertCRS?T.Ok:T.CRS;default:return T.Unsupported}}(D,L,Z);if(D){const H=w.A.deriveUnitFromSR(D,M.spatialReference).heightUnit;if(!Z&&H!==D.heightUnit){const Y=new p.A("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${H})`,{horizontalUnit:H});return new p.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:D,error:Y})}}if(!function E(M){return"heightModelInfo"in M&&null!=M.heightModelInfo||null!=M.spatialReference||!U(M)}(M)||b===T.Unsupported)return new p.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:D});switch(b){case T.Units:{const H=D?.heightUnit||"unknown",Y=L?.heightUnit||"unknown",z=new p.A("layerview:incompatible-height-unit",`The vertical units of the layer (${H}) must match the vertical units of the scene (${Y})`,{layerUnit:H,sceneUnit:Y});return new p.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:D,sceneHeightModelInfo:L,error:z})}case T.HeightModel:{const H=D?.heightModel||"unknown",Y=L?.heightModel||"unknown",z=new p.A("layerview:incompatible-height-model",`The height model of the layer (${H}) must match the height model of the scene (${Y})`,{layerHeightModel:H,sceneHeightModel:Y});return new p.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:D,sceneHeightModelInfo:L,error:z})}case T.CRS:{const H=D?.vertCRS||"unknown",Y=L?.vertCRS||"unknown",z=new p.A("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${H}) must match the vertical datum of the scene (${Y})`,{layerDatum:H,sceneDatum:Y});return new p.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:D,sceneHeightModelInfo:L,error:z})}}return null}function y(M){return null==M||null!=M.heightModel&&null!=M.heightUnit}function P(M){if("integrated-mesh-3dtiles"===M.type)return null;const m=M.url?(0,_.qg)(M.url):void 0;return(null!=M.spatialReference?.vcsWkid||null==m||"ImageServer"!==m.serverType)&&C(M)&&M.heightModelInfo?M.heightModelInfo:U(M)?w.A.deriveUnitFromSR(v,M.spatialReference):null}function C(M){return"heightModelInfo"in M}function N(M){if("unknown"===M.type||!("capabilities"in M))return!1;switch(M.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function U(M){return N(M)?!!(M.capabilities&&M.capabilities.data&&M.capabilities.data.supportsZ):O(M)}function W(M){return null!=M.layers||O(M)||N(M)||C(M)}function O(M){switch(M.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(M=T||(T={}))[M.Ok=0]="Ok",M[M.Units=1]="Units",M[M.HeightModel=2]="HeightModel",M[M.CRS=3]="CRS",M[M.Unsupported=4]="Unsupported";const v=new w.A({heightModel:"gravity-related-height"})},62928:(xe,re,u)=>{u.d(re,{A3:()=>W,Ql:()=>v,fA:()=>P,xB:()=>w,xK:()=>M});var d=u(8190);function p(m,Z){return(0,d.qz)(m,Z)}function w(m,Z){let L,b,H;if(m.xmin<=Z.xmin){if(L=Z.xmin,m.xmax<L)return!1}else if(L=m.xmin,Z.xmax<L)return!1;if(m.ymin<=Z.ymin){if(b=Z.ymin,m.ymax<b)return!1}else if(b=m.ymin,Z.ymax<b)return!1;if(m.hasZ&&Z.hasZ&&Z.hasZ)if(m.zmin<=Z.zmin){if(H=Z.zmin,m.zmax<H)return!1}else if(H=m.zmin,Z.zmax<H)return!1;return!0}function _(m,Z){const{points:D,hasZ:L}=Z,b=L?d.F8:d.CW;for(const H of D)if(b(m,H))return!0;return!1}const I=[0,0],F=[0,0],R=[0,0],T=[0,0],y=[I,F,R,T],E=[[R,I],[I,F],[F,T],[T,R]];function P(m,Z){return function C(m,Z){I[0]=m.xmin,I[1]=m.ymax,F[0]=m.xmax,F[1]=m.ymax,R[0]=m.xmin,R[1]=m.ymin,T[0]=m.xmax,T[1]=m.ymin;for(const D of y)if((0,d.t1)(Z,D))return!0;for(const D of Z){if(!D.length)continue;let L=D[0];if((0,d.CW)(m,L))return!0;for(let b=1;b<D.length;b++){const H=D[b];if((0,d.CW)(m,H)||O(L,H,E))return!0;L=H}}return!1}(m,Z.rings)}function N(m,Z){I[0]=m.xmin,I[1]=m.ymax,F[0]=m.xmax,F[1]=m.ymax,R[0]=m.xmin,R[1]=m.ymin,T[0]=m.xmax,T[1]=m.ymin;const D=Z.paths;for(const L of D){if(!D.length)continue;let b=L[0];if((0,d.CW)(m,b))return!0;for(let H=1;H<L.length;H++){const Y=L[H];if((0,d.CW)(m,Y)||O(b,Y,E))return!0;b=Y}}return!1}const U=[0,0];function W(m){for(let Z=0;Z<m.length;Z++){const D=m[Z];for(let b=0;b<D.length-1;b++){const H=D[b],Y=D[b+1];for(let z=Z+1;z<m.length;z++)for(let te=0;te<m[z].length-1;te++){const ee=m[z][te],Q=m[z][te+1];if(v(H,Y,ee,Q,U)&&!(U[0]===H[0]&&U[1]===H[1]||U[0]===ee[0]&&U[1]===ee[1]||U[0]===Y[0]&&U[1]===Y[1]||U[0]===Q[0]&&U[1]===Q[1]))return!0}}const L=D.length;if(!(L<=4))for(let b=0;b<L-3;b++){let H=L-1;0===b&&(H=L-2);const Y=D[b],z=D[b+1];for(let te=b+2;te<H;te++){const ee=D[te],Q=D[te+1];if(v(Y,z,ee,Q,U)&&!(U[0]===Y[0]&&U[1]===Y[1]||U[0]===ee[0]&&U[1]===ee[1]||U[0]===z[0]&&U[1]===z[1]||U[0]===Q[0]&&U[1]===Q[1]))return!0}}}return!1}function O(m,Z,D){for(let L=0;L<D.length;L++)if(v(m,Z,D[L][0],D[L][1]))return!0;return!1}function v(m,Z,D,L,b){const[H,Y]=m,[z,te]=Z,[ee,Q]=D,[q,j]=L,X=q-ee,A=H-ee,ie=z-H,K=j-Q,B=Y-Q,G=te-Y,se=K*ie-X*G;if(0===se)return!1;const J=(X*B-K*A)/se,ce=(ie*B-G*A)/se;return J>=0&&J<=1&&ce>=0&&ce<=1&&(b&&(b[0]=H+J*(z-H),b[1]=Y+J*(te-Y)),!0)}function M(m){switch(m){case"esriGeometryEnvelope":case"extent":return w;case"esriGeometryMultipoint":case"multipoint":return _;case"esriGeometryPoint":case"point":return p;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return P;case"esriGeometryPolyline":case"polyline":return N}}},61320:(xe,re,u)=>{u.d(re,{$B:()=>N,Bi:()=>P,Rg:()=>E,U9:()=>T,ZC:()=>R,fT:()=>y,rS:()=>C,xD:()=>W});var d=u(28067),p=u(68643),w=u(21870),_=u(1749),I=u(55861),F=u(93615);function R(O){return void 0!==O.xmin&&void 0!==O.ymin&&void 0!==O.xmax&&void 0!==O.ymax}function T(O){return void 0!==O.points}function y(O){return void 0!==O.x&&void 0!==O.y}function E(O){return void 0!==O.paths||void 0!==O.curvePaths}function P(O){return void 0!==O.rings||void 0!==O.curveRings}function C(O){return null==O?null:O instanceof p.A?O:y(O)?_.A.fromJSON(O):E(O)?F.A.fromJSON(O):P(O)?I.A.fromJSON(O):T(O)?w.A.fromJSON(O):R(O)?d.A.fromJSON(O):null}function N(O){return O?y(O)?"esriGeometryPoint":E(O)?"esriGeometryPolyline":P(O)?"esriGeometryPolygon":R(O)?"esriGeometryEnvelope":T(O)?"esriGeometryMultipoint":null:null}const U={esriGeometryPoint:_.A,esriGeometryPolyline:F.A,esriGeometryPolygon:I.A,esriGeometryEnvelope:d.A,esriGeometryMultipoint:w.A,esriGeometryMultiPatch:I.A};function W(O){return O&&U[O]||null}},77098:(xe,re,u)=>{u.d(re,{O7:()=>j,Hr:()=>q,el:()=>ee,mT:()=>X,XX:()=>H});var d=u(10467),p=u(23098),w=u(5922),_=u(35150),I=u(55861),F=u(93615),R=u(20914),T=u(58701),y=u(55039),E=u(89563),P=u(61320),C=u(68800);function U(){return(U=(0,d.A)(function*(A,ie,K,B){const G=(0,C.Dl)(A),se=ie[0].spatialReference,J={...B,responseType:"json",query:{...G.query,f:"json",sr:(0,T.YX)(se),target:JSON.stringify({geometryType:(0,P.$B)(ie[0]),geometries:ie}),cutter:JSON.stringify(K)}},ce=yield(0,E.A)(G.path+"/cut",J),{cutIndexes:_e,geometries:Ce=[]}=ce.data;return{cutIndexes:_e,geometries:Ce.map(Oe=>{const fe=(0,P.rS)(Oe);return fe.spatialReference=se,fe})}})).apply(this,arguments)}var W=u(45272),O=u(28524);function M(){return(M=(0,d.A)(function*(A,ie,K){const B="string"==typeof A?(0,W.An)(A):A,G=ie[0].spatialReference,se=(0,P.$B)(ie[0]),J={...K,query:{...B.query,f:"json",sr:(0,T.YX)(G),geometries:JSON.stringify((0,O.X)(ie))}},{data:ce}=yield(0,E.A)(B.path+"/simplify",J);return(0,O.V)(ce.geometries,se,G)})).apply(this,arguments)}const m=()=>_.A.getLogger("esri.geometry.support.normalizeUtils");function D(A){return"polygon"===A[0].type}function L(A){return"polyline"===A[0].type}function b(A){const ie=[];let K=0,B=0;for(let G=0;G<A.length;G++){const se=A[G];let J=null;for(let ce=0;ce<se.length;ce++)J=se[ce],ie.push(J),0===ce?(K=J[0],B=K):(K=Math.min(K,J[0]),B=Math.max(B,J[0]));J&&ie.push([(K+B)/2,0])}return ie}function H(A,ie){if(!(A instanceof F.A||A instanceof I.A)){const G="straightLineDensify: the input geometry is neither polyline nor polygon";throw m().error(G),new w.A(G)}const K=(0,R.r8)(A),B=[];for(const G of K){const se=[];B.push(se),se.push([G[0][0],G[0][1]]);for(let J=0;J<G.length-1;J++){const ce=G[J][0],_e=G[J][1],Ce=G[J+1][0],Oe=G[J+1][1],fe=Math.sqrt((Ce-ce)*(Ce-ce)+(Oe-_e)*(Oe-_e)),Se=(Oe-_e)/fe,me=(Ce-ce)/fe,ge=fe/ie;if(ge>1){for(let oe=1;oe<=ge-1;oe++){const S=oe*ie;se.push([me*S+ce,Se*S+_e])}const Be=(fe+Math.floor(ge-1)*ie)/2;se.push([me*Be+ce,Se*Be+_e])}se.push([Ce,Oe])}}return function Z(A){return"polygon"===A.type}(A)?new I.A({rings:B,spatialReference:A.spatialReference}):new F.A({paths:B,spatialReference:A.spatialReference})}function Y(A,ie,K){if(ie){const B=H(A,1e6);A=(0,y.ci)(B,!0)}return K&&(A=(0,R.kS)(A,K)),A}function z(A,ie,K){if(Array.isArray(A)){const B=A[0];if(B>ie){const G=(0,R.kd)(B,ie);A[0]=B+G*(-2*ie)}else if(B<K){const G=(0,R.kd)(B,K);A[0]=B+G*(-2*K)}}else{const B=A.x;if(B>ie){const G=(0,R.kd)(B,ie);A=A.clone().offset(G*(-2*ie),0)}else if(B<K){const G=(0,R.kd)(B,K);A=A.clone().offset(G*(-2*K),0)}}return A}function ee(A,ie,K){return Q.apply(this,arguments)}function Q(){return Q=(0,d.A)(function*(A,ie,K){if(!Array.isArray(A))return ee([A],ie);ie&&"string"!=typeof ie&&m().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const B="string"==typeof ie?ie:ie?.url??p.A.geometryServiceUrl;let G,se,J,ce,_e,Ce,Oe,fe,Se=0;const me=[],ge=[];for(const k of A)if(null!=k)if(G||(G=k.spatialReference,se=(0,T.Vp)(G),J=G.isWebMercator,Ce=J?102100:4326,ce=R.j7[Ce].maxX,_e=R.j7[Ce].minX,Oe=R.j7[Ce].plus180Line,fe=R.j7[Ce].minus180Line),se)if("mesh"===k.type)ge.push(k);else if("point"===k.type)ge.push(z(k.clone(),ce,_e));else if("multipoint"===k.type){const ae=k.clone();ae.points=ae.points.map(he=>z(he,ce,_e)),ge.push(ae)}else if("extent"===k.type){const ae=k.clone()._normalize(!1,!1,se);ge.push(ae.rings?new I.A(ae):ae)}else if(k.extent){const ae=k.extent,he=(0,R.kd)(ae.xmin,_e)*(2*ce);let Ae=0===he?k.clone():(0,R.kS)(k.clone(),he);ae.offset(he,0);let{xmin:je,xmax:Fe}=ae;je=Number(je.toFixed(9)),Fe=Number(Fe.toFixed(9)),ae.intersects(Oe)&&Fe!==ce?(Se=Fe>Se?Fe:Se,Ae=Y(Ae,J),me.push(Ae),ge.push("cut")):ae.intersects(fe)&&je!==_e?(Se=Fe*(2*ce)>Se?Fe*(2*ce):Se,Ae=Y(Ae,J,360),me.push(Ae),ge.push("cut")):ge.push(Ae)}else ge.push(k.clone());else ge.push(k);else ge.push(k);let Be=(0,R.kd)(Se,ce),Le=-90;const Re=Be,oe=new F.A;for(;Be>0;){const k=360*Be-180;oe.addPath([[k,Le],[k,-1*Le]]),Le*=-1,Be--}if(me.length>0&&Re>0){const k=function te(A,ie){let K=-1;for(let B=0;B<ie.cutIndexes.length;B++){const G=ie.cutIndexes[B],se=ie.geometries[B],J=(0,R.r8)(se);for(let ce=0;ce<J.length;ce++){const _e=J[ce];_e.some(Ce=>{if(Ce[0]<180)return!0;{let Oe=0;for(let Se=0;Se<_e.length;Se++){const me=_e[Se][0];Oe=me>Oe?me:Oe}Oe=Number(Oe.toFixed(9));const fe=-360*(0,R.kd)(Oe,180);for(let Se=0;Se<_e.length;Se++){const me=se.getPoint(ce,Se);se.setPoint(ce,Se,me.clone().offset(fe,0))}return!0}})}if(G===K){if(D(A))for(const ce of(0,R.r8)(se))A[G]=A[G].addRing(ce);else if(L(A))for(const ce of(0,R.r8)(se))A[G]=A[G].addPath(ce)}else K=G,A[G]=se}return A}(me,yield function N(A,ie,K,B){return U.apply(this,arguments)}(B,me,oe,K)),ae=[],he=[];for(let Fe=0;Fe<ge.length;Fe++){const Ue=ge[Fe];if("cut"!==Ue)he.push(Ue);else{const We=k.shift(),ue=A[Fe];null!=ue&&"polygon"===ue.type&&ue.rings&&ue.rings.length>1&&We.rings.length>=ue.rings.length?(ae.push(We),he.push("simplify")):he.push(J?(0,y.Gh)(We):We)}}if(!ae.length)return he;const Ae=yield function v(A,ie,K){return M.apply(this,arguments)}(B,ae,K),je=[];for(let Fe=0;Fe<he.length;Fe++){const Ue=he[Fe];je.push("simplify"!==Ue?Ue:J?(0,y.Gh)(Ae.shift()):Ae.shift())}return je}const S=[];for(let k=0;k<ge.length;k++){const ae=ge[k];if("cut"!==ae)S.push(ae);else{const he=me.shift();S.push(!0===J?(0,y.Gh)(he):he)}}return S}),Q.apply(this,arguments)}function q(A){if(!A)return null;const ie=A.extent;if(!ie)return null;const K=A.spatialReference&&(0,T.Vp)(A.spatialReference);if(!K)return ie;const[B,G]=K.valid,se=2*G,{width:J}=ie;let ce,{xmin:_e,xmax:Ce}=ie;if([_e,Ce]=[Ce,_e],"extent"===A.type||0===J||J<=G||J>se||_e<B||Ce>G)return ie;switch(A.type){case"polygon":if(!(A.rings.length>1))return ie;ce=b(A.rings);break;case"polyline":if(!(A.paths.length>1))return ie;ce=b(A.paths);break;case"multipoint":ce=A.points}const Oe=ie.clone();for(let fe=0;fe<ce.length;fe++){let Se=ce[fe][0];Se<0?(Se+=G,Ce=Math.max(Se,Ce)):(Se-=G,_e=Math.min(Se,_e))}return Oe.xmin=_e,Oe.xmax=Ce,Oe.width<J?(Oe.xmin-=G,Oe.xmax-=G,Oe):ie}function j(A,ie,K){const B=(0,T.Vp)(K);if(null==B)return A;const[G,se]=B.valid,J=2*se;let ce=0,_e=0;ie>se?ce=Math.ceil(Math.abs(ie-se)/J):ie<G&&(ce=-Math.ceil(Math.abs(ie-G)/J)),A>se?_e=Math.ceil(Math.abs(A-se)/J):A<G&&(_e=-Math.ceil(Math.abs(A-G)/J));let Ce=A+(ce-_e)*J;const Oe=Ce-ie;return Oe>se?Ce-=J:Oe<G&&(Ce+=J),Ce}function X(A,ie){const K=(0,T.Vp)(ie);if(K){const[B,G]=K.valid,se=G-B;if(A<B)for(;A<B;)A+=se;if(A>G)for(;A>G;)A-=se}return A}},20914:(xe,re,u)=>{u.d(re,{j7:()=>_,kS:()=>F,kd:()=>I,r8:()=>R});var d=u(93615),p=u(32034),w=u(61320);const _={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new d.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:p.A.WebMercator}),minus180Line:new d.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:p.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new d.A({paths:[[[180,-180],[180,180]]],spatialReference:p.A.WGS84}),minus180Line:new d.A({paths:[[[-180,-180],[-180,180]]],spatialReference:p.A.WGS84})}};function I(T,y){return Math.ceil((T-y)/(2*y))}function F(T,y){const E=R(T);for(const P of E)for(const C of P)C[0]+=y;return T}function R(T){return(0,w.Bi)(T)?T.rings:T.paths}},15364:(xe,re,u)=>{u.d(re,{EZ:()=>_,Io:()=>w,QP:()=>F,T0:()=>I});var d=u(58701),p=u(55039);function w(T,y){const E=T.x-y.x,P=T.y-y.y,C=null!=T.z&&null!=y.z?T.z-y.z:0;return Math.sqrt(E*E+P*P+C*C)}function _(T){return F(T,R)?.[0]??null}function I(T){return F(T,R)?.[1]??null}function F({x:T,y,spatialReference:E},P=[0,0]){if(E){if((0,d.K8)(E))return(0,p.tD)(T,y,P);if((0,d.EA)(E))return P[0]=T,P[1]=y,P}return null}const R=[0,0]},58701:(xe,re,u)=>{u.d(re,{B3:()=>Z,EA:()=>m,K8:()=>H,KK:()=>X,KQ:()=>Q,Mc:()=>T,Vp:()=>W,YX:()=>M,ZL:()=>ee,aI:()=>C,ch:()=>A,d9:()=>q,fn:()=>j,jp:()=>L,oT:()=>D,q8:()=>te,r1:()=>Y,tQ:()=>ie,tl:()=>z,x1:()=>b});var d=u(1119),w=(u(33658),u(1120)),_=u(98946);const I=[102100,102113,3857,3785,900913],R=[4326,...I,104905,104971],T=[-20037508.342788905,20037508.342788905],y=[-20037508.342787,20037508.342787],E={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:T,origin:y,dx:1e-5},P={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:T,origin:y,dx:1e-5},102100:E,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:T,origin:y,dx:1e-5},3857:E,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:E};function C(K,B){if(K===B)return!0;if(null==K||null==B)return!1;const G=K.wkid,se=B.wkid;if(null!=G||null!=se){if(G===se||H(K)&&H(B))return!0;const _e=K.latestWkid;if(null!=_e&&se===_e)return!0;const Ce=B.latestWkid;return null!=Ce&&G===Ce}let J,ce;return K.wkt2&&B.wkt2?(J=K.wkt2,ce=B.wkt2):K.wkt&&B.wkt&&(J=K.wkt,ce=B.wkt),!(!J||!ce)&&J.toUpperCase()===ce.toUpperCase()}function W(K){const B=K?.wkid;return null!=B&&B>=2e3&&P[B]||null}function M(K){if(!K)return;const{wkid:B,vcsWkid:G}=K;if(B)return G?JSON.stringify({wkid:B,vcsWkid:G}):String(B);const se=K.wkt||K.wkt2;return JSON.stringify(se?G?{wkt:se,vcsWkid:G}:{wkt:se}:{})}function m(K){if(!j(K))return!1;const{wkid:B}=K;if(B)return null==_.A[B];const G=K.wkt2||K.wkt;return!!G&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(G)}function Z(K){return!(te(K)||Q(K))}function D(K){return 4326===K?.wkid}function L(K){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(K)}function b(K){return K?.wkid===w.Y.CGCS2000}function H(K){const B=K?.wkid;return null!=B&&B>=2e3&&I.includes(B)}function Y(K){return 32662===K?.wkid}function z(K){return K===w.Y.GCSMARS2000||K===w.Y.GCSMARS2000_SPHERE}function te(K){return z(K?.wkid)}function ee(K){return K===w.Y.GCSMOON2000}function Q(K){return ee(K?.wkid)}function q(K){const B=K?.wkid;return null!=B&&B>=2e3&&R.includes(B)}function j(K){if(null==K)return!1;const B=K.wkid;return null!=B&&B>=2e3||null!=K.wkt2||null!=K.wkt}const X={wkid:4326,wkt:(0,d.HC)(P[4326].wkTemplate,{Central_Meridian:"0.0"})},A={wkid:102100,latestWkid:3857},ie={wkid:32662}},6434:(xe,re,u)=>{u.d(re,{Ye:()=>y,gy:()=>T,yR:()=>E});var d=u(49976),p=u(28067),w=u(68643),_=u(21870),I=u(1749),F=u(55861),R=u(93615);const T=(0,d.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),y=(0,d.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),E={base:w.A,key:"type",typeMap:{extent:p.A,multipoint:_.A,point:I.A,polyline:R.A,polygon:F.A}}},55039:(xe,re,u)=>{u.d(re,{Cv:()=>O,Gh:()=>m,ci:()=>Z,je:()=>v,jg:()=>P,tD:()=>M,y7:()=>W});var d=u(77806),p=u(29020),w=u(32034),_=u(47258),I=u(58701);const F=57.29577951308232,R=.017453292519943;function T(D){return D*F}function y(D){return D*R}function P(D){return Math.PI/2-2*Math.atan(Math.exp(-D/_.$O.radius))}function C(D){return null!=D.wkid||null!=D.wkt}const N=[0,0];function U(D,L,b,H,Y){const z=D,te=Y;if(te.spatialReference=b,"x"in z&&"x"in te)[te.x,te.y]=L(z.x,z.y,N,H);else if("xmin"in z&&"xmin"in te)[te.xmin,te.ymin]=L(z.xmin,z.ymin,N,H),[te.xmax,te.ymax]=L(z.xmax,z.ymax,N,H);else if("paths"in z&&"paths"in te||"rings"in z&&"rings"in te){const ee="paths"in z?z.paths:z.rings,Q=[];let q;for(let j=0;j<ee.length;j++){const X=ee[j];q=[],Q.push(q);for(let A=0;A<X.length;A++)q.push(L(X[A][0],X[A][1],[0,0],H)),X[A].length>2&&q[A].push(X[A][2]),X[A].length>3&&q[A].push(X[A][3])}"paths"in te?te.paths=Q:te.rings=Q}else if("points"in z&&"points"in te){const ee=z.points,Q=[];for(let q=0;q<ee.length;q++)Q[q]=L(ee[q][0],ee[q][1],[0,0],H),ee[q].length>2&&Q[q].push(ee[q][2]),ee[q].length>3&&Q[q].push(ee[q][3]);te.points=Q}return Y}function W(D,L){const b=D&&(C(D)?D:D.spatialReference),H=L&&(C(L)?L:L.spatialReference);return!(D&&"type"in D&&"mesh"===D.type||L&&"type"in L&&"mesh"===L.type||!b||!H)&&(!!(0,I.aI)(H,b)||(0,I.K8)(H)&&(0,I.oT)(b)||(0,I.K8)(b)&&(0,I.oT)(H))}function O(D,L){if(null==D)return null;const b=D.spatialReference,H=L&&(C(L)?L:L.spatialReference);return W(b,H)?(0,I.aI)(b,H)?(0,d.o8)(D):(0,I.K8)(H)?U(D,v,w.A.WebMercator,!1,(0,d.o8)(D)):(0,I.oT)(H)?U(D,M,w.A.WGS84,!1,(0,d.o8)(D)):null:null}function v(D,L,b=[0,0]){L>89.99999?L=89.99999:L<-89.99999&&(L=-89.99999);const H=y(L);return b[0]=y(D)*_.$O.radius,b[1]=_.$O.halfSemiMajorAxis*Math.log((1+Math.sin(H))/(1-Math.sin(H))),b}function M(D,L,b=[0,0],H=!1){if(D===I.Mc[0])b[0]=-180;else if(D===I.Mc[1])b[0]=180;else{const Y=T(D/_.$O.radius);b[0]=H?Y:Y-360*Math.floor((Y+180)/360)}return b[1]=T(Math.PI/2-2*Math.atan(Math.exp(-L/_.$O.radius))),b}function m(D,L=!1,b=(0,d.o8)(D)){return(0,p.f)(D),(0,p.f)(b),U(D,v,w.A.WebMercator,L,b)}function Z(D,L=!1,b=(0,d.o8)(D)){return(0,p.f)(D),(0,p.f)(b),U(D,M,w.A.WGS84,L,b)}},70977:(xe,re,u)=>{function d(p,w,_=!1){let{hasM:I,hasZ:F}=p;Array.isArray(w)?4!==w.length||I||F?3===w.length&&_&&!I?(F=!0,I=!1):3===w.length&&I&&F&&(I=!1,F=!1):(I=!0,F=!0):(F=!F&&w.hasZ&&(!I||w.hasM),I=!I&&w.hasM&&(!F||w.hasZ)),p.hasZ=F,p.hasM=I}u.d(re,{h:()=>d})},23743:(xe,re,u)=>{u.d(re,{N:()=>_});var d=u(82663),p=u(87477),w=u(58701);function _(E,P,C){if(null==P||null==C||C.vcsWkid||(0,w.aI)(P,C)||(0,p.xP)(P)||(0,p.xP)(C))return null;const N=(0,d.G9)(P)/(0,d.G9)(C);if(1===N)return null;switch(E){case"point":case"esriGeometryPoint":return U=>function I(E,P){null!=E?.z&&(E.z*=P)}(U,N);case"polyline":case"esriGeometryPolyline":return U=>function R(E,P){if(E)for(const C of E.paths)for(const N of C)N.length>2&&(N[2]*=P)}(U,N);case"polygon":case"esriGeometryPolygon":return U=>function F(E,P){if(E)for(const C of E.rings)for(const N of C)N.length>2&&(N[2]*=P)}(U,N);case"multipoint":case"esriGeometryMultipoint":return U=>function T(E,P){if(E)for(const C of E.points)C.length>2&&(C[2]*=P)}(U,N);case"extent":case"esriGeometryEnvelope":return U=>function y(E,P){E&&null!=E.zmin&&null!=E.zmax&&(E.zmin*=P,E.zmax*=P)}(U,N);default:return null}}},13242:(xe,re,u)=>{u(48266),u(68479),u(46186),u(88996);var I=u(45846),F=u(10467),R=u(89563),T=u(5922);function E(){return(E=(0,F.A)(function*(v,M,m,Z){const D=M.exec(m);if(!D)throw new T.A("esri-intl:invalid-bundle",`Bundle id "${m}" is not compatible with the pattern "${M}"`);const L=D[1]?`${D[1]}/`:"",b=D[2],H=(0,I.xO)(Z),Y=`${L}${b}.json`,z=H?`${L}${b}_${H}.json`:Y;let te;try{te=yield P(v(z))}catch(ee){if(z===Y)throw new T.A("intl:unknown-bundle",`Bundle "${m}" cannot be loaded`,{error:ee});try{te=yield P(v(Y))}catch(Q){throw new T.A("intl:unknown-bundle",`Bundle "${m}" cannot be loaded`,{error:Q})}}return te})).apply(this,arguments)}function P(v){return C.apply(this,arguments)}function C(){return(C=(0,F.A)(function*(v){if(null!=W.fetchBundleAsset)return W.fetchBundleAsset(v);const M=yield(0,R.A)(v,{responseType:"text"});return JSON.parse(M.data)})).apply(this,arguments)}class N{constructor({base:M="",pattern:m,location:Z=new URL(window.location.href)}){let D;D="string"==typeof Z?L=>new URL(L,new URL(Z,window.location.href)).href:Z instanceof URL?L=>new URL(L,Z).href:Z,this.pattern="string"==typeof m?new RegExp(`^${m}`):m,this.getAssetUrl=D,M=M?M.endsWith("/")?M:M+"/":"",this.matcher=new RegExp(`^${M}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(M,m){return function y(v,M,m,Z){return E.apply(this,arguments)}(this.getAssetUrl,this.matcher,M,m)}}const W={};var O=u(90261);(0,I.ao)(function U(v){return new N(v)}({pattern:"esri/",location:O.s}))},48266:(xe,re,u)=>{u.d(re,{Ey:()=>ee,F8:()=>te,J2:()=>H,Yq:()=>Y,_v:()=>m,iS:()=>z,wj:()=>Q});var d=u(49976),p=u(88996),w=u(20543),I=(u(22639),u(44549));const F={year:void 0,month:void 0,day:void 0,weekday:void 0},R={hour:void 0,minute:void 0,second:void 0},T={timeZone:w.n$},y={year:"numeric",month:"numeric",day:"numeric"},E={year:"numeric",month:"long",day:"numeric"},P={year:"numeric",month:"short",day:"numeric"},C={year:"numeric",month:"long",weekday:"long",day:"numeric"},N={hour:"numeric",minute:"numeric"},U={...N,second:"numeric"},W={hourCycle:"h23"},O={...N,...W},v={...U,...W},M={"short-date":y,"short-date-short-time":{...y,...N},"short-date-short-time-24":{...y,...O},"short-date-long-time":{...y,...U},"short-date-long-time-24":{...y,...v},"short-date-le":y,"short-date-le-short-time":{...y,...N},"short-date-le-short-time-24":{...y,...O},"short-date-le-long-time":{...y,...U},"short-date-le-long-time-24":{...y,...v},"long-month-day-year":E,"long-month-day-year-short-time":{...E,...N},"long-month-day-year-short-time-24":{...E,...O},"long-month-day-year-long-time":{...E,...U},"long-month-day-year-long-time-24":{...E,...v},"day-short-month-year":P,"day-short-month-year-short-time":{...P,...N},"day-short-month-year-short-time-24":{...P,...O},"day-short-month-year-long-time":{...P,...U},"day-short-month-year-long-time-24":{...P,...v},"long-date":C,"long-date-short-time":{...C,...N},"long-date-short-time-24":{...C,...O},"long-date-long-time":{...C,...U},"long-date-long-time-24":{...C,...v},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":N,"long-time":U},m=(0,d.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Z={ar:"ar-u-nu-latn-ca-gregory"};let D=new WeakMap;const L=M["short-date-short-time"];function H(X){return M[X]}function Y(X,A=L){return function b(X){let A=D.get(X);if(!A){const ie=(0,p.JK)(),K=Z[ie]||ie,B=Q(X.timeZone??w.qU),G={...X,timeZone:B};A=new Intl.DateTimeFormat(K,G),D.set(X,A)}return A}(A).format(X)}function z(X,A=L){return Y(new Date(X),{...A,...T,...R})}function te(X,A=L){return Y(new Date(`1970-01-01T${X}Z`),{...A,...T,...F})}function ee(X,A=L){if(A.timeZone)return Y(new Date(X),A);const ie=I.c9.fromISO(X,{setZone:!0}),K=(0,p.JK)(),B=Z[K]??K,G=0===ie.offset?w.n$:A.timeZone,se={...A,timeZone:G};return ie.toLocaleString(se,{locale:B})}function Q(X){switch(X){case w.qU:return w.N5;case w.L5:return w.n$;default:return X}}(0,p.Ml)(()=>{D=new WeakMap})},88996:(xe,re,u)=>{u.d(re,{JK:()=>R,Ml:()=>v,Z0:()=>y,oQ:()=>W});var d=u(17715);let w;const _=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,I=globalThis.document?.documentElement;function F(){const m=I?.getAttribute("lang"),Z=globalThis.navigator?.language;return _??m??Z??"en"}function R(){return void 0===w&&(w=F()),w}function y(m=R()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(m)?.[1].toLowerCase()}const U=[];function W(m){return U.push(m),(0,d.hA)(()=>U.splice(U.indexOf(m),1))}const O=[];function v(m){return O.push(m),(0,d.hA)(()=>O.splice(O.indexOf(m),1))}function M(){const m=F();w!==m&&([...O].forEach(Z=>Z(m)),w=m,[...U].forEach(Z=>Z(m)))}globalThis.addEventListener?.("languagechange",M),I&&new MutationObserver(()=>{M()}).observe(I,{attributeFilter:["lang"]})},45846:(xe,re,u)=>{u.d(re,{ao:()=>N,ud:()=>U,xO:()=>O});var d=u(10467),p=u(5922),w=u(17715),_=u(56492),I=u(88996);const F=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,R={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function y(L){if(function T(L){return L in R}(L)){const b=R[L];return!0===b?L:b}return null}const E=[],P=new Map;function C(L){for(const b of P.keys())m(L.pattern,b)&&P.delete(b)}function N(L){return E.includes(L)||(C(L),E.unshift(L)),(0,w.hA)(()=>{const b=E.indexOf(L);b>-1&&(E.splice(b,1),C(L))})}function U(L){return W.apply(this,arguments)}function W(){return W=(0,d.A)(function*(L){const b=(0,I.JK)();P.has(L)||P.set(L,function v(L,b){return M.apply(this,arguments)}(L,b));const H=P.get(L);return H&&(yield Z.add(H)),H}),W.apply(this,arguments)}function O(L){if(!F.test(L))return null;const b=F.exec(L);if(null===b)return null;const[,H,Y]=b;return y(H+(Y?"-"+Y.toUpperCase():""))??y(H)}function M(){return(M=(0,d.A)(function*(L,b){const H=[];for(const Y of E)if(m(Y.pattern,L))try{return yield Y.fetchMessageBundle(L,b)}catch(z){H.push(z)}throw H.length?new p.A("intl:message-bundle-error",`Errors occurred while loading "${L}"`,{errors:H}):new p.A("intl:no-message-bundle-loader",`No loader found for message bundle "${L}"`)})).apply(this,arguments)}function m(L,b){return"string"==typeof L?b.startsWith(L):L.test(b)}(0,I.Ml)(()=>{P.clear()});const Z=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){var L=this;return(0,d.A)(function*(){L._dfd&&(yield L._dfd.promise)})()}add(L){return this._increase(),L.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,_.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},68479:(xe,re,u)=>{u.d(re,{$J:()=>T,ZV:()=>R,yx:()=>F});var d=u(88996);const p={ar:"ar-u-nu-latn"};let w=new WeakMap,_={};function I(E){const P=E||_;if(!w.has(P)){const C=(0,d.JK)(),N=p[(0,d.JK)()]||C;w.set(P,new Intl.NumberFormat(N,E))}return w.get(P)}function F(E={}){const P={};return null!=E.digitSeparator&&(P.useGrouping=E.digitSeparator),null!=E.places&&(P.minimumFractionDigits=P.maximumFractionDigits=E.places),P}function R(E,P){return Object.is(E,-0)&&(E=0),I(P).format(E)}function T(E,P=(0,d.JK)()){if(!E)return null;let C=y.get(P);if(!C){const N=I().formatToParts(12345.6),U=[...I({useGrouping:!1}).format(9876543210)].reverse(),W=new Map(U.map((D,L)=>[D,L])),O=new RegExp(`[${N.find(D=>"group"===D.type)?.value}]`,"g"),v=new RegExp(`[${N.find(D=>"decimal"===D.type)?.value}]`),M=new RegExp(`[${U.join("")}]`,"g"),m=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,Z=/[-\u2212\u2013\u2014\u2015]/g;C=D=>{if(""===(D=D.trim().replaceAll(O,"").replace(v,".").replace(M,b=>String(W.get(b))).replaceAll(m,"").replaceAll(Z,"-")))return null;const L=Number(D);return isNaN(L)?null:L},y.set(P,C)}return C(E)}(0,d.Ml)(()=>{w=new WeakMap,_={}});const y=new Map},46186:(xe,re,u)=>{u.d(re,{V:()=>R});var d=u(35150),p=u(89221),w=u(1119),_=u(48266),I=u(68479);const F=()=>d.A.getLogger("esri.intl.substitute");function R(C,N,U={}){const{format:W={}}=U;return(0,w.HC)(C,O=>function T(C,N,U){let W,O;const v=C.indexOf(":");if(-1===v?W=C.trim():(W=C.slice(0,v).trim(),O=C.slice(v+1).trim()),!W)return"";const M=(0,p.wc)(W,N);if(null==M)return"";const m=(O?U?.[O]:null)??U?.[W];return m?function y(C,N){switch(N.type){case"date":return(0,_.Yq)(C,N.intlOptions);case"number":return(0,I.ZV)(C,N.intlOptions);default:return F().warn("missing format descriptor for key {key}"),P(C)}}(M,m):O?function E(C,N){switch(N.toLowerCase()){case"dateformat":return(0,_.Yq)(C);case"numberformat":return(0,I.ZV)(C);default:return F().warn(`inline format is unsupported since 4.12: ${N}`),/^(dateformat|datestring)/i.test(N)?(0,_.Yq)(C):/^numberformat/i.test(N)?(0,I.ZV)(C):P(C)}}(M,O):P(M)}(O,N,W))}function P(C){switch(typeof C){case"string":return C;case"number":return(0,I.ZV)(C);case"boolean":return""+C;default:return C instanceof Date?(0,_.Yq)(C):""}}},77469:(xe,re,u)=>{u.d(re,{Aq:()=>F,Y3:()=>R,id:()=>_,ol:()=>I,rE:()=>w});var d=u(3248),p=u(45272);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const w="4.32";let _,I=w;function F(T){_=T}function R(T){const y=_?.findCredential(T);return y?.token?(0,p.rs)(T,"token",y.token):T}I="4.32.10",(0,d.A)("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),(0,d.A)("host-webworker")},95478:(xe,re,u)=>{u.d(re,{A:()=>b});var d=u(10467),p=u(8189),w=u(89563),_=u(5922),I=u(42425),F=u(3046),R=u(55098),T=u(35150),y=u(56492),E=u(45272),P=u(85211),U=(u(3248),u(40707),u(76576)),W=u(28067),O=u(32034),v=u(23098);function m(){return(m=(0,d.A)(function*(H){const Y="portalItem"in H?H:{portalItem:H},{fromItem:z}=yield Promise.all([u.e(2076),u.e(5565)]).then(u.bind(u,15565));try{return yield z(Y)}catch(te){const ee=Y?.portalItem,Q=ee?.id||"unset",q=ee?.portal?.url||v.A.portalUrl;throw T.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+q+"', id: '"+Q+"')",te),te}})).apply(this,arguments)}var Z=u(17181);let D=0,L=class extends(I.A.EventedMixin(F.A.IdentifiableMixin(R.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new W.A(-180,-90,180,90,O.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+D++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=O.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static fromArcGISServerUrl(H){return(0,d.A)(function*(){const Y="string"==typeof H?{url:H}:H;return(yield Promise.all([u.e(2076),u.e(4126)]).then(u.bind(u,34126))).fromUrl(Y)})()}static fromPortalItem(H){return function M(H){return m.apply(this,arguments)}(H)}initialize(){this.when().catch(H=>{(0,y.zf)(H)||T.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:H})})}destroy(){const H=this.parent;if(H){const Y=this;"layers"in H&&H.layers.includes(Y)?H.layers.remove(Y):"tables"in H&&H.tables.includes(Y)?H.tables.remove(Y):"baseLayers"in H&&H.baseLayers.includes(Y)?H.baseLayers.remove(Y):"referenceLayers"in H&&H.referenceLayers.includes(Y)&&H.referenceLayers.remove(Y),this._set("parent",null)}}get effectiveVisible(){let H=this.visible;const Y=this.parent;return H&&Y&&"effectiveVisible"in Y&&(H&&=Y.effectiveVisible),H}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,E.An)(this.url)}createLayerView(H,Y){return Promise.reject(new _.A("layer:create-layer-view","Layer does not support creating a layer view"))}fetchAttributionData(){var H=this;return(0,d.A)(function*(){const Y=H.attributionDataUrl;if(H.hasAttributionData&&Y)return(yield(0,w.A)(Y,{query:{f:"json"},responseType:"json"})).data;throw new _.A("layer:no-attribution-data","Layer does not have attribution data")})()}};(0,p._)([(0,P.MZ)({type:String})],L.prototype,"attributionDataUrl",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],L.prototype,"effectiveVisible",null),(0,p._)([(0,P.MZ)({type:W.A})],L.prototype,"fullExtent",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],L.prototype,"hasAttributionData",null),(0,p._)([(0,P.MZ)({type:String,clonable:!1})],L.prototype,"id",void 0),(0,p._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"legendEnabled",void 0),(0,p._)([(0,P.MZ)({type:["show","hide","hide-children"]})],L.prototype,"listMode",void 0),(0,p._)([(0,P.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],L.prototype,"opacity",void 0),(0,p._)([(0,P.MZ)({clonable:!1})],L.prototype,"parent",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],L.prototype,"parsedUrl",null),(0,p._)([(0,P.MZ)({type:Boolean,readOnly:!0})],L.prototype,"persistenceEnabled",void 0),(0,p._)([(0,P.MZ)({type:Boolean})],L.prototype,"popupEnabled",void 0),(0,p._)([(0,P.MZ)({type:Boolean})],L.prototype,"attributionVisible",void 0),(0,p._)([(0,P.MZ)({type:O.A})],L.prototype,"spatialReference",void 0),(0,p._)([(0,P.MZ)({type:String})],L.prototype,"title",void 0),(0,p._)([(0,P.MZ)({readOnly:!0,json:{read:!1}})],L.prototype,"type",void 0),(0,p._)([(0,P.MZ)()],L.prototype,"url",void 0),(0,p._)([(0,P.MZ)({type:Z.A})],L.prototype,"visibilityTimeExtent",void 0),(0,p._)([(0,P.MZ)({type:Boolean,nonNullable:!0})],L.prototype,"visible",void 0),L=(0,p._)([(0,U.$)("esri.layers.Layer")],L);const b=L},4052:(xe,re,u)=>{u.d(re,{bv:()=>v,Fk:()=>M,yG:()=>m,$b:()=>Z,Nd:()=>D,jm:()=>L,sK:()=>Y});var d=u(27980),p=u(67685);function w(){const z=new Float32Array(16);return z[0]=1,z[5]=1,z[10]=1,z[15]=1,z}const R=w();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:R,clone:function _(z){const te=new Float32Array(16);return te[0]=z[0],te[1]=z[1],te[2]=z[2],te[3]=z[3],te[4]=z[4],te[5]=z[5],te[6]=z[6],te[7]=z[7],te[8]=z[8],te[9]=z[9],te[10]=z[10],te[11]=z[11],te[12]=z[12],te[13]=z[13],te[14]=z[14],te[15]=z[15],te},create:w,createView:function F(z,te){return new Float32Array(z,te,16)},fromValues:function I(z,te,ee,Q,q,j,X,A,ie,K,B,G,se,J,ce,_e){const Ce=new Float32Array(16);return Ce[0]=z,Ce[1]=te,Ce[2]=ee,Ce[3]=Q,Ce[4]=q,Ce[5]=j,Ce[6]=X,Ce[7]=A,Ce[8]=ie,Ce[9]=K,Ce[10]=B,Ce[11]=G,Ce[12]=se,Ce[13]=J,Ce[14]=ce,Ce[15]=_e,Ce}},Symbol.toStringTag,{value:"Module"}));var y=u(92771);class v{constructor(te,ee,Q){this.strength=te,this.radius=ee,this.threshold=Q,this.type="bloom"}interpolate(te,ee,Q){this.strength=b(te.strength,ee.strength,Q),this.radius=b(te.radius,ee.radius,Q),this.threshold=b(te.threshold,ee.threshold,Q)}clone(){return new v(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:H(this.radius),strength:this.strength,threshold:this.threshold}}}class M{constructor(te){this.radius=te,this.type="blur"}interpolate(te,ee,Q){this.radius=Math.round(b(te.radius,ee.radius,Q))}clone(){return new M(this.radius)}toJSON(){return{type:"blur",radius:H(this.radius)}}}class m{constructor(te,ee){this.type=te,this.amount=ee,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(te,ee,Q){this.amount=b(te.amount,ee.amount,Q),this._updateMatrix()}clone(){return new m(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const te=this._colorMatrix||w();switch(this.type){case"brightness":this._colorMatrix=((z,te)=>{const ee=(0,y.hZ)(z,te,0,0,0,0,te,0,0,0,0,te,0,0,0,0,1);return(0,y.mg)(ee,ee)})(te,this.amount);break;case"contrast":this._colorMatrix=((z,te)=>{const ee=(0,y.hZ)(z,te,0,0,.5-.5*te,0,te,0,.5-.5*te,0,0,te,.5-.5*te,0,0,0,1);return(0,y.mg)(ee,ee)})(te,this.amount);break;case"grayscale":this._colorMatrix=((z,te)=>{const ee=1-this.amount,Q=(0,y.hZ)(z,.2126+.7874*ee,.7152-.7152*ee,.0722-.0722*ee,0,.2126-.2126*ee,.7152+.2848*ee,.0722-.0722*ee,0,.2126-.2126*ee,.7152-.7152*ee,.0722+.9278*ee,0,0,0,0,1);return(0,y.mg)(Q,Q)})(te);break;case"invert":this._colorMatrix=((z,te)=>{const ee=1-2*te,Q=(0,y.hZ)(z,ee,0,0,te,0,ee,0,te,0,0,ee,te,0,0,0,1);return(0,y.mg)(Q,Q)})(te,this.amount);break;case"saturate":this._colorMatrix=((z,te)=>{const ee=(0,y.hZ)(z,.213+.787*te,.715-.715*te,.072-.072*te,0,.213-.213*te,.715+.285*te,.072-.072*te,0,.213-.213*te,.715-.715*te,.072+.928*te,0,0,0,0,1);return(0,y.mg)(ee,ee)})(te,this.amount);break;case"sepia":this._colorMatrix=((z,te)=>{const ee=1-this.amount,Q=(0,y.hZ)(z,.393+.607*ee,.769-.769*ee,.189-.189*ee,0,.349-.349*ee,.686+.314*ee,.168-.168*ee,0,.272-.272*ee,.534-.534*ee,.131+.869*ee,0,0,0,0,1);return(0,y.mg)(Q,Q)})(te)}}}class Z{constructor(te,ee,Q,q){this.offsetX=te,this.offsetY=ee,this.blurRadius=Q,this.color=q,this.type="drop-shadow"}interpolate(te,ee,Q){this.offsetX=b(te.offsetX,ee.offsetX,Q),this.offsetY=b(te.offsetY,ee.offsetY,Q),this.blurRadius=b(te.blurRadius,ee.blurRadius,Q),this.color[0]=Math.round(b(te.color[0],ee.color[0],Q)),this.color[1]=Math.round(b(te.color[1],ee.color[1],Q)),this.color[2]=Math.round(b(te.color[2],ee.color[2],Q)),this.color[3]=b(te.color[3],ee.color[3],Q)}clone(){return new Z(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const te=[...this.color];return te[3]*=255,{type:"drop-shadow",xoffset:H(this.offsetX),yoffset:H(this.offsetY),blurRadius:H(this.blurRadius),color:te}}}class D{constructor(te){this.angle=te,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(te,ee,Q){this.angle=b(te.angle,ee.angle,Q),this._updateMatrix()}clone(){return new D(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const te=this._colorMatrix||w();this._colorMatrix=((z,te)=>{const ee=Math.sin(te*Math.PI/180),Q=Math.cos(te*Math.PI/180),q=(0,y.hZ)(z,.213+.787*Q-.213*ee,.715-.715*Q-.715*ee,.072-.072*Q+.928*ee,0,.213-.213*Q+.143*ee,.715+.285*Q+.14*ee,.072-.072*Q-.283*ee,0,.213-.213*Q-.787*ee,.715-.715*Q+.715*ee,.072+.928*Q+.072*ee,0,0,0,0,1);return(0,y.mg)(q,q)})(te,this.angle)}}class L{constructor(te){this.amount=te,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(te,ee,Q){this.amount=b(te.amount,ee.amount,Q)}clone(){return new L(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function b(z,te,ee){return z+(te-z)*ee}function H(z){return Math.round(1e3*(0,p.PN)(z))/1e3}function Y(z){switch(z.type){case"grayscale":case"sepia":case"invert":return new m(z.type,0);case"saturate":case"brightness":case"contrast":return new m(z.type,1);case"opacity":return new L(1);case"hue-rotate":return new D(0);case"blur":return new M(0);case"drop-shadow":return new Z(0,0,0,[...(0,d.TS)("transparent")]);case"bloom":return new v(0,0,1)}}},26073:(xe,re,u)=>{u.d(re,{O9:()=>w,dw:()=>_,mj:()=>p});var d=u(4052);function p(F,R){const T=F.length>R.length?F:R;return(F.length>R.length?R:F).every((y,E)=>y.type===T[E].type)}function w(F,R){const T=F.length>R.length?F:R,y=F.length>R.length?R:F;for(let E=y.length;E<T.length;E++)y.push((0,d.sK)(T[E]))}function _(F){const R=F[0];return!!R&&"type"in R}},15421:(xe,re,u)=>{u.d(re,{H:()=>y});var T,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(E){super(E),this.name=null,this.code=null}clone(){return new T({name:this.name,code:this.code})}};(0,d._)([(0,w.MZ)({type:String,json:{write:{isRequired:!0}}})],y.prototype,"name",void 0),(0,d._)([(0,w.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],y.prototype,"code",void 0),y=T=(0,d._)([(0,R.$)("esri.layers.support.CodedValue")],y)},59577:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(15463)),R=u(76576),T=u(15421),y=u(15109);let P=E=class extends y.A{constructor(N){super(N),this.codedValues=null,this.type="coded-value"}getName(N){let U=null;if(this.codedValues){const W=String(N);this.codedValues.some(O=>(String(O.code)===W&&(U=O.name),!!U))}return U}clone(){return new E({codedValues:(0,p.o8)(this.codedValues),name:this.name})}};(0,d._)([(0,w.MZ)({type:[T.H],json:{write:{isRequired:!0}}})],P.prototype,"codedValues",void 0),(0,d._)([(0,F.e)({codedValue:"coded-value"})],P.prototype,"type",void 0),P=E=(0,d._)([(0,R.$)("esri.layers.support.CodedValueDomain")],P);const C=P},15109:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(49976),w=u(71065),_=u(85211),T=(u(3248),u(35150),u(40707),u(15463)),y=u(76576);const E=new p.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let P=class extends w.A{constructor(N){super(N),this.name=null,this.type=null}};(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],P.prototype,"name",void 0),(0,d._)([(0,T.e)(E),(0,_.MZ)({json:{write:{isRequired:!0}}})],P.prototype,"type",void 0),P=(0,d._)([(0,y.$)("esri.layers.support.Domain")],P);const C=P},29141:(xe,re,u)=>{u.d(re,{A:()=>O});var N,d=u(8189),p=u(49976),w=u(71065),_=u(85211),I=u(55739),T=(u(3248),u(40707),u(15463)),y=u(17221),E=u(76576),P=u(39664),C=u(38965);const U=new p.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let W=N=class extends w.A{constructor(v){super(v),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(v,{description:M}){let m=null;try{m=M?JSON.parse(M):null}catch{}return m?.value??null}readValueType(v,{description:M}){let m=null;try{m=M?JSON.parse(M):null}catch{}return m?U.fromJSON(m.fieldValueType):null}clone(){return new N({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],W.prototype,"alias",void 0),(0,d._)([(0,_.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],W.prototype,"defaultValue",void 0),(0,d._)([(0,_.MZ)()],W.prototype,"description",void 0),(0,d._)([(0,y.w)("description")],W.prototype,"readDescription",null),(0,d._)([(0,_.MZ)({types:P.gK,json:{read:{reader:P.rS},write:!0}})],W.prototype,"domain",void 0),(0,d._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],W.prototype,"editable",void 0),(0,d._)([(0,_.MZ)({type:I.jz,json:{write:{overridePolicy:v=>({enabled:Number.isFinite(v)})}}})],W.prototype,"length",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],W.prototype,"name",void 0),(0,d._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],W.prototype,"nullable",void 0),(0,d._)([(0,T.e)(C.m)],W.prototype,"type",void 0),(0,d._)([(0,_.MZ)()],W.prototype,"valueType",void 0),(0,d._)([(0,y.w)("valueType",["description"])],W.prototype,"readValueType",null),(0,d._)([(0,_.MZ)({type:Boolean,json:{read:!1}})],W.prototype,"visible",void 0),W=N=(0,d._)([(0,E.$)("esri.layers.support.Field")],W);const O=W},59703:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),F=(u(35150),u(3248),u(40707),u(5922),u(15463)),R=u(76576),T=u(15109);let E=y=class extends T.A{constructor(C){super(C),this.type="inherited"}clone(){return new y}};(0,d._)([(0,F.e)({inherited:"inherited"})],E.prototype,"type",void 0),E=y=(0,d._)([(0,R.$)("esri.layers.support.InheritedDomain")],E);const P=E},29598:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(71065),w=u(85211),_=u(55739),R=(u(3248),u(40707),u(76576));let y=T=class extends p.A{constructor(P){super(P),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new T({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,d._)([(0,w.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"cols",void 0),(0,d._)([(0,w.MZ)({type:_.jz,json:{write:!0}})],y.prototype,"level",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"levelValue",void 0),(0,d._)([(0,w.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"origin",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],y.prototype,"resolution",void 0),(0,d._)([(0,w.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],y.prototype,"rows",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],y.prototype,"scale",void 0),y=T=(0,d._)([(0,R.$)("esri.layers.support.LOD")],y);const E=y},1257:(xe,re,u)=>{u.d(re,{T:()=>_});var d=u(56492),p=u(54029),w=u(5714);class _{constructor(){this._tasks=new Array,this._runningTasks=(0,p.v)(0)}get length(){return this._tasks.length}get running(){return this._runningTasks.value>0}destroy(){this.cancelAll()}runTask(R){if(0===this.length)return w.G;for(;!R.done&&this._process(R);)R.madeProgress()}push(R,T,y){return++this._runningTasks.value,new Promise((E,P)=>this._tasks.push(new I(E,P,R,T,y))).finally(()=>--this._runningTasks.value)}unshift(R,T,y){return++this._runningTasks.value,new Promise((E,P)=>this._tasks.unshift(new I(E,P,R,T,y))).finally(()=>--this._runningTasks.value)}_process(R){if(0===this._tasks.length)return!1;const T=this._tasks.shift();try{const y=(0,d.G4)(T.signal);if(y&&!T.abortCallback)T.reject((0,d.NK)());else{const E=y?T.abortCallback?.((0,d.NK)()):T.callback(R);(0,d.$X)(E)?E.then(T.resolve,T.reject):T.resolve(E)}}catch(y){T.reject(y)}return!0}cancelAll(){const R=(0,d.NK)();for(const T of this._tasks)if(T.abortCallback){const y=T.abortCallback(R);T.resolve(y)}else T.reject(R);this._tasks.length=0}}class I{constructor(R,T,y,E=void 0,P=void 0){this.resolve=R,this.reject=T,this.callback=y,this.signal=E,this.abortCallback=P}}},25436:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(15463)),R=u(76576),T=u(15109);let E=y=class extends T.A{constructor(C){super(C),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new y({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,d._)([(0,p.MZ)({json:{type:[Number],read:{source:"range",reader:(C,N)=>N.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(C,N,U){N[U]=[this.minValue||0,C]},isRequired:!0}}})],E.prototype,"maxValue",void 0),(0,d._)([(0,p.MZ)({json:{type:[Number],read:{source:"range",reader:(C,N)=>N.range?.[0]},write:{target:"range",writer(C,N,U){N[U]=[C,this.maxValue||0]},isRequired:!0}}})],E.prototype,"minValue",void 0),(0,d._)([(0,F.e)({range:"range"})],E.prototype,"type",void 0),E=y=(0,d._)([(0,R.$)("esri.layers.support.RangeDomain")],E);const P=E},11333:(xe,re,u)=>{u.d(re,{A:()=>L});var m,d=u(8189),p=u(49976),w=u(71065),_=u(82663),I=u(85211),F=u(55739),y=(u(3248),u(40707),u(17221)),E=u(76576),P=u(50305),C=u(1749),N=u(32034),U=u(51995),W=u(58701),O=u(55039),v=u(29598),M=u(25858);const Z=new p.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let D=m=class extends w.A{static create(b={}){const{resolutionFactor:H=1,scales:Y,size:z=256,spatialReference:te=N.A.WebMercator,numLODs:ee=24}=b;if(!(0,W.fn)(te)){const ie=[];if(Y)for(let K=0;K<Y.length;K++){const B=Y[K];ie.push(new v.A({level:K,scale:B,resolution:B}))}else{let K=5e-4;for(let B=ee-1;B>=0;B--)ie.unshift(new v.A({level:B,scale:K,resolution:K})),K*=2}return new m({dpi:96,lods:ie,origin:new C.A(0,0,te),size:[z,z],spatialReference:te})}const Q=(0,W.Vp)(te),q=new C.A(b.origin?{x:b.origin.x,y:b.origin.y,spatialReference:te}:Q?{x:Q.origin[0],y:Q.origin[1],spatialReference:te}:{x:0,y:0,spatialReference:te}),X=1/(39.37*(0,_.GA)(te)*96),A=[];if(Y)for(let ie=0;ie<Y.length;ie++){const K=Y[ie];A.push(new v.A({level:ie,scale:K,resolution:K*X}))}else{let ie=(0,W.EA)(te)?512/z*591657527.5917094:256/z*591657527.591555;const K=Math.ceil(ee/H);A.push(new v.A({level:0,scale:ie,resolution:ie*X}));for(let B=1;B<K;B++){const G=ie/2**H;A.push(new v.A({level:B,scale:G,resolution:G*X})),ie=G}}return new m({dpi:96,lods:A,origin:q,size:[z,z],spatialReference:te})}constructor(b){super(b),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:b,origin:H}=this;if(b&&H){const Y=(0,W.Vp)(b);return b.isWrappable&&!!Y&&Math.abs(Y.origin[0]-H.x)<=Y.dx}return!1}readOrigin(b,H){return C.A.fromJSON({spatialReference:H.spatialReference,...b})}set lods(b){let H=0,Y=0;const z=[],te=this._levelToLOD={};b&&(H=-1/0,Y=1/0,b.forEach(ee=>{z.push(ee.scale),H=ee.scale>H?ee.scale:H,Y=ee.scale<Y?ee.scale:Y,te[ee.level]=ee})),this._set("scales",z),this._set("lods",b),this._initializeUpsampleLevels()}readSize(b,H){return[H.cols,H.rows]}writeSize(b,H){H.cols=b[0],H.rows=b[1]}zoomToScale(b){const H=this.scales;if(b<=0)return H[0];if(b>=H.length-1)return H[H.length-1];const Y=Math.floor(b);return H[Y]/(H[Y]/H[Y+1])**(b-Y)}scaleToZoom(b){const H=this.scales,Y=H.length-1;let z=0;for(;z<Y;z++){const te=H[z],ee=H[z+1];if(te<=b)return z;if(ee===b)return z+1;if(te>b&&ee<b)return z+Math.log(te/b)/Math.log(te/ee)}return z}tileAt(b,H,Y,z){const te=this.lodAt(b);if(!te)return null;let ee,Q;if("number"==typeof H)ee=H,Q=Y;else if((0,W.aI)(H.spatialReference,this.spatialReference))ee=H.x,Q=H.y,z=Y;else{const X=(0,O.Cv)(H,this.spatialReference);if(null==X)return null;ee=X.x,Q=X.y,z=Y}const q=te.resolution*this.size[0],j=te.resolution*this.size[1];return z||(z=new M.U(null,0,0,0,(0,U.vt)())),z.level=b,z.row=Math.floor((this.origin.y-Q)/j+.001),z.col=Math.floor((ee-this.origin.x)/q+.001),this.updateTileInfo(z),z}updateTileInfo(b,H=m.ExtrapolateOptions.NONE){let Y=this.lodAt(b.level);if(!Y&&H===m.ExtrapolateOptions.POWER_OF_TWO){const Q=this.lods[this.lods.length-1];Q.level<b.level&&(Y=Q)}if(!Y)return;const z=b.level-Y.level,te=Y.resolution*this.size[0]/2**z,ee=Y.resolution*this.size[1]/2**z;b.id=`${b.level}/${b.row}/${b.col}`,b.extent||(b.extent=(0,U.vt)()),b.extent[0]=this.origin.x+b.col*te,b.extent[1]=this.origin.y-(b.row+1)*ee,b.extent[2]=b.extent[0]+te,b.extent[3]=b.extent[1]+ee}upsampleTile(b){const H=this._upsampleLevels[b.level];return!(!H||-1===H.parentLevel||(b.level=H.parentLevel,b.row=Math.floor(b.row/H.factor+.001),b.col=Math.floor(b.col/H.factor+.001),this.updateTileInfo(b),0))}getTileBounds(b,H){const Y=this.lodAt(H.level);if(null==Y)return null;const{resolution:z}=Y,te=z*this.size[0],ee=z*this.size[1];return b[0]=this.origin.x+H.col*te,b[1]=this.origin.y-(H.row+1)*ee,b[2]=b[0]+te,b[3]=b[1]+ee,b}lodAt(b){return this._levelToLOD?.[b]??null}clone(){return m.fromJSON(this.write({}))}getCompatibleForVTL(b){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===b)return null;const H=(512===this.size[0]&&256===b?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===b&&0===H)return this;const Y=[],z=this.lods.length-H;for(let te=0;te<z;te++){const ee=te+H,{scale:Q,resolution:q}=ee>=0?this.lods[ee]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};Y.push(new v.A({level:te,scale:Q,resolution:q}))}return new m({size:[b,b],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:Y})}_initializeUpsampleLevels(){const b=this.lods;this._upsampleLevels=[];let H=null;for(let Y=0;Y<b.length;Y++){const z=b[Y];this._upsampleLevels[z.level]={parentLevel:H?H.level:-1,factor:H?H.resolution/z.resolution:0},H=z}}};var b,H;(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],D.prototype,"compressionQuality",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],D.prototype,"dpi",void 0),(0,d._)([(0,I.MZ)({type:String,json:{read:Z.read,write:Z.write,origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"format",void 0),(0,d._)([(0,I.MZ)({readOnly:!0})],D.prototype,"isWrappable",null),(0,d._)([(0,I.MZ)({type:C.A,json:{write:!0}})],D.prototype,"origin",void 0),(0,d._)([(0,y.w)("origin")],D.prototype,"readOrigin",null),(0,d._)([(0,I.MZ)({type:[v.A],value:null,json:{write:!0}})],D.prototype,"lods",null),(0,d._)([(0,I.MZ)({readOnly:!0})],D.prototype,"scales",void 0),(0,d._)([(0,I.MZ)({cast:b=>Array.isArray(b)?b:"number"==typeof b?[b,b]:[256,256]})],D.prototype,"size",void 0),(0,d._)([(0,y.w)("size",["rows","cols"])],D.prototype,"readSize",null),(0,d._)([(0,P.K)("size",{cols:{type:F.jz},rows:{type:F.jz}})],D.prototype,"writeSize",null),(0,d._)([(0,I.MZ)({type:N.A,json:{write:!0}})],D.prototype,"spatialReference",void 0),D=m=(0,d._)([(0,E.$)("esri.layers.support.TileInfo")],D),(H=(b=D||(D={})).ExtrapolateOptions||(b.ExtrapolateOptions={}))[H.NONE=0]="NONE",H[H.POWER_OF_TWO=1]="POWER_OF_TWO";const L=D},25858:(xe,re,u)=>{u.d(re,{U:()=>d});class d{constructor(w,_,I,F,R=void 0){this.id=w,this.level=_,this.row=I,this.col=F,this.extent=R}}},68438:(xe,re,u)=>{u.d(re,{Fi:()=>T,HZ:()=>W,Jf:()=>U,LS:()=>O,Wo:()=>N,bd:()=>v,cr:()=>P,iz:()=>E,qg:()=>y,yG:()=>C});var d=u(45272),p=u(88135);const w={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},_=Object.values(w),I=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${_.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),F=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${_.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),R=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function T(m){return I.test(m)}function y(m){if(null==m)return null;const Z=(0,d.An)(m),D=Z?.path.match(I)||Z?.path.match(F);if(!D)return null;const[,L,b,H,Y]=D,z=b.indexOf("/");return{title:P(-1!==z?b.slice(z+1):b),serverType:w[H.toLowerCase()],sublayer:null!=Y&&""!==Y?parseInt(Y,10):null,url:{path:L}}}function E(m){const Z=(0,d.An)(m).path.match(R);return Z?{serviceUrl:Z[1],sublayerId:Number(Z[2])}:null}function P(m){return(m=m.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+m.slice(1)}function C(m,Z){const D=[];if(m){const L=y(m);null!=L&&L.title&&D.push(L.title)}if(Z){const L=P(Z);D.push(L)}if(2===D.length){if(D[0].toLowerCase().includes(D[1].toLowerCase()))return D[0];if(D[1].toLowerCase().includes(D[0].toLowerCase()))return D[1]}return D.join(" - ")}function N(m){let Z=(0,d.$z)(m,!0);return!!Z&&(Z=Z.toLowerCase(),Z.endsWith(".arcgis.com")&&(Z.startsWith("services")||Z.startsWith("tiles")||Z.startsWith("features")))}function U(m,Z){return m&&(0,d.UC)((0,d.zi)(m,Z))}function W(m){let{url:Z}=m;if(!Z)return{url:Z};Z=(0,d.zi)(Z,m.logger);const D=(0,d.An)(Z),L=y(D.path);let b;if(null!=L)null!=L.sublayer&&null==m.layer.layerId&&(b=L.sublayer),Z=L.url.path;else if(m.nonStandardUrlAllowed){const H=E(D.path);null!=H&&(Z=H.serviceUrl,b=H.sublayerId)}return{url:(0,d.UC)(Z),layerId:b}}function O(m,Z,D,L,b){(0,p.w)(Z,L,"url",b),L.url&&null!=m.layerId&&(L.url=(0,d.fj)(L.url,D,m.layerId.toString()))}function v(m){if(!m)return!1;const Z=m.toLowerCase(),D=Z.includes("/services/"),L=Z.includes("/mapserver/wmsserver"),b=Z.includes("/imageserver/wmsserver"),H=Z.includes("/wmsserver");return D&&(L||b||H)}},54444:(xe,re,u)=>{u.d(re,{A5:()=>U,Mh:()=>w});var w,v,d=u(17435),p=u(3527);(v=w||(w={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",v.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const _=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function F(v){return null!=v&&("date-only"===v.type||"esriFieldTypeDateOnly"===v.type)}function R(v){return null!=v&&("timestamp-offset"===v.type||"esriFieldTypeTimestampOffset"===v.type)}function T(v){return null!=v&&("time-only"===v.type||"esriFieldTypeTimeOnly"===v.type)}function U(v,M){const m=M??v?.domain;if(!m||"range"!==m.type)return;const Z="range"in m?m.range[0]:m.minValue,D="range"in m?m.range[1]:m.maxValue,L=function I(v){return null!=v&&_.has(v.type)}(v);return F(v)||T(v)||R(v)?{...O(v,D,Z),isInteger:L}:{min:null!=Z&&"number"==typeof Z?Z:null,max:null!=D&&"number"==typeof D?D:null,rawMin:Z,rawMax:D,isInteger:L}}function O(v,M,m){return F(v)?{min:(0,p.Xi)(m)?.toMillis(),max:(0,p.Xi)(M)?.toMillis(),rawMin:m,rawMax:M}:T(v)?{min:(0,p.UE)(m)?.toMillis(),max:(0,p.UE)(M)?.toMillis(),rawMin:m,rawMax:M}:R(v)?{min:(0,p.gz)(m)?.toMillis(),max:(0,p.gz)(M)?.toMillis(),rawMin:m,rawMax:M}:{max:null,min:null}}(0,d.KC)(_,new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]))},39664:(xe,re,u)=>{u.d(re,{gK:()=>F,rS:()=>R}),u(3248);var p=u(59577),w=u(15109),_=u(59703),I=u(25436);const F={key:"type",base:w.A,typeMap:{range:I.A,"coded-value":p.A,inherited:_.A}};function R(T){if(!T?.type)return null;switch(T.type){case"range":return I.A.fromJSON(T);case"codedValue":return p.A.fromJSON(T);case"inherited":return _.A.fromJSON(T)}return null}},38965:(xe,re,u)=>{u.d(re,{m:()=>p});const p=new(u(49976).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},86300:(xe,re,u)=>{u.d(re,{A6:()=>S,Ah:()=>Tt,Bz:()=>ue,CJ:()=>hs,DB:()=>m,Dx:()=>H,Im:()=>ze,JL:()=>et,Kl:()=>Os,NO:()=>A,OG:()=>bt,OH:()=>It,R$:()=>We,R3:()=>Ne,RP:()=>B,WA:()=>st,WX:()=>us,Xz:()=>xt,_b:()=>be,_w:()=>Z,d:()=>se,eX:()=>Re,f:()=>fe,hL:()=>L,hW:()=>b,lD:()=>Ie,mB:()=>ee,nw:()=>yt,o:()=>Ce,rS:()=>C,rq:()=>D,sv:()=>v,te:()=>Ot,uo:()=>_s,vE:()=>nt,yM:()=>dt,yp:()=>W,zD:()=>gt});var d=u(10467),p=u(5922),w=u(89221),_=u(17435),I=u(63484),F=u(54444),R=u(48573),T=u(48218),y=u(68778);const E=/^([0-9_])/,P=/[^a-z0-9_\u0080-\uffff]+/gi;function C(Ke){return null==Ke?null:Ke.trim().replaceAll(P,"_").replace(E,"F$1")||null}const N=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],U=["field","normalizationField"];function W(Ke,He){if(null!=Ke&&null!=He)for(const qe of Array.isArray(Ke)?Ke:[Ke])if(O(N,qe,He),"visualVariables"in qe&&qe.visualVariables)for(const ot of qe.visualVariables)O(U,ot,He)}function O(Ke,He,qe){if(Ke)for(const ot of Ke){const Dt=(0,w.wc)(ot,He),Ct=Dt&&"function"!=typeof Dt&&qe.get(Dt);Ct&&(0,w.sM)(ot,Ct.name,He)}}function v(Ke,He){if(null!=Ke&&He?.fields?.length)if("startField"in Ke){const qe=He.get(Ke.startField),ot=He.get(Ke.endField);Ke.startField=qe?.name??null,Ke.endField=ot?.name??null}else{const qe=He.get(Ke.startTimeField),ot=He.get(Ke.endTimeField);Ke.startTimeField=qe?.name??null,Ke.endTimeField=ot?.name??null}}const M=new Set;function m(Ke,He){return Ke&&He?(M.clear(),Z(M,Ke,He),Array.from(M).sort()):[]}function Z(Ke,He,qe){if(qe)if(He?.fields?.length)if(qe.includes("*"))for(const{name:ot}of He.fields)Ke.add(ot);else for(const ot of qe)D(Ke,He,ot);else{if(qe.includes("*"))return Ke.clear(),void Ke.add("*");for(const ot of qe)null!=ot&&Ke.add(ot)}}function D(Ke,He,qe){if("string"==typeof qe)if(He){const ot=He.get(qe);ot&&Ke.add(ot.name)}else Ke.add(qe)}function L(Ke,He){return null==He||null==Ke?[]:He.includes("*")?(Ke.fields??[]).map(qe=>qe.name):He}function b(Ke,He,qe=1){if(!He||!Ke)return[];if(He.includes("*"))return["*"];const ot=m(Ke,He);return ot.length/Ke.fields.length>=qe?["*"]:ot}function H(Ke,He,qe){return Y.apply(this,arguments)}function Y(){return(Y=(0,d.A)(function*(Ke,He,qe){if(!qe)return;let ot;const Dt=(0,R.o)(qe);if(Dt)ot=[Dt];else{const{arcadeUtils:Ct}=yield(0,T.lw)();ot=Ct.extractFieldNames(qe,He?.fields?.map(wt=>wt.name))}for(const Ct of ot)D(Ke,He,Ct)})).apply(this,arguments)}function z(Ke,He,qe){return te.apply(this,arguments)}function te(){return(te=(0,d.A)(function*(Ke,He,qe){if(qe&&"1=1"!==qe){const ot=yield(0,I.GP)(qe,He);if(!ot.isStandardized)throw new p.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:qe});Z(Ke,He,ot.fieldNames)}})).apply(this,arguments)}function ee({displayField:Ke,fields:He}){return Ke||(He?.length?q(He,"name-or-title")||q(He,"unique-identifier")||q(He,"type-or-category")||function Q(Ke){for(const He of Ke){if(!He?.name)continue;const qe=He.name.toLowerCase();if(qe.includes("name")||qe.includes("title"))return He.name}return null}(He):null)}function q(Ke,He){for(const qe of Ke)if(qe?.valueType&&qe.valueType===He)return qe.name;return null}function A(Ke,He){return ie.apply(this,arguments)}function ie(){return(ie=(0,d.A)(function*(Ke,He){if(!He)return;const qe=He.elevationInfo?.featureExpressionInfo;return qe?qe.collectRequiredFields(Ke,He.fieldsIndex):void 0})).apply(this,arguments)}function B(Ke,He,qe){return G.apply(this,arguments)}function G(){return G=(0,d.A)(function*(Ke,He,qe){if(!He||!qe||!("fields"in qe))return;const ot=[];ot.push(ce(Ke,He,qe.popupTemplate)),qe.fields&&ot.push(...qe.fields.map(function(){var Ct=(0,d.A)(function*(wt){return function K(Ke,He,qe){qe.onStatisticExpression?H(Ke,He,qe.onStatisticExpression.expression):Ke.add(qe.onStatisticField)}(Ke,He.fieldsIndex,wt)});return function(wt){return Ct.apply(this,arguments)}}())),yield Promise.all(ot)}),G.apply(this,arguments)}function se(Ke,He){return J.apply(this,arguments)}function J(){return(J=(0,d.A)(function*(Ke,He){const{fieldsIndex:qe,trackInfo:ot}=He;if(!He||!ot||!qe)return;const Dt=[ot.latestObservations.renderer?.collectRequiredFields(Ke,qe),ot.previousObservations.renderer?.collectRequiredFields(Ke,qe),ot.trackLines.renderer?.collectRequiredFields(Ke,qe)];ot.popupTemplate&&Dt.push(ce(Ke,He,ot.popupTemplate));for(const Ct of[ot.latestObservations.labelingInfo,ot.previousObservations.labelingInfo,ot.trackLines.labelingInfo])if(Ct)for(const wt of Ct)Dt.push(Me(Ke,qe,wt));yield Promise.all(Dt)})).apply(this,arguments)}function ce(Ke,He,qe){return _e.apply(this,arguments)}function _e(){return(_e=(0,d.A)(function*(Ke,He,qe){const ot=[];qe?.expressionInfos&&ot.push(...qe.expressionInfos.map(Ct=>H(Ke,He.fieldsIndex,Ct.expression)));const Dt=qe?.content;if(Array.isArray(Dt))for(const Ct of Dt)"expression"===Ct.type&&Ct.expressionInfo&&ot.push(H(Ke,He.fieldsIndex,Ct.expressionInfo.expression));yield Promise.all(ot)})).apply(this,arguments)}function Ce(Ke,He,qe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(Ke,He,qe){He&&(He.timeInfo&&qe?.timeExtent&&Z(Ke,He.fieldsIndex,[He.timeInfo.startField,He.timeInfo.endField]),He.floorInfo&&Z(Ke,He.fieldsIndex,[He.floorInfo.floorField]),null!=qe?.where&&(yield z(Ke,He.fieldsIndex,qe.where)))})).apply(this,arguments)}function fe(Ke,He,qe){return Se.apply(this,arguments)}function Se(){return Se=(0,d.A)(function*(Ke,He,qe){He&&qe&&(yield Promise.all(qe.map(ot=>function me(Ke,He,qe){return ge.apply(this,arguments)}(Ke,He,ot))))}),Se.apply(this,arguments)}function ge(){return(ge=(0,d.A)(function*(Ke,He,qe){He&&qe&&(qe.valueExpression?yield H(Ke,He.fieldsIndex,qe.valueExpression):qe.field&&D(Ke,He.fieldsIndex,qe.field))})).apply(this,arguments)}function Re(Ke){return Ke?m(Ke.fieldsIndex,Fe(Ke)):[]}function S(Ke,He,qe){return k.apply(this,arguments)}function k(){return(k=(0,d.A)(function*(Ke,He,qe){if(!He||!qe)return;const ot=He.fieldsIndex;yield Promise.all(qe.filters.map(Dt=>z(Ke,ot,Dt.where)))})).apply(this,arguments)}const ae=new Set(["oid","global-id","guid"]),he=new Set(["oid","global-id"]),Ae=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Fe(Ke){if(!Ke)return[];const He="editFieldsInfo"in Ke&&Ke.editFieldsInfo;if(!He)return[];const{creationDateField:qe,creatorField:ot,editDateField:Dt,editorField:Ct}=He;return[qe,ot,Dt,Ct].filter(Boolean)}function Ue(Ke){return Fe(Ke).map(He=>He.toLowerCase())}function We(Ke,He){return Ke.editable&&!ae.has(Ke.type)&&!Ue(He).includes(Ke.name?.toLowerCase()??"")}function ue(Ke,He){const qe=Ke.name?.toLowerCase()??"";return!(null!=He?.objectIdField&&qe===He.objectIdField.toLowerCase()||null!=He?.globalIdField&&qe===He.globalIdField.toLowerCase()||function je(Ke){const He=new Set;Ue(Ke).forEach(ot=>He.add(ot)),function oe(Ke){if(!Ke)return[];const He=Ke.geometryFieldsInfo;return He?m(Ke.fieldsIndex,[He.shapeAreaField,He.shapeLengthField]):[]}(Ke).forEach(ot=>He.add(ot.toLowerCase()));const qe=Ke&&"infoFor3D"in Ke?Ke.infoFor3D:void 0;return qe&&(Object.values(qe.assetMapFieldRoles).forEach(ot=>He.add(ot.toLowerCase())),Object.values(qe.transformFieldRoles).forEach(ot=>He.add(ot.toLowerCase()))),Array.from(He)}(He).includes(qe)||he.has(Ke.type)||Ae.some(ot=>ot.test(qe)))}function ze(Ke,He){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,d.A)(function*(Ke,He){const{labelingInfo:qe,fieldsIndex:ot}=He;qe?.length&&(yield Promise.all(qe.map(Dt=>Me(Ke,ot,Dt))))})).apply(this,arguments)}function Me(Ke,He,qe){return ve.apply(this,arguments)}function ve(){return(ve=(0,d.A)(function*(Ke,He,qe){if(!qe)return;const ot=qe.getLabelExpression(),Dt=qe.where;if("arcade"===ot.type)yield H(Ke,He,ot.expression);else{const Ct=ot.expression.match(/{[^}]*}/g);Ct&&Ct.forEach(wt=>{D(Ke,He,wt.slice(1,-1))})}yield z(Ke,He,Dt)})).apply(this,arguments)}function Ie(Ke){const He=Ke.defaultValue;return void 0!==He&&Et(Ke,He)?He:Ke.nullable?null:void 0}function be(Ke){const He="string"==typeof Ke?{type:Ke}:Ke;return dt(He)?255:"esriFieldTypeDate"===He.type||"date"===He.type?8:void 0}function Je(Ke){return"number"==typeof Ke&&!isNaN(Ke)&&isFinite(Ke)}function tt(Ke){return null===Ke||Je(Ke)}function lt(Ke){return null===Ke||Number.isInteger(Ke)}function ft(){return!0}function Et(Ke,He){let qe;switch(Ke.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":qe=Ke.nullable?lt:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":qe=Ke.nullable?tt:Je;break;case"string":case"esriFieldTypeString":qe=Ke.nullable?y.CO:y.Kg;break;default:qe=ft}return 1===arguments.length?qe:qe(He)}const zt=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]),Wt=(0,_.KC)(zt,new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]));function Ne(Ke){return null!=Ke&&zt.has(Ke.type)}function st(Ke){return null!=Ke&&Wt.has(Ke.type)}function dt(Ke){return null!=Ke&&("string"===Ke.type||"esriFieldTypeString"===Ke.type)}function nt(Ke){return null!=Ke&&("date"===Ke.type||"esriFieldTypeDate"===Ke.type)}function gt(Ke){return null!=Ke&&("date-only"===Ke.type||"esriFieldTypeDateOnly"===Ke.type)}function Tt(Ke){return null!=Ke&&("timestamp-offset"===Ke.type||"esriFieldTypeTimestampOffset"===Ke.type)}function It(Ke){return null!=Ke&&("time-only"===Ke.type||"esriFieldTypeTimeOnly"===Ke.type)}function Ot(Ke){return null!=Ke&&("oid"===Ke.type||"esriFieldTypeOID"===Ke.type)}function xt(Ke){return null!=Ke&&("global-id"===Ke.type||"esriFieldTypeGlobalID"===Ke.type)}function bt(Ke,He){return null===hs(Ke,He)}var kt,Nt;function us(Ke){return null==Ke||"number"==typeof Ke&&isNaN(Ke)?null:Ke}function hs(Ke,He){return null==Ke||Ke.nullable&&null===He?null:Et(Ke,He)?st(Ke)&&!function Rs(Ke,He){const qe="string"==typeof Ke?Ve(Ke):Ke;if(!qe)return!1;const ot=qe.min,Dt=qe.max;return qe.isInteger?Number.isInteger(He)&&He>=ot&&He<=Dt:He>=ot&&He<=Dt}(Ke.type,Number(He))?kt.OUT_OF_RANGE:null:Nt.INVALID_TYPE}function Ve(Ke){switch(Ke){case"esriFieldTypeSmallInteger":case"small-integer":return it;case"esriFieldTypeInteger":case"integer":return ut;case"esriFieldTypeBigInteger":case"big-integer":return At;case"esriFieldTypeSingle":case"single":return mt;case"esriFieldTypeDouble":case"double":return Zt}}(kt||(kt={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range",(Nt||(Nt={})).INVALID_TYPE="type-validation-error::invalid-type";const it={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},ut={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},At={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},mt={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Zt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function _s(Ke,He,qe){switch(Ke){case F.Mh.INVALID_CODED_VALUE:return`Value ${qe} is not in the coded domain - field: ${He.name}, domain: ${JSON.stringify(He.domain)}`;case F.Mh.VALUE_OUT_OF_RANGE:return`Value ${qe} is out of the range of valid values - field: ${He.name}, domain: ${JSON.stringify(He.domain)}`;case Nt.INVALID_TYPE:return`Value ${qe} is not a valid value for the field type - field: ${He.name}, type: ${He.type}, nullable: ${He.nullable}`;case kt.OUT_OF_RANGE:{const{min:ot,max:Dt}=Ve(He.type);return`Value ${qe} is out of range for the number type - field: ${He.name}, type: ${He.type}, value range is ${ot} to ${Dt}`}}}function Os(Ke,He){return!function Ts(Ke,He,qe){if(!He?.attributes||!Ke){if(null!=qe)for(const Ct of Ke??[])qe.add(Ct);return!0}const ot=new Set(Object.keys(He.attributes));let Dt=!1;for(const Ct of Ke)if(!ot.has(Ct)){if(Dt=!0,null==qe)break;qe.add(Ct)}return Dt}(Ke,He,null)}function et(Ke){return!!Ke&&["raster.itempixelvalue","raster.servicepixelvalue"].some(He=>Ke.toLowerCase().startsWith(He))}function yt(Ke){const He=Ke?.match(/{[^}]+}/g);return He?He.map(qe=>qe.slice(1,-1).split(":")[0].trim()):[]}},58443:(xe,re,u)=>{u.d(re,{BR:()=>A,CF:()=>j,Eq:()=>m,F2:()=>P,Ov:()=>b,Sv:()=>C,TU:()=>v,W_:()=>H,XX:()=>O,tk:()=>K,wI:()=>Q,yZ:()=>I});var d=u(10467),p=u(77469),w=u(89563);function I(G){return null!=G&&"object"==typeof G&&"type"in G&&"feature"===G.type}function P(G){return null!=G&&"object"==typeof G&&"type"in G&&"subtype-group"===G.type&&"sublayers"in G}function C(G){return"subtype-sublayer"===G?.type}const O={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function v(G){const se=G?.type;return"building-scene"===se||"integrated-mesh"===se||"point-cloud"===se||"scene"===se}function m(G){return"integrated-mesh"===G||"integrated-mesh-3dtiles"===G}function b(G){return"feature"===G?.type&&!G.url&&"memory"===G.source?.type}function H(G){const se=G?.type;return("feature"===se||"subtype-group"===se||"oriented-imagery"===se)&&"feature-layer"===G?.source?.type}function Q(G,se){return q.apply(this,arguments)}function q(){return(q=(0,d.A)(function*(G,se){const J=p.id?.findServerInfo(G);if(null!=J?.currentVersion)return J.owningSystemUrl||null;const ce=G.toLowerCase().indexOf("/rest/services");if(-1===ce)return null;const _e=`${G.slice(0,ce)}/rest/info`,Ce=null!=se?se.signal:null,{data:Oe}=yield(0,w.A)(_e,{query:{f:"json"},responseType:"json",signal:Ce});return Oe?.owningSystemUrl||null})).apply(this,arguments)}function j(G){if(!("capabilities"in G))return!1;switch(G.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function A(G){return j(G)?"effectiveCapabilities"in G?G.effectiveCapabilities:G.capabilities:null}function K(G){return!!function ie(G){if(!("editingEnabled"in G))return!1;switch(G.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(G)&&("effectiveEditingEnabled"in G?G.effectiveEditingEnabled:G.editingEnabled)}},93164:(xe,re,u)=>{u.d(re,{L:()=>A});var M,d=u(8189),p=u(49976),w=u(71065),_=u(85211),I=u(48669),F=u(15463),R=u(17221),T=u(76576),y=u(55739),E=u(71224),P=u(29141),C=u(77757),O=(u(3248),u(35150),u(40707),u(32034)),v=u(6434);let m=M=class extends w.A{constructor(ie){super(ie),this.type="query-table"}clone(){const{workspaceId:ie,query:K,oidFields:B,spatialReference:G,geometryType:se}=this,J={workspaceId:ie,query:K,oidFields:B,spatialReference:G?.clone()??void 0,geometryType:se};return new M(J)}};var Z;(0,d._)([(0,F.e)({queryTable:"query-table"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],m.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],m.prototype,"workspaceId",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],m.prototype,"query",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],m.prototype,"oidFields",void 0),(0,d._)([(0,_.MZ)({type:O.A,json:{write:!0}})],m.prototype,"spatialReference",void 0),(0,d._)([(0,F.e)(v.gy)],m.prototype,"geometryType",void 0),m=M=(0,d._)([(0,T.$)("esri.layers.support.source.QueryTableDataSource")],m);let D=Z=class extends w.A{constructor(ie){super(ie),this.type="raster"}clone(){const{workspaceId:ie,dataSourceName:K}=this;return new Z({workspaceId:ie,dataSourceName:K})}};var L;(0,d._)([(0,F.e)({raster:"raster"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],D.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],D.prototype,"dataSourceName",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],D.prototype,"workspaceId",void 0),D=Z=(0,d._)([(0,T.$)("esri.layers.support.source.RasterDataSource")],D);let b=L=class extends w.A{constructor(ie){super(ie),this.type="table"}clone(){const{workspaceId:ie,gdbVersion:K,dataSourceName:B}=this;return new L({workspaceId:ie,gdbVersion:K,dataSourceName:B})}};var H,Y;(0,d._)([(0,F.e)({table:"table"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],b.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],b.prototype,"workspaceId",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],b.prototype,"dataSourceName",void 0),b=L=(0,d._)([(0,T.$)("esri.layers.support.source.TableDataSource")],b);const z=(0,p.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let te=H=class extends w.A{constructor(ie){super(ie),this.type="join-table"}readLeftTableSource(ie,K,B){return Q()(ie,K,B)}castLeftTableSource(ie){return(0,y.aq)(j(),ie)}readRightTableSource(ie,K,B){return Q()(ie,K,B)}castRightTableSource(ie){return(0,y.aq)(j(),ie)}clone(){const{leftTableKey:ie,rightTableKey:K,leftTableSource:B,rightTableSource:G,joinType:se}=this,J={leftTableKey:ie,rightTableKey:K,leftTableSource:B?.clone()??void 0,rightTableSource:G?.clone()??void 0,joinType:se};return new H(J)}};(0,d._)([(0,F.e)({joinTable:"join-table"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],te.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],te.prototype,"leftTableKey",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],te.prototype,"rightTableKey",void 0),(0,d._)([(0,_.MZ)({json:{write:!0}})],te.prototype,"leftTableSource",void 0),(0,d._)([(0,R.w)("leftTableSource")],te.prototype,"readLeftTableSource",null),(0,d._)([(0,I.w)("leftTableSource")],te.prototype,"castLeftTableSource",null),(0,d._)([(0,_.MZ)({json:{write:!0}})],te.prototype,"rightTableSource",void 0),(0,d._)([(0,R.w)("rightTableSource")],te.prototype,"readRightTableSource",null),(0,d._)([(0,I.w)("rightTableSource")],te.prototype,"castRightTableSource",null),(0,d._)([(0,F.e)(z)],te.prototype,"joinType",void 0),te=H=(0,d._)([(0,T.$)("esri.layers.support.source.JoinTableDataSource")],te);let ee=null;function Q(){return ee||(ee=(0,E.C)({types:j()})),ee}let q=null;function j(){return q||(q={key:"type",base:null,typeMap:{"data-layer":A,"map-layer":C.f}}),q}const X={key:"type",base:null,typeMap:{"join-table":te,"query-table":m,raster:D,table:b}};let A=Y=class extends w.A{constructor(ie){super(ie),this.type="data-layer"}clone(){const{fields:ie,dataSource:K}=this;return new Y({fields:ie,dataSource:K})}};(0,d._)([(0,F.e)({dataLayer:"data-layer"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],A.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:[P.A],json:{write:!0}})],A.prototype,"fields",void 0),(0,d._)([(0,_.MZ)({types:X,json:{write:!0}})],A.prototype,"dataSource",void 0),A=Y=(0,d._)([(0,T.$)("esri.layers.support.source.DataLayerSource")],A),A.from=(0,y.dp)(A)},77757:(xe,re,u)=>{u.d(re,{f:()=>E});var y,d=u(8189),p=u(71065),w=u(85211),_=u(55739),R=(u(3248),u(40707),u(15463)),T=u(76576);let E=y=class extends p.A{constructor(P){super(P),this.type="map-layer"}clone(){const{mapLayerId:P,gdbVersion:C}=this;return new y({mapLayerId:P,gdbVersion:C})}};(0,d._)([(0,R.e)({mapLayer:"map-layer"}),(0,w.MZ)({json:{write:{isRequired:!0}}})],E.prototype,"type",void 0),(0,d._)([(0,w.MZ)({type:_.jz,json:{write:{isRequired:!0}}})],E.prototype,"mapLayerId",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"gdbVersion",void 0),E=y=(0,d._)([(0,T.$)("esri.layers.support.source.MapLayerSource")],E)},37370:(xe,re,u)=>{u.d(re,{R:()=>w,t:()=>_});var d=u(92129);const p={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(I,F,R)=>{"-"===F.charAt(0)?I.style.setProperty(F,R):I.style[F]=R}};let w=I=>(0,d.X$)(p,I),_={create:(I,F)=>(F=w(F),(0,d.dj)(I,document.createElement("div"),void 0,F),(0,d.Av)(I,F)),append:(I,F,R)=>(R=w(R),(0,d.dj)(F,I,void 0,R),(0,d.Av)(F,R)),insertBefore:(I,F,R)=>(R=w(R),(0,d.dj)(F,I.parentNode,I,R),(0,d.Av)(F,R)),merge:(I,F,R)=>(R=w(R),F.domNode=I,(0,d.OM)(I,F,R),(0,d.Av)(F,R)),replace:(I,F,R)=>(R=w(R),(0,d.dj)(F,I.parentNode,I,R),I.parentNode.removeChild(I),(0,d.Av)(F,R))}},92129:(xe,re,u)=>{u.d(re,{Av:()=>te,OM:()=>L,X$:()=>F,dj:()=>b});var d=u(60421);const p="http://www.w3.org/",w=`${p}2000/svg`,_=`${p}1999/xlink`;let I=[],F=(ee,Q)=>{let q={};return Object.keys(ee).forEach(j=>{q[j]=ee[j]}),Q&&Object.keys(Q).forEach(j=>{q[j]=Q[j]}),q},R=(ee,Q)=>ee.vnodeSelector===Q.vnodeSelector&&(ee.properties&&Q.properties?ee.properties.key===Q.properties.key&&ee.properties.bind===Q.properties.bind:!ee.properties&&!Q.properties),T=ee=>{if("string"!=typeof ee)throw new Error("Style values must be strings")},y=(ee,Q,q)=>{if(""!==Q.vnodeSelector)for(let j=q;j<ee.length;j++)if(R(ee[j],Q))return j;return-1},E=(ee,Q,q,j)=>{let X=ee[Q];if(""===X.vnodeSelector)return;let A=X.properties;if(!A||!(void 0===A.key?A.bind:A.key))for(let ie=0;ie<ee.length;ie++)if(ie!==Q&&R(ee[ie],X))throw new Error(`${q.vnodeSelector} had a ${X.vnodeSelector} child ${"added"===j?j:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)},P=ee=>{if(ee.properties){let Q=ee.properties.enterAnimation;Q&&Q(ee.domNode,ee.properties)}},C=[],N=!1,U=ee=>{(ee.children||[]).forEach(U),ee.properties&&ee.properties.afterRemoved&&ee.properties.afterRemoved.apply(ee.properties.bind||ee.properties,[ee.domNode])},W=()=>{N=!1,C.forEach(U),C.length=0},O=ee=>{C.push(ee),N||(N=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(W,{timeout:16}):setTimeout(W,16))},v=ee=>{let Q=ee.domNode;if(ee.properties){let q=ee.properties.exitAnimation;if(q)return Q.style.pointerEvents="none",void q(Q,()=>{Q.parentNode&&(Q.parentNode.removeChild(Q),O(ee))},ee.properties)}Q.parentNode&&(Q.parentNode.removeChild(Q),O(ee))},M=(ee,Q,q)=>{if(!Q)return;let j=q.eventHandlerInterceptor,X=Object.keys(Q),A=X.length;for(let ie=0;ie<A;ie++){let K=X[ie],B=Q[K];if("className"===K)throw new Error('Property "className" is not supported, use "class".');if("class"===K)H(ee,B,!0);else if("classes"===K){let G=Object.keys(B),se=G.length;for(let J=0;J<se;J++){let ce=G[J];B[ce]&&ee.classList.add(ce)}}else if("styles"===K){let G=Object.keys(B),se=G.length;for(let J=0;J<se;J++){let ce=G[J],_e=B[ce];_e&&(T(_e),q.styleApplyer(ee,ce,_e))}}else if("key"!==K&&null!=B){let G=typeof B;"function"===G?(0===K.lastIndexOf("on",0)&&(j&&(B=j(K,B,ee,Q)),"oninput"===K&&function(){let se=B;B=function(J){se.apply(this,[J]),J.target["oninput-value"]=J.target.value}}()),ee[K]=B):q.namespace===w?"href"===K?ee.setAttributeNS(_,K,B):ee.setAttribute(K,B):"string"===G&&"value"!==K?"innerHTML"===K?ee[K]=d.W5.sanitize(B):m(ee)&&K in ee?ee[K]=B:ee.setAttribute(K,B):ee[K]=B}}};function m(ee){if(!(ee instanceof Element&&ee.tagName.includes("-")))return!1;const Q=window.customElements.get(ee.tagName.toLowerCase());return!!Q&&ee instanceof Q}let Z,L=(ee,Q,q)=>{((ee,Q,q)=>{if(Q)for(let j of Q)b(j,ee,void 0,q)})(ee,Q.children,q),Q.text&&(ee.textContent=Q.text),M(ee,Q.properties,q),Q.properties&&Q.properties.afterCreate&&Q.properties.afterCreate.apply(Q.properties.bind||Q.properties,[ee,q,Q.vnodeSelector,Q.properties,Q.children])},b=(ee,Q,q,j)=>{let X,A=0,ie=ee.vnodeSelector,K=Q.ownerDocument;if(""===ie)X=ee.domNode=K.createTextNode(ee.text),void 0!==q?Q.insertBefore(X,q):Q.appendChild(X);else{for(let B=0;B<=ie.length;++B){let G=ie.charAt(B);if(B===ie.length||"."===G||"#"===G){let se=ie.charAt(A-1),J=ie.slice(A,B);"."===se?X.classList.add(J):"#"===se?X.id=J:("svg"===J&&(j=F(j,{namespace:w})),void 0!==j.namespace?X=ee.domNode=K.createElementNS(j.namespace,J):(X=ee.domNode=ee.domNode||K.createElement(J),"input"===J&&ee.properties&&void 0!==ee.properties.type&&X.setAttribute("type",ee.properties.type)),void 0!==q?Q.insertBefore(X,q):X.parentNode!==Q&&Q.appendChild(X)),A=B+1}}L(X,ee,j)}},H=(ee,Q,q)=>{Q&&Q.split(" ").forEach(j=>{j&&ee.classList.toggle(j,q)})};Z=(ee,Q,q)=>{let j=ee.domNode,X=!1;if(ee===Q)return!1;let A=!1;if(""===Q.vnodeSelector){if(Q.text!==ee.text){let ie=j.ownerDocument.createTextNode(Q.text);return j.parentNode.replaceChild(ie,j),Q.domNode=ie,X=!0,X}Q.domNode=j}else 0===Q.vnodeSelector.lastIndexOf("svg",0)&&(q=F(q,{namespace:w})),ee.text!==Q.text&&(A=!0,void 0===Q.text?j.removeChild(j.firstChild):j.textContent=Q.text),Q.domNode=j,A=((ee,Q,q,j,X)=>{if(q===j)return!1;let A,ie=(q=q||I).length,K=(j=j||I).length,B=0,G=0,se=!1;for(;G<K;){let J=B<ie?q[B]:void 0,ce=j[G];if(void 0!==J&&R(J,ce))se=Z(J,ce,X)||se,B++;else{let _e=y(q,ce,B+1);if(_e>=0){for(A=B;A<_e;A++)v(q[A]),E(q,A,ee,"removed");se=Z(q[_e],ce,X)||se,B=_e+1}else b(ce,Q,B<ie?q[B].domNode:void 0,X),P(ce),E(j,G,ee,"added")}G++}if(ie>B)for(A=B;A<ie;A++)v(q[A]),E(q,A,ee,"removed");return se})(Q,j,ee.children,Q.children,q)||A,A=((ee,Q,q,j)=>{if(!q)return;let X=!1,A=Object.keys(q),ie=A.length;for(let K=0;K<ie;K++){let B=A[K],G=q[B],se=Q[B];if("class"===B)se!==G&&(H(ee,se,!1),H(ee,G,!0));else if("classes"===B){let J=ee.classList,ce=Object.keys(G),_e=ce.length;for(let Ce=0;Ce<_e;Ce++){let Oe=ce[Ce],fe=!!G[Oe];fe!==!!se[Oe]&&(X=!0,fe?J.add(Oe):J.remove(Oe))}}else if("styles"===B){let J=Object.keys(G),ce=J.length;for(let _e=0;_e<ce;_e++){let Ce=J[_e],Oe=G[Ce];Oe!==se[Ce]&&(X=!0,Oe?(T(Oe),j.styleApplyer(ee,Ce,Oe)):j.styleApplyer(ee,Ce,""))}}else if(G||"string"!=typeof se||(G=""),"value"!==B||m(ee)){if(G!==se){let J=typeof G;"function"===J&&j.eventHandlerInterceptor||(j.namespace===w?"href"===B?ee.setAttributeNS(_,B,G):ee.setAttribute(B,G):"string"===J?"innerHTML"===B?ee[B]=d.W5.sanitize(G):"role"===B&&""===G?ee.removeAttribute(B):m(ee)&&B in ee?ee[B]=G:ee.setAttribute(B,G):ee[B]!==G&&(ee[B]=G),X=!0)}}else{let J=ee[B];J!==G&&(ee["oninput-value"]?J===ee["oninput-value"]:G!==se)&&(ee[B]=G,ee["oninput-value"]=void 0),G!==se&&(X=!0)}}return X})(j,ee.properties,Q.properties,q)||A,Q.properties&&Q.properties.afterUpdate&&Q.properties.afterUpdate.apply(Q.properties.bind||Q.properties,[j,q,Q.vnodeSelector,Q.properties,Q.children]);return A&&Q.properties&&Q.properties.updateAnimation&&Q.properties.updateAnimation(j,Q.properties,ee.properties),X};let te=(ee,Q)=>({getLastRender:()=>ee,update:q=>{if(ee.vnodeSelector!==q.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let j=ee;ee=q,Z(j,q,Q)},domNode:ee.domNode})},76062:(xe,re,u)=>{u.d(re,{F:()=>F});var d=u(37370);let p;p=Array.prototype.find?(R,T)=>R.find(T):(R,T)=>R.filter(T)[0];let I=(R,T,y)=>{let E=function(P){y("domEvent",P);let C=T(),N=((R,T)=>{let y=[];for(;R&&R!==T;)y.push(R),R=R.parentNode;return y})(P.currentTarget,C.domNode);N.reverse();let U,W=((R,T)=>{let y=R;return T.forEach(E=>{y=y&&y.children?p(y.children,P=>P.domNode===E):void 0}),y})(C.getLastRender(),N);return R.scheduleRender(),W&&(U=W.properties[`on${P.type}`].apply(W.properties.bind||this,arguments)),y("domEventProcessed",P),U};return(P,C,N,U)=>E},F=R=>{let T,y,E=(0,d.R)(R),P=E.performanceLogger,C=!0,N=!1,U=[],W=[],O=(M,m,Z)=>{let D;E.eventHandlerInterceptor=I(T,()=>D,P),D=M(m,Z(),E),U.push(D),W.push(Z)},v=()=>{if(y=void 0,C){C=!1,P("renderStart",void 0);for(let M=0;M<U.length;M++){let m=W[M]();P("rendered",void 0),U[M].update(m),P("patched",void 0)}P("renderDone",void 0),C=!0}};return T={renderNow:v,scheduleRender:()=>{y||N||(y=requestAnimationFrame(v))},stop:()=>{y&&(cancelAnimationFrame(y),y=void 0),N=!0},resume:()=>{N=!1,C=!0,T.scheduleRender()},append:(M,m)=>{O(d.t.append,M,m)},insertBefore:(M,m)=>{O(d.t.insertBefore,M,m)},merge:(M,m)=>{O(d.t.merge,M,m)},replace:(M,m)=>{O(d.t.replace,M,m)},detach:M=>{for(let m=0;m<W.length;m++)if(W[m]===M)return W.splice(m,1),U.splice(m,1)[0];throw new Error("renderFunction was not found")}},T}},19969:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(P){super(P),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new T({title:this.title,expression:this.expression})}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"expression",void 0),(0,d._)([(0,w.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"returnType",void 0),y=T=(0,d._)([(0,R.$)("esri.popup.ElementExpressionInfo")],y);const E=y},26025:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(P){super(P),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new T({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"expression",void 0),(0,d._)([(0,w.MZ)({type:["string","number"],json:{write:!0}})],y.prototype,"returnType",void 0),y=T=(0,d._)([(0,R.$)("esri.popup.ExpressionInfo")],y);const E=y},61099:(xe,re,u)=>{u.d(re,{A:()=>N});var P,d=u(8189),p=u(49976),w=u(71065),_=u(85211),T=(u(3248),u(35150),u(40707),u(15463)),y=u(76576),E=u(17580);let C=P=class extends w.A{constructor(U){super(U),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new P({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],C.prototype,"fieldName",void 0),(0,d._)([(0,_.MZ)({type:E.A,json:{write:!0}})],C.prototype,"format",void 0),(0,d._)([(0,_.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],C.prototype,"isEditable",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],C.prototype,"label",void 0),(0,d._)([(0,T.e)(new p.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],C.prototype,"stringFieldOption",void 0),(0,d._)([(0,_.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],C.prototype,"statisticType",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],C.prototype,"tooltip",void 0),(0,d._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],C.prototype,"visible",void 0),C=P=(0,d._)([(0,y.$)("esri.popup.FieldInfo")],C);const N=C},54042:(xe,re,u)=>{u.d(re,{A:()=>P});var d=u(8189),p=u(90660),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(75432),y=u(32992);let E=class extends(p.A.ClonableMixin(T.A)){constructor(C){super(C),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,d._)([(0,w.MZ)({type:["auto","preview","list"],json:{write:!0}})],E.prototype,"displayType",void 0),(0,d._)([(0,w.MZ)({type:[y.A],json:{write:!0}})],E.prototype,"orderByFields",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],E.prototype,"type",void 0),E=(0,d._)([(0,R.$)("esri.popup.content.AttachmentsContent")],E);const P=E},97932:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52436),T=u(99656);let E=y=class extends R.A{constructor(C){super(C),this.type="bar-chart"}clone(){return new y({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,d._)([(0,p.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:T.U.write,isRequired:!0}}})],E.prototype,"type",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.BarChartMediaInfo")],E);const P=E},3615:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52436),T=u(99656);let E=y=class extends R.A{constructor(C){super(C),this.type="column-chart"}clone(){return new y({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,d._)([(0,p.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:T.U.write,isRequired:!0}}})],E.prototype,"type",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.ColumnChartMediaInfo")],E);const P=E},75432:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(E){super(E),this.type=null}};(0,d._)([(0,w.MZ)({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=(0,d._)([(0,R.$)("esri.popup.content.Content")],T);const y=T},65121:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(76576)),R=u(75432);let y=T=class extends R.A{constructor(P){super(P),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new T({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,p.o8)(this.outFields):null})}};(0,d._)([(0,w.MZ)()],y.prototype,"creator",void 0),(0,d._)([(0,w.MZ)()],y.prototype,"destroyer",void 0),(0,d._)([(0,w.MZ)()],y.prototype,"outFields",void 0),(0,d._)([(0,w.MZ)({type:["custom"],readOnly:!0})],y.prototype,"type",void 0),y=T=(0,d._)([(0,F.$)("esri.popup.content.CustomContent")],y);const E=y},558:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(19969),T=u(75432);let E=y=class extends T.A{constructor(C){super(C),this.expressionInfo=null,this.type="expression"}clone(){return new y({expressionInfo:this.expressionInfo?.clone()})}};(0,d._)([(0,p.MZ)({type:R.A,json:{write:!0}})],E.prototype,"expressionInfo",void 0),(0,d._)([(0,p.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],E.prototype,"type",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.ExpressionContent")],E);const P=E},8975:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(76576)),R=u(50305),T=u(61099),y=u(75432);let P=E=class extends y.A{constructor(N){super(N),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(N,U){U.fieldInfos=N&&N.map(W=>W.toJSON())}clone(){return new E((0,p.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,d._)([(0,w.MZ)({type:Object,json:{write:!0}})],P.prototype,"attributes",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],P.prototype,"description",void 0),(0,d._)([(0,w.MZ)({type:[T.A]})],P.prototype,"fieldInfos",void 0),(0,d._)([(0,R.K)("fieldInfos")],P.prototype,"writeFieldInfos",null),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],P.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],P.prototype,"type",void 0),P=E=(0,d._)([(0,F.$)("esri.popup.content.FieldsContent")],P);const C=P},87071:(xe,re,u)=>{u.d(re,{A:()=>U});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(82244),T=u(71065);let E=y=class extends T.A{constructor(W){super(W),this.linkURL=null,this.sourceURL=null}clone(){return new y({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,d._)([(0,p.MZ)({type:String,json:{write:!0}})],E.prototype,"linkURL",void 0),(0,d._)([(0,p.MZ)({type:String,json:{write:{isRequired:!0}}})],E.prototype,"sourceURL",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.support.ImageMediaInfoValue")],E);const P=E;var C;let N=C=class extends R.A{constructor(W){super(W),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new C({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],N.prototype,"refreshInterval",void 0),(0,d._)([(0,p.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],N.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:P,json:{write:{isRequired:!0}}})],N.prototype,"value",void 0),N=C=(0,d._)([(0,F.$)("esri.popup.content.ImageMediaInfo")],N);const U=N},2175:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52436),T=u(99656);let E=y=class extends R.A{constructor(C){super(C),this.type="line-chart"}clone(){return new y({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,d._)([(0,p.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:T.U.write,isRequired:!0}}})],E.prototype,"type",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.LineChartMediaInfo")],E);const P=E},90792:(xe,re,u)=>{u.d(re,{A:()=>M});var O,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(17221)),R=u(76576),T=u(50305),y=u(97932),E=u(3615),P=u(75432),C=u(87071),N=u(2175),U=u(34623),W=u(47272);let v=O=class extends P.A{constructor(m){super(m),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(m){return m&&m.map(Z=>"image"===Z.type?C.A.fromJSON(Z):"barchart"===Z.type?y.A.fromJSON(Z):"columnchart"===Z.type?E.A.fromJSON(Z):"linechart"===Z.type?N.A.fromJSON(Z):"piechart"===Z.type?U.A.fromJSON(Z):void 0).filter(Boolean)}writeMediaInfos(m,Z){Z.mediaInfos=m&&m.map(D=>D.toJSON())}clone(){return new O((0,p.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,d._)([(0,w.MZ)()],v.prototype,"activeMediaInfoIndex",void 0),(0,d._)([(0,w.MZ)({type:Object,json:{write:!0}})],v.prototype,"attributes",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],v.prototype,"description",void 0),(0,d._)([(0,w.MZ)({types:[W.g]})],v.prototype,"mediaInfos",void 0),(0,d._)([(0,F.w)("mediaInfos")],v.prototype,"readMediaInfos",null),(0,d._)([(0,T.K)("mediaInfos")],v.prototype,"writeMediaInfos",null),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],v.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],v.prototype,"type",void 0),v=O=(0,d._)([(0,R.$)("esri.popup.content.MediaContent")],v);const M=v},34623:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52436),T=u(99656);let E=y=class extends R.A{constructor(C){super(C),this.type="pie-chart"}clone(){return new y({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,d._)([(0,p.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:T.U.write,isRequired:!0}}})],E.prototype,"type",void 0),E=y=(0,d._)([(0,F.$)("esri.popup.content.PieChartMediaInfo")],E);const P=E},83902:(xe,re,u)=>{u.d(re,{A:()=>P});var d=u(8189),p=u(90660),w=u(85211),_=u(55739),R=(u(3248),u(40707),u(76576)),T=u(75432),y=u(61852);let E=class extends(p.A.ClonableMixin(T.A)){constructor(C){super(C),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{type:_.jz,write:!0}})],E.prototype,"displayCount",void 0),(0,d._)([(0,w.MZ)({type:["list"],json:{write:{isRequired:!0}}})],E.prototype,"displayType",void 0),(0,d._)([(0,w.MZ)({type:[y.A],json:{write:!0}})],E.prototype,"orderByFields",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{type:_.jz,write:{isRequired:!0}}})],E.prototype,"relationshipId",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],E.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],E.prototype,"type",void 0),E=(0,d._)([(0,R.$)("esri.popup.content.RelationshipContent")],E);const P=E},98089:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(75432);let y=T=class extends R.A{constructor(P){super(P),this.text=null,this.type="text"}clone(){return new T({text:this.text})}};(0,d._)([(0,p.MZ)({type:String,json:{write:!0}})],y.prototype,"text",void 0),(0,d._)([(0,p.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],y.prototype,"type",void 0),y=T=(0,d._)([(0,F.$)("esri.popup.content.TextContent")],y);const E=y},62270:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(90660),w=u(85211),_=u(55739),R=(u(3248),u(40707),u(15463)),T=u(76576),y=u(75432),E=u(58094);let P=class extends(p.A.ClonableMixin(y.A)){constructor(N){super(N),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],P.prototype,"description",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{type:_.jz,write:!0}})],P.prototype,"displayCount",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],P.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:[E.A],json:{write:!0}})],P.prototype,"associationTypes",void 0),(0,d._)([(0,R.e)({utilityNetworkAssociations:"utility-network-associations"})],P.prototype,"type",void 0),P=(0,d._)([(0,T.$)("esri.popup.content.UtilityNetworkAssociationsContent")],P);const C=P},52436:(xe,re,u)=>{u.d(re,{A:()=>v});var N,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(82244),T=u(68677),y=u(71065),E=u(77806),P=u(55739),C=u(19457);let U=N=class extends y.A{constructor(M){super(M),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new N({colors:(0,E.o8)(this.colors),fields:(0,E.o8)(this.fields),normalizeField:this.normalizeField,series:(0,E.o8)(this.series),tooltipField:this.tooltipField})}};(0,d._)([(0,p.MZ)({type:[T.A],json:{type:[[P.jz]],write:!0}})],U.prototype,"colors",void 0),(0,d._)([(0,p.MZ)({type:[String],json:{write:{isRequired:!0}}})],U.prototype,"fields",void 0),(0,d._)([(0,p.MZ)({type:String,json:{write:!0}})],U.prototype,"normalizeField",void 0),(0,d._)([(0,p.MZ)({type:[C.A],json:{read:!1}})],U.prototype,"series",void 0),(0,d._)([(0,p.MZ)({type:String,json:{write:!0}})],U.prototype,"tooltipField",void 0),U=N=(0,d._)([(0,F.$)("esri.popup.content.support.ChartMediaInfoValue")],U);const W=U;let O=class extends R.A{constructor(M){super(M),this.type=null,this.value=void 0}};(0,d._)([(0,p.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],O.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:W,json:{write:{isRequired:!0}}})],O.prototype,"value",void 0),O=(0,d._)([(0,F.$)("esri.popup.content.mixins.ChartMediaInfo")],O);const v=O},82244:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(E){super(E),this.altText=null,this.caption="",this.title="",this.type=null}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],T.prototype,"altText",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],T.prototype,"caption",void 0),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],T.prototype,"title",void 0),(0,d._)([(0,w.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],T.prototype,"type",void 0),T=(0,d._)([(0,R.$)("esri.popup.content.mixins.MediaInfo")],T);const y=T},19457:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(98877),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(P){super(P),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new T({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,d._)([(0,w.MZ)()],y.prototype,"color",void 0),(0,d._)([(0,w.MZ)()],y.prototype,"fieldName",void 0),(0,d._)([(0,w.MZ)()],y.prototype,"tooltip",void 0),(0,d._)([(0,w.MZ)()],y.prototype,"value",void 0),y=T=(0,d._)([(0,R.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],y);const E=y},99656:(xe,re,u)=>{u.d(re,{U:()=>p});const p=(0,u(49976).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},47272:(xe,re,u)=>{u.d(re,{g:()=>R});var d=u(97932),p=u(3615),w=u(87071),_=u(2175),I=u(34623);const R={base:u(82244).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":d.A,"column-chart":p.A,"line-chart":_.A,"pie-chart":I.A,image:w.A}}},32992:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(90660),w=u(49976),_=u(71065),I=u(85211),y=(u(3248),u(35150),u(40707),u(76576));const E=new w.J({asc:"ascending",desc:"descending"});let P=class extends(p.A.ClonableMixin(_.A)){constructor(N){super(N),this.field=null,this.order="ascending"}};(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],P.prototype,"field",void 0),(0,d._)([(0,I.MZ)({type:E.apiValues,json:{type:E.jsonValues,read:E.read,write:E.write}})],P.prototype,"order",void 0),P=(0,d._)([(0,y.$)("esri.popup.support.AttachmentsOrderByInfo")],P);const C=P},17580:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(90660),w=u(71065),_=u(85211),I=u(55739),T=(u(3248),u(40707),u(15463)),y=u(76576),E=u(48266);let P=class extends(p.A.ClonableMixin(w.A)){constructor(N){super(N),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,d._)([(0,T.e)(E._v)],P.prototype,"dateFormat",void 0),(0,d._)([(0,_.MZ)({type:Boolean,json:{write:!0}})],P.prototype,"digitSeparator",void 0),(0,d._)([(0,_.MZ)({type:I.jz,json:{write:!0}})],P.prototype,"places",void 0),P=(0,d._)([(0,y.$)("esri.popup.support.FieldInfoFormat")],P);const C=P},61852:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(P){super(P),this.field=null,this.order=null}clone(){return new T({field:this.field,order:this.order})}};(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],y.prototype,"field",void 0),(0,d._)([(0,w.MZ)({type:["asc","desc"],json:{write:!0}})],y.prototype,"order",void 0),y=T=(0,d._)([(0,R.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],y);const E=y},58094:(xe,re,u)=>{u.d(re,{A:()=>E});var d=u(8189),p=u(90660),w=u(71065),_=u(85211),I=u(55739),T=(u(3248),u(40707),u(76576));let y=class extends(p.A.ClonableMixin(w.A)){constructor(P){super(P),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],y.prototype,"title",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],y.prototype,"description",void 0),(0,d._)([(0,_.MZ)({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],y.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{type:I.jz,write:!0}})],y.prototype,"associatedNetworkSourceId",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{type:I.jz,write:!0}})],y.prototype,"associatedAssetGroup",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{type:I.jz,write:!0}})],y.prototype,"associatedAssetType",void 0),y=(0,d._)([(0,T.$)("esri.popup.support.UtilityNetworkAssociationType")],y);const E=y},73874:(xe,re,u)=>{u.d(re,{A:()=>ie});var d=u(10467),p=u(8189),w=u(23098),_=u(77469),I=u(89563),F=u(5922),R=u(71065),T=u(55098),y=u(11432),E=u(56492),P=u(85211),C=u(55739),W=(u(3248),u(40707),u(17221)),O=u(76576),v=u(28067),M=u(88996);let m;var L=u(99976),b=u(12629),H=u(98877);u(35150);let z=class extends H.A{constructor(G){super(G),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,p._)([(0,P.MZ)()],z.prototype,"nextQueryParams",void 0),(0,p._)([(0,P.MZ)()],z.prototype,"queryParams",void 0),(0,p._)([(0,P.MZ)()],z.prototype,"results",void 0),(0,p._)([(0,P.MZ)()],z.prototype,"total",void 0),z=(0,p._)([(0,O.$)("esri.portal.PortalQueryResult")],z);const te=z;var q,ee=u(52606),Q=u(2174);let j;const X={PortalGroup:()=>Promise.resolve({default:L.A}),PortalItem:()=>Promise.resolve().then(u.bind(u,46577)),PortalUser:()=>Promise.resolve({default:ee.A})};let A=q=class extends(R.A.JSONSupportMixin(T.A)){constructor(G){super(G),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=w.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(G){return"string"==typeof G?{url:G}:G}destroy(){K.unregister(this),this.defaultBasemap=(0,y.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,y.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,y.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,y.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(G){if(G)for(const se of G)w.A.request.trustedServers.includes(se)||w.A.request.trustedServers.push(se);return G}readDefaultBasemap(G){return this._readBasemap(G)}readDefaultDevBasemap(G){return this._readBasemap(G)}readDefaultVectorBasemap(G){return this._readBasemap(G)}get extraQuery(){const G=this.user?.orgId;return this.id&&G&&!this.canSearchPublic?` AND orgid:${this.id}`:null}get hasAPIKey(){return(0,Q.Jn)(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let G=this.url;if(G){const se=G.indexOf("/sharing");G=se>0?G.slice(0,se):this.url.replace(/\/+$/,""),G+="/sharing/rest"}return G}get thumbnailUrl(){const G=this.restUrl,se=this.thumbnail;return G&&se?this._normalizeSSL(G+"/portals/self/resources/"+se):null}readUrlKey(G){return G&&G.toLowerCase()}readUser(G){let se=null;return G&&(se=ee.A.fromJSON(G),se.portal=this),se}load(G){const se=Promise.resolve().then(u.bind(u,4360)).then(({default:J})=>{(0,E.Te)(G),j=J}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,G)).then(J=>{if(!this.hasAPIKey&&_.id){const ce=_.id;this.credential=ce.findCredential(this.restUrl),this.credential||this.authMode!==q.AUTH_MODE_AUTO&&this.authMode!==q.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=ce.on("credential-create",function B(G){const se=_.id;return()=>{const J=G.deref();J&&se.findCredential(J.restUrl)&&J.signIn().catch(()=>{})}}(new WeakRef(this))),K.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=J,this.read(J)});return this.addResolvingPromise(se),Promise.resolve(this)}createElevationLayers(){var G=this;return(0,d.A)(function*(){yield G.load();const se=G._getHelperService("defaultElevationLayers"),J=(yield Promise.all([u.e(3325),u.e(9750),u.e(7677),u.e(2076),u.e(8147)]).then(u.bind(u,98147))).default;return se?se.map(ce=>new J({id:ce.id,url:ce.url})):[]})()}fetchBasemaps(G,se){var J=this;return(0,d.A)(function*(){const ce=yield J._fetchBasemaps(G,se);if(!0===se?.include3d&&!1!==J.use3dBasemaps){const _e=yield J._fetchBasemaps3D(G,se);ce.unshift(..._e)}return ce})()}fetchDefault3DBasemap(G){var se=this;return(0,d.A)(function*(){if(!se.useDefault3dBasemap||!se.default3DBasemapQuery||"none"===se.default3DBasemapQuery)return null;const J=new b.A;J.query=se.default3DBasemapQuery,J.disableExtraQuery=!0;const ce=(yield se.queryItems(J,G)).results.find(_e=>"Web Scene"===_e.type);return ce?new j({portalItem:ce}):null})()}fetchCategorySchema(G){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",G).then(se=>se.categorySchema):(0,E.G4)(G)?Promise.reject((0,E.NK)()):Promise.resolve([])}fetchClassificationSchema(G){var se=this;return(0,d.A)(function*(){return se.hasClassificationSchema?se.request(se.restUrl+"/portals/self/classification/classificationSchema",G).then(J=>J.classificationSchema):null})()}fetchFeaturedGroups(G){const se=this.featuredGroups,J=new b.A({num:100,sortField:"title"});if(se?.length){const ce=[];for(const _e of se)ce.push(`(title:"${_e.title}" AND owner:${_e.owner})`);return J.query=ce.join(" OR "),this.queryGroups(J,G).then(_e=>_e.results)}return(0,E.G4)(G)?Promise.reject((0,E.NK)()):Promise.resolve([])}fetchRegions(G){const se=this.user?.culture||this.culture||(0,M.JK)();return this.request(this.restUrl+"/portals/regions",{...G,query:{culture:se}})}fetchSettings(G){const se=this.user?.culture||this.culture||(0,M.JK)();return this.request(this.restUrl+"/portals/self/settings",{...G,query:{culture:se}})}static getDefault(){return function D(G){return m&&!m.destroyed||(m=G()),m}(()=>new q)}queryGroups(G,se){return this.queryPortal("/community/groups",G,"PortalGroup",se)}queryItems(G,se){return this.queryPortal("/search",G,"PortalItem",se)}queryUsers(G,se){return G.sortField||(G.sortField="username"),this.queryPortal("/community/users",G,"PortalUser",se)}fetchSelf(G=this.authMode,se=!1,J){const ce=this.restUrl+"/portals/self",_e={authMode:G,query:{culture:(0,M.JK)().toLowerCase()},withCredentials:!0,...J};return"auto"===_e.authMode&&(_e.authMode="no-prompt"),se&&(_e.query.default=!0),this.request(ce,_e)}queryPortal(G,se,J,ce){const _e=(0,C.dp)(b.A,se),Ce=Oe=>this.request(this.restUrl+G,{..._e.toRequestOptions(this),...ce}).then(fe=>{const Se=_e.clone();return Se.start=fe.nextStart,new te({nextQueryParams:Se,queryParams:_e,total:fe.total,results:q._resultsToTypedArray(Oe,{portal:this},fe,ce)})}).then(fe=>Promise.all(fe.results.map(Se=>"function"==typeof Se.when?Se.when():fe)).then(()=>fe,Se=>((0,E.QP)(Se),fe)));return J&&X[J]?X[J]().then(({default:Oe})=>((0,E.Te)(ce),Ce(Oe))):Ce()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new F.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===q.AUTH_MODE_ANONYMOUS||this.authMode===q.AUTH_MODE_NO_PROMPT&&!_.id)return Promise.reject(new F.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const G=se=>Promise.resolve().then(()=>"not-loaded"===this.loadStatus?(se||(this.authMode="immediate"),this.load().then(()=>null)):"loading"===this.loadStatus?this.load().then(()=>this.credential?null:(this.credential=se,this.fetchSelf("immediate"))):this.user&&this.credential===se?null:(this.credential=se,this.fetchSelf("immediate"))).then(J=>{J&&(this.sourceJSON=J,this.read(J))});return _.id?_.id.getCredential(this.restUrl,{prompt:this.authMode!==q.AUTH_MODE_NO_PROMPT}).then(se=>G(se)):G(this.credential)}normalizeUrl(G){const se=this.credential?.token;return this._normalizeSSL(se?G+(G.includes("?")?"&":"?")+"token="+se:G)}requestToTypedArray(G,se,J){return this.request(G,se).then(ce=>{const _e=q._resultsToTypedArray(J,{portal:this},ce);return Promise.all(_e.map(Ce=>"function"==typeof Ce.when?Ce.when():ce)).then(()=>_e,()=>_e)})}request(G,se={}){const J={f:"json",...se.query},{authMode:ce=(this.authMode===q.AUTH_MODE_ANONYMOUS||this.authMode===q.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:_e=null,cacheBust:Ce=!1,method:Oe="auto",responseType:fe="json",signal:Se}=se,me={authMode:ce,body:_e,cacheBust:Ce,method:Oe,query:J,responseType:fe,timeout:0,signal:Se};return se.withCredentials&&(me.withCredentials=!0),(0,I.A)(this._normalizeSSL(G),me).then(ge=>ge.data)}toJSON(){throw new F.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(G){if(!G)return null;if(G.declaredClass)throw new Error("JSON object is already hydrated");return new q({sourceJSON:G})}_getHelperService(G){const se=this.helperServices&&this.helperServices[G];if(!se)throw new F.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${G}"`);return se}_fetchBasemaps(G,se){var J=this;return(0,d.A)(function*(){const ce=new b.A;ce.query=G||(J.hasAPIKey?J.devBasemapGalleryGroupQuery:J.useVectorBasemaps?J.vectorBasemapGalleryGroupQuery:J.basemapGalleryGroupQuery),ce.disableExtraQuery=!0;const _e=yield J.queryGroups(ce,se);if(!_e.total)return[];const Ce=_e.results[0];ce.num=100,ce.query='type:"Web Map" -type:"Web Application"',ce.sortField=Ce.sortField||"name",ce.sortOrder=Ce.sortOrder||"desc";const Oe=yield Ce.queryItems(ce,se);return Oe.total?Oe.results.filter(fe=>"Web Map"===fe.type).map(fe=>new j({portalItem:fe})):[]})()}_fetchBasemaps3D(G,se){var J=this;return(0,d.A)(function*(){const ce=G||J.basemapGalleryGroupQuery3D;if(!ce)return[];if(J.hasAPIKey)return[];const _e=new b.A({query:ce,disableExtraQuery:!0}),Ce=yield J.queryGroups(_e,se);if(!Ce.total)return[];const Oe=Ce.results[0];_e.num=100,_e.query='type:"Web Scene"',_e.sortField=Oe.sortField||"name",_e.sortOrder=Oe.sortOrder||"desc";const fe=yield Oe.queryItems(_e,se);return fe.total?fe.results.filter(Se=>"Web Scene"===Se.type).map(Se=>new j({portalItem:Se})):[]})()}_normalizeSSL(G){return G.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(G){if(G){const se=j.fromJSON(G);return se.portalItem={portal:this},se}return null}static _resultsToTypedArray(G,se,J,ce){let _e;if(J){const Ce=null!=ce?ce.signal:null;_e=J.listings||J.notifications||J.userInvitations||J.tags||J.items||J.groups||J.comments||J.provisions||J.results||J.relatedItems||J,(G||se)&&(_e=_e.map(Oe=>{const fe=Object.assign(G?G.fromJSON(Oe):Oe,se);return"function"==typeof fe.load&&fe.load(Ce),fe}))}else _e=[];return _e}};A.AUTH_MODE_ANONYMOUS="anonymous",A.AUTH_MODE_AUTO="auto",A.AUTH_MODE_IMMEDIATE="immediate",A.AUTH_MODE_NO_PROMPT="no-prompt",(0,p._)([(0,P.MZ)()],A.prototype,"access",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"allSSL",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"authMode",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"authorizedCrossOriginDomains",void 0),(0,p._)([(0,W.w)("authorizedCrossOriginDomains")],A.prototype,"readAuthorizedCrossOriginDomains",null),(0,p._)([(0,P.MZ)()],A.prototype,"basemapGalleryGroupQuery",void 0),(0,p._)([(0,P.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],A.prototype,"basemapGalleryGroupQuery3D",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"bingKey",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canListApps",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canListData",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canListPreProvisionedItems",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canProvisionDirectPurchase",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canSearchPublic",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canShareBingPublic",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canSharePublic",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canSignInArcGIS",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"canSignInIDP",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"colorSetsGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"commentsEnabled",void 0),(0,p._)([(0,P.MZ)({type:Date})],A.prototype,"created",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"credential",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"culture",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"currentVersion",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"customBaseUrl",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"default3DBasemapQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"defaultBasemap",void 0),(0,p._)([(0,W.w)("defaultBasemap")],A.prototype,"readDefaultBasemap",null),(0,p._)([(0,P.MZ)()],A.prototype,"defaultDevBasemap",void 0),(0,p._)([(0,W.w)("defaultDevBasemap")],A.prototype,"readDefaultDevBasemap",null),(0,p._)([(0,P.MZ)({type:v.A})],A.prototype,"defaultExtent",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"defaultVectorBasemap",void 0),(0,p._)([(0,W.w)("defaultVectorBasemap")],A.prototype,"readDefaultVectorBasemap",null),(0,p._)([(0,P.MZ)()],A.prototype,"description",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"devBasemapGalleryGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"eueiEnabled",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"extraQuery",null),(0,p._)([(0,P.MZ)()],A.prototype,"featuredGroups",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"featuredItemsGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"galleryTemplatesGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"layoutGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"livingAtlasGroupQuery",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"hasAPIKey",null),(0,p._)([(0,P.MZ)()],A.prototype,"hasCategorySchema",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"hasClassificationSchema",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"helpBase",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"helperServices",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"helpMap",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"homePageFeaturedContent",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"homePageFeaturedContentCount",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"httpPort",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"httpsPort",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"id",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"ipCntryCode",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"isOrganization",null),(0,p._)([(0,P.MZ)()],A.prototype,"isPortal",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"isReadOnly",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"itemPageUrl",null),(0,p._)([(0,P.MZ)()],A.prototype,"layerTemplatesGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"maxTokenExpirationMinutes",void 0),(0,p._)([(0,P.MZ)({type:Date})],A.prototype,"modified",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"name",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"portalHostname",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"portalMode",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"portalProperties",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"region",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"recycleBinEnabled",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"restUrl",null),(0,p._)([(0,P.MZ)()],A.prototype,"rotatorPanels",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"showHomePageDescription",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"sourceJSON",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"staticImagesUrl",void 0),(0,p._)([(0,P.MZ)({json:{name:"2DStylesGroupQuery"}})],A.prototype,"stylesGroupQuery2d",void 0),(0,p._)([(0,P.MZ)({json:{name:"stylesGroupQuery"}})],A.prototype,"stylesGroupQuery3d",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"supportsHostedServices",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"symbolSetsGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"templatesGroupQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"thumbnail",void 0),(0,p._)([(0,P.MZ)({readOnly:!0})],A.prototype,"thumbnailUrl",null),(0,p._)([(0,P.MZ)()],A.prototype,"units",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"url",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"urlKey",void 0),(0,p._)([(0,W.w)("urlKey")],A.prototype,"readUrlKey",null),(0,p._)([(0,P.MZ)()],A.prototype,"user",void 0),(0,p._)([(0,W.w)("user")],A.prototype,"readUser",null),(0,p._)([(0,P.MZ)()],A.prototype,"use3dBasemaps",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"useDefault3dBasemap",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"useStandardizedQuery",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"useVectorBasemaps",void 0),(0,p._)([(0,P.MZ)()],A.prototype,"vectorBasemapGalleryGroupQuery",void 0),A=q=(0,p._)([(0,O.$)("esri.portal.Portal")],A);const ie=A,K=new FinalizationRegistry(G=>{G.remove()})},99976:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(5922),w=u(71065),_=u(85211),I=u(55739),T=(u(3248),u(40707),u(76576)),y=u(12629);let P=E=class extends w.A{constructor(N){super(N),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const N=this.url,U=this.thumbnail;return N&&U&&this.portal?this.portal?.normalizeUrl(`${N}/info/${U}?f=json`):null}get url(){const N=this.portal?.restUrl;return N?N+"/community/groups/"+this.id:null}fetchCategorySchema(N){return this.portal.request(this.url+"/categorySchema",N).then(U=>{const W=U.categorySchema||[];return W.some(O=>"contentCategorySetsGroupQuery.LivingAtlas"===O.source)?this._fetchCategorySchemaSet("LivingAtlas",N):W})}fetchMembers(N){return this.portal.request(this.url+"/users",N)}getThumbnailUrl(N){let U=this.thumbnailUrl;return U&&N&&(U+=`&w=${N}`),U}toJSON(){throw new p.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(N){if(!N)return null;if(N.declaredClass)throw new Error("JSON object is already hydrated");const U=new E({sourceJSON:N});return U.read(N),U}queryItems(N,U){let W=(0,I.dp)(y.A,N);const O=this.portal;return parseFloat(O.currentVersion)>5?(W=W||new y.A,O.queryPortal(`/content/groups/${this.id}/search`,W,"PortalItem",U)):(W=W?W.clone():new y.A,W.query="group:"+this.id+(W.query?" "+W.query:""),O.queryItems(W,U))}_fetchCategorySchemaSet(N,U){const W=this.portal;return W.fetchSelf(W.authMode,!0,U).then(O=>{const v=O.contentCategorySetsGroupQuery;if(v){const M=new y.A({disableExtraQuery:!0,num:1,query:v});return W.queryGroups(M,U)}throw new p.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(O=>{if(O.total){const v=O.results[0],M=new y.A({num:1,query:`typekeywords:"${N}"`});return v.queryItems(M,U)}throw new p.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(O=>O.total?O.results[0].fetchData("json",U).then(v=>{const M=v?.categorySchema;return M?.length?M:[]}):[])}};(0,d._)([(0,_.MZ)()],P.prototype,"access",void 0),(0,d._)([(0,_.MZ)({type:Date})],P.prototype,"created",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"description",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"id",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"isInvitationOnly",void 0),(0,d._)([(0,_.MZ)({type:Date})],P.prototype,"modified",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"owner",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"portal",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"snippet",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"sortField",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"sortOrder",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"sourceJSON",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"tags",void 0),(0,d._)([(0,_.MZ)()],P.prototype,"thumbnail",void 0),(0,d._)([(0,_.MZ)({readOnly:!0})],P.prototype,"thumbnailUrl",null),(0,d._)([(0,_.MZ)()],P.prototype,"title",void 0),(0,d._)([(0,_.MZ)({readOnly:!0})],P.prototype,"url",null),P=E=(0,d._)([(0,T.$)("esri.portal.PortalGroup")],P);const C=P},46577:(xe,re,u)=>{u.r(re),u.d(re,{default:()=>q});var d=u(10467),p=u(8189),w=u(90261),_=u(5922),I=u(71065),F=u(77806),R=u(55098),T=u(45272),y=u(85211),E=u(55739),P=u(17221),C=u(76576),N=u(28067),U=u(73874),W=u(98877),O=u(35150),v=u(48669);u(3248),u(40707);let Z=class extends W.A{constructor(j){super(j),this.portalItem=null}normalizeCtorArgs(j){return j?.portalItem&&j.path?{...j,path:D(j.path,j.portalItem)}:j}set path(j){null!=j&&(0,T.oP)(j)?O.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",j)}_castPath(j){return D(j,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(j="json",X){const A=this.cdnUrl;if(null==A)throw new _.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(A,{responseType:j,query:{token:this.portalItem.apiKey,_ts:X?.cacheBust?Date.now():null},signal:X?.signal})}update(j,X){var A=this;return(0,d.A)(function*(){const{addOrUpdateResources:ie}=yield u.e(7340).then(u.bind(u,57340));return yield ie(A.portalItem,[{resource:A,content:j,compress:X?.compress,access:X?.access}],"update",X),A})()}hasPath(){return null!=this.path}};function D(j,X){return null==j?j:(j=j.replace(/^\/+/,""),null!=X&&(0,T.oP)(j)&&(j=(0,T.V1)(j,X.itemUrl)),j?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,p._)([(0,y.MZ)()],Z.prototype,"portalItem",void 0),(0,p._)([(0,y.MZ)({type:String,value:null})],Z.prototype,"path",null),(0,p._)([(0,v.w)("path")],Z.prototype,"_castPath",null),(0,p._)([(0,y.MZ)({type:String,readOnly:!0})],Z.prototype,"url",null),(0,p._)([(0,y.MZ)({type:String,readOnly:!0})],Z.prototype,"cdnUrl",null),(0,p._)([(0,y.MZ)({type:String,readOnly:!0})],Z.prototype,"itemRelativeUrl",null),Z=(0,p._)([(0,C.$)("esri.portal.PortalItemResource")],Z);const L=Z;let b=class extends W.A{constructor(j){super(j),this.created=null,this.rating=null}};(0,p._)([(0,y.MZ)({type:Date})],b.prototype,"created",void 0),(0,p._)([(0,y.MZ)()],b.prototype,"rating",void 0),b=(0,p._)([(0,C.$)("esri.portal.PortalRating")],b);const H=b;var z,Y=u(88135);const te=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),ee=new Set(["KML","GeoJson","CSV"]);let Q=z=class extends(I.A.JSONSupportMixin(R.A)){static from(j){return(0,E.PZ)(z,j)}constructor(j){super(j),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const j=this.type,X=this.typeKeywords||[];let A=j;return"Feature Service"===j||"Feature Collection"===j?A=X.includes("Table")?"Table":X.includes("Route Layer")?"Route Layer":X.includes("Markup")?"Markup":"Feature Layer":"Image Service"===j?A=X.includes("Elevation 3D Layer")?"Elevation Layer":X.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===j?A="Scene Layer":"Video Service"===j?A="Video Layer":"Scene Package"===j?A="Scene Layer Package":"Stream Service"===j?A="Feature Layer":"Geoprocessing Service"===j?A=X.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===j?A="GeoEnrichment Service":"Geocoding Service"===j?A="Locator":"Microsoft Powerpoint"===j?A="Microsoft PowerPoint":"GeoJson"===j?A="GeoJSON":"Globe Service"===j?A="Globe Layer":"Vector Tile Service"===j?A="Tile Layer":"netCDF"===j?A="NetCDF":"Map Service"===j?A=X.includes("Spatiotemporal")||!X.includes("Hosted Service")&&!X.includes("Tiled")||X.includes("Relational")?"Map Image Layer":"Tile Layer":j?.toLowerCase().includes("add in")?A=j.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===j?A="Big Data File Share":"Compact Tile Package"===j?A="Tile Package (tpkx)":"Raster function template"===j?A="Raster Function Template":"OGCFeatureServer"===j?A="OGC Feature Layer":"web mapping application"===j&&X.includes("configurableApp")?A="Instant App":"Insights Page"===j?A="Insights Report":"Excalibur Imagery Project"===j?A="Excalibur Project":"3DTiles Service"===j?A="3D tiles layer":"3DTiles Package"===j&&(A="3D tiles package"),A}readExtent(j){return j&&j.length?new N.A(j[0][0],j[0][1],j[1][0],j[1][1]):null}get iconUrl(){const j=this.type?.toLowerCase()||"",X=this.typeKeywords||[];let K,B=!1,G=!1,se=!1,J=!1,ce=!1,_e=!1,Ce=!1,Oe=!1;return j.indexOf("service")>0||"feature collection"===j||"kml"===j||"wms"===j||"wmts"===j||"wfs"===j?(B=X.includes("Hosted Service"),"feature service"===j||"feature collection"===j||"kml"===j||"wfs"===j?(G=X.includes("Table"),se=X.includes("Route Layer"),J=X.includes("Markup"),ce=X.includes("Spatiotemporal"),_e=X.includes("UtilityNetwork"),K=ce&&G?"spatiotemporaltable":G?"table":se?"routelayer":J?"markup":ce?"spatiotemporal":_e?"utilitynetwork":B?"featureshosted":"features"):"map service"===j||"wms"===j||"wmts"===j?(ce=X.includes("Spatiotemporal"),Ce=X.includes("Relational"),K=ce||Ce?"mapimages":B||X.includes("Tiled")||"wmts"===j?"maptiles":"mapimages"):K="scene service"===j?X.includes("Line")?"sceneweblayerline":X.includes("3DObject")?"sceneweblayermultipatch":X.includes("Point")?"sceneweblayerpoint":X.includes("IntegratedMesh")?"sceneweblayermesh":X.includes("PointCloud")?"sceneweblayerpointcloud":X.includes("Polygon")?"sceneweblayerpolygon":X.includes("Building")?"sceneweblayerbuilding":X.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===j?X.includes("Elevation 3D Layer")?"elevationlayer":X.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===j?"streamlayer":"vector tile service"===j?"vectortile":"datastore catalog service"===j?"datastorecollection":"geocoding service"===j?"geocodeservice":"video service"===j?X.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===j?X.includes("Web Tool")?"tool":"layers":"geodata service"===j?"geodataservice":"3dtiles service"===j?X.includes("3DObject")?"3dobjecttileslayer":X.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===j||"cityengine web scene"===j?K="maps":"web scene"===j?K=X.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===j&&X.includes("configurableApp")?K="instantapps":"web mapping application"===j||"mobile application"===j||"application"===j||"operation view"===j||"desktop application"===j?K="apps":"map document"===j||"map package"===j||"published map"===j||"scene document"===j||"globe document"===j||"basemap package"===j||"mobile basemap package"===j||"mobile map package"===j||"project package"===j||"project template"===j||"pro map"===j||"layout"===j||"layer"===j&&X.includes("ArcGIS Pro")||"explorer map"===j&&X.indexOf("Explorer Document")?K="mapsgray":"service definition"===j||"shapefile"===j||"cad drawing"===j||"geojson"===j||"netcdf"===j||"administrative report"===j?K="datafiles":"360 vr experience"===j?K="360vr":"explorer add in"===j||"desktop add in"===j||"windows viewer add in"===j||"windows viewer configuration"===j?K="appsgray":"arcgis pro add in"===j||"arcgis pro configuration"===j?K="addindesktop":"pdf"===j?K="pdf":"microsoft word"===j?K="word":"microsoft excel"===j?K="excel":"microsoft powerpoint"===j?K="ppt":"rule package"===j||"file geodatabase"===j||"sqlite geodatabase"===j||"csv collection"===j||"kml collection"===j||"windows mobile package"===j||"map template"===j||"desktop application template"===j||"gml"===j||"arcpad package"===j||"code sample"===j||"document link"===j||"earth configuration"===j||"operations dashboard add in"===j||"rules package"===j||"workflow manager package"===j||"explorer map"===j&&X.includes("Explorer Mapping Application")||X.includes("Document")?K="datafilesgray":"network analysis service"===j||"geoprocessing service"===j||"geodata service"===j||"geometry service"===j||"geoprocessing package"===j||"locator package"===j||"geoprocessing sample"===j||"workflow manager service"===j?K="toolsgray":"layer"===j||"layer package"===j||"explorer layer"===j?K="layersgray":"analysis model"===j?K="analysismodel":"scene package"===j?K="scenepackage":"3dtiles package"===j?K="3dtileslayerpackage":"3dtiles service"===j?K="3dtileslayer":"mobile scene package"===j?K="mobilescenepackage":"tile package"===j||"compact tile package"===j?K="tilepackage":"task file"===j?K="taskfile":"report template"===j?K="report-template":"statistical data collection"===j?K="statisticaldatacollection":"insights workbook"===j?K="workbook":"insights model"===j?K="insightsmodel":"insights page"===j?K="insightspage":"insights theme"===j?K="insightstheme":"hub initiative"===j?K="hubinitiative":"hub page"===j?K="hubpage":"hub site application"===j?K="hubsite":"hub event"===j?K="hubevent":"hub project"===j?K="hubproject":"relational database connection"===j?K="relationaldatabaseconnection":"big data file share"===j?K="datastorecollection":"image collection"===j?K="imagecollection":"desktop style"===j?K="desktopstyle":"style"===j?K=X.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===j?K="dashboard":"raster function template"===j?K="rasterprocessingtemplate":"vector tile package"===j?K="vectortilepackage":"ortho mapping project"===j?K="orthomappingproject":"ortho mapping template"===j?K="orthomappingtemplate":"solution"===j?K="solutions":"geopackage"===j?K="geopackage":"deep learning package"===j?K="deeplearningpackage":"real time analytic"===j?K="realtimeanalytics":"reality mapping project"===j?K="realitymappingproject":"big data analytic"===j?K="bigdataanalytics":"feed"===j?K="feed":"excalibur imagery project"===j?K="excaliburimageryproject":"notebook"===j?K="notebook":"storymap"===j?K="storymap":"survey123 add in"===j?K="survey123addin":"mission"===j?K="mission":"mission report"===j?K="missionreport":"mission template"===j?K="missiontemplate":"quickcapture project"===j?K="quickcaptureproject":"pro report"===j?K="proreport":"pro report template"===j?K="proreporttemplate":"urban model"===j?K="urbanmodel":"urban project"===j?K="urbanproject":"web experience"===j?K="experiencebuilder":"web experience template"===j?K="webexperiencetemplate":"experience builder widget"===j?K="experiencebuilderwidget":"experience builder widget package"===j?K="experiencebuilderwidgetpackage":"workflow"===j?K="workflow":"kernel gateway connection"===j?K="kernelgatewayconnection":"insights script"===j?K="insightsscript":"hub initiative template"===j?K="hubinitiativetemplate":"storymap theme"===j?K="storymaptheme":"knowledge graph"===j?K="knowledgegraph":"knowledge graph layer"===j?K="knowledgegraphlayer":"knowledge studio project"===j?K="knowledgestudio":"native application"===j?K="nativeapp":"native application installer"===j?K="nativeappinstaller":"web link chart"===j?K="linkchart":"knowledge graph web investigation"===j?K="investigation":"ogcfeatureserver"===j?K="features":"pro presentation"===j?K="propresentation":"pro project"===j?K="proproject":"insights workbook package"===j?K="insightsworkbookpackage":"apache parquet"===j?K="apacheparquet":"notebook code snippet library"===j?K="notebookcodesnippets":"suitability model"===j?K="suitabilitymodel":"esri classifier definition"===j?K="classifierdefinition":"esri classification schema"===j?K="classificationschema":"insights data engineering workbook"===j?K="dataengineeringworkbook":"insights data engineering model"===j?K="dataengineeringmodel":"deep learning studio project"===j?K="deeplearningproject":"discussion"===j?K="discussion":"allsource project"===j?K="allsourceproject":"api key"===j?K="apikey":"data pipeline"===j?K="datapipelines":"group layer"===j?(Oe=X.includes("Map"),K=Oe?"layergroup2d":"layergroup"):K="media layer"===j?"onlinemedialayer":"form"===j?X.includes("Survey123")?"survey":"datafilesgray":"csv"===j?"csv":"image"===j?"image":"maps",K?(0,w.s)("esri/images/portal/"+K+"16.png"):null}get isLayer(){return null!=this.type&&te.has(this.type)}get itemCdnUrl(){return(0,Y.a)(this.itemUrl)}get itemPageUrl(){const j=this.portal?.itemPageUrl;return j&&this.id?`${j}?id=${this.id}`:null}get itemUrl(){const j=this.portal?.restUrl;return j&&this.id?`${j}/content/items/${this.id}`:null}get thumbnailUrl(){const j=this.itemUrl,X=this.thumbnail;return j&&X?this.portal?.normalizeUrl(`${j}/info/${X}?f=json`)??null:null}get userItemUrl(){const j=this.portal?.restUrl;if(!j)return null;const X=this.owner||this.portal?.user?.username;return X?`${j}/content/users/${this.ownerFolder?`${X}/${this.ownerFolder}`:X}/items/${this.id}`:null}load(j){const X=this.portal??(this.portal=U.A.getDefault()),A=X.load(j).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?X.request(this.itemUrl,{signal:null!=j?j.signal:null,query:{token:this.apiKey}}):{}).then(ie=>{this.sourceJSON=ie,this.read(ie)});return this.addResolvingPromise(A),Promise.resolve(this)}addRating(j){var X=this;return(0,d.A)(function*(){const A={method:"post",query:{}},ie=j instanceof H?j.rating:j;return null==ie||isNaN(ie)||"number"!=typeof j||(A.query.rating=ie),X.portal?(yield X.portal.request(X.itemUrl+"/addRating",A),new H({rating:ie,created:new Date})):null})()}clone(){const j={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,F.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,F.o8)(this.categories),classification:(0,F.o8)(this.classification),created:(0,F.o8)(this.created),culture:this.culture,description:this.description,extent:(0,F.o8)(this.extent),groupCategories:(0,F.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,F.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,F.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,F.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,F.o8)(this.typeKeywords),url:this.url};this.loaded&&(j.loadStatus="loaded");const X=new z({sourceJSON:this.sourceJSON}).set(j);return X._set("isOrgItem",this.isOrgItem),X}createPostQuery(){const j=this.toJSON();for(const X of["tags","typeKeywords","categories"])j[X]=j[X]?.join(", ");for(const X of["extent","classification"]){const A=j[X];A&&(j[X]=JSON.stringify(A))}return j}deleteRating(){var j=this;return(0,d.A)(function*(){yield j.portal.request(j.itemUrl+"/deleteRating",{method:"post"})})()}fetchData(j="json",X){return this.portal.request(this.itemUrl+"/data",{responseType:j,...X,query:{token:this.apiKey}})}fetchRating(j){var X=this;return(0,d.A)(function*(){const A=yield X.portal.request(X.itemUrl+"/rating",{query:{token:X.apiKey},...j});return null!=A.rating?(A.created=new Date(A.created),new H(A)):null})()}fetchRelatedItems(j,X){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...j,token:this.apiKey},...X},z)}getThumbnailUrl(j){let X=this.thumbnailUrl;return X&&j&&(X+=`&w=${j}`),X}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(j=>(this.applicationProxies&&!Object.hasOwn(j,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=j,this.read(j),this))}update(j){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const X=j?.data,A={method:"post"};A.query=this.createPostQuery();for(const ie in A.query)null===A.query[ie]&&(A.query[ie]="");return A.query.clearEmptyFields=!0,null!=X&&("string"==typeof X?A.query.text=X:"object"==typeof X&&(A.query.text=JSON.stringify(X))),this.portal.request(`${this.userItemUrl}/update`,A).then(()=>this.reload())}):Promise.reject(new _.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}copy(j){var X=this;return(0,d.A)(function*(){if(!X.id)throw new _.A("portal:item-does-not-exist","The item does not exist yet");yield X.load();const{portal:A,itemUrl:ie}=X;yield A.signIn();const{copyResources:K,folder:B,tags:G,title:se}=j||{},J={method:"post",query:{copyPrivateResources:"all"===K,folder:"string"==typeof B?B:B?.id,includeResources:!!K,tags:G?.join(","),title:se}},{itemId:ce}=yield A.request(`${ie}/copy`,J);return new z({id:ce,portal:A})})()}updateThumbnail(j){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const X=j.thumbnail,A=j.filename,ie={method:"post"};if("string"==typeof X)ie.query=(0,T.DB)(X)?{data:X}:{url:(0,T.s2)(X)},null!=A&&(ie.query.filename=A);else{const K=new FormData;null!=A?K.append("file",X,A):K.append("file",X),ie.body=K}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,ie).then(()=>this.reload())}):Promise.reject(new _.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}fetchResources(j={},X){var A=this;return(0,d.A)(function*(){const{fetchResources:ie}=yield u.e(7340).then(u.bind(u,57340));return ie(A,j,X)})()}addResource(j,X,A){var ie=this;return(0,d.A)(function*(){const{addOrUpdateResources:K}=yield u.e(7340).then(u.bind(u,57340));return j.portalItem=ie,yield K(ie,[{resource:j,content:X,compress:A?.compress,access:A?.access}],"add",A),j})()}removeResource(j,X){var A=this;return(0,d.A)(function*(){const{removeResource:ie}=yield u.e(7340).then(u.bind(u,57340));if(j.portalItem&&j.portalItem.itemUrl!==A.itemUrl)throw new _.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return ie(A,j,X)})()}removeAllResources(j){var X=this;return(0,d.A)(function*(){const{removeAllResources:A}=yield u.e(7340).then(u.bind(u,57340));return A(X,j)})()}resourceFromPath(j){return new L({portalItem:this,path:j})}toJSON(){const j=this.extent,X={accessInformation:this.accessInformation,categories:(0,F.o8)(this.categories),classification:(0,F.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:j&&[[j.xmin,j.ymin],[j.xmax,j.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,F.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,F.o8)(this.typeKeywords),url:this.url};return(0,F.oy)(X)}static fromJSON(j){if(!j)return null;if(j.declaredClass)throw new Error("JSON object is already hydrated");return new z({sourceJSON:j})}_getPostQuery(){const j=this.toJSON();for(const X in j)"tags"===X&&null!==j[X]&&(j[X]=j[X].join(", ")),"typeKeywords"===X&&null!==j[X]&&(j[X]=j[X].join(", ")),"extent"===X&&j[X]&&(j[X]=JSON.stringify(j[X]));return j}};(0,p._)([(0,y.MZ)({type:["private","shared","org","public"]})],Q.prototype,"access",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"accessInformation",void 0),(0,p._)([(0,y.MZ)({type:String})],Q.prototype,"apiKey",void 0),(0,p._)([(0,y.MZ)({json:{read:{source:"appProxies"}}})],Q.prototype,"applicationProxies",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"avgRating",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"categories",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"classification",void 0),(0,p._)([(0,y.MZ)({type:Date})],Q.prototype,"created",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"culture",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"description",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"displayName",null),(0,p._)([(0,y.MZ)({type:N.A})],Q.prototype,"extent",void 0),(0,p._)([(0,P.w)("extent")],Q.prototype,"readExtent",null),(0,p._)([(0,y.MZ)()],Q.prototype,"groupCategories",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"iconUrl",null),(0,p._)([(0,y.MZ)()],Q.prototype,"id",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"isLayer",null),(0,p._)([(0,y.MZ)({type:Boolean,readOnly:!0})],Q.prototype,"isOrgItem",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"itemControl",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"itemPageUrl",null),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"itemUrl",null),(0,p._)([(0,y.MZ)()],Q.prototype,"licenseInfo",void 0),(0,p._)([(0,y.MZ)({type:Date})],Q.prototype,"modified",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"name",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"numComments",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"numRatings",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"numViews",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"owner",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"ownerFolder",void 0),(0,p._)([(0,y.MZ)({type:U.A})],Q.prototype,"portal",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"screenshots",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"size",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"snippet",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"sourceJSON",void 0),(0,p._)([(0,y.MZ)({type:String})],Q.prototype,"sourceUrl",void 0),(0,p._)([(0,y.MZ)({type:String})],Q.prototype,"spatialReference",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"tags",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"thumbnail",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"thumbnailUrl",null),(0,p._)([(0,y.MZ)()],Q.prototype,"title",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"type",void 0),(0,p._)([(0,y.MZ)()],Q.prototype,"typeKeywords",void 0),(0,p._)([(0,y.MZ)({type:String,json:{read(j,X){if(ee.has(X.type)){const A=this.portal?.restUrl;j||=A&&this.id?`${A}/content/items/${this.id}/data`:null}return j}}})],Q.prototype,"url",void 0),(0,p._)([(0,y.MZ)({readOnly:!0})],Q.prototype,"userItemUrl",null),Q=z=(0,p._)([(0,C.$)("esri.portal.PortalItem")],Q);const q=Q},12629:(xe,re,u)=>{u.d(re,{A:()=>W});var C,d=u(8189),p=u(98877),w=u(49976),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(76576)),y=u(28067),E=u(32034),P=u(55039);const N=new w.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let U=C=class extends p.A{constructor(O){super(O),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(O){"asc"!==O&&"desc"!==O||this._set("sortOrder",O)}clone(){return new C({categories:this.categories?(0,_.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(O,v){let M=[];this.categories&&(M=this.categories.map(L=>Array.isArray(L)?JSON.stringify(L):L));let m="";if(this.extent){const L=(0,P.Cv)(this.extent,E.A.WGS84);null!=L&&(m=`${L.xmin},${L.ymin},${L.xmax},${L.ymax}`)}let Z=this.query;!this.disableExtraQuery&&O.extraQuery&&(Z="("+Z+")"+O.extraQuery);const D={categories:M,bbox:m,q:Z,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(D.sortField=this.sortField.split(",").map(L=>N.toJSON(L.trim())).join(","),D.sortOrder=this.sortOrder),{query:{...v,...D}}}};(0,d._)([(0,I.MZ)()],U.prototype,"categories",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"disableExtraQuery",void 0),(0,d._)([(0,I.MZ)({type:y.A})],U.prototype,"extent",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"filter",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"num",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"query",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"sortField",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"sortOrder",null),(0,d._)([(0,I.MZ)()],U.prototype,"start",void 0),U=C=(0,d._)([(0,T.$)("esri.portal.PortalQueryParams")],U);const W=U},52606:(xe,re,u)=>{u.d(re,{A:()=>W});var d=u(10467),p=u(8189),w=u(5922),_=u(71065),I=u(85211),y=(u(3248),u(35150),u(40707),u(76576));let E=class extends _.A{constructor(O){super(O),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const O=this.portal?.restUrl;return O?`${O}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new w.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,p._)([(0,I.MZ)({type:Date})],E.prototype,"created",void 0),(0,p._)([(0,I.MZ)()],E.prototype,"id",void 0),(0,p._)([(0,I.MZ)()],E.prototype,"portal",void 0),(0,p._)([(0,I.MZ)()],E.prototype,"title",void 0),(0,p._)([(0,I.MZ)({readOnly:!0})],E.prototype,"url",null),(0,p._)([(0,I.MZ)()],E.prototype,"username",void 0),E=(0,p._)([(0,y.$)("esri.portal.PortalFolder")],E);const P=E;var N,C=u(99976);let U=N=class extends _.A{constructor(O){super(O),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const O=this.url,v=this.thumbnail;return O&&v?this.portal.normalizeUrl(`${O}/info/${v}?f=json`):null}get userContentUrl(){const O=this.portal?.restUrl;return O?`${O}/content/users/${this.username}`:null}get url(){const O=this.portal?.restUrl;return O?`${O}/community/users/${this.username}`:null}addItem(O){const v=O&&O.item,M=O?.data,m=O?.folder,Z={method:"post"};v&&(Z.query=v.createPostQuery(),null!=M&&("string"==typeof M?Z.query.text=M:"object"==typeof M&&(Z.query.text=JSON.stringify(M))));let D=this.userContentUrl;return m&&(D+="/"+("string"==typeof m?m:m.id)),this.portal.request(D+"/addItem",Z).then(L=>(v.id=L.id,v.portal=this.portal,v.loaded?v.reload():v.load()))}deleteItem(O,v=!1){var M=this;return(0,d.A)(function*(){let m=M.userContentUrl;O.ownerFolder&&(m+="/"+O.ownerFolder);const Z=v?{permanentDelete:!0}:{};yield M.portal.request(m+`/items/${O.id}/delete`,{method:"post",query:Z}),O.id=null,O.portal=null})()}deleteItems(O,v=!1){var M=this;return(0,d.A)(function*(){O=O.slice();const m=M.userContentUrl+"/deleteItems",Z=[],D=O.map(L=>L.id);if(D.length){const L={method:"post",query:{items:D.join(","),permanentDelete:v}},b=yield M.portal.request(m,L);for(const H of b.results){const Y=O.find(ee=>H.itemId===ee.id),z=H.success;let te=null;z?(Y.id=null,Y.portal=null):H.error&&(te=new w.A("portal:delete-item-failed",H.error.message,H.error)),Z.push({item:Y,success:z,error:te})}}return Z})()}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then(v=>{let M;return M=v&&v.folders?v.folders.map(m=>{const Z=P.fromJSON(m);return Z.portal=this.portal,Z}):[],M})}fetchGroups(){return this.portal.request(this.url??"").then(O=>{let v;return v=O&&O.groups?O.groups.map(M=>{const m=C.A.fromJSON(M);return m.portal=this.portal,m}):[],v})}fetchItems(O){var v=this;return(0,d.A)(function*(){O??={};let M=v.userContentUrl??"";O.folder&&(M+="/"+O.folder.id);const{default:m}=yield Promise.resolve().then(u.bind(u,46577)),Z={folders:!1,inRecycleBin:!!O.inRecycleBin||null,foldersContent:!(O.folder||!O.includeSubfolderItems)||null,num:O.num||10,start:O.start||1,sortField:O.sortField||"created",sortOrder:O.sortOrder||"asc"},D=yield v.portal.request(M,{query:Z});let L;return D?.items?(L=D.items.map(b=>{const H=m.fromJSON(b);return H.portal=v.portal,H}),yield Promise.all(L.map(b=>b.load())),{items:L,nextStart:D.nextStart,total:D.total}):{items:[],nextStart:-1,total:0}})()}fetchTags(){return this.portal.request(this.url+"/tags").then(O=>O.tags)}getThumbnailUrl(O){let v=this.thumbnailUrl;return v&&O&&(v+=`&w=${O}`),v}queryFavorites(O){return this.favGroupId?(this._favGroup||(this._favGroup=new C.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(O)):Promise.reject(new w.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}restoreItem(O,v){var M=this;return(0,d.A)(function*(){const m=M.userContentUrl,Z=v?{folderID:"string"==typeof v?v:v.id}:null;yield M.portal.request(m+`/items/${O.id}/restore`,{method:"post",query:Z})})()}toJSON(){throw new w.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(O){if(!O)return null;if(O.declaredClass)throw new Error("JSON object is already hydrated");const v=new N({sourceJSON:O});return v.read(O),v}};(0,p._)([(0,I.MZ)()],U.prototype,"access",void 0),(0,p._)([(0,I.MZ)({type:Date})],U.prototype,"created",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"culture",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"description",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"email",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"favGroupId",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"fullName",void 0),(0,p._)([(0,I.MZ)({type:Date})],U.prototype,"modified",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"orgId",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"portal",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"preferredView",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"privileges",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"region",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"role",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"roleId",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"sourceJSON",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"thumbnail",void 0),(0,p._)([(0,I.MZ)({readOnly:!0})],U.prototype,"thumbnailUrl",null),(0,p._)([(0,I.MZ)()],U.prototype,"units",void 0),(0,p._)([(0,I.MZ)({readOnly:!0})],U.prototype,"userContentUrl",null),(0,p._)([(0,I.MZ)({readOnly:!0})],U.prototype,"url",null),(0,p._)([(0,I.MZ)()],U.prototype,"username",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"userLicenseTypeId",void 0),(0,p._)([(0,I.MZ)()],U.prototype,"userType",void 0),U=N=(0,p._)([(0,y.$)("esri.portal.PortalUser")],U);const W=U},17595:(xe,re,u)=>{u.d(re,{$E:()=>_,py:()=>w,qG:()=>I});const d=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,p={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function w(F){const R=F?.match(d);if(!R)return null;const[,T,y,E]=R;if(!T)return null;let P=null,C=null,N=null;const{devext:U,qaext:W,www:O}=p;if(y)if(P=T,E)switch(E.toLowerCase()){case"devext":({customBaseUrl:C,portalHostname:N}=U);break;case"qa":({customBaseUrl:C,portalHostname:N}=W);break;default:return null}else({customBaseUrl:C,portalHostname:N}=O);else switch(T.toLowerCase()){case"devext":({customBaseUrl:C,portalHostname:N}=U);break;case"qaext":({customBaseUrl:C,portalHostname:N}=W);break;case"www":({customBaseUrl:C,portalHostname:N}=O);break;default:return null}return{customBaseUrl:C,isPortal:!1,portalHostname:N,urlKey:P}}function _(F){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(F)}function I(F){const R=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,T=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,y=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return R.test(F)?F=F.replace(R,"https://www.arcgis.com"):T.test(F)?F=F.replace(T,"https://devext.arcgis.com"):y.test(F)&&(F=F.replace(y,"https://qaext.arcgis.com")),F}},89563:(xe,re,u)=>{u.d(re,{A:()=>U});var d=u(10467),p=u(23098),w=u(77469),_=u(5922),I=u(3248),F=u(77806),R=u(60797),T=u(56492),y=u(45272),E=u(68438),P=u(17595),C=u(2174),N=u(3450);function U(Le,Re){return W.apply(this,arguments)}function W(){return W=(0,d.A)(function*(Le,Re){Le instanceof URL&&(Le=Le.toString()),Re?.query instanceof URLSearchParams&&(Re.query=(0,y.zf)(Re.query.toString().replaceAll("+"," ")));const oe=(0,y.DB)(Le),S=(0,y.w8)(Le);S||oe||(Le=(0,y.S8)(Le));const k={url:Le,requestOptions:{...Re}},ae=Te=>({data:Te,getAllHeaders:L,getHeader:L,httpStatus:200,requestOptions:k.requestOptions,url:k.url}),he=(0,y.sC)(Le,v.internalInterceptors);if(he){const Te=yield B(he,k);if(null!=Te)return ae(Te)}let Ae=(0,y.sC)(Le);if(Ae){const Te=yield B(Ae,k);if(null!=Te)return ae(Te);Ae.after||Ae.error||(Ae=null)}if(Le=k.url,"image"===(Re=k.requestOptions).responseType&&((0,I.A)("host-webworker")||(0,I.A)("host-node")))throw z("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),k);if("head"===Re.method){if(Re.body)throw z("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),k);if(oe||S)throw z("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),k)}if(yield function te(){return ee.apply(this,arguments)}(),O)return O.execute(Le,Re);const je=new AbortController,Fe=(0,T.u7)(Re,()=>je.abort()),Ue={controller:je,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:Ae,params:k,redoRequest:!1,useIdentity:v.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},We=Re.useRequestQueue?function _e(Le){return Ce.apply(this,arguments)}(Ue):Oe(Ue),ue=yield We.finally(()=>Fe?.remove());return Ae?.after?.(ue),ue}),W.apply(this,arguments)}let O;const v=p.A.request,M="FormData"in globalThis,m=new Set([499,498,403,401]),Z=new Set(["COM_0056","COM_0057","SB_0008"]),D=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],L=()=>null,b=Symbol();function Y(Le){const Re=(0,y.$z)(Le);return!Re||Re.endsWith(".arcgis.com")||U._corsServers.includes(Re)||(0,y.FL)(Re)}function z(Le,Re,oe,S){let k="Error";const ae={url:oe.url,requestOptions:oe.requestOptions,getAllHeaders:L,getHeader:L,ssl:!1};if(Re instanceof _.A)return Re.details?(Re.details=(0,F.o8)(Re.details),Re.details.url=oe.url,Re.details.requestOptions=oe.requestOptions):Re.details=ae,Re;if(Re){const he=S&&(()=>Array.from(S.headers)),Ae=S&&(Ue=>S.headers.get(Ue)),je=S?.status,Fe=Re.message;Fe&&(k=Fe),he&&Ae&&(ae.getAllHeaders=he,ae.getHeader=Ae),ae.httpStatus=(null!=Re.httpCode?Re.httpCode:Re.code)||je||0,ae.subCode=Re.subcode,ae.messageCode=Re.messageCode,ae.messages="string"==typeof Re.details?[Re.details]:Re.details,ae.raw=b in Re?Re[b]:Re}return(0,T.zf)(Re)?(0,T.NK)():new _.A(Le,k,ae)}function ee(){return(ee=(0,d.A)(function*(){(0,I.A)("host-webworker")&&!O&&(O=yield u.e(7985).then(u.bind(u,27985)))})).apply(this,arguments)}function Q(){return q.apply(this,arguments)}function q(){return(q=(0,d.A)(function*(){w.id||(yield u.e(963).then(u.bind(u,90963)))})).apply(this,arguments)}function X(){return(X=(0,d.A)(function*(Le){const Re=Le.params.url,oe=Le.params.requestOptions,S=Le.controller.signal,k=oe.body;let ae=null,he=null;if(M&&"HTMLFormElement"in globalThis&&(k instanceof FormData?ae=k:k instanceof HTMLFormElement&&(ae=new FormData(k))),"string"==typeof k&&(he=k),Le.fetchOptions={cache:oe.cacheBust?"no-cache":"default",credentials:"same-origin",headers:oe.headers||{},method:"head"===oe.method?"HEAD":"GET",mode:"cors",priority:v.priority,redirect:"follow",signal:S},(ae||he)&&(Le.fetchOptions.body=ae||he),"anonymous"===oe.authMode&&(Le.useIdentity=!1),Le.hasToken=!!(/token=/i.test(Re)||oe.query?.token||ae?.get("token")),!Le.hasToken&&(0,C.Jn)(Re)&&(oe.query||(oe.query={}),oe.query.token=p.A.apiKey,Le.hasToken=!0),Le.useIdentity&&!Le.hasToken&&!Le.credentialToken&&!A(Re)&&!(0,T.G4)(S)){let Ae;"immediate"===oe.authMode?(yield Q(),Ae=yield w.id.getCredential(Re,{signal:S}),Le.credential=Ae):"no-prompt"===oe.authMode?(yield Q(),Ae=yield w.id.getCredential(Re,{prompt:!1,signal:S}).catch(()=>{}),Le.credential=Ae):w.id&&(Ae=w.id.findCredential(Re)),Ae&&(Le.credentialToken=Ae.token,Le.useSSL=!!Ae.ssl)}})).apply(this,arguments)}function A(Le){return D.some(Re=>Re.test(Le))}function ie(Le){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(Le){let Re=Le.params.url;const oe=Le.params.requestOptions,S=Le.fetchOptions??{},k=(0,y.w8)(Re)||(0,y.DB)(Re),ae=oe.responseType||"json",he=k?0:null!=oe.timeout?oe.timeout:v.timeout;let Ae=!1;if(!k){Le.useSSL&&(Re=(0,y.lM)(Re));let ue={...oe.query};Le.credentialToken&&(ue.token=Le.credentialToken);let Te=(0,y.x0)(ue);(0,I.A)("esri-url-encodes-apostrophe")&&(Te=Te.replaceAll("'","%27"));const we=Re.length+1+Te.length;let ze;Ae="delete"===oe.method||"post"===oe.method||"put"===oe.method||!!oe.body||we>v.maxUrlLength;const Ee=oe.useProxy||!!(0,y.zs)(Re);if(Ee){const Me=(0,y.s_)(Re);ze=Me.path,!Ae&&ze.length+1+we>v.maxUrlLength&&(Ae=!0),Me.query&&(ue={...Me.query,...ue})}if("HEAD"===S.method&&(Ae||Ee)){if(Ae)throw z("request:invalid-parameters",we>v.maxUrlLength?new Error("URL exceeds maximum length"):new Error("cannot use POST request when method is 'head'"),Le.params);if(Ee)throw z("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),Le.params)}Ae?(S.method="delete"===oe.method?"DELETE":"put"===oe.method?"PUT":"POST",oe.body?Re=(0,y.a6)(Re,ue):(S.body=(0,y.x0)(ue),S.headers||(S.headers={}),S.headers["Content-Type"]="application/x-www-form-urlencoded")):Re=(0,y.a6)(Re,ue),Ee&&(Le.useProxy=!0,Re=`${ze}?${Re}`),ue.token&&M&&S.body instanceof FormData&&!(0,P.$E)(Re)&&S.body.set("token",ue.token),oe.hasOwnProperty("withCredentials")?Le.withCredentials=oe.withCredentials:(0,y.FX)(Re,(0,y.Xq)())||((0,y.FL)(Re)||w.id&&w.id.findServerInfo(Re)?.webTierAuth)&&(Le.withCredentials=!0),Le.withCredentials&&(S.credentials="include",(0,N.xW)(Re)&&(yield(0,N.m3)(Ae?(0,y.a6)(Re,ue):Re)))}let je,Fe,Ue=0,We=!1;he>0&&(Ue=setTimeout(()=>{We=!0,Le.controller.abort()},he));try{if("native-request-init"===oe.responseType)Fe=S,Fe.url=Re,oe.signal?Fe.signal=oe.signal:delete Fe.signal;else if("image"!==oe.responseType||"default"!==S.cache||"GET"!==S.method||Ae||function se(Le){if(Le)for(const Re of Object.getOwnPropertyNames(Le))if(Le[Re])return!0;return!1}(oe.headers)||!k&&!Le.useProxy&&v.proxyUrl&&!Y(Re)){if(U._beforeFetch&&(yield U._beforeFetch(Re,S)),je=yield fetch(Re,S),U._afterFetch&&(yield U._afterFetch(je)),Le.useProxy||function H(Le){const Re=(0,y.$z)(Le);Re&&!U._corsServers.includes(Re)&&U._corsServers.push(Re)}(Re),"native"===oe.responseType)Fe=je;else if("HEAD"!==S.method)if(je.ok){switch(ae){case"array-buffer":Fe=yield je.arrayBuffer();break;case"blob":case"image":Fe=yield je.blob();break;default:Fe=yield je.text()}if(Ue&&(clearTimeout(Ue),Ue=0),"json"===ae||"xml"===ae||"document"===ae)if(Fe)switch(ae){case"json":Fe=JSON.parse(Fe);break;case"xml":Fe=J(Fe,"application/xml");break;case"document":Fe=J(Fe,"text/html")}else Fe=null;if(Fe){if("array-buffer"===ae||"blob"===ae){const ue=je.headers.get("Content-Type");if(ue&&/application\/json|text\/plain/i.test(ue)&&Fe["blob"===ae?"size":"byteLength"]<=750)try{const Te=yield new Response(Fe).json();Te.error&&(Fe=Te)}catch{}}"image"===ae&&Fe instanceof Blob&&(Fe=yield ge(URL.createObjectURL(Fe),Le,!0))}}else{Fe=yield je.text();try{Fe=JSON.parse(Fe)}catch{}}}else Fe=yield ge(Re,Le)}catch(ue){if("AbortError"===ue.name)throw We?(0,N.ql)():(0,T.NK)("Request canceled");if(!(!je&&ue instanceof TypeError&&v.proxyUrl)||oe.body||"delete"===oe.method||"head"===oe.method||"post"===oe.method||"put"===oe.method||Le.useProxy||Y(Re))throw ue;Le.redoRequest=!0,(0,y.oy)({proxyUrl:v.proxyUrl,urlPrefix:(0,y.$z)(Re)??""})}finally{Ue&&clearTimeout(Ue)}return[je,Fe]})).apply(this,arguments)}function B(Le,Re){return G.apply(this,arguments)}function G(){return(G=(0,d.A)(function*(Le,Re){if(null!=Le.responseData)return Le.responseData;if(Le.headers&&(Re.requestOptions.headers={...Re.requestOptions.headers,...Le.headers}),Le.query&&(Re.requestOptions.query={...Re.requestOptions.query,...Le.query}),Le.before){let oe,S;try{S=yield Le.before(Re)}catch(k){oe=z("request:interceptor",k,Re)}if((S instanceof Error||S instanceof _.A)&&(oe=z("request:interceptor",S,Re)),oe)throw Le.error&&Le.error(oe),oe;return S}})).apply(this,arguments)}function J(Le,Re){let oe;try{oe=(new DOMParser).parseFromString(Le,Re)}catch{}if(!oe||oe.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return oe}U._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],U._beforeFetch=void 0,U._afterFetch=void 0;const ce=new Map;function Ce(){return(Ce=(0,d.A)(function*(Le){const Re=function Be(Le){let Re,oe;return"string"==typeof Le?(Re=(0,y.$z)(Le,!0),oe=(0,E.Wo)(Le)):(Re=Le.origin,oe=(0,E.Wo)(Le.toString())),null==Re?null:{origin:Re,isHosted:oe}}(Le.params.url);if(!Re)return Oe(Le);const{QueueProcessor:oe}=yield u.e(1635).then(u.bind(u,71635));return(0,R.tE)(ce,Re.origin,()=>{const k=(0,I.A)(Re.isHosted?"request-queue-concurrency-hosted":"request-queue-concurrency-non-hosted");return new oe({concurrency:k,process:ae=>{if((0,T.G4)(ae.params.requestOptions))throw z("",(0,T.NK)("Request canceled"),ae.params);return Oe(ae)}})}).push(Le)})).apply(this,arguments)}function Oe(Le){return fe.apply(this,arguments)}function fe(){return fe=(0,d.A)(function*(Le){let Re,oe;yield function j(Le){return X.apply(this,arguments)}(Le);try{do{[Re,oe]=yield ie(Le)}while(!(yield Se(Le,Re,oe)))}catch(ae){const he=z("request:server",ae,Le.params,Re);throw he.details.ssl=Le.useSSL,Le.interceptor?.error&&Le.interceptor.error(he),he}const S=Le.params.url;if(oe&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(S)){if(!Le.hasToken&&!Le.credentialToken&&oe.user?.username&&!(0,y.FL)(S)){const ae=(0,y.$z)(S,!0);ae&&v.trustedServers.push(ae)}Array.isArray(oe.authorizedCrossOriginNoCorsDomains)&&(0,N.tz)(oe.authorizedCrossOriginNoCorsDomains)}const k=Le.credential;if(k&&w.id){let he=w.id.findServerInfo(k.server)?.owningSystemUrl;if(he){he=he.replace(/\/?$/,"/sharing");const Ae=w.id.findCredential(he,k.userId);Ae&&-1===w.id._getIdenticalSvcIdx(he,Ae)&&Ae.resources.unshift(he)}}return{data:oe,getAllHeaders:Re?()=>Array.from(Re.headers):L,getHeader:Re?ae=>Re.headers.get(ae):L,httpStatus:Re?.status??200,requestOptions:Le.params.requestOptions,ssl:Le.useSSL,url:Le.params.url}}),fe.apply(this,arguments)}function Se(Le,Re,oe){return me.apply(this,arguments)}function me(){return(me=(0,d.A)(function*(Le,Re,oe){if(Le.redoRequest)return Le.redoRequest=!1,!1;const S=Le.params.requestOptions;if(!Re||"native"===S.responseType||"native-request-init"===S.responseType)return!0;let k,ae;if(oe&&(oe.error&&"object"==typeof oe.error?k=oe.error:"error"===oe.status&&Array.isArray(oe.messages)&&(k={...oe},k[b]=oe,k.details=oe.messages)),!k&&!Re.ok)throw k=new Error(`Unable to load ${Re.url} status: ${Re.status}`),k[b]=oe,k;let he,Ae=null;k&&(ae=Number(k.code),Ae=k.hasOwnProperty("subcode")?Number(k.subcode):null,he=k.messageCode,he=he?.toUpperCase());const je=S.authMode;if(403===ae&&(4===Ae||k.message?.toLowerCase().includes("ssl")&&!k.message.toLowerCase().includes("permission"))){if(!Le.useSSL)return Le.useSSL=!0,!1}else if(!Le.hasToken&&Le.useIdentity&&("no-prompt"!==je||498===ae)&&void 0!==ae&&m.has(ae)&&!A(Le.params.url)&&(403!==ae||(!he||!Z.has(he))&&(null==Ae||2===Ae&&Le.credentialToken))){yield Q();try{const Fe=yield w.id.getCredential(Le.params.url,{error:z("request:server",k,Le.params),prompt:"no-prompt"!==je,signal:Le.controller.signal,token:Le.credentialToken});return Le.credential=Fe,Le.credentialToken=Fe.token,Le.useSSL=Le.useSSL||Fe.ssl,!1}catch(Fe){if("no-prompt"===je)return Le.credential=void 0,Le.credentialToken=void 0,!1;k=Fe}}if(k)throw k;return!0})).apply(this,arguments)}function ge(Le,Re,oe=!1){const S=Re.controller.signal,k=new Image;return k.crossOrigin=Re.withCredentials?"use-credentials":"anonymous",k.alt="",k.fetchPriority=v.priority,k.src=Le,(0,N.Sx)(k,Le,oe,S)}},28524:(xe,re,u)=>{u.d(re,{V:()=>w,X:()=>p});var d=u(61320);function p(_){return{geometryType:(0,d.$B)(_[0]),geometries:_.map(I=>I.toJSON())}}function w(_,I,F){const R=(0,d.xD)(I);return _.map(T=>{const y=R.fromJSON(T);return y.spatialReference=F,y})}},22772:(xe,re,u)=>{u.d(re,{A:()=>N});var E,d=u(8189),p=u(49976),w=u(71065),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(76576)),y=u(28067);const P=new p.J({upperLeft:"upper-left",lowerLeft:"lower-left"});let C=E=class extends w.A{constructor(U){super(U),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new E((0,_.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,d._)([(0,I.MZ)({type:y.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],C.prototype,"extent",void 0),(0,d._)([(0,I.MZ)({type:["view","edit"],json:{write:!0}})],C.prototype,"mode",void 0),(0,d._)([(0,I.MZ)({type:String,json:{read:P.read,write:P.write}})],C.prototype,"originPosition",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],C.prototype,"tolerance",void 0),C=E=(0,d._)([(0,T.$)("esri.rest.support.QuantizationParameters")],C);const N=C},87086:(xe,re,u)=>{u.d(re,{A:()=>Q});var d=u(8189),p=u(49976),w=u(71065),_=u(77806),I=u(85211),F=u(48669),R=u(15463),T=u(76576),y=u(50305),E=u(55739),P=u(1749),C=u(32034),N=u(61320),U=u(6434),W=u(93164),O=u(90660);u(3248),u(35150),u(40707);let Z=class extends(O.A.ClonableMixin(w.A)){constructor(q){super(q),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,d._)([(0,I.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],Z.prototype,"onFields",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],Z.prototype,"operator",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],Z.prototype,"searchTerm",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],Z.prototype,"searchType",void 0),Z=(0,d._)([(0,T.$)("esri.rest.support.FullTextSearch")],Z);const D=Z;var z,L=u(22772),b=u(37086),H=u(16842),Y=u(17181);const te=new p.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ee=z=class extends w.A{static from(q){return(0,E.PZ)(z,q)}constructor(q){super(q),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(q){return"number"==typeof q||"object"==typeof q?q:null}writeHistoricMoment(q,j){j.historicMoment=q&&q.getTime()}writeParameterValues(q,j){if(q){const X={};for(const A in q){const ie=q[A];X[A]=Array.isArray(ie)?ie.map(K=>K instanceof Date?K.getTime():K):ie instanceof Date?ie.getTime():ie}j.parameterValues=X}}writeStart(q,j){j.resultOffset=this.start,j.resultRecordCount=this.num||10,j.where="1=1"}writeWhere(q,j){j.where=q||"1=1"}clone(){return new z((0,_.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};ee.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,d._)([(0,I.MZ)({json:{write:!0}})],ee.prototype,"aggregateIds",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],ee.prototype,"cacheHint",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"compactGeometryEnabled",void 0),(0,d._)([(0,I.MZ)({json:{write:!0}})],ee.prototype,"datumTransformation",void 0),(0,d._)([(0,F.w)("datumTransformation")],ee.prototype,"castDatumTransformation",null),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"defaultSpatialReferenceEnabled",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],ee.prototype,"distance",void 0),(0,d._)([(0,I.MZ)({type:W.L,json:{write:!0}})],ee.prototype,"dynamicDataSource",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"formatOf3DObjects",void 0),(0,d._)([(0,I.MZ)({type:[D],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],ee.prototype,"fullText",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"gdbVersion",void 0),(0,d._)([(0,I.MZ)({types:U.yR,json:{read:N.rS,write:!0}})],ee.prototype,"geometry",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],ee.prototype,"geometryPrecision",void 0),(0,d._)([(0,I.MZ)({type:[String],json:{write:!0}})],ee.prototype,"groupByFieldsForStatistics",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"having",void 0),(0,d._)([(0,I.MZ)({type:Date})],ee.prototype,"historicMoment",void 0),(0,d._)([(0,y.K)("historicMoment")],ee.prototype,"writeHistoricMoment",null),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],ee.prototype,"maxAllowableOffset",void 0),(0,d._)([(0,I.MZ)({type:Number,cast:q=>q<1?1:q>ee.MAX_MAX_RECORD_COUNT_FACTOR?ee.MAX_MAX_RECORD_COUNT_FACTOR:q,json:{write:{overridePolicy:q=>({enabled:q>1})}}})],ee.prototype,"maxRecordCountFactor",void 0),(0,d._)([(0,I.MZ)({type:["xyFootprint"],json:{write:!0}})],ee.prototype,"multipatchOption",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],ee.prototype,"num",void 0),(0,d._)([(0,I.MZ)({json:{write:!0}})],ee.prototype,"objectIds",void 0),(0,d._)([(0,I.MZ)({type:[String],json:{write:!0}})],ee.prototype,"orderByFields",void 0),(0,d._)([(0,I.MZ)({type:[String],json:{write:!0}})],ee.prototype,"outFields",void 0),(0,d._)([(0,I.MZ)({type:C.A,json:{name:"outSR",write:!0}})],ee.prototype,"outSpatialReference",void 0),(0,d._)([(0,I.MZ)({type:[H.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],ee.prototype,"outStatistics",void 0),(0,d._)([(0,I.MZ)({json:{write:!0}})],ee.prototype,"parameterValues",void 0),(0,d._)([(0,y.K)("parameterValues")],ee.prototype,"writeParameterValues",null),(0,d._)([(0,I.MZ)({type:P.A,json:{write:!0}})],ee.prototype,"pixelSize",void 0),(0,d._)([(0,I.MZ)({type:L.A,json:{write:!0}})],ee.prototype,"quantizationParameters",void 0),(0,d._)([(0,I.MZ)({type:[Object],json:{write:!0}})],ee.prototype,"rangeValues",void 0),(0,d._)([(0,I.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],ee.prototype,"relationParameter",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"resultType",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"returnCentroid",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"returnDistinctValues",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!0,write:!0}})],ee.prototype,"returnExceededLimitFeatures",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],ee.prototype,"returnGeometry",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"returnQueryGeometry",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"returnM",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:{overridePolicy:q=>({enabled:q})}}})],ee.prototype,"returnZ",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],ee.prototype,"returnTrueCurves",void 0),(0,d._)([(0,I.MZ)({type:C.A,json:{write:!0}})],ee.prototype,"sourceSpatialReference",void 0),(0,d._)([(0,R.e)(b.x,{ignoreUnknown:!1,name:"spatialRel"})],ee.prototype,"spatialRelationship",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],ee.prototype,"start",void 0),(0,d._)([(0,y.K)("start"),(0,y.K)("num")],ee.prototype,"writeStart",null),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"sqlFormat",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],ee.prototype,"text",void 0),(0,d._)([(0,I.MZ)({type:Y.A,json:{write:!0}})],ee.prototype,"timeExtent",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{default:!1,write:!0}})],ee.prototype,"timeReferenceUnknownClient",void 0),(0,d._)([(0,R.e)(te,{ignoreUnknown:!1}),(0,I.MZ)({json:{write:{overridePolicy(q){return{enabled:!!q&&null!=this.distance}}}}})],ee.prototype,"units",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:{overridePolicy(q){return{enabled:null!=q||null!=this.start&&this.start>0}}}}})],ee.prototype,"where",void 0),(0,d._)([(0,y.K)("where")],ee.prototype,"writeWhere",null),ee=z=(0,d._)([(0,T.$)("esri.rest.support.Query")],ee);const Q=ee},16842:(xe,re,u)=>{u.d(re,{A:()=>N});var E,d=u(8189),p=u(49976),w=u(71065),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(76576)),y=u(50305);const P=new p.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let C=E=class extends w.A{constructor(U){super(U),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(U,W){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(W.statisticParameters=(0,_.o8)(U))}clone(){return new E({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,_.o8)(this.statisticParameters)})}};(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],C.prototype,"maxPointCount",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],C.prototype,"maxRecordCount",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],C.prototype,"maxVertexCount",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],C.prototype,"onStatisticField",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],C.prototype,"outStatisticFieldName",void 0),(0,d._)([(0,I.MZ)({type:String,json:{read:{source:"statisticType",reader:P.read},write:{target:"statisticType",writer:P.write}}})],C.prototype,"statisticType",void 0),(0,d._)([(0,I.MZ)({type:Object})],C.prototype,"statisticParameters",void 0),(0,d._)([(0,y.K)("statisticParameters")],C.prototype,"writeStatisticParameters",null),C=E=(0,d._)([(0,T.$)("esri.rest.support.StatisticDefinition")],C);const N=C},37086:(xe,re,u)=>{u.d(re,{x:()=>p});const p=new(u(49976).J)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},68800:(xe,re,u)=>{u.d(re,{Dl:()=>R,jV:()=>F,lF:()=>T}),u(23098),u(77469);var w=u(77806),_=u(45272);function F(E,P){return P?{...P,query:{...E??{},...P.query}}:{query:E}}function R(E){return"string"==typeof E?(0,_.An)(E):(0,w.o8)(E)}function T(E,P,C){const N={};for(const U in E){if("declaredClass"===U)continue;const W=E[U];if(null!=W&&"function"!=typeof W)if(Array.isArray(W))N[U]=W.map(O=>T(O));else if("object"==typeof W)if(W.toJSON){const O=W.toJSON(C?.[U]);N[U]=P?O:JSON.stringify(O)}else N[U]=P?W:JSON.stringify(W);else N[U]=W}return N}u(2174)},27641:(xe,re,u)=>{u.d(re,{Y:()=>P});var d=u(8189),p=u(81098),_=(u(35150),u(55739)),T=(u(3248),u(40707),u(5922),u(69039)),y=u(76576),E=u(88494);let P=class extends E.X{_own(C){C.layer&&"remove"in C.layer&&C.layer!==this.owner&&C.layer.remove(C),C.layer=this.owner}_release(C){C.layer===this.owner&&(C.layer=null)}};(0,d._)([(0,T.u)({Type:p.A,ensureType:(0,_.dp)(p.A)})],P.prototype,"itemType",void 0),P=(0,d._)([(0,y.$)("esri.support.GraphicsCollection")],P)},74613:(xe,re,u)=>{u.d(re,{Q:()=>C});var d=u(8189),p=u(31178),w=u(5605),_=u(35150),I=u(56492),F=u(85211),y=(u(3248),u(40707),u(76576)),E=u(95478);function P(N,U,W){let O,v;if(N)for(let M=0,m=N.length;M<m;M++){if(O=N.at(M),O?.[U]===W)return O;if("group"===O?.type&&(v=P(O.layers,U,W),v))return v}}const C=N=>{let U=class extends N{constructor(...W){super(...W),this.layers=new p.A;const v=m=>{m.parent=this,this.layerAdded(m),"elevation"!==m.type&&"base-elevation"!==m.type||_.A.getLogger(this).error(`Layer 'title:${m.title}, id:${m.id}' of type '${m.type}' is not supported as an operational layer and will therefore be ignored.`)},M=m=>{m.parent=null,this.layerRemoved(m)};this.addHandles([this.layers.on("before-add",m=>{if(m.item===this)return m.preventDefault(),void _.A.getLogger(this).error("#add()","Cannot add layer to itself.");(m=>{m.parent&&"remove"in m.parent&&m.parent.remove(m)})(m.item)}),this.layers.on("after-add",m=>v(m.item)),this.layers.on("after-remove",m=>M(m.item))])}destroy(){const W=this.layers.toArray();for(const O of W)O.destroy();this.layers.destroy()}set layers(W){this._set("layers",(0,w.V)(W,this._get("layers")))}add(W,O){const v=this.layers;if(O=v.getNextIndex(O),W instanceof E.A){const M=W;M.parent===this?this.reorder(M,O):v.add(M,O)}else(0,I.$X)(W)?W.then(M=>{this.destroyed||this.add(M,O)}):_.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(W,O){const v=this.layers;let M=v.getNextIndex(O);W.slice().forEach(m=>{m.parent!==this?(v.add(m,M),M+=1):this.reorder(m,M)})}findLayerById(W){return P(this.layers,"id",W)}findLayerByUid(W){return P(this.layers,"uid",W)}remove(W){return this.layers.remove(W)}removeMany(W){return this.layers.removeMany(W)}removeAll(){return this.layers.removeAll()}reorder(W,O){return this.layers.reorder(W,O)}layerAdded(W){}layerRemoved(W){}};return(0,d._)([(0,F.MZ)()],U.prototype,"layers",null),U=(0,d._)([(0,y.$)("esri.support.LayersMixin")],U),U}},93480:(xe,re,u)=>{u.d(re,{l:()=>P});var d=u(8189),p=u(31178),w=u(5605),_=u(35150),I=u(85211),T=(u(3248),u(40707),u(76576));const y=new Set(["feature","subtype-group"]);function E(C,N,U){if(C)for(let W=0,O=C.length;W<O;W++){const v=C.at(W);if(v[N]===U)return v;if("group"===v?.type){const M=E(v.tables,N,U);if(M)return M}}}const P=C=>{let N=class extends C{constructor(...U){super(...U),this.tables=new p.A,this.addHandles([this.tables.on("after-add",W=>{const O=W.item;O.parent&&O.parent!==this&&"tables"in O.parent&&O.parent.tables.remove(O),O.parent=this,y.has(O.type)||_.A.getLogger(this).error(`Layer 'title:${O.title}, id:${O.id}' of type '${O.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",W=>{W.item.parent=null})])}destroy(){const U=this.tables.toArray();for(const W of U)W.destroy();this.tables.destroy()}set tables(U){this._set("tables",(0,w.V)(U,this._get("tables")))}findTableById(U){return E(this.tables,"id",U)}findTableByUid(U){return E(this.tables,"uid",U)}};return(0,d._)([(0,I.MZ)()],N.prototype,"tables",null),N=(0,d._)([(0,T.$)("esri.support.TablesMixin")],N),N}},52491:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(98877),w=u(3046),_=u(85211),T=(u(3248),u(35150),u(40707),u(76576));let E=y=class extends(w.A.IdentifiableMixin(p.A)){constructor(C){super(C),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new y({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,d._)([(0,_.MZ)()],E.prototype,"active",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"className",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"disabled",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"icon",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"id",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"indicator",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"title",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"type",void 0),(0,d._)([(0,_.MZ)()],E.prototype,"visible",void 0),E=y=(0,d._)([(0,T.$)("esri.support.actions.ActionBase")],E);const P=E},11342:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52491);let y=T=class extends R.A{constructor(P){super(P),this.image=null,this.type="button"}clone(){return new T({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,d._)([(0,p.MZ)()],y.prototype,"image",void 0),y=T=(0,d._)([(0,F.$)("esri.support.actions.ActionButton")],y);const E=y},41866:(xe,re,u)=>{u.d(re,{A:()=>E});var T,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(52491);let y=T=class extends R.A{constructor(P){super(P),this.image=null,this.type="toggle",this.value=!1}clone(){return new T({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,d._)([(0,p.MZ)()],y.prototype,"image",void 0),(0,d._)([(0,p.MZ)()],y.prototype,"value",void 0),y=T=(0,d._)([(0,F.$)("esri.support.actions.ActionToggle")],y);const E=y},2174:(xe,re,u)=>{u.d(re,{Jn:()=>F});var d=u(23098),p=u(45272);const w=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function F(R,T){return!(!T&&!d.A.apiKey||!function I(R){const T=(0,p.$z)(R,!0);return!!T&&T.endsWith(".arcgis.com")&&!w.has(T)&&!R.endsWith("/sharing/rest/generateToken")}(R))}},48573:(xe,re,u)=>{function d(I){if(!I)return;const F=I.match(p);return F?.groups?F.groups.doubleQuoted??F.groups.singleQuoted??F.groups.dotNotation:void 0}u.d(re,{D:()=>w,o:()=>d});const p=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function w(I){return I.match(_)?.[1]?.replace(/\\'/g,"'")??null}const _=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},48218:(xe,re,u)=>{u.d(re,{Ad:()=>C,QY:()=>T,lw:()=>E,xR:()=>N});var d=u(10467),p=u(61299),w=u(5922),_=u(35150),I=u(32034);const R=["geometry","scale","timeProperties"];function T(W,O){if(null!=O)for(const v of R)O.hasArcadeDependency(v)&&W.add(v);return W}let y;function E(){return y||(y=(0,d.A)(function*(){const W=yield Promise.all([u.e(1732),u.e(1329),u.e(9324),u.e(2933),u.e(9266),u.e(8596)]).then(u.bind(u,98596));return{arcade:W.arcade,arcadeUtils:W,Dictionary:W.Dictionary,Feature:W.arcadeFeature,Voxel:W.Voxel}})()),y}const C=(W,O,v)=>U.create(W,O,v,null,["$feature","$view"],[]),N=(W,O,v,M)=>U.create(W,O,v,M,["$feature","$view"],[]);class U{constructor(O,v,M,m,Z,D,L){this._dependencies=new Map,this.services=null,this.script=O,this.evaluate=m;const b=Array.isArray(D)?D:D?.fields;this.fields=b??[],this._syntaxTree=M,this._arcade=v,this._arcadeFeature=Z,this._spatialReference=L,this._dependencies.set("geometry",v.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static create(O,v,M,m,Z,D){return(0,d.A)(function*(){const{arcade:L,Feature:b,Dictionary:H}=yield E(),Y=v instanceof I.A?v:I.A.fromJSON(v);let z;try{z=L.parseScript(O,D)}catch(J){return _.A.getLogger("esri.support.arcadeOnDemand").error(new w.A("arcade-bad-expression","Failed to parse arcade script",{script:O,error:J})),null}const te=Z.reduce((J,ce)=>({...J,[ce]:null}),{});let ee=null;null!=m&&(ee=new H(m),ee.immutable=!0,te.$config=null);const Q=L.scriptUsesGeometryEngine(z),q=Q&&L.enableGeometrySupport(),j=L.scriptUsesFeatureSet(z)&&L.enableFeatureSetSupport(),X=L.scriptIsAsync(z),A=X&&L.enableAsyncSupport(),ie={vars:te,spatialReference:Y,useAsync:!!A};yield Promise.all([q,j,A]);const K=new Set;yield L.loadDependentModules(K,z,null,X,Q);const B=new H;B.immutable=!1,B.setField("scale",0);const G=L.compileScript(z,ie);return new U(O,L,z,(J,ce)=>{const _e=J.$view?.timeZone;if("$view"in J&&J.$view){let Ce;if(B.setField("scale","object"==typeof J.$view&&"scale"in J.$view?J.$view.scale:void 0),"object"==typeof J.$view&&"timeProperties"in J.$view&&null!=J.$view.timeProperties){const{currentStart:Oe,currentEnd:fe}=J.$view.timeProperties;Ce=new H({currentStart:null!=Oe?null!=_e?p.lY.epochToArcadeDate(Oe,_e):p.lY.unknownEpochToArcadeDate(Oe):void 0,currentEnd:null!=fe?null!=_e?p.lY.epochToArcadeDate(fe,_e):p.lY.unknownEpochToArcadeDate(fe):void 0,startIncluded:!0,endIncluded:!0})}B.setField("timeProperties",Ce),J.$view=B}return ee&&(J.$config=ee),G({vars:J,spatialReference:Y,services:ce,timeZone:_e})},new b,M,Y)})()}repurposeFeature(O){return O.geometry&&!O.geometry.spatialReference&&(O.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(O.geometry,O.attributes,{fields:this.fields}),this._arcadeFeature}references(O){return this._dependencies.get(O)??!1}}},52706:(xe,re,u)=>{function d(w){const _=atob(w),I=new Uint8Array(_.length);for(let F=0;F<_.length;F++)I[F]=_.charCodeAt(F);return I.buffer}function p(w){const _=new Uint8Array(w);let I="";for(let F=0;F<_.length;F++)I+=String.fromCharCode(_[F]);return btoa(I)}u.d(re,{M:()=>d,Y:()=>p})},37361:(xe,re,u)=>{u.d(re,{H:()=>F,q:()=>_});var d=u(10467),p=u(90261),w=u(45846);function _(R){return I.apply(this,arguments)}function I(){return(I=(0,d.A)(function*(R){if(!R)return;const T=R.includes("-vector")?R.slice(0,R.indexOf("-vector")):R.includes("-3d")?R.slice(0,R.indexOf("-3d")):R,y=yield(0,w.ud)("esri/t9n/basemaps");return y[R]||y[T]})).apply(this,arguments)}const F={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,p.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}}},71470:(xe,re,u)=>{function R(q,j){return!(!q.basemap?.referenceLayers?.some(X=>X.uid===j)&&!q.basemap?.baseLayers?.some(X=>X.uid===j))}u.d(re,{ns:()=>R}),u(31178),u(45272),u(26073),u(37361)},76227:(xe,re,u)=>{u.d(re,{X:()=>w,Z:()=>p});var d=u(2993);function p(_){return new d.A({getCollections:()=>[_.tables,_.layers],getChildrenFunction:I=>{const F=[];return"tables"in I&&F.push(I.tables),"layers"in I&&F.push(I.layers),F},itemFilterFunction:I=>{const F=I.parent;return!!F&&"tables"in F&&F.tables.includes(I)}})}function w(_){for(const I of _.values())I?.destroy();_.clear()}},3527:(xe,re,u)=>{u.d(re,{UE:()=>C,Xi:()=>P,gz:()=>N});var d=u(11432),p=u(68778),w=u(44549);const T=["HH:mm:ss.SSS","HH:mm:ss","HH:mm","TT"],y="yyyy-MM-dd";function P(U){if(!U||!(0,p.Kg)(U))return null;const W=w.c9.fromFormat(U,y);return W.isValid?W:null}function C(U){return U&&(0,p.Kg)(U)?(0,d.Pb)(T,W=>{const O=w.c9.fromFormat(U,W);return O.isValid?O:null})??null:null}function N(U){if(!U||!(0,p.Kg)(U))return null;const W=w.c9.fromISO(U);return W.isValid?W:null}},68778:(xe,re,u)=>{function d(E){return"number"==typeof E}function p(E){return"number"==typeof E&&isFinite(E)&&Math.floor(E)===E}function w(E){return"boolean"==typeof E}function _(E){return"string"==typeof E||E instanceof String}function I(E){return null==E||_(E)}function F(E){return Array.isArray(E)}function R(E){return"esri.Graphic"===E?.declaredClass}function y(E){return E instanceof Date}u.d(re,{$P:()=>y,CO:()=>I,DU:()=>R,Et:()=>d,Fq:()=>p,Kg:()=>_,Lm:()=>w,cy:()=>F})},3450:(xe,re,u)=>{u.d(re,{Sx:()=>F,c8:()=>E,m3:()=>N,ql:()=>y,tz:()=>P,xW:()=>C});var d=u(10467),p=u(23098),w=u(3248),_=u(56492),I=u(45272);function F(W,O,v=!1,M){return new Promise((m,Z)=>{if((0,_.G4)(M))return void Z(R());let D=()=>{H(),Z(new Error(`Unable to load ${O}`))},L=()=>{const Y=W;H(),m(Y)},b=()=>{if(!W)return;const Y=W;H(),Y.src="",Z(R())};const H=()=>{(0,w.A)("esri-image-decode")||(W.removeEventListener("error",D),W.removeEventListener("load",L)),D=null,L=null,W=null,M?.removeEventListener("abort",b),b=null,v&&URL.revokeObjectURL(O)};M?.addEventListener("abort",b),(0,w.A)("esri-image-decode")?W.decode().then(L,D):(W.addEventListener("error",D),W.addEventListener("load",L))})}function R(){try{return new DOMException("Aborted","AbortError")}catch{const W=new Error;return W.name="AbortError",W}}const T="Timeout exceeded";function y(){return new Error(T)}function E(W){return"object"==typeof W&&!!W&&"message"in W&&W.message===T}function P(W){p.A.request.crossOriginNoCorsDomains||(p.A.request.crossOriginNoCorsDomains={});const O=p.A.request.crossOriginNoCorsDomains;for(let v of W)v=v.toLowerCase(),/^https?:\/\//.test(v)?O[(0,I.$z)(v)??""]=0:(O[(0,I.$z)("http://"+v)??""]=0,O[(0,I.$z)("https://"+v)??""]=0)}function C(W){const O=p.A.request.crossOriginNoCorsDomains;if(O){let v=(0,I.$z)(W);if(v)return v=v.toLowerCase(),!(0,I.FX)(v,(0,I.Xq)())&&O[v]<Date.now()-36e5}return!1}function N(W){return U.apply(this,arguments)}function U(){return(U=(0,d.A)(function*(W){const O=(0,I.An)(W);W=O.path,"json"===O.query?.f&&(W+="?f=json");try{yield fetch(W,{mode:"no-cors",credentials:"include"})}catch{}const v=p.A.request.crossOriginNoCorsDomains,M=(0,I.$z)(W);v&&M&&(v[M.toLowerCase()]=Date.now())})).apply(this,arguments)}},97333:(xe,re,u)=>{u.d(re,{$:()=>d,u:()=>p});const d="20250407",p="04d2b42da93678ca718b23aaf7e216985f10fa8e"},67722:(xe,re,u)=>{u.d(re,{fJ:()=>_,g4:()=>w,hY:()=>I});const d="calcite-mode-";function w(){return function p(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"")}().startsWith("dark")}function _(){return`${d}${w()?"dark":"light"}`}function I(R){(function F(R){Array.from(R.classList).forEach(T=>{T.startsWith(d)&&R.classList.remove(T)})})(R),R.classList.add(_())}},81279:(xe,re,u)=>{u.d(re,{A:()=>O});var U,d=u(10467),p=u(8189),w=u(77806),_=u(1119),I=u(85211),T=(u(3248),u(35150),u(15463)),y=u(17221),E=u(76576),P=u(50305),C=u(86300),N=u(84986);let W=U=class extends N.A{constructor(v){super(v),this.data=null,this.type="cim"}readData(v,M){return M}writeData(v,M){Object.assign(M,v)}collectRequiredFields(v,M){var m=this;return(0,d.A)(function*(){if("CIMSymbolReference"===m.data?.type){const Z=m.data.primitiveOverrides;if(Z){const D=Z.map(L=>{const b=L.valueExpressionInfo;return b?(0,C.Dx)(v,M,b.expression):null});yield Promise.all(D)}}})()}clone(){return new U({data:(0,w.o8)(this.data)})}hash(){return(0,_.Wm)(JSON.stringify(this.data)).toString()}};(0,p._)([(0,I.MZ)({json:{write:!1}})],W.prototype,"color",void 0),(0,p._)([(0,I.MZ)({json:{write:!0}})],W.prototype,"data",void 0),(0,p._)([(0,y.w)("data",["symbol"])],W.prototype,"readData",null),(0,p._)([(0,P.K)("data",{})],W.prototype,"writeData",null),(0,p._)([(0,T.e)({CIMSymbolReference:"cim"},{readOnly:!0})],W.prototype,"type",void 0),W=U=(0,p._)([(0,E.$)("esri.symbols.CIMSymbol")],W);const O=W},64209:(xe,re,u)=>{u.d(re,{A:()=>N});var P,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(15463)),R=u(76576),T=u(20736),y=u(91033),E=u(74760);let C=P=class extends T.A{constructor(U){super(U),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new P({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};(0,d._)([(0,F.e)({Extrude:"extrude"},{readOnly:!0})],C.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],C.prototype,"size",void 0),(0,d._)([(0,p.MZ)({type:E.N,json:{write:!0}})],C.prototype,"material",void 0),(0,d._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],C.prototype,"castShadows",void 0),(0,d._)([(0,p.MZ)(y.J)],C.prototype,"edges",void 0),C=P=(0,d._)([(0,R.$)("esri.symbols.ExtrudeSymbol3DLayer")],C);const N=C},48827:(xe,re,u)=>{u.d(re,{A:()=>E});var d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(55417),T=u(84986);let y=class extends T.A{constructor(P){super(P),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,d._)([(0,p.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":R.A}},json:{default:null,write:!0}})],y.prototype,"outline",void 0),(0,d._)([(0,p.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],y.prototype,"type",void 0),y=(0,d._)([(0,F.$)("esri.symbols.FillSymbol")],y);const E=y},92262:(xe,re,u)=>{u.d(re,{A:()=>ee});var v,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(15463)),R=u(76576),T=u(20736),y=u(91033),E=u(7798),P=u(91541),C=u(11451),N=u(47146),W=(u(5922),u(25866)),O=u(74760);let M=v=class extends O.N{constructor(Q){super(Q),this.colorMixMode=null}clone(){const Q={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?(0,W.o8)(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new v(Q)}};(0,d._)([(0,F.e)({multiply:"multiply",replace:"replace",tint:"tint"})],M.prototype,"colorMixMode",void 0),M=v=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DFillMaterial")],M);var H,m=u(68677),Z=u(71065),D=u(67685),L=u(86646),b=u(64439);let Y=H=class extends Z.A{constructor(Q){super(Q),this.color=new m.A([0,0,0,1]),this.size=(0,D.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){const Q={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new H(Q)}};var z;(0,d._)([(0,p.MZ)((0,L.E)({colorRequiredOnWrite:!0}))],Y.prototype,"color",void 0),(0,d._)([(0,p.MZ)({...L.p,json:{write:{isRequired:!0}}})],Y.prototype,"size",void 0),(0,d._)([(0,p.MZ)(C.v)],Y.prototype,"pattern",void 0),(0,d._)([(0,p.MZ)({type:b.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],Y.prototype,"patternCap",void 0),Y=H=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DOutline")],Y);let te=z=class extends T.A{constructor(Q){super(Q),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const Q={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new z(Q)}static fromSimpleFillSymbol(Q){const q=Q.outline&&Q.outline.style&&"solid"!==Q.outline.style?new E.A({style:Q.outline.style}):null,j={size:Q.outline?.width??0,color:(Q.outline?.color??N.ON).clone(),pattern:q};return q&&Q.outline?.cap&&(j.patternCap=Q.outline.cap),new z({material:new M({color:(Q.color??N.u7).clone()}),pattern:Q.style&&"solid"!==Q.style?new P.A({style:Q.style}):null,outline:j})}};(0,d._)([(0,F.e)({Fill:"fill"},{readOnly:!0})],te.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:M,json:{write:!0}})],te.prototype,"material",void 0),(0,d._)([(0,p.MZ)(C.r)],te.prototype,"pattern",void 0),(0,d._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],te.prototype,"castShadows",void 0),(0,d._)([(0,p.MZ)({type:Y,json:{write:!0}})],te.prototype,"outline",void 0),(0,d._)([(0,p.MZ)(y.J)],te.prototype,"edges",void 0),te=z=(0,d._)([(0,R.$)("esri.symbols.FillSymbol3DLayer")],te);const ee=te},9015:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(71065),w=u(67685),_=u(85211),I=u(48669),T=(u(3248),u(40707),u(76576)),y=u(68448);let P=E=class extends p.A{constructor(N){super(N),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(N){return(0,w.cr)(N)}clone(){return new E({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,d._)([(0,_.MZ)({type:y.h9,json:{default:"none",write:!0}})],P.prototype,"decoration",void 0),(0,d._)([(0,_.MZ)({type:String,json:{write:!0}})],P.prototype,"family",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{write:{overridePolicy:(N,U,W)=>({enabled:!W||!W.textSymbol3D})}}})],P.prototype,"size",void 0),(0,d._)([(0,I.w)("size")],P.prototype,"castSize",null),(0,d._)([(0,_.MZ)({type:y._R,json:{default:"normal",write:!0}})],P.prototype,"style",void 0),(0,d._)([(0,_.MZ)({type:y.NM,json:{default:"normal",write:!0}})],P.prototype,"weight",void 0),P=E=(0,d._)([(0,T.$)("esri.symbols.Font")],P);const C=P},34808:(xe,re,u)=>{u.d(re,{A:()=>H});var M,d=u(8189),p=u(77806),w=u(35150),_=u(45272),I=u(85211),R=(u(3248),u(15463)),T=u(76576),y=u(20736),E=u(47146),P=u(28831),C=u(86646),N=u(68021),U=u(68677),W=u(71065),O=u(67685);u(40707);let m=M=class extends W.A{constructor(Q){super(Q),this.color=new U.A([0,0,0,1]),this.size=(0,O.PN)(1)}clone(){const Q={color:null!=this.color?this.color.clone():null,size:this.size};return new M(Q)}};(0,d._)([(0,I.MZ)((0,C.E)({colorRequiredOnWrite:!0}))],m.prototype,"color",void 0),(0,d._)([(0,I.MZ)({...C.p,json:{write:{isRequired:!0}}})],m.prototype,"size",void 0),m=M=(0,d._)([(0,T.$)("esri.symbols.support.Symbol3DIconOutline")],m);var D,Z=u(74760);const L="esri.symbols.IconSymbol3DLayer";let b=D=class extends y.A{constructor(Q){super(Q),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new D({anchor:this.anchor,anchorPosition:(0,p.o8)(this.anchorPosition),enabled:this.enabled,material:(0,p.o8)(this.material),outline:(0,p.o8)(this.outline),resource:(0,p.o8)(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(Q){const q=Q.color||E.ON,j=Y(Q),X=Q.outline&&Q.outline.width>0?{size:Q.outline.width,color:(Q.outline.color||E.ON).clone()}:null;return new D({size:Q.size,angle:Q.angle,resource:{primitive:ee(Q.style)},material:{color:q},outline:X,anchor:j?"relative":void 0,anchorPosition:j})}static fromPictureMarkerSymbol(Q){const q=!Q.color||(0,E.U9)(Q.color)?E.ON:Q.color,j=Y(Q);return new D({size:Q.width<=Q.height?Q.height:Q.width,angle:Q.angle,resource:{href:Q.url},material:{color:q.clone()},anchor:j?"relative":void 0,anchorPosition:j})}static fromCIMSymbol(Q){return new D({resource:{href:(0,_.Hg)({mediaType:"application/json",data:JSON.stringify(Q.data)})}})}};(0,d._)([(0,I.MZ)({type:Z.N,json:{write:!0}})],b.prototype,"material",void 0),(0,d._)([(0,I.MZ)({type:P.i,json:{write:!0}})],b.prototype,"resource",void 0),(0,d._)([(0,R.e)({Icon:"icon"},{readOnly:!0})],b.prototype,"type",void 0),(0,d._)([(0,I.MZ)({...C.p,json:{write:{isRequired:!0}}})],b.prototype,"size",void 0),(0,d._)([(0,R.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],b.prototype,"anchor",void 0),(0,d._)([(0,I.MZ)({type:N.Q,json:{type:[Number],read:{reader:Q=>new N.Q({x:Q[0],y:Q[1]})},write:{writer:(Q,q)=>{q.anchorPosition=[Q.x,Q.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0),(0,d._)([(0,I.MZ)({type:m,json:{write:!0}})],b.prototype,"outline",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0,default:0}})],b.prototype,"angle",void 0),b=D=(0,d._)([(0,T.$)(L)],b);const H=b;function Y(Q){const q="width"in Q?Q.width:Q.size,j="height"in Q?Q.height:Q.size,X=z(Q.xoffset),A=z(Q.yoffset);return(X||A)&&q&&j?{x:-X/q,y:A/j}:null}function z(Q){return isFinite(Q)?Q:0}const te={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function ee(Q){return te[Q]||(w.A.getLogger(L).warn(`${Q} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}},6241:(xe,re,u)=>{u.d(re,{A:()=>O});var N,d=u(8189),p=u(31178),w=u(77806),_=u(85211),R=(u(3248),u(35150),u(15463)),T=u(76576),y=u(32713),E=u(2329),P=u(34619),C=u(39908);const U=p.A.ofType({base:null,key:"type",typeMap:{text:E.A}});let W=N=class extends y.A{constructor(v){super(v),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new U,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,P.LH)(this)}hasVisibleVerticalOffset(){return(0,P.Yq)(this)}clone(){return new N({styleOrigin:(0,w.o8)(this.styleOrigin),symbolLayers:(0,w.o8)(this.symbolLayers),thumbnail:(0,w.o8)(this.thumbnail),callout:(0,w.o8)(this.callout),verticalOffset:(0,w.o8)(this.verticalOffset)})}static fromTextSymbol(v){return new N({symbolLayers:new p.A([E.A.fromTextSymbol(v)])})}};(0,d._)([(0,_.MZ)({type:C.A,json:{write:!0}})],W.prototype,"verticalOffset",void 0),(0,d._)([(0,_.MZ)(P.oG)],W.prototype,"callout",void 0),(0,d._)([(0,_.MZ)({json:{read:!1,write:!1}})],W.prototype,"styleOrigin",void 0),(0,d._)([(0,_.MZ)({type:U})],W.prototype,"symbolLayers",void 0),(0,d._)([(0,R.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],W.prototype,"type",void 0),W=N=(0,d._)([(0,T.$)("esri.symbols.LabelSymbol3D")],W);const O=W},18399:(xe,re,u)=>{u.d(re,{A:()=>O});var C,d=u(8189),p=u(31178),w=u(77806),_=u(85211),R=(u(3248),u(35150),u(15463)),T=u(76576),y=u(92200),E=u(91485),P=u(32713);const N=p.A.ofType({base:null,key:"type",typeMap:{line:y.A,path:E.A}}),U=p.A.ofType({base:null,key:"type",typeMap:{line:y.A,path:E.A}});let W=C=class extends P.A{constructor(v){super(v),this.symbolLayers=new N,this.type="line-3d"}clone(){return new C({styleOrigin:(0,w.o8)(this.styleOrigin),symbolLayers:(0,w.o8)(this.symbolLayers),thumbnail:(0,w.o8)(this.thumbnail)})}static fromSimpleLineSymbol(v){return new C({symbolLayers:new p.A([y.A.fromSimpleLineSymbol(v)])})}};(0,d._)([(0,_.MZ)({type:N,json:{type:U}})],W.prototype,"symbolLayers",void 0),(0,d._)([(0,R.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],W.prototype,"type",void 0),W=C=(0,d._)([(0,T.$)("esri.symbols.LineSymbol3D")],W);const O=W},92200:(xe,re,u)=>{u.d(re,{A:()=>Y});var d=u(8189),p=u(67685),w=u(85211),R=(u(3248),u(35150),u(40707),u(15463)),T=u(76576),y=u(68677),E=u(90660),P=u(71065),C=u(55739),N=u(29357);let U=class extends(E.A.ClonableMixin(P.A)){constructor(z){super(z),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(z){return null!=z&&z.placement===this.placement&&z.style===this.style&&(null==this.color&&null==z.color||null!=this.color&&null!=z.color&&this.color.toJSON()===z.color.toJSON())}};(0,d._)([(0,w.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],U.prototype,"type",void 0),(0,d._)([(0,w.MZ)({type:N.x,json:{default:"begin-end",write:!0}})],U.prototype,"placement",void 0),(0,d._)([(0,w.MZ)({type:N.z,json:{default:"arrow",write:!0}})],U.prototype,"style",void 0),(0,d._)([(0,w.MZ)({type:y.A,json:{type:[C.jz],default:null,write:!0}})],U.prototype,"color",void 0),U=(0,d._)([(0,T.$)("esri.symbols.LineStyleMarker3D")],U);const W=U;var b,O=u(20736),v=u(7798),M=u(11451),m=u(47146),Z=u(86646),D=u(74760),L=u(64439);let H=b=class extends O.A{constructor(z){super(z),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,p.PN)(1),this.pattern=null,this.marker=null}clone(){const z={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new b(z)}static fromSimpleLineSymbol(z){const te={enabled:!0,size:z.width??(0,p.PN)(1),cap:z.cap||"butt",join:z.join||"miter",pattern:z.style?new v.A({style:z.style}):null,material:new D.N({color:(z.color||m.ON).clone()}),marker:z.marker?new W({placement:z.marker.placement,style:z.marker.style,color:z.marker.color?.clone()??null}):null};return new b(te)}};(0,d._)([(0,w.MZ)({type:D.N,json:{write:!0}})],H.prototype,"material",void 0),(0,d._)([(0,R.e)({Line:"line"},{readOnly:!0})],H.prototype,"type",void 0),(0,d._)([(0,w.MZ)({type:L.e,json:{write:!0,default:"miter"}})],H.prototype,"join",void 0),(0,d._)([(0,w.MZ)({type:L.M4,json:{write:!0,default:"butt"}})],H.prototype,"cap",void 0),(0,d._)([(0,w.MZ)({...Z.p,json:{write:{isRequired:!0}}})],H.prototype,"size",void 0),(0,d._)([(0,w.MZ)(M.v)],H.prototype,"pattern",void 0),(0,d._)([(0,w.MZ)({types:{key:"type",base:W,typeMap:{style:W}},json:{write:!0}})],H.prototype,"marker",void 0),H=b=(0,d._)([(0,T.$)("esri.symbols.LineSymbol3DLayer")],H);const Y=H},65548:(xe,re,u)=>{u.d(re,{A:()=>E});var d=u(8189),p=u(67685),w=u(85211),_=u(55739),R=(u(3248),u(40707),u(76576)),T=u(84986);let y=class extends T.A{constructor(P){super(P),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,d._)([(0,w.MZ)({type:Number,json:{read:P=>P&&-1*P,write:(P,C)=>C.angle=P&&-1*P}})],y.prototype,"angle",void 0),(0,d._)([(0,w.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],y.prototype,"type",void 0),(0,d._)([(0,w.MZ)({type:Number,cast:p.cr,json:{write:!0}})],y.prototype,"xoffset",void 0),(0,d._)([(0,w.MZ)({type:Number,cast:p.cr,json:{write:!0}})],y.prototype,"yoffset",void 0),(0,d._)([(0,w.MZ)({cast:P=>"auto"===P?P:(0,_.GB)((0,p.cr)(P)),json:{write:!0}})],y.prototype,"size",void 0),y=(0,d._)([(0,R.$)("esri.symbols.MarkerSymbol")],y);const E=y},64484:(xe,re,u)=>{u.d(re,{A:()=>U});var P,d=u(8189),p=u(31178),w=u(77806),_=u(85211),R=(u(3248),u(35150),u(15463)),T=u(76576),y=u(92262),E=u(32713);const C=p.A.ofType({base:null,key:"type",typeMap:{fill:y.A}});let N=P=class extends E.A{constructor(W){super(W),this.symbolLayers=new C,this.type="mesh-3d"}clone(){return new P({styleOrigin:(0,w.o8)(this.styleOrigin),symbolLayers:(0,w.o8)(this.symbolLayers),thumbnail:(0,w.o8)(this.thumbnail)})}static fromSimpleFillSymbol(W){return new P({symbolLayers:new p.A([y.A.fromSimpleFillSymbol(W)])})}};(0,d._)([(0,_.MZ)({type:C})],N.prototype,"symbolLayers",void 0),(0,d._)([(0,R.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],N.prototype,"type",void 0),N=P=(0,d._)([(0,T.$)("esri.symbols.MeshSymbol3D")],N);const U=N},33149:(xe,re,u)=>{u.d(re,{A:()=>O});var P,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(15463)),R=u(76576),T=u(20736),y=u(15225),E=u(98877);let C=P=class extends E.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new P({x:this.x,y:this.y,z:this.z})}};(0,d._)([(0,p.MZ)({type:Number})],C.prototype,"x",void 0),(0,d._)([(0,p.MZ)({type:Number})],C.prototype,"y",void 0),(0,d._)([(0,p.MZ)({type:Number})],C.prototype,"z",void 0),C=P=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],C);var U,N=u(74760);let W=U=class extends T.A{constructor(v){super(v),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new U({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,d._)([(0,p.MZ)({type:N.N,json:{write:!0}})],W.prototype,"material",void 0),(0,d._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],W.prototype,"castShadows",void 0),(0,d._)([(0,p.MZ)({type:y.E,json:{write:!0}})],W.prototype,"resource",void 0),(0,d._)([(0,F.e)({Object:"object"},{readOnly:!0})],W.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"width",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"height",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"depth",void 0),(0,d._)([(0,F.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],W.prototype,"anchor",void 0),(0,d._)([(0,p.MZ)({type:C,json:{type:[Number],read:{reader:v=>new C({x:v[0],y:v[1],z:v[2]})},write:{writer:(v,M)=>{M.anchorPosition=[v.x,v.y,v.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],W.prototype,"anchorPosition",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"heading",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"tilt",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],W.prototype,"roll",void 0),(0,d._)([(0,p.MZ)({readOnly:!0})],W.prototype,"isPrimitive",null),W=U=(0,d._)([(0,R.$)("esri.symbols.ObjectSymbol3DLayer")],W);const O=W},91485:(xe,re,u)=>{u.d(re,{A:()=>U});var C,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(15463)),R=u(17221),T=u(76576),y=u(20736),E=u(74760),P=u(64439);let N=C=class extends y.A{constructor(W){super(W),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(W,O){return W??(null==O.height&&null!=O.size?O.size:void 0)}readHeight(W,O){return W??(null==O.width&&null!=O.size?O.size:void 0)}clone(){return new C({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,d._)([(0,p.MZ)({type:E.N,json:{write:!0}})],N.prototype,"material",void 0),(0,d._)([(0,p.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],N.prototype,"castShadows",void 0),(0,d._)([(0,F.e)({Path:"path"},{readOnly:!0})],N.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],N.prototype,"profile",void 0),(0,d._)([(0,p.MZ)({type:P.e,json:{write:!0,default:"miter"}})],N.prototype,"join",void 0),(0,d._)([(0,p.MZ)({type:P.Nv,json:{write:!0,default:"butt"}})],N.prototype,"cap",void 0),(0,d._)([(0,p.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],N.prototype,"width",void 0),(0,d._)([(0,R.w)("width",["width","size","height"])],N.prototype,"readWidth",null),(0,d._)([(0,p.MZ)({type:Number,json:{write:!0}})],N.prototype,"height",void 0),(0,d._)([(0,R.w)("height",["height","size","width"])],N.prototype,"readHeight",null),(0,d._)([(0,p.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],N.prototype,"anchor",void 0),(0,d._)([(0,p.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],N.prototype,"profileRotation",void 0),N=C=(0,d._)([(0,T.$)("esri.symbols.PathSymbol3DLayer")],N);const U=N},65824:(xe,re,u)=>{u.d(re,{A:()=>U});var C,d=u(8189),p=u(77806),w=u(67685),_=u(85211),R=(u(3248),u(35150),u(15463)),T=u(17221),y=u(76576),E=u(65548),P=u(33264);let N=C=class extends E.A{constructor(...W){super(...W),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(W,O,v){if(W&&"string"!=typeof W&&null==W.imageData)return W;const M={};return W&&(M.url=W),null!=O&&(M.width=(0,w.cr)(O)),null!=v&&(M.height=(0,w.cr)(v)),M}readHeight(W,O){return O.size||W}readWidth(W,O){return O.size||W}clone(){const W=new C({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return W._set("source",(0,p.o8)(this.source)),W}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,d._)([(0,_.MZ)({json:{write:!1}})],N.prototype,"color",void 0),(0,d._)([(0,R.e)({esriPMS:"picture-marker"},{readOnly:!0})],N.prototype,"type",void 0),(0,d._)([(0,_.MZ)(P.ku)],N.prototype,"url",void 0),(0,d._)([(0,_.MZ)(P.k7)],N.prototype,"source",void 0),(0,d._)([(0,_.MZ)({type:Number,cast:w.cr,json:{write:!0}})],N.prototype,"height",void 0),(0,d._)([(0,T.w)("height",["height","size"])],N.prototype,"readHeight",null),(0,d._)([(0,_.MZ)({type:Number,cast:w.cr,json:{write:!0}})],N.prototype,"width",void 0),(0,d._)([(0,_.MZ)({json:{write:!1}})],N.prototype,"size",void 0),N=C=(0,d._)([(0,y.$)("esri.symbols.PictureMarkerSymbol")],N);const U=N},25613:(xe,re,u)=>{u.d(re,{A:()=>Z});var v,d=u(8189),p=u(68677),w=u(31178),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(15463)),y=u(76576),E=u(34808),P=u(33149),C=u(32713),N=u(2329),U=u(34619),W=u(53313),O=u(39908);const M=w.A.ofType({base:null,key:"type",typeMap:{icon:E.A,object:P.A,text:N.A}});let m=v=class extends C.A{constructor(D){super(D),this.verticalOffset=null,this.callout=null,this.symbolLayers=new M,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const D of this.symbolLayers.items)switch(D.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,U.LH)(this)}hasVisibleVerticalOffset(){return(0,U.Yq)(this)}clone(){return new v({verticalOffset:(0,_.o8)(this.verticalOffset),callout:(0,_.o8)(this.callout),styleOrigin:(0,_.o8)(this.styleOrigin),symbolLayers:(0,_.o8)(this.symbolLayers),thumbnail:(0,_.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(D){return new v({symbolLayers:new w.A([E.A.fromSimpleMarkerSymbol(D)])})}static fromPictureMarkerSymbol(D){return new v({symbolLayers:new w.A([E.A.fromPictureMarkerSymbol(D)])})}static fromCIMSymbol(D){if("CIMPointSymbol"!==D.data?.symbol?.type)return null;const b=D.data.symbol;return new v(b?.callout?{symbolLayers:new w.A([E.A.fromCIMSymbol(D)]),callout:new W.A({size:.5,color:new p.A([0,0,0])}),verticalOffset:new O.A({screenLength:40})}:{symbolLayers:new w.A([E.A.fromCIMSymbol(D)])})}static fromTextSymbol(D){return new v({symbolLayers:new w.A([N.A.fromTextSymbol(D)])})}};(0,d._)([(0,I.MZ)({type:O.A,json:{write:!0}})],m.prototype,"verticalOffset",void 0),(0,d._)([(0,I.MZ)(U.oG)],m.prototype,"callout",void 0),(0,d._)([(0,I.MZ)({type:M,json:{origins:{"web-scene":{write:!0}}}})],m.prototype,"symbolLayers",void 0),(0,d._)([(0,T.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=v=(0,d._)([(0,y.$)("esri.symbols.PointSymbol3D")],m);const Z=m},27093:(xe,re,u)=>{u.d(re,{A:()=>L});var m,d=u(8189),p=u(31178),w=u(23159),_=u(77806),I=u(35150),F=u(48900),R=u(85211),y=(u(3248),u(15463)),E=u(76576),P=u(64209),C=u(92262),N=u(34808),U=u(92200),W=u(33149),O=u(32713),v=u(2329),M=u(4611);const Z=p.A.ofType({base:null,key:"type",typeMap:{extrude:P.A,fill:C.A,icon:N.A,line:U.A,object:W.A,text:v.A,water:M.A}});let D=m=class extends O.A{constructor(b){super(b),this.symbolLayers=new Z,this.type="polygon-3d"}initialize(){const b=H=>{"line"===H.type&&(0,w.io)(I.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===H.type&&(0,w.io)(I.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const H of this.symbolLayers)b(H);this.addHandles((0,F.on)(()=>this.symbolLayers,"after-add",({item:H})=>b(H),F.OH))}clone(){return new m({styleOrigin:(0,_.o8)(this.styleOrigin),symbolLayers:(0,_.o8)(this.symbolLayers),thumbnail:(0,_.o8)(this.thumbnail)})}static fromJSON(b){const H=new m;if(H.read(b),2===H.symbolLayers.length&&"fill"===H.symbolLayers.at(0).type&&"line"===H.symbolLayers.at(1).type){const Y=H.symbolLayers.at(0),z=H.symbolLayers.at(1);!z.enabled||b.symbolLayers?.[1]&&!1===b.symbolLayers[1].enable||(Y.outline={size:z.size,color:null!=z.material?z.material.color:null}),H.symbolLayers.removeAt(1)}return H}static fromSimpleFillSymbol(b){return new m({symbolLayers:new p.A([C.A.fromSimpleFillSymbol(b)])})}};(0,d._)([(0,R.MZ)({type:Z,json:{write:!0}})],D.prototype,"symbolLayers",void 0),(0,d._)([(0,y.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],D.prototype,"type",void 0),D=m=(0,d._)([(0,E.$)("esri.symbols.PolygonSymbol3D")],D);const L=D},88521:(xe,re,u)=>{u.d(re,{A:()=>W});var C,d=u(8189),p=u(68677),w=u(49976),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(15463)),y=u(76576),E=u(48827),P=u(55417);const N=new w.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let U=C=class extends E.A{constructor(...O){super(...O),this.color=new p.A([0,0,0,.25]),this.outline=new P.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(O,v,M){if(O&&"string"!=typeof O)return O;const m={};return O&&(m.style=O),v&&(m.outline=v),M&&(m.color=M),m}clone(){return new C({color:(0,_.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,d._)([(0,I.MZ)()],U.prototype,"color",void 0),(0,d._)([(0,I.MZ)()],U.prototype,"outline",void 0),(0,d._)([(0,T.e)({esriSFS:"simple-fill"},{readOnly:!0})],U.prototype,"type",void 0),(0,d._)([(0,I.MZ)({type:N.apiValues,json:{read:N.read,write:N.write}})],U.prototype,"style",void 0),U=C=(0,d._)([(0,y.$)("esri.symbols.SimpleFillSymbol")],U);const W=U},55417:(xe,re,u)=>{u.d(re,{A:()=>Y});var d=u(8189),p=u(49976),w=u(77806),_=u(67685),I=u(85211),T=(u(3248),u(35150),u(15463)),y=u(76576),P=(u(40707),u(84986));let C=class extends P.A{constructor(z){super(z),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,d._)([(0,T.e)({esriSLS:"simple-line"},{readOnly:!0})],C.prototype,"type",void 0),(0,d._)([(0,I.MZ)({type:Number,cast:_.cr,json:{write:!0}})],C.prototype,"width",void 0),C=(0,d._)([(0,y.$)("esri.symbols.LineSymbol")],C);const N=C;var m,U=u(68677),W=u(71065),O=u(17221),v=u(50305),M=u(29357);let Z=m=class extends W.A{constructor(z){super(z),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(z,te,ee,Q){te[ee]="web-map"===Q?.origin?"arrow":z}set color(z){this._set("color",z)}readColor(z){return null!=z?.[0]?[z[0],z[1],z[2],z[3]/255]:z}writeColor(z,te,ee,Q){"web-map"===Q?.origin||(te[ee]=z)}clone(){return new m({color:(0,w.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,d._)([(0,I.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],Z.prototype,"placement",void 0),(0,d._)([(0,T.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,I.MZ)({json:{origins:{"web-map":{write:!1}}}})],Z.prototype,"type",void 0),(0,d._)([(0,I.MZ)({type:M.z})],Z.prototype,"style",void 0),(0,d._)([(0,v.K)("style")],Z.prototype,"writeStyle",null),(0,d._)([(0,I.MZ)({type:U.A,value:null,json:{write:{allowNull:!0}}})],Z.prototype,"color",null),(0,d._)([(0,O.w)("color")],Z.prototype,"readColor",null),(0,d._)([(0,v.K)("color")],Z.prototype,"writeColor",null),Z=m=(0,d._)([(0,y.$)("esri.symbols.LineSymbolMarker")],Z);const D=Z;var L;const b=new p.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let H=L=class extends N{constructor(...z){super(...z),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(z,te,ee,Q,q,j){if(z&&"string"!=typeof z)return z;const X={};return null!=z&&(X.style=z),null!=te&&(X.color=te),null!=ee&&(X.width=(0,_.cr)(ee)),null!=Q&&(X.cap=Q),null!=q&&(X.join=q),null!=j&&(X.miterLimit=(0,_.cr)(j)),X}clone(){return new L({color:(0,w.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,d._)([(0,T.e)({esriSLS:"simple-line"},{readOnly:!0})],H.prototype,"type",void 0),(0,d._)([(0,I.MZ)({type:b.apiValues,json:{read:b.read,write:b.write}})],H.prototype,"style",void 0),(0,d._)([(0,I.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(z,te,ee)=>({enabled:"round"!==z&&null==ee?.origin})}}})],H.prototype,"cap",void 0),(0,d._)([(0,I.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(z,te,ee)=>({enabled:"round"!==z&&null==ee?.origin})}}})],H.prototype,"join",void 0),(0,d._)([(0,I.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":D}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],H.prototype,"marker",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{read:!1,write:!1}})],H.prototype,"miterLimit",void 0),H=L=(0,d._)([(0,y.$)("esri.symbols.SimpleLineSymbol")],H);const Y=H},46602:(xe,re,u)=>{u.d(re,{A:()=>v});var U,d=u(8189),p=u(68677),w=u(49976),_=u(77806),I=u(67685),F=u(85211),y=(u(3248),u(35150),u(15463)),E=u(76576),P=u(50305),C=u(65548),N=u(55417);const W=new w.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let O=U=class extends C.A{constructor(...M){super(...M),this.color=new p.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new N.A}normalizeCtorArgs(M,m,Z,D){if(M&&"string"!=typeof M)return M;const L={};return M&&(L.style=M),null!=m&&(L.size=(0,I.cr)(m)),Z&&(L.outline=Z),D&&(L.color=D),L}writeColor(M,m){M&&"x"!==this.style&&"cross"!==this.style&&(m.color=M.toJSON()),null===M&&(m.color=null)}set path(M){this.style="path",this._set("path",M)}clone(){return new U({angle:this.angle,color:(0,_.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,d._)([(0,F.MZ)()],O.prototype,"color",void 0),(0,d._)([(0,P.K)("color")],O.prototype,"writeColor",null),(0,d._)([(0,y.e)({esriSMS:"simple-marker"},{readOnly:!0})],O.prototype,"type",void 0),(0,d._)([(0,F.MZ)()],O.prototype,"size",void 0),(0,d._)([(0,F.MZ)({type:W.apiValues,json:{read:W.read,write:W.write}})],O.prototype,"style",void 0),(0,d._)([(0,F.MZ)({type:String,json:{write:!0}})],O.prototype,"path",null),(0,d._)([(0,F.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":N.A}},json:{default:null,write:!0}})],O.prototype,"outline",void 0),O=U=(0,d._)([(0,E.$)("esri.symbols.SimpleMarkerSymbol")],O);const v=O},84986:(xe,re,u)=>{u.d(re,{A:()=>W});var d=u(10467),p=u(8189),w=u(68677),_=u(49976),I=u(71065),F=u(85211),E=(u(3248),u(35150),u(40707),u(17221)),P=u(76576);const C=new _.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let N=0,U=class extends I.A{constructor(O){super(O),this.id="sym"+N++,this.type=null,this.color=new w.A([0,0,0,1])}readColor(O){return null!=O?.[0]?[O[0],O[1],O[2],O[3]/255]:O}collectRequiredFields(O,v){return(0,d.A)(function*(){})()}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,p._)([(0,F.MZ)({type:C.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:C.write,isRequired:!0}}})],U.prototype,"type",void 0),(0,p._)([(0,F.MZ)({type:w.A,json:{write:{allowNull:!0}}})],U.prototype,"color",void 0),(0,p._)([(0,E.w)("color")],U.prototype,"readColor",null),U=(0,p._)([(0,P.$)("esri.symbols.Symbol")],U);const W=U},32713:(xe,re,u)=>{u.d(re,{A:()=>j});var d=u(8189),p=u(31178),w=u(5605),_=u(35150),I=u(45272),F=u(96996),R=u(85211),T=u(48669),P=(u(3248),u(40707),u(17221)),C=u(76576),N=u(50305),U=u(73874),W=u(88135),O=u(64209),v=u(92262),M=u(34808),m=u(92200),Z=u(33149),D=u(91485),L=u(84986),b=u(20736),H=u(2329),Y=u(4611),z=u(7295),te=u(76124);const ee={icon:M.A,object:Z.A,line:m.A,path:D.A,fill:v.A,extrude:O.A,text:H.A,water:Y.A},Q=p.A.ofType({base:b.A,key:"type",typeMap:ee,errorContext:"symbol-layer"});let q=class extends L.A{constructor(X){super(X),this.styleOrigin=null,this.thumbnail=null,this.type=null;const A=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,ie=A?.type;this._set("symbolLayers",new(ie||p.A))}get color(){return null}set color(X){this.constructed&&_.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(X){(0,w.V)(X,this._get("symbolLayers"))}readStyleOrigin(X,A,ie){if(X.styleUrl&&X.name){const K=(0,W.f)(X.styleUrl,ie);return new z.A({styleUrl:K,name:X.name})}if(X.styleName&&X.name)return new z.A({portal:ie?.portal||U.A.getDefault(),styleName:X.styleName,name:X.name});ie?.messages&&ie.messages.push(new F.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:ie,definition:X}))}writeStyleOrigin(X,A,ie,K){if(X.styleUrl&&X.name){let B=(0,W.t)(X.styleUrl,K);(0,I.oP)(B)&&(B=(0,I.S8)(B)),A.styleOrigin={styleUrl:B,name:X.name}}else X.styleName&&X.name&&(X.portal&&K?.portal&&!(0,I.ut)(X.portal.restUrl,K.portal.restUrl)?K?.messages&&K.messages.push(new F.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):A.styleOrigin={styleName:X.styleName,name:X.name})}normalizeCtorArgs(X){return X instanceof b.A||X&&ee[X.type]?{symbolLayers:[X]}:Array.isArray(X)?{symbolLayers:X}:X}};(0,d._)([(0,R.MZ)({json:{read:!1,write:!1}})],q.prototype,"color",null),(0,d._)([(0,R.MZ)({type:Q,nonNullable:!0,json:{write:!0}}),(0,T.w)(w.H)],q.prototype,"symbolLayers",null),(0,d._)([(0,R.MZ)({type:z.A})],q.prototype,"styleOrigin",void 0),(0,d._)([(0,P.w)("styleOrigin")],q.prototype,"readStyleOrigin",null),(0,d._)([(0,N.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],q.prototype,"writeStyleOrigin",null),(0,d._)([(0,R.MZ)({type:te.V,json:{read:!1}})],q.prototype,"thumbnail",void 0),(0,d._)([(0,R.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],q.prototype,"type",void 0),q=(0,d._)([(0,C.$)("esri.symbols.Symbol3D")],q);const j=q},20736:(xe,re,u)=>{u.d(re,{A:()=>E});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(50305);let y=class extends p.A{constructor(P){super(P),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(P,C,N){P||(C[N]=P)}};(0,d._)([(0,w.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],y.prototype,"enabled",void 0),(0,d._)([(0,T.K)("enabled")],y.prototype,"writeEnabled",null),(0,d._)([(0,w.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],y.prototype,"type",void 0),y=(0,d._)([(0,R.$)("esri.symbols.Symbol3DLayer")],y);const E=y},47705:(xe,re,u)=>{u.d(re,{A:()=>W});var N,d=u(8189),p=u(68677),w=u(77806),_=u(67685),I=u(85211),F=u(48669),R=u(15463),T=u(76576),y=u(50305),E=u(9015),P=u(84986),C=u(68448);let U=N=class extends P.A{constructor(...O){super(...O),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new E.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(O,v,M){if(O&&"string"!=typeof O)return O;const m={};return O&&(m.text=O),v&&(m.font=v),M&&(m.color=M),m}writeLineWidth(O,v,M,m){m&&"string"!=typeof m||(v[M]=O)}castLineWidth(O){return(0,_.cr)(O)}writeLineHeight(O,v,M,m){m&&"string"!=typeof m||(v[M]=O)}clone(){return new N({angle:this.angle,backgroundColor:(0,w.o8)(this.backgroundColor),borderLineColor:(0,w.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,w.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,w.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,d._)([(0,I.MZ)({type:p.A,json:{write:!0}})],U.prototype,"backgroundColor",void 0),(0,d._)([(0,I.MZ)({type:p.A,json:{write:!0}})],U.prototype,"borderLineColor",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0},cast:_.cr})],U.prototype,"borderLineSize",void 0),(0,d._)([(0,I.MZ)({type:E.A,json:{write:!0}})],U.prototype,"font",void 0),(0,d._)([(0,I.MZ)({...C.rM,json:{write:!0}})],U.prototype,"horizontalAlignment",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],U.prototype,"kerning",void 0),(0,d._)([(0,I.MZ)({type:p.A,json:{write:!0}})],U.prototype,"haloColor",void 0),(0,d._)([(0,I.MZ)({type:Number,cast:_.cr,json:{write:!0}})],U.prototype,"haloSize",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],U.prototype,"rightToLeft",void 0),(0,d._)([(0,I.MZ)({type:Boolean,json:{write:!0}})],U.prototype,"rotated",void 0),(0,d._)([(0,I.MZ)({type:String,json:{write:!0}})],U.prototype,"text",void 0),(0,d._)([(0,R.e)({esriTS:"text"},{readOnly:!0})],U.prototype,"type",void 0),(0,d._)([(0,I.MZ)({...C.x0,json:{write:!0}})],U.prototype,"verticalAlignment",void 0),(0,d._)([(0,I.MZ)({type:Number,cast:_.cr,json:{write:!0}})],U.prototype,"xoffset",void 0),(0,d._)([(0,I.MZ)({type:Number,cast:_.cr,json:{write:!0}})],U.prototype,"yoffset",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{read:O=>O&&-1*O,write:(O,v)=>v.angle=O&&-1*O}})],U.prototype,"angle",void 0),(0,d._)([(0,I.MZ)({type:Number,json:{write:!0}})],U.prototype,"width",void 0),(0,d._)([(0,I.MZ)({type:Number})],U.prototype,"lineWidth",void 0),(0,d._)([(0,y.K)("lineWidth")],U.prototype,"writeLineWidth",null),(0,d._)([(0,F.w)("lineWidth")],U.prototype,"castLineWidth",null),(0,d._)([(0,I.MZ)(C.Tb)],U.prototype,"lineHeight",void 0),(0,d._)([(0,y.K)("lineHeight")],U.prototype,"writeLineHeight",null),U=N=(0,d._)([(0,T.$)("esri.symbols.TextSymbol")],U);const W=U},2329:(xe,re,u)=>{u.d(re,{A:()=>H});var U,d=u(8189),p=u(77806),w=u(85211),F=(u(3248),u(35150),u(15463)),R=u(76576),T=u(50305),y=u(9015),E=u(20736),P=u(86646),C=u(68677),N=u(71065);let W=U=class extends N.A{constructor(){super(...arguments),this.color=new C.A([0,0,0,1]),this.size=0}clone(){const Y={color:(0,p.o8)(this.color),size:this.size};return new U(Y)}};(0,d._)([(0,w.MZ)((0,P.E)())],W.prototype,"color",void 0),(0,d._)([(0,w.MZ)(P.p)],W.prototype,"size",void 0),W=U=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DHalo")],W);var O=u(74760),v=u(90660);u(40707);let m=class extends(v.A.ClonableMixin(N.A)){constructor(Y){super(Y),this.color=null}};(0,d._)([(0,w.MZ)((0,P.E)())],m.prototype,"color",void 0),m=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DTextBackground")],m);var D,Z=u(68448);let L=D=class extends E.A{constructor(Y){super(Y),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(Y){null!=Y&&null!=this._userSize&&(Y.size=this._userSize),this._set("font",Y)}writeFont(Y,z,te,ee){const Q={...ee,textSymbol3D:!0};z.font=Y.write({},Q),delete z.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(Y){this._userSize=Y,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const Y=new D({enabled:this.enabled,font:this.font&&(0,p.o8)(this.font),halo:this.halo&&(0,p.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,p.o8)(this.background)});return Y._userSize=this._userSize,Y}static fromTextSymbol(Y){return new D({font:null!=Y.font?Y.font.clone():new y.A,halo:b(Y.haloColor,Y.haloSize),horizontalAlignment:Y.horizontalAlignment,lineHeight:Y.lineHeight,material:Y.color?new O.N({color:Y.color.clone()}):null,text:Y.text,verticalAlignment:Y.verticalAlignment,background:Y.backgroundColor?new m({color:Y.backgroundColor.clone()}):null})}};function b(Y,z){return Y&&null!=z&&z>0?new W({color:(0,p.o8)(Y),size:z}):null}(0,d._)([(0,w.MZ)({type:y.A,json:{write:!0}})],L.prototype,"font",null),(0,d._)([(0,T.K)("font")],L.prototype,"writeFont",null),(0,d._)([(0,w.MZ)({type:W,json:{write:!0}})],L.prototype,"halo",void 0),(0,d._)([(0,w.MZ)({...Z.rM,json:{default:"center",write:!0}})],L.prototype,"horizontalAlignment",void 0),(0,d._)([(0,w.MZ)({...Z.Tb,json:{default:1,write:!0}})],L.prototype,"lineHeight",void 0),(0,d._)([(0,w.MZ)({type:O.N,json:{write:!0}})],L.prototype,"material",void 0),(0,d._)([(0,w.MZ)({type:m,json:{write:!0}})],L.prototype,"background",void 0),(0,d._)([(0,w.MZ)(P.p)],L.prototype,"size",null),(0,d._)([(0,w.MZ)({type:String,json:{write:!0}})],L.prototype,"text",void 0),(0,d._)([(0,F.e)({Text:"text"},{readOnly:!0})],L.prototype,"type",void 0),(0,d._)([(0,w.MZ)({...Z.x0,json:{default:"baseline",write:!0}})],L.prototype,"verticalAlignment",void 0),L=D=(0,d._)([(0,R.$)("esri.symbols.TextSymbol3DLayer")],L);const H=L},4611:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(68677),w=u(77806),_=u(85211),I=u(55739),F=u(15463),R=u(76576),T=u(20736);let E=y=class extends T.A{constructor(N){super(N),this.color=C.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new y({color:(0,w.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,d._)([(0,_.MZ)({type:p.A,nonNullable:!0,json:{type:[I.jz],write:(N,U,W)=>U[W]=N.toArray(p.A.AlphaMode.UNLESS_OPAQUE),default:()=>C.clone(),defaultEquals:N=>N.toCss(!0)===C.toCss(!0)}})],E.prototype,"color",void 0),(0,d._)([(0,F.e)({Water:"water"},{readOnly:!0})],E.prototype,"type",void 0),(0,d._)([(0,_.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],E.prototype,"waterbodySize",void 0),(0,d._)([(0,_.MZ)({type:Number,json:{write:!0,default:null}})],E.prototype,"waveDirection",void 0),(0,d._)([(0,_.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],E.prototype,"waveStrength",void 0),E=y=(0,d._)([(0,R.$)("esri.symbols.WaterSymbol3DLayer")],E);const P=E,C=new p.A([0,119,190])},75549:(xe,re,u)=>{u.d(re,{A:()=>v});var W,d=u(10467),p=u(8189),w=u(5922),_=u(35150),I=u(56492),F=u(85211),y=(u(3248),u(40707),u(15463)),E=u(76576),P=u(73874),C=u(88135),N=u(84986),U=u(76124);let O=W=class extends N.A{constructor(M){super(M),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const M=null!=this.portal?this.portal:P.A.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${M.user?M.user.username:null}:${M.url}`}read(M,m){this.portal=m?.portal,super.read(M,m)}clone(){return new W({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(M){const m=M&&"acceptedFormats"in M?M.acceptedFormats:["web"];return this._fetchSymbol({...M,acceptedFormats:m})}fetchCIMSymbol(M){var m=this;return(0,d.A)(function*(){const Z=yield m.fetchSymbol({...M,acceptedFormats:["cim"]});if("cim"!==Z?.type)throw new w.A("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return Z})()}_fetchSymbol(M){var m=this;return(0,d.A)(function*(){const Z=null!=M?M.cache:null,D=Z?m._fetchCacheKey:null;if(null!=Z){const Y=D&&Z.get(D);if(Y)return Y.clone()}const{resolveWebStyleSymbol:L}=yield Promise.all([u.e(2076),u.e(3631)]).then(u.bind(u,58964));(0,I.Te)(M);const b=L(m,{portal:m.portal},M);b.catch(Y=>{_.A.getLogger(m).error("#fetchSymbol()","Failed to create symbol from style",Y)});const H=yield b;return Z?.set(D,H.clone()),H})()}};(0,p._)([(0,F.MZ)({json:{write:!1}})],O.prototype,"color",void 0),(0,p._)([(0,F.MZ)({type:String,json:{write:!0}})],O.prototype,"styleName",void 0),(0,p._)([(0,F.MZ)({type:P.A,json:{write:!1}})],O.prototype,"portal",void 0),(0,p._)([(0,F.MZ)({type:String,json:{read:C.r,write:C.w}})],O.prototype,"styleUrl",void 0),(0,p._)([(0,F.MZ)({type:U.V,json:{read:!1}})],O.prototype,"thumbnail",void 0),(0,p._)([(0,F.MZ)({type:String,json:{write:!0}})],O.prototype,"name",void 0),(0,p._)([(0,y.e)({styleSymbolReference:"web-style"},{readOnly:!0})],O.prototype,"type",void 0),(0,p._)([(0,F.MZ)()],O.prototype,"_fetchCacheKey",null),O=W=(0,p._)([(0,E.$)("esri.symbols.WebStyleSymbol")],O);const v=O},49139:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(E){super(E),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};(0,d._)([(0,w.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],T.prototype,"type",void 0),(0,d._)([(0,w.MZ)({readOnly:!0})],T.prototype,"visible",void 0),T=(0,d._)([(0,R.$)("esri.symbols.callouts.Callout3D")],T);const y=T},53313:(xe,re,u)=>{u.d(re,{A:()=>W});var N,d=u(8189),p=u(68677),w=u(77806),_=u(67685),I=u(85211),T=(u(3248),u(35150),u(15463)),y=u(76576),E=u(49139),P=u(16707),C=u(86646);let U=N=class extends E.A{constructor(O){super(O),this.type="line",this.color=new p.A([0,0,0,1]),this.size=(0,_.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new N({color:(0,w.o8)(this.color),size:this.size,border:(0,w.o8)(this.border)})}};(0,d._)([(0,T.e)({line:"line"})],U.prototype,"type",void 0),(0,d._)([(0,I.MZ)((0,C.E)({colorRequiredOnWrite:!0}))],U.prototype,"color",void 0),(0,d._)([(0,I.MZ)({...C.p,json:{write:{isRequired:!0}}})],U.prototype,"size",void 0),(0,d._)([(0,I.MZ)({type:P.A,json:{write:!0}})],U.prototype,"border",void 0),(0,d._)([(0,I.MZ)({readOnly:!0})],U.prototype,"visible",null),U=N=(0,d._)([(0,y.$)("esri.symbols.callouts.LineCallout3D")],U);const W=U},16707:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(68677),w=u(71065),_=u(77806),I=u(85211),T=(u(3248),u(35150),u(76576)),y=u(86646);let P=E=class extends w.A{constructor(N){super(N),this.color=new p.A("white")}clone(){return new E({color:(0,_.o8)(this.color)})}};(0,d._)([(0,I.MZ)((0,y.E)({colorRequiredOnWrite:!0}))],P.prototype,"color",void 0),P=E=(0,d._)([(0,T.$)("esri.symbols.callouts.LineCallout3DBorder")],P);const C=P},34619:(xe,re,u)=>{u.d(re,{Ie:()=>F,LH:()=>_,YX:()=>I,Yq:()=>w,oG:()=>R});var d=u(49139),p=u(53313);function w(T){if(!T)return!1;const y=T.verticalOffset;return!(!y||y.screenLength<=0||null!=y.maxWorldLength&&y.maxWorldLength<=0)}function _(T){return!!(T&&T.supportsCallout&&T.supportsCallout())&&!!T.callout?.visible&&!!w(T)}function I(T){return"point-3d"===T.type||"label-3d"===T.type}function F(T){return"center"===T.horizontalAlignment}const R={types:{key:"type",base:d.A,typeMap:{line:p.A}},json:{write:!0}}},5048:(xe,re,u)=>{u.d(re,{A:()=>C});var d=u(8189),p=u(68677),w=u(71065),_=u(77806),I=u(67685),F=u(85211),y=(u(3248),u(35150),u(76576)),E=u(86646);let P=class extends w.A{constructor(N){super(N),this.color=new p.A([0,0,0,1]),this.extensionLength=0,this.size=(0,I.PN)(1)}clone(){}cloneProperties(){return{color:(0,_.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,d._)([(0,F.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],P.prototype,"type",void 0),(0,d._)([(0,F.MZ)((0,E.E)({colorRequiredOnWrite:!0}))],P.prototype,"color",void 0),(0,d._)([(0,F.MZ)({...E.p,json:{write:{overridePolicy:N=>({enabled:!!N})}}})],P.prototype,"extensionLength",void 0),(0,d._)([(0,F.MZ)(E.p)],P.prototype,"size",void 0),P=(0,d._)([(0,y.$)("esri.symbols.edges.Edges3D")],P);const C=P},97273:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),F=(u(35150),u(3248),u(40707),u(5922),u(15463)),R=u(76576),T=u(5048);let E=y=class extends T.A{constructor(C){super(C),this.type="solid"}clone(){return new y(this.cloneProperties())}};(0,d._)([(0,F.e)({solid:"solid"},{readOnly:!0})],E.prototype,"type",void 0),E=y=(0,d._)([(0,R.$)("esri.symbols.edges.SolidEdges3D")],E);const P=E},91033:(xe,re,u)=>{u.d(re,{J:()=>N});var y,d=u(5048),p=u(8189),R=(u(35150),u(3248),u(40707),u(5922),u(15463)),T=u(76576);let E=y=class extends d.A{constructor(U){super(U),this.type="sketch"}clone(){return new y(this.cloneProperties())}};(0,p._)([(0,R.e)({sketch:"sketch"},{readOnly:!0})],E.prototype,"type",void 0),E=y=(0,p._)([(0,T.$)("esri.symbols.edges.SketchEdges3D")],E);const P=E;var C=u(97273);const N={types:{key:"type",base:d.A,typeMap:{solid:C.A,sketch:P}},json:{write:!0}}},63797:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(E){super(E)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,d._)([(0,w.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],T.prototype,"type",void 0),T=(0,d._)([(0,R.$)("esri.symbols.patterns.LinePattern3D")],T);const y=T},7798:(xe,re,u)=>{u.d(re,{A:()=>U});var P,d=u(8189),p=u(49976),w=u(85211),R=(u(3248),u(35150),u(40707),u(15463)),T=u(76576),y=u(63797);const C=(0,p.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let N=P=class extends y.A{constructor(W){super(W),this.type="style",this.style="solid"}clone(){return new P({style:this.style})}};(0,d._)([(0,w.MZ)({type:["style"],json:{write:{isRequired:!0}}})],N.prototype,"type",void 0),(0,d._)([(0,R.e)(C),(0,w.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{write:{isRequired:!0}}})],N.prototype,"style",void 0),N=P=(0,d._)([(0,T.$)("esri.symbols.patterns.LineStylePattern3D")],N);const U=N},84083:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(E){super(E),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,d._)([(0,w.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],T.prototype,"type",void 0),T=(0,d._)([(0,R.$)("esri.symbols.patterns.Pattern3D")],T);const y=T},91541:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(85211),F=(u(3248),u(35150),u(40707),u(76576)),R=u(84083);let E=y=class extends R.A{constructor(C){super(C),this.type="style",this.style="solid"}clone(){return new y({style:this.style})}};(0,d._)([(0,p.MZ)({type:["style"],json:{write:{isRequired:!0}}})],E.prototype,"type",void 0),(0,d._)([(0,p.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:{isRequired:!0}}})],E.prototype,"style",void 0),E=y=(0,d._)([(0,F.$)("esri.symbols.patterns.StylePattern3D")],E);const P=E},11451:(xe,re,u)=>{u.d(re,{r:()=>I,v:()=>F});var d=u(63797),p=u(7798),w=u(84083),_=u(91541);const I={types:{key:"type",base:w.A,typeMap:{style:_.A}},json:{write:!0}},F={types:{key:"type",base:d.A,typeMap:{style:p.A}},json:{write:!0}}},28831:(xe,re,u)=>{u.d(re,{i:()=>O,r:()=>v});var U,d=u(8189),p=u(49976),w=u(71065),_=u(45272),I=u(85211),y=(u(3248),u(35150),u(40707),u(15463)),E=u(17221),P=u(76576),C=u(50305),N=u(88135);const W=(0,p.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let O=U=class extends w.A{constructor(M){super(M)}readHref(M,m,Z){return M?(0,N.f)(M,Z):m.dataURI}writeHref(M,m,Z,D){M&&((0,_.DB)(M)?m.dataURI=M:(m.href=(0,N.t)(M,D),(0,_.oP)(m.href)&&(m.href=(0,_.S8)(m.href))))}clone(){return new U({href:this.href,primitive:this.primitive})}};(0,d._)([(0,I.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],O.prototype,"href",void 0),(0,d._)([(0,E.w)("href")],O.prototype,"readHref",null),(0,d._)([(0,C.K)("href",{href:{type:String},dataURI:{type:String}})],O.prototype,"writeHref",null),(0,d._)([(0,y.e)(W)],O.prototype,"primitive",void 0),O=U=(0,d._)([(0,P.$)("esri.symbols.support.IconSymbol3DLayerResource")],O);const v="circle"},15225:(xe,re,u)=>{u.d(re,{E:()=>N,r:()=>U});var P,d=u(8189),p=u(49976),w=u(71065),_=u(85211),T=(u(3248),u(35150),u(40707),u(15463)),y=u(76576),E=u(88135);const C=(0,p.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let N=P=class extends w.A{clone(){return new P({href:this.href,primitive:this.primitive})}};(0,d._)([(0,_.MZ)({type:String,json:{read:E.r,write:E.w}})],N.prototype,"href",void 0),(0,d._)([(0,T.e)(C)],N.prototype,"primitive",void 0),N=P=(0,d._)([(0,y.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],N);const U="sphere"},7295:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(98877),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(73874);let E=y=class extends p.A{constructor(C){super(C),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new y({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,d._)([(0,w.MZ)({type:String})],E.prototype,"name",void 0),(0,d._)([(0,w.MZ)({type:String})],E.prototype,"styleUrl",void 0),(0,d._)([(0,w.MZ)({type:String})],E.prototype,"styleName",void 0),(0,d._)([(0,w.MZ)({type:T.A})],E.prototype,"portal",void 0),E=y=(0,d._)([(0,R.$)("esri.symbols.support.StyleOrigin")],E);const P=E},68021:(xe,re,u)=>{u.d(re,{Q:()=>y});var T,d=u(8189),p=u(98877),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new T({x:this.x,y:this.y})}};(0,d._)([(0,w.MZ)({type:Number})],y.prototype,"x",void 0),(0,d._)([(0,w.MZ)({type:Number})],y.prototype,"y",void 0),y=T=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],y)},74760:(xe,re,u)=>{u.d(re,{N:()=>P});var E,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(25866),y=u(86646);let P=E=class extends p.A{constructor(C){super(C),this.color=null,this.emissiveFactor=null}clone(){const C={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?(0,T.o8)(this.emissiveFactor):null};return new E(C)}};(0,d._)([(0,w.MZ)((0,y.E)())],P.prototype,"color",void 0),(0,d._)([(0,w.MZ)({type:[Number],json:{write:!1}})],P.prototype,"emissiveFactor",void 0),P=E=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DMaterial")],P)},39908:(xe,re,u)=>{u.d(re,{A:()=>P});var y,d=u(8189),p=u(71065),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576)),T=u(86646);let E=y=class extends p.A{constructor(C){super(C),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new y({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,d._)([(0,w.MZ)({...T.p,json:{write:{isRequired:!0}}})],E.prototype,"screenLength",void 0),(0,d._)([(0,w.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],E.prototype,"minWorldLength",void 0),(0,d._)([(0,w.MZ)({type:Number,json:{write:!0}})],E.prototype,"maxWorldLength",void 0),E=y=(0,d._)([(0,R.$)("esri.symbols.support.Symbol3DVerticalOffset")],E);const P=E},76124:(xe,re,u)=>{u.d(re,{V:()=>y});var T,d=u(8189),p=u(98877),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let y=T=class extends p.A{constructor(){super(...arguments),this.url=""}clone(){return new T({url:this.url})}};(0,d._)([(0,w.MZ)({type:String})],y.prototype,"url",void 0),y=T=(0,d._)([(0,R.$)("esri.symbols.support.Thumbnail")],y)},47146:(xe,re,u)=>{u.d(re,{ON:()=>p,U9:()=>_,u7:()=>w});var d=u(68677);const p=new d.A("white"),w=new d.A([255,255,255,0]);function _(I){return 0===I.r&&0===I.g&&0===I.b}},29357:(xe,re,u)=>{u.d(re,{x:()=>d,z:()=>p});const d=["begin","end","begin-end"],p=["arrow","circle","square","diamond","cross","x"]},86646:(xe,re,u)=>{u.d(re,{E:()=>R,p:()=>T});var d=u(68677),p=u(67685),w=u(55739),_=u(46873);function I(y,E){const P=null!=E.transparency?(0,_.D)(E.transparency):1,C=E.color;return C&&Array.isArray(C)?new d.A([C[0]||0,C[1]||0,C[2]||0,P]):null}function F(y,E){E.color=y.toJSON().slice(0,3);const P=(0,_.p)(y.a);0!==P&&(E.transparency=P)}function R(y){return{type:d.A,nonNullable:y?.nonNullable,json:{type:[w.jz],default:null,read:{source:["color","transparency"],reader:I},write:{target:{color:{type:[w.jz],isRequired:y?.colorRequiredOnWrite},transparency:{type:w.jz}},writer:F}}}}const T={type:Number,cast:p.cr,json:{write:!0}}},64439:(xe,re,u)=>{u.d(re,{Bb:()=>_,Fq:()=>T,M4:()=>y,Nv:()=>E,e:()=>P}),u(3248);var p=u(25866),w=u(2296);function _(C,{isPrimitive:N,width:U,depth:W,height:O}){const v=N?10:1;if(null==U&&null==O&&null==W)return[v*C[0],v*C[1],v*C[2]];const M=(0,p.fA)(U,W,O);let m;for(let Z=0;Z<3;Z++){const D=M[Z];if(null!=D){m=D/C[Z];break}}for(let Z=0;Z<3;Z++)null==M[Z]&&(M[Z]=C[Z]*m);return M}const I=(0,w.fA)(-.5,-.5,-.5,.5,.5,.5),F=(0,w.fA)(-.5,-.5,0,.5,.5,1),R=(0,w.fA)(-.5,-.5,0,.5,.5,.5);function T(C){switch(C){case"sphere":case"cube":case"diamond":return I;case"cylinder":case"cone":case"inverted-cone":return F;case"tetrahedron":return R;default:return}}const y=["butt","square","round"],E=[...y,"none"],P=["miter","bevel","round"]},68448:(xe,re,u)=>{u.d(re,{NM:()=>I,Tb:()=>F,_R:()=>_,h9:()=>w,rM:()=>y,x0:()=>E,y7:()=>P});var d=u(69287),p=u(55739);const w=["none","underline","line-through"],_=["normal","italic","oblique"],I=["normal","lighter","bold","bolder"],F={type:Number,cast:C=>{const N=(0,p.GB)(C);return 0===N?1:(0,d.qE)(N,.1,4)},nonNullable:!0},y={type:["left","right","center"],nonNullable:!0},E={type:["baseline","top","middle","bottom"],nonNullable:!0},P=8},94048:(xe,re,u)=>{u.d(re,{dp:()=>fe,$y:()=>q,wk:()=>j,Y7:()=>K,wC:()=>ie,Ac:()=>B,Bu:()=>se,Es:()=>X,q8:()=>G,em:()=>ce,Rv:()=>Oe,xK:()=>J,On:()=>Ce});var v,d=u(55739),p=u(71224),w=u(81279),_=u(6241),I=u(18399),F=u(64484),R=u(8189),T=u(77806),y=u(67685),E=u(85211),N=(u(3248),u(35150),u(15463)),U=u(76576),W=u(48827),O=u(33264);let M=v=class extends W.A{constructor(...Se){super(...Se),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(Se,me,ge,Be){if(Se&&"string"!=typeof Se&&null==Se.imageData)return Se;const Le={};return Se&&(Le.url=Se),me&&(Le.outline=me),null!=ge&&(Le.width=(0,y.cr)(ge)),null!=Be&&(Le.height=(0,y.cr)(Be)),Le}clone(){const Se=new v({color:(0,T.o8)(this.color),height:this.height,outline:(0,T.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return Se._set("source",(0,T.o8)(this.source)),Se}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,R._)([(0,N.e)({esriPFS:"picture-fill"},{readOnly:!0})],M.prototype,"type",void 0),(0,R._)([(0,E.MZ)(O.ku)],M.prototype,"url",void 0),(0,R._)([(0,E.MZ)({type:Number,json:{write:!0}})],M.prototype,"xscale",void 0),(0,R._)([(0,E.MZ)({type:Number,json:{write:!0}})],M.prototype,"yscale",void 0),(0,R._)([(0,E.MZ)({type:Number,cast:y.cr,json:{write:!0}})],M.prototype,"width",void 0),(0,R._)([(0,E.MZ)({type:Number,cast:y.cr,json:{write:!0}})],M.prototype,"height",void 0),(0,R._)([(0,E.MZ)({type:Number,cast:y.cr,json:{write:!0}})],M.prototype,"xoffset",void 0),(0,R._)([(0,E.MZ)({type:Number,cast:y.cr,json:{write:!0}})],M.prototype,"yoffset",void 0),(0,R._)([(0,E.MZ)(O.k7)],M.prototype,"source",void 0),M=v=(0,R._)([(0,U.$)("esri.symbols.PictureFillSymbol")],M);const m=M;var Z=u(65824),D=u(25613),L=u(27093),b=u(88521),H=u(55417),Y=u(46602),z=u(84986),te=u(47705),ee=u(75549);function q(Se){if(!Se)return!1;switch(Se.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function j(Se){switch(Se?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const X={base:z.A,key:"type",typeMap:{"simple-fill":b.A,"picture-fill":m,"picture-marker":Z.A,"simple-line":H.A,"simple-marker":Y.A,text:te.A,"label-3d":_.A,"line-3d":I.A,"mesh-3d":F.A,"point-3d":D.A,"polygon-3d":L.A,"web-style":ee.A,cim:w.A},errorContext:"symbol"},ie={base:z.A,key:"type",typeMap:{"picture-marker":Z.A,"simple-marker":Y.A,"point-3d":D.A,cim:w.A},errorContext:"symbol"},K={base:z.A,key:"type",typeMap:{"simple-line":H.A,"line-3d":I.A,cim:w.A},errorContext:"symbol"},B={base:z.A,key:"type",typeMap:{"simple-fill":b.A,"picture-fill":m,"polygon-3d":L.A,cim:w.A},errorContext:"symbol"},G={base:z.A,key:"type",typeMap:{"picture-marker":Z.A,"simple-marker":Y.A,text:te.A,"web-style":ee.A,cim:w.A},errorContext:"symbol"},se=(0,p.C)({types:X}),J={base:z.A,key:"type",typeMap:{"simple-fill":b.A,"picture-fill":m,"picture-marker":Z.A,"simple-line":H.A,"simple-marker":Y.A,text:te.A,"line-3d":I.A,"mesh-3d":F.A,"point-3d":D.A,"polygon-3d":L.A,"web-style":ee.A,cim:w.A},errorContext:"symbol"},ce={base:z.A,key:"type",typeMap:{text:te.A,"label-3d":_.A},errorContext:"symbol"},Ce={base:z.A,key:"type",typeMap:{"line-3d":I.A,"mesh-3d":F.A,"point-3d":D.A,"polygon-3d":L.A,"web-style":ee.A,cim:w.A},errorContext:"symbol"},Oe={base:z.A,key:"type",typeMap:{"label-3d":_.A},errorContext:"symbol"},fe=(0,d.aq)(X)},33264:(xe,re,u)=>{u.d(re,{k7:()=>R,ku:()=>F});var d=u(45272),p=u(88135);function _(y,E){if(!(0,d.oP)(y)){const P=function T(y){if(!y)return null;const{origin:E,layer:P}=y;if("service"!==E&&"portal-item"!==E)return null;const C=P?.type;return"feature"===C||"stream"===C?P.parsedUrl?.path:"map-image"===C||"tile"===C?y.url?.path:null}(E);if(P)return(0,d.fj)(P,"images",y)}return(0,p.f)(y,E)}const F={json:{read:{source:["imageData","url"],reader:function w(y,E,P){return E.imageData?(0,d.Hg)({mediaType:E.contentType||"image/png",isBase64:!0,data:E.imageData}):_(E.url,P)}},write:{writer(y,E,P,C){!function I(y,E,P,C){if((0,d.DB)(y)){const N=(0,d.r$)(y);if(!N)return;E.contentType=N.mediaType,E.imageData=N.data,P&&P.imageData===E.imageData&&P.url&&(0,p.w)(P.url,E,"url",C)}else(0,p.w)(y,E,"url",C)}(y,E,this.source,C)}}}},R={readOnly:!0,json:{read:{source:["imageData","url"],reader(y,E,P){const C={};return E.imageData&&(C.imageData=E.imageData),E.contentType&&(C.contentType=E.contentType),E.url&&(C.url=_(E.url,P)),C}}}}},17181:(xe,re,u)=>{u.d(re,{A:()=>U});var C,d=u(8189),p=u(71065),w=u(97442),_=u(85211),T=(u(3248),u(35150),u(40707),u(17221)),y=u(76576),E=u(50305),P=u(20543);let N=C=class extends p.A{static get allTime(){return W}static get empty(){return O}static fromArray(v){return new C({start:null!=v[0]?new Date(v[0]):v[0],end:null!=v[1]?new Date(v[1]):v[1]})}constructor(v){super(v),this.end=null,this.start=null}readEnd(v,M){return null!=M.end?new Date(M.end):null}writeEnd(v,M){M.end=v?.getTime()??null}get isAllTime(){return this.equals(C.allTime)}get isEmpty(){return this.equals(C.empty)}readStart(v,M){return null!=M.start?new Date(M.start):null}writeStart(v,M){M.start=v?.getTime()??null}clone(){return new C({end:this.end,start:this.start})}equals(v){if(!v)return!1;const M=this.start?.getTime()??this.start,m=this.end?.getTime()??this.end,Z=v.start?.getTime()??v.start,D=v.end?.getTime()??v.end;return M===Z&&m===D}expandTo(v,M=P.qU){if(this.isEmpty||this.isAllTime)return this.clone();let m=this.start;m&&(m=(0,w.lL)(m,v,M));let Z=this.end;if(Z){const D=(0,w.lL)(Z,v,M);Z=Z.getTime()===D.getTime()?D:(0,w.S1)(D,1,v,M)}return new C({start:m,end:Z})}intersection(v){if(!v)return this.clone();if(this.isEmpty||v.isEmpty)return C.empty;if(this.isAllTime)return v.clone();if(v.isAllTime)return this.clone();const M=this.start?.getTime()??-1/0,m=this.end?.getTime()??1/0,Z=v.start?.getTime()??-1/0,D=v.end?.getTime()??1/0;let L,b;return Z>=M&&Z<=m?L=Z:M>=Z&&M<=D&&(L=M),m>=Z&&m<=D?b=m:D>=M&&D<=m&&(b=D),null==L||null==b||isNaN(L)||isNaN(b)?C.empty:new C({start:L===-1/0?null:new Date(L),end:b===1/0?null:new Date(b)})}offset(v,M,m=P.qU){if(this.isEmpty||this.isAllTime)return this.clone();const Z=new C,{start:D,end:L}=this;return null!=D&&(Z.start=(0,w.S1)(D,v,M,m)),null!=L&&(Z.end=(0,w.S1)(L,v,M,m)),Z}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(v){if(!v||v.isEmpty)return this.clone();if(this.isEmpty)return v.clone();if(this.isAllTime||v.isAllTime)return W.clone();const M=null!=this.start&&null!=v.start?new Date(Math.min(this.start.getTime(),v.start.getTime())):null,m=null!=this.end&&null!=v.end?new Date(Math.max(this.end.getTime(),v.end.getTime())):null;return new C({start:M,end:m})}};(0,d._)([(0,_.MZ)({type:Date,json:{write:{allowNull:!0}}})],N.prototype,"end",void 0),(0,d._)([(0,T.w)("end")],N.prototype,"readEnd",null),(0,d._)([(0,E.K)("end")],N.prototype,"writeEnd",null),(0,d._)([(0,_.MZ)({readOnly:!0,json:{read:!1}})],N.prototype,"isAllTime",null),(0,d._)([(0,_.MZ)({readOnly:!0,json:{read:!1}})],N.prototype,"isEmpty",null),(0,d._)([(0,_.MZ)({type:Date,json:{write:{allowNull:!0}}})],N.prototype,"start",void 0),(0,d._)([(0,T.w)("start")],N.prototype,"readStart",null),(0,d._)([(0,E.K)("start")],N.prototype,"writeStart",null),N=C=(0,d._)([(0,y.$)("esri.time.TimeExtent")],N);const U=N,W=new N,O=new N({start:void 0,end:void 0})},20543:(xe,re,u)=>{u.d(re,{L5:()=>p,N5:()=>_,n$:()=>w,qU:()=>d});const d="system",p="unknown",w="UTC",_=Intl.DateTimeFormat().resolvedOptions().timeZone},22639:(xe,re,u)=>{u.d(re,{ZS:()=>T,hv:()=>C,wr:()=>N,P6:()=>R});var d=u(20543);const p=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var w=u(44549);const _="shortOffset";function R(U,W=!1){return{json:{read:{source:U,reader:(O,v)=>v[U]?T(v[U]):null},write:!!W&&{allowNull:!0,writer(O,v){v[U]=O?function y(U){return{timeZoneIANA:U}}(O):null}}}}}function T(U,W=d.qU){return U?function I(U){return"timeZoneIANA"in U}(U)?U.timeZoneIANA:function E(U,W=d.qU){if(!U||!p.has(U.timeZone))return W;const O=p.get(U.timeZone);return function F(U){return U.startsWith("UTC")}(U.timeZone)||U.respectsDaylightSaving?O:function P(U){const W=w.c9.local().setZone(U),O=Math.min(W.set({month:1,day:1}).offset,W.set({month:5}).offset);return 0===O?"Etc/UTC":`Etc/GMT${w.mQ.instance(-O).formatOffset(0,"narrow")}`}(O)}(U,W):W}function C(U,W,O,v,M){if(W&&"date"===M)return{timeZone:d.n$,timeZoneName:void 0};const Z=O===d.L5;return{timeZone:Z?"timestamp-offset"===M?void 0:U??d.n$:O,timeZoneName:Z&&(v.timeStyle||v.hour)?_:void 0}}function N(U){const W=new Set(["etc/utc","etc/gmt","gmt"]),O=new Set(Intl.supportedValuesOf("timeZone").map(v=>v.toLowerCase()));return U===d.qU||U===d.L5||W.has(U.toLowerCase())||O.has(U.toLowerCase())}},47669:(xe,re,u)=>{u.d(re,{$U:()=>S,C2:()=>H,CQ:()=>F,CR:()=>J,C_:()=>ae,Cp:()=>ce,DY:()=>W,GR:()=>Ot,Gh:()=>ge,LY:()=>fe,MZ:()=>Te,O5:()=>Ne,Pq:()=>te,Qb:()=>Qt,Qs:()=>bt,Sr:()=>B,TB:()=>It,U5:()=>Oe,V3:()=>Le,Vl:()=>gt,Xh:()=>nt,YS:()=>Q,YV:()=>E,_M:()=>Re,_x:()=>st,cp:()=>xt,dV:()=>Ce,eG:()=>b,eI:()=>dt,fq:()=>ve,fy:()=>Be,g0:()=>Se,hM:()=>Ae,ie:()=>oe,ju:()=>N,lL:()=>A,mg:()=>k,n9:()=>K,nM:()=>X,nW:()=>We,oj:()=>ue,p:()=>je,qM:()=>w,r1:()=>Wt,sn:()=>ie,tP:()=>kt,uM:()=>q,ue:()=>ee,vN:()=>_e,vd:()=>se,yA:()=>Ue,yv:()=>Ie,z2:()=>j,zt:()=>G});const w=1e-30,F=512,E=16777216,N=8,W=29,b=24,H=4,te=0,ee=0,Q=0,q=1,j=2,X=3,A=4,ie=5,K=6,B=12,G=13,se=5,J=6,ce=5,_e=6;var Ce,Nt;(Nt=Ce||(Ce={}))[Nt.FilterFlags=0]="FilterFlags",Nt[Nt.Animation=1]="Animation",Nt[Nt.GPGPU=2]="GPGPU",Nt[Nt.VV=3]="VV",Nt[Nt.DD0=4]="DD0",Nt[Nt.DD1=5]="DD1",Nt[Nt.DD2=6]="DD2",Nt[Nt.LocalTimeOrigin=7]="LocalTimeOrigin";const Oe=6,fe=1<<Oe,Se=fe<<1,ge=1.05,Be=3,Le=1,Re=3,oe=3,S=5,k=6,ae=1.15,Ae=4,je=128,Ue=256-2*Ae,We=2,ue=128,Te=1,ve=10,Ie=1024,Qt=128,Wt=4,Ne=1,st=1<<20,dt=.75,nt=10,gt=.75,It=256,Ot=32,xt=512,bt=0,kt=1},22049:(xe,re,u)=>{u.d(re,{Ci:()=>_,HQ:()=>p,XK:()=>w,aY:()=>d});const d=1,p=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_=256},69473:(xe,re,u)=>{var d,p,w,_,I,F,R,T,y,E;u.d(re,{Be:()=>I,Gn:()=>w,RI:()=>R,S5:()=>p,ch:()=>T,uC:()=>y}),(E=d||(d={}))[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT",E[E.LABEL=4]="LABEL",function(E){E[E.NONE=0]="NONE",E[E.MAP=1]="MAP",E[E.LABEL=2]="LABEL",E[E.LABEL_ALPHA=4]="LABEL_ALPHA",E[E.HITTEST=8]="HITTEST",E[E.HIGHLIGHT=16]="HIGHLIGHT",E[E.CLIP=32]="CLIP",E[E.DEBUG=64]="DEBUG",E[E.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(p||(p={})),function(E){E[E.SIZE=0]="SIZE",E[E.COLOR=1]="COLOR",E[E.OPACITY=2]="OPACITY",E[E.ROTATION=3]="ROTATION"}(w||(w={})),function(E){E[E.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",E[E.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",E[E.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",E[E.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(_||(_={})),function(E){E[E.SPRITE=0]="SPRITE",E[E.GLYPH=1]="GLYPH"}(I||(I={})),function(E){E[E.DEFAULT=0]="DEFAULT",E[E.SIMPLE=1]="SIMPLE",E[E.DOT_DENSITY=2]="DOT_DENSITY",E[E.OUTLINE_FILL=3]="OUTLINE_FILL",E[E.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",E[E.HEATMAP=5]="HEATMAP",E[E.PIE_CHART=6]="PIE_CHART"}(F||(F={})),function(E){E[E.All=0]="All",E[E.Highlight=1]="Highlight",E[E.InsideEffect=2]="InsideEffect",E[E.OutsideEffect=3]="OutsideEffect"}(R||(R={})),function(E){E[E.BATCHING=0]="BATCHING",E[E.STRICT_ORDER=1]="STRICT_ORDER",E[E.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(T||(T={})),function(E){E[E.FILL=0]="FILL",E[E.LINE=1]="LINE",E[E.MARKER=2]="MARKER",E[E.TEXT=3]="TEXT"}(y||(y={}))},23070:(xe,re,u)=>{u.d(re,{Eq:()=>E,L4:()=>T,Pr:()=>v,QA:()=>U,Qu:()=>O,dJ:()=>y,r3:()=>N,vT:()=>W});var d=u(82663),p=u(47669),w=u(69473),_=u(50915);const I={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:M=>M.stencilRef,compare:_.MT.EQUAL,mask:255,op:{fail:_.eA.KEEP,zFail:_.eA.KEEP,zPass:_.eA.REPLACE}}}},F={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},R={...I,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function T({pixelRatio:M,state:m,displayLevel:Z,requiredLevel:D},L){return{displayMat3:m.displayMat3,displayViewMat3:m.displayViewMat3,displayViewScreenMat3:L.transforms.displayViewScreenMat3,viewMat3:m.viewMat3,tileMat3:L.transforms.tileMat3,displayZoomFactor:1/2**(Z-L.key.level),requiredZoomFactor:1/2**(D-L.key.level),tileOffset:[L.x,L.y],currentScale:m.scale,currentZoom:Z,metersPerSRUnit:(0,d.GA)(m.spatialReference),rotation:m.rotation,pixelRatio:M}}function y(M){return"highlight"===M.passOptions?.type}function E(M){return"hittest"===M.passOptions?.type}function P(M){if(!E(M))return null;const{position:m,distance:Z,smallSymbolDistance:D,smallSymbolSizeThreshold:L}=M.passOptions;return{position:m,distance:Z,smallSymbolDistance:D,smallSymbolSizeThreshold:L}}function C(M){if(!y(M))return null;const{activeReasons:m,highlightAll:Z}=M.passOptions;return{activeReasons:m,highlightAll:Z?1:0}}function N(M,m,Z){const D={};for(const L in Z)D[L]=Z[L]instanceof Function?Z[L](M,m):Z[L];return D}function U(M,m){const{attributeView:Z,context:D}=M;return{storage:Z.getUniforms(D),view:T(M,m),hittestRequest:P(M),highlight:C(M)}}function W(M){return{inside:M.selection===w.RI.InsideEffect,outside:M.selection===w.RI.OutsideEffect}}function O(M){return E(M)?F:y(M)&&"clear"===M.passOptions.stepType?R:I}function v(M){const{row:m,col:Z}=M.key,D=Z*p.CQ,L=m*p.CQ;return{tileOffsetFromLocalOrigin:[D%p.YV,L%p.YV],maxIntsToLocalOrigin:[Math.floor(D/p.YV),Math.floor(L/p.YV)]}}},97233:(xe,re,u)=>{u.d(re,{F:()=>F});var d=u(56595),p=u(51995),w=u(22772),_=u(78388),I=u(74847);class F{constructor(T,y){this.key=new I.A(0,0,0,0),this.bounds=(0,p.vt)(),this.objectIds=new Set,this.key.set(y);const E=T.getLODInfoAt(this.key);this.tileInfoView=T,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=E.resolution,this.level=E.level,this.scale=E.scale,this.minScale=T.zoomToScale(E.level-1),this.maxScale=T.zoomToScale(E.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return(0,p.w1)(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(T){return(0,_.N)(this.scale,T)}createChildTiles(){const T=this.key.getChildKeys(),y=d.A.acquire();for(let E=0;E<T.length;E++)y[E]=new F(this.tileInfoView,T[E]);return y}getQuantizationParameters(){return w.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},78388:(xe,re,u)=>{function d(p,{timeZone:w,timeExtent:_}){return{$view:{scale:p,timeZone:w,timeProperties:{currentStart:_?.start,currentEnd:_?.end}}}}u.d(re,{N:()=>d})},62931:(xe,re,u)=>{u.d(re,{H_:()=>L,u4:()=>b,Oq:()=>Y,lB:()=>H,eh:()=>Z});var d=u(89952),p=u(31178),w=u(49976),_=u(68778),I=u(35150),F=u(47669),R=u(22049),T=u(33553),y=u(50915),E=u(76169),P=u(4931);const C=()=>I.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient"),U=[0,0,0,0];class W{constructor(){this.type="single",this._highlightOptions=new T.A,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*R.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(te){this._highlightOptions=te}applyHighlightOptions(te,ee){this._updateGradientTexture(te),te.bindTexture(this._shadeTex,F.CR),ee.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<F.U5)-1,activeGradient:this}]}_updateGradientTexture(te){const ee=function O(z){return`${z.color};${z.haloColor};${z.haloOpacity};${z.fillOpacity};${z.haloWidth};${z.haloBlur}`}(this._highlightOptions);if(ee===this._optionsShadeTexKey)return;this._optionsShadeTexKey=ee,function N(z,te){te.fillColor[0]=z.color.r/255,te.fillColor[1]=z.color.g/255,te.fillColor[2]=z.color.b/255,te.fillColor[3]=z.color.a,z.haloColor?(te.outlineColor[0]=z.haloColor.r/255,te.outlineColor[1]=z.haloColor.g/255,te.outlineColor[2]=z.haloColor.b/255,te.outlineColor[3]=z.haloColor.a):(te.outlineColor[0]=te.fillColor[0],te.outlineColor[1]=te.fillColor[1],te.outlineColor[2]=te.fillColor[2],te.outlineColor[3]=te.fillColor[3]),te.fillColor[3]*=z.fillOpacity,te.outlineColor[3]*=z.haloOpacity,te.fillColor[0]*=te.fillColor[3],te.fillColor[1]*=te.fillColor[3],te.fillColor[2]*=te.fillColor[3],te.outlineColor[0]*=te.outlineColor[3],te.outlineColor[1]*=te.outlineColor[3],te.outlineColor[2]*=te.outlineColor[3],te.outlineWidth=(1-z.haloBlur)*z.haloWidth,te.outerHaloWidth=z.haloBlur*z.haloWidth/2,te.innerHaloWidth=z.haloBlur*z.haloWidth/2,te.outlinePosition=0}(this._highlightOptions,this._convertedHighlightOptions);const Q=this._convertedHighlightOptions,q=Q.outlinePosition-Q.outlineWidth/2-Q.outerHaloWidth,j=Q.outlinePosition-Q.outlineWidth/2,X=Q.outlinePosition+Q.outlineWidth/2,A=Q.outlinePosition+Q.outlineWidth/2+Q.innerHaloWidth,ie=Math.sqrt(Math.PI/2)*R.aY,K=Math.abs(q)>ie?Math.round(10*(Math.abs(q)-ie))/10:0,B=Math.abs(A)>ie?Math.round(10*(Math.abs(A)-ie))/10:0;let G;K&&!B?C().error("The outer rim of the highlight is "+K+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!K&&B?C().error("The inner rim of the highlight is "+B+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):K&&B&&C().error("The highlight is "+Math.max(K,B)+"px away from the edge of the feature; consider reducing some width values.");const se=[void 0,void 0,void 0,void 0];function J(_e,Ce,Oe){se[0]=(1-Oe)*_e[0]+Oe*Ce[0],se[1]=(1-Oe)*_e[1]+Oe*Ce[1],se[2]=(1-Oe)*_e[2]+Oe*Ce[2],se[3]=(1-Oe)*_e[3]+Oe*Ce[3]}const{_texelData:ce}=this;for(let _e=0;_e<R.Ci;++_e)G=q+_e/(R.Ci-1)*(A-q),G<q?(se[0]=0,se[1]=0,se[2]=0,se[3]=0):G<j?J(U,Q.outlineColor,(G-q)/(j-q)):G<X?[se[0],se[1],se[2],se[3]]=Q.outlineColor:G<A?J(Q.outlineColor,Q.fillColor,(G-X)/(A-X)):[se[0],se[1],se[2],se[3]]=Q.fillColor,ce[4*_e]=255*se[0],ce[4*_e+1]=255*se[1],ce[4*_e+2]=255*se[2],ce[4*_e+3]=255*se[3];if(this._minMaxDistance[0]=q,this._minMaxDistance[1]=A,!this._shadeTex){const _e=new P.R;_e.wrapMode=y.pF.CLAMP_TO_EDGE,_e.width=R.Ci,_e.height=1,this._shadeTex=new E.g(te,_e)}this._shadeTex.updateData(0,0,0,R.Ci,1,this._texelData)}}class v{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(te){for(let ee=0;ee<te.length;ee++)this.gradients[ee]||(this.gradients[ee]=new W),this.gradients[ee].setHighlightOptions(te[ee]);for(let ee=te.length+1;ee<this.gradients.length;ee++)this.gradients[ee].destroy();this.gradients.length=te.length}destroy(){for(const te of this.gradients)te.destroy()}getReasonsWithGradients(){let te=1;const ee=[];for(let Q=0;Q<this.gradients.length;Q++)ee.push({activeReasons:te,activeGradient:this.gradients[Q]}),te<<=1;return ee}}var M=u(23070);const m=new w.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function Z(z){return m.toJSON(z)}function L(z){const{bandCount:te,attributeTable:ee,colormap:Q,pixelType:q}=z.raster.rasterInfo;return 1===te&&(null!=ee||null!=Q||"u8"===q||"s8"===q)}function b(z,te){return null==te?(z?.destroy(),null):("single"===z?.type&&Array.isArray(te)&&(z.destroy(),z=null),"multi"!==z?.type||Array.isArray(te)||(z.destroy(),z=null),z||(z=Array.isArray(te)?new v:new W),Array.isArray(te)?"multi"===z.type&&z.setHighlightOptions(te):"single"===z.type&&z.setHighlightOptions(te),z)}function H(z,te,ee,Q){const{painter:q,highlightGradient:j}=z,{highlight:X}=q.effects;if(!j)return;const A=z.passOptions,ie=j.getReasonsWithGradients();for(let K=0;K<ie.length;K++){const B={...z,passOptions:{type:"highlight",activeGradient:null!=Q?ie[Q].activeGradient:ie[K].activeGradient,activeReasons:ie[K].activeReasons,stepType:"burn",highlightAll:te}};if(X.bind(B),ee(B),K<ie.length-1){let se=0;for(let J=K+1;J<ie.length;J++)se|=ie[J].activeReasons;ee({...z,passOptions:{type:"highlight",activeGradient:null!=Q?ie[Q].activeGradient:ie[K].activeGradient,activeReasons:se,stepType:"clear",highlightAll:te}})}const G={...z,passOptions:{type:"highlight",activeGradient:null!=Q?ie[Q].activeGradient:ie[K].activeGradient,activeReasons:ie[K].activeReasons,stepType:"draw",highlightAll:te}};q.setPipelineState((0,M.Qu)(z)),q.updatePipelineState(z.context),X.draw(G),X.unbind()}z.passOptions=A}function Y(z){if(!z)return[];let te=(0,_.DU)(z)?[z]:p.A.isCollection(z)?z.toArray():Array.isArray(z)?z:[];return te=te?.filter(d.Ru),0===(te?.length??0)?[]:te}},11757:(xe,re,u)=>{u.d(re,{s:()=>w});var d=u(3248),p=u(82595);function w(){const _=(0,d.A)("mapview-essential-goto-duration");return null==_?_:(0,p.l5)(_)}},56551:(xe,re,u)=>{u.d(re,{K:()=>p});class p{constructor(){this._names=new Map}begin(_){this._names.has(_)||(this._names.set(_,!1),_.includes("Brush")&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${_}.Start`))}end(_){this._names.has(_)&&!this._names.get(_)&&(this._names.set(_,!0),performance.mark(`Esri.${_}.End`))}record(_){this._names.has(_)||(this._names.set(_,!0),performance.mark(`Esri.${_}`))}}},58349:(xe,re,u)=>{u.d(re,{O:()=>_,p:()=>w});var d=u(8190);const p=I=>parseFloat(I)/100;function w(I,F,R){const T="string"==typeof I.left?p(I.left)*F:I.left,y="string"==typeof I.right?p(I.right)*F:I.right,E="string"==typeof I.top?p(I.top)*R:I.top,P="string"==typeof I.bottom?p(I.bottom)*R:I.bottom,C=E;return{xmin:T,xmax:Math.max(F-y,T),ymin:C,ymax:Math.max(R-P,E)}}function _(I,F,R,T){switch(F.type){case"rect":{const{width:y,height:E}=I,{xmin:P,xmax:C,ymin:N,ymax:U}=w(F,y,E),{x:W,y:O}=R;return W>P&&W<C&&O>N&&O<U}case"path":return 0===F.path.length||!Array.isArray(F.path[0][0])||(0,d.t1)(F.path,[R.x,R.y]);case"geometry":return null==F.geometry||("polygon"===F.geometry.type?(0,d.m3)(F.geometry,T):(0,d.qz)(F.geometry,T))}}},64301:(xe,re,u)=>{u.d(re,{a:()=>w,o:()=>_});var d=u(31178),p=u(33553);function w(I){if(!I.highlights)return null;const F=I.highlights.findIndex(R=>"default"===R.name);return-1===F?null:I.highlights.items[F]}function _(I,F){if(!I.highlights){if(!F)return;I.highlights=new d.A([new p.A])}const R=I.highlights.findIndex(T=>"default"===T.name);F?I.highlights.items[R].assignFrom(F):(I.highlights.removeAt(R),0===I.highlights.length&&(I.highlights=null))}},75324:(xe,re,u)=>{u.d(re,{A:()=>w});var d=u(61591),p=u(74847);class w{constructor(){this.spans=[]}acquire(I){this.lodInfo=I}release(){this.lodInfo=null,this.spans.length=0}*keys(){const I=this.lodInfo;for(const{row:F,colFrom:R,colTo:T}of this.spans)for(let y=R;y<=T;y++){const E=I.getWorldForColumn(y);yield new p.A(I.level,F,I.normalizeCol(y),E)}}forEach(I,F){const{spans:R,lodInfo:T}=this,{level:y}=T;if(0!==R.length)for(const{row:E,colFrom:P,colTo:C}of R)for(let N=P;N<=C;N++)I.call(F,y,E,T.normalizeCol(N),T.getWorldForColumn(N))}}w.pool=new d.A(w)},54290:(xe,re,u)=>{u.d(re,{A:()=>U});var d=u(58701),p=u(74847);function w(W,O){return[W,O]}function _(W,O,v){return W[0]=O,W[1]=v,W}const F=new p.A("0/0/0/0");class R{static create(O,v,M=null){const m=(0,d.Vp)(O.spatialReference),Z=v.origin||w(O.origin.x,O.origin.y),D=w(O.size[0]*v.resolution,O.size[1]*v.resolution),L=w(-1/0,-1/0),b=w(1/0,1/0),H=w(1/0,1/0);null!=M&&(_(L,Math.max(0,Math.floor((M.xmin-Z[0])/D[0])),Math.max(0,Math.floor((Z[1]-M.ymax)/D[1]))),_(b,Math.max(0,Math.floor((M.xmax-Z[0])/D[0])),Math.max(0,Math.floor((Z[1]-M.ymin)/D[1]))),_(H,b[0]-L[0]+1,b[1]-L[1]+1));const{cols:Y,rows:z}=v;let te,ee,Q,q;return!M&&Y&&z&&(_(L,Y[0],z[0]),_(b,Y[1],z[1]),_(H,Y[1]-Y[0]+1,z[1]-z[0]+1)),O.isWrappable?(te=w(Math.ceil(Math.round((m.valid[1]-m.valid[0])/v.resolution)/O.size[0]),H[1]),ee=!0,Q=m.origin,q=m.valid):(te=H,ee=!1),new R(v.level,v.resolution,v.scale,Z,L,b,H,D,te,ee,Q,q)}constructor(O,v,M,m,Z,D,L,b,H,Y,z,te){this.level=O,this.resolution=v,this.scale=M,this.origin=m,this.first=Z,this.last=D,this.size=L,this.norm=b,this.worldSize=H,this.wrap=Y,this._spatialReferenceOrigin=z,this._spatialReferenceValid=te}normalizeCol(O){if(!this.wrap)return O;const v=this.worldSize[0];return O<0?v-1-Math.abs((O+1)%v):O%v}normalizeKey(O){if(!this.wrap)return;const v=this.worldSize[0],M=O.col;M<0?(O.col=M+v,O.world-=1):M>=v&&(O.col=M-v,O.world+=1)}denormalizeCol(O,v){return this.wrap?this.worldSize[0]*v+O:O}getWorldForColumn(O){return this.wrap?Math.floor(O/this.worldSize[0]):0}getFirstColumnForWorld(O){return O*this.worldSize[0]+this.first[0]}getLastColumnForWorld(O){return O*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(O){return(O-this.origin[0])/this.norm[0]}getXForColumn(O){const v=this.origin[0]+O*this.norm[0],M=this._spatialReferenceOrigin,m=this._spatialReferenceValid;return this.wrap&&M&&m?v===M[0]?m[0]:this.origin[0]===M[0]&&O===this.worldSize[0]?m[1]:v:v}getRowForY(O){return(this.origin[1]-O)/this.norm[1]}getYForRow(O){return this.origin[1]-O*this.norm[1]}getTileBounds(O,v,M=!1){F.set(v);const m=M?F.col:this.denormalizeCol(F.col,F.world),Z=F.row;return function I(W,O,v,M,m){W[0]=O,W[1]=v,W[2]=M,W[3]=m}(O,this.getXForColumn(m),this.getYForRow(Z+1),this.getXForColumn(m+1),this.getYForRow(Z)),O}getTileCoords(O,v,M=!1){F.set(v);const m=M?F.col:this.denormalizeCol(F.col,F.world);return Array.isArray(O)?_(O,this.getXForColumn(m),this.getYForRow(F.row)):(O.x=this.getXForColumn(m),O.y=this.getYForRow(F.row)),O}}var T=u(75324);class y{constructor(O,v,M){this.row=O,this.colFrom=v,this.colTo=M}}const E=new p.A("0/0/0/0");class P{static create(O,v){O[1]>v[1]&&([O,v]=[v,O]);const[M,m]=O,[Z,D]=v,L=Z-M,b=D-m,H=0!==b?L/b:0,Y=(Math.ceil(m)-m)*H,z=(Math.floor(m)-m)*H;return new P(M,Math.floor(m),Math.ceil(D),H,L<0?Y:z,L<0?z:Y,L<0?Z:M,L<0?M:Z)}constructor(O,v,M,m,Z,D,L,b){this.x=O,this.ymin=v,this.ymax=M,this.invM=m,this.leftAdjust=Z,this.rightAdjust=D,this.leftBound=L,this.rightBound=b}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const C=[[0,0],[0,0],[0,0],[0,0]];class U{constructor(O,v=null,M=O.lods[0].level,m=O.lods[O.lods.length-1].level){this.tileInfo=O,this.fullExtent=v,this.scales=[],this._infoByScale={},this._infoByLevel={};const Z=O.lods.filter(L=>L.level>=M&&L.level<=m);this.minScale=Z[0].scale,this.maxScale=Z[Z.length-1].scale;const D=this._lodInfos=Z.map(L=>R.create(O,L,v));Z.forEach((L,b)=>{this._infoByLevel[L.level]=D[b],this._infoByScale[L.scale]=D[b],this.scales[b]=L.scale},this),this._wrap=O.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(O){return this._infoByLevel["number"==typeof O?O:O.level]}getTileBounds(O,v,M=!1){E.set(v);const m=this._infoByLevel[E.level];return m?m.getTileBounds(O,E,M):O}getTileCoords(O,v,M=!1){E.set(v);const m=this._infoByLevel[E.level];return m?m.getTileCoords(O,E,M):O}getTileCoverage(O,v=192,M=!0,m="closest"){if(!M&&(O.scale>this.minScale||O.scale<this.maxScale))return null;const Z="closest"===m?this.getClosestInfoForScale(O.scale):this.getSmallestInfoForScale(O.scale),D=T.A.pool.acquire(Z),L=this._wrap;let b,H,Y,z=1/0,te=-1/0;const ee=D.spans;C[0][0]=C[0][1]=C[1][1]=C[3][0]=-v,C[1][0]=C[2][0]=O.size[0]+v,C[2][1]=C[3][1]=O.size[1]+v;for(const X of C)O.toMap(X,X),X[0]=Z.getColumnForX(X[0]),X[1]=Z.getRowForY(X[1]);const Q=[];let q=3;for(let X=0;X<4;X++){if(C[X][1]===C[q][1]){q=X;continue}const A=P.create(C[X],C[q]);z=Math.min(A.ymin,z),te=Math.max(A.ymax,te),void 0===Q[A.ymin]&&(Q[A.ymin]=[]),Q[A.ymin].push(A),q=X}if(null==z||null==te||te-z>100)return null;let j=[];for(b=z;b<te;){null!=Q[b]&&(j=j.concat(Q[b])),H=1/0,Y=-1/0;for(let X=j.length-1;X>=0;X--){const A=j[X];H=Math.min(H,A.getLeftCol()),Y=Math.max(Y,A.getRightCol())}if(H=Math.floor(H),Y=Math.floor(Y),b>=Z.first[1]&&b<=Z.last[1])if(L)if(Z.size[0]<Z.worldSize[0]){const X=Math.floor(Y/Z.worldSize[0]);for(let A=Math.floor(H/Z.worldSize[0]);A<=X;A++)ee.push(new y(b,Math.max(Z.getFirstColumnForWorld(A),H),Math.min(Z.getLastColumnForWorld(A),Y)))}else ee.push(new y(b,H,Y));else H>Z.last[0]||Y<Z.first[0]||(H=Math.max(H,Z.first[0]),Y=Math.min(Y,Z.last[0]),ee.push(new y(b,H,Y)));b+=1;for(let X=j.length-1;X>=0;X--){const A=j[X];A.ymax>=b?A.incrRow():j.splice(X,1)}}return D}getTileParentId(O){E.set(O);const M=this._lodInfos.indexOf(this._infoByLevel[E.level])-1;return M<0?null:(this._getTileIdAtLOD(E,this._lodInfos[M],E),E.id)}getTileResolution(O){const v=this._infoByLevel["object"==typeof O?O.level:O];return v?v.resolution:-1}getTileScale(O){const v=this._infoByLevel[O.level];return v?v.scale:-1}intersects(O,v){E.set(v);const M=this._infoByLevel[E.level],m=O.lodInfo;if(m.resolution>M.resolution){this._getTileIdAtLOD(E,m,E);const D=m.denormalizeCol(E.col,E.world);for(const L of O.spans)if(L.row===E.row&&L.colFrom<=D&&L.colTo>=D)return!0}if(m.resolution<M.resolution){const[D,L,b,H]=O.spans.reduce((q,j)=>(q[0]=Math.min(q[0],j.row),q[1]=Math.max(q[1],j.row),q[2]=Math.min(q[2],j.colFrom),q[3]=Math.max(q[3],j.colTo),q),[1/0,-1/0,1/0,-1/0]),Y=M.denormalizeCol(E.col,E.world),z=m.getColumnForX(M.getXForColumn(Y)),te=m.getRowForY(M.getYForRow(E.row)),ee=m.getColumnForX(M.getXForColumn(Y+1))-1,Q=m.getRowForY(M.getYForRow(E.row+1))-1;return!(z>H||ee<b||te>L||Q<D)}const Z=m.denormalizeCol(E.col,E.world);return O.spans.some(D=>D.row===E.row&&D.colFrom<=Z&&D.colTo>=Z)}normalizeBounds(O,v,M){if(O[0]=v[0],O[1]=v[1],O[2]=v[2],O[3]=v[3],this._wrap){const m=(0,d.Vp)(this.tileInfo.spatialReference),Z=-M*(m.valid[1]-m.valid[0]);O[0]+=Z,O[2]+=Z}return O}getSmallestInfoForScale(O){const v=this.scales;if(this._infoByScale[O])return this._infoByScale[O];if(O>v[0])return this._infoByScale[v[0]];for(let M=1;M<v.length-1;M++)if(O>v[M]+1e-6)return this._infoByScale[v[M-1]];return this._infoByScale[v[v.length-1]]}getClosestInfoForScale(O){const v=this.scales;return this._infoByScale[O]||(O=v.reduce((M,m)=>Math.abs(m-O)<Math.abs(M-O)?m:M,v[0])),this._infoByScale[O]}scaleToLevel(O){const v=this.scales;if(this._infoByScale[O])return this._infoByScale[O].level;for(let M=v.length-1;M>=0;M--)if(O<v[M])return M===v.length-1?this._infoByScale[v[v.length-1]].level:this._infoByScale[v[M]].level+(v[M]-O)/(v[M]-v[M+1]);return this._infoByScale[v[0]].level}scaleToZoom(O){return this.tileInfo.scaleToZoom(O)}zoomToScale(O){return this.tileInfo.zoomToScale(O)}_getTileIdAtLOD(O,v,M){const m=this._infoByLevel[M.level];return O.set(M),v.resolution<m.resolution?null:(v.resolution===m.resolution||(O.level=v.level,O.col=Math.floor(M.col*m.resolution/v.resolution+.01),O.row=Math.floor(M.row*m.resolution/v.resolution+.01)),O)}}},74847:(xe,re,u)=>{u.d(re,{A:()=>p});var d=u(61591);class p{static getId(_,I,F,R){return"object"==typeof _?`${_.level}/${_.row}/${_.col}/${_.world}`:`${_}/${I}/${F}/${R}`}constructor(_,I,F,R){this.set(_,I,F,R)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(_){this.set(_)}get hash(){return(3&this.world)<<30|(4095&this.col)<<22|(4095&this.row)<<8|63&this.level}acquire(_,I,F,R){this.set(_,I,F,R)}contains(_){const I=_.level-this.level;return I>=0&&this.row===_.row>>I&&this.col===_.col>>I&&this.world===_.world}containsChild(_){const I=_.level-this.level;return I>0&&this.row===_.row>>I&&this.col===_.col>>I&&this.world===_.world}equals(_){return this.level===_.level&&this.row===_.row&&this.col===_.col&&this.world===_.world}clone(){return new p(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(_,I,F,R){if(null==_)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof _)this.level=_.level||0,this.row=_.row||0,this.col=_.col||0,this.world=_.world||0;else if("string"==typeof _){const[T,y,E,P]=_.split("/");this.level=parseFloat(T),this.row=parseFloat(y),this.col=parseFloat(E),this.world=parseFloat(P)}else this.level=+_,this.row=+I,this.col=+F,this.world=+R||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new p(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(_,I,F){const R=this.clone();return R.col+=_,R.row+=I,F.normalizeKey(R),R}getChildKeys(){const _=this.level+1,I=this.row<<1,F=this.col<<1,R=this.world;return[new p(_,I,F,R),new p(_,I,F+1,R),new p(_,I+1,F,R),new p(_,I+1,F+1,R)]}compareRowMajor(_){return this.row<_.row?-1:this.row>_.row?1:this.col<_.col?-1:this.col>_.col?1:0}}p.pool=new d.A(p,null,null,25,50)},15215:(xe,re,u)=>{u.d(re,{A:()=>D});var d=u(8189),p=u(98877),w=u(60797),_=u(11432),I=u(17435),F=u(85211),E=(u(3248),u(35150),u(40707),u(76576)),P=u(83953),C=u(56492),N=u(82767),U=u(12619),W=u(3804),O=u(54029);class v{constructor(b,H){this.item=b,this.controller=H,this.promise=null}}class M{constructor(b){this._schedule=null,this._task=null,this._deferreds=new U.A,this._controllers=new U.A,this._processingItems=new U.A,this._pausedSignal=(0,O.v)(!1),this.concurrency=1,b.concurrency&&(this.concurrency=b.concurrency),this._queue=new N.A(b.peeker),this.process=b.process;const H=b.scheduler;b.priority&&H&&(this._task=H.registerTask(b.priority,this))}destroy(){this.clear(),this._schedule=(0,_.xt)(this._schedule),this._task=(0,_.xt)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(b){const H=this._controllers.get(b);H&&H.abort()}clear(){this._queue.clear();const b=[];this._controllers.forEach(H=>b.push(H)),this._controllers.clear(),b.forEach(H=>H.abort()),this._processingItems.clear(),this._cancelNext()}forEach(b){this._deferreds.forEach((H,Y)=>b(Y))}get(b){const H=this._deferreds.get(b);return H?H.promise:void 0}isOngoing(b){return this._processingItems.has(b)}has(b){return this._deferreds.has(b)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(b,H){const Y=this.get(b);if(Y)return Y;const z=new AbortController;let te=null;H&&(te=(0,C.u7)(H,()=>z.abort()));const Q=()=>{q.remove(),te?.remove(),this._removeItem(b),this._queue.remove(b),this._scheduleNext()},q=(0,C.NY)(z.signal,()=>{const X=this._processingItems.get(b);X&&X.controller.abort(),Q(),j.reject((0,C.NK)())}),j=(0,C.Tw)();return this._deferreds.set(b,j),this._controllers.set(b,z),j.promise.then(Q,Q),this._queue.push(b),this._scheduleNext(),j.promise}last(){return this._queue.last()}lastPromise(){const b=this.last();return b?this.get(b):null}peek(){return this._queue.peek()}popLast(){const b=this._queue.popLast();return b&&(this._deferreds.get(b)?.reject((0,C.NK)()),this._removeItem(b)),b}reset(){const b=Array.from(this._processingItems.values());this._processingItems.clear();for(const H of b)this._queue.push(H.item),H.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const b=[];for(;this._queue.length;)b.push(this._queue.pop());return this.clear(),b}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(b){for(;!b.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),b.madeProgress()}_removeItem(b){this._deferreds.delete(b),this._controllers.delete(b),this._processingItems.delete(b)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,W._)(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(b,H){this._canProcessFulfillment(b)&&(this._scheduleNext(),this._deferreds.get(b.item).resolve(H))}_processError(b,H){this._canProcessFulfillment(b)&&(this._scheduleNext(),this._deferreds.get(b.item).reject(H))}_canProcessFulfillment(b){return!!this._deferreds.get(b.item)&&this._processingItems.get(b.item)===b}_process(b){if(null==b)return;let H;const Y=new AbortController,z=new v(b,Y);this._processingItems.set(b,z);try{H=this.process(b,Y.signal)}catch(te){this._processError(z,te)}(0,C.$X)(H)?(z.promise=H,H.then(te=>this._processResult(z,te),te=>this._processError(z,te))):this._processResult(z,H)}get test(){}}const m=[0,0];let Z=class extends p.A{constructor(L){super(L),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:L,process:b,scheduler:H,priority:Y}=this;this._queue=new M({concurrency:L,scheduler:H,priority:Y,process:(z,te)=>{const ee=this._keyToItem.get(z);return b(ee,{signal:te})},peeker:z=>this._peek(z)})}destroy(){this.clear(),this._queue=(0,_.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}abort(L){this._queue.abort("string"==typeof L?L:L.id)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(L){return this._keyToItem.has("string"==typeof L?L:L.id)}pause(){this._queue.pause()}push(L){const b=L.key.id;if(this._queue.has(b))return this._queue.get(b);const H=this._queue.push(b),Y=this.tileInfoView.getTileScale(L.key),z=(0,w.tE)(this._tilesByScale,Y,()=>new Set),te=()=>{z.delete(L.key),0===z.size&&this._tilesByScale.delete(Y),this._keyToItem.delete(b)};return z.add(L.key),this._keyToItem.set(b,L),H.then(te,te),H}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(L){if(!this.state)return L.values().next().value;const b=new Set;for(const te of L)b.add(this._keyToItem.get(te).key);const H=this.state.scale;let Y,z=Number.POSITIVE_INFINITY;for(const[te,ee]of this._tilesByScale)if((0,I.bw)(ee,Q=>b.has(Q))){const Q=Math.abs(te-H);Q<z&&(Y=ee,z=Q)}return this._getClosestTileKey(Y,L).id}_getClosestTileKey(L,b){const H=this.tileInfoView,Y=this.state.center;let z,te=Number.POSITIVE_INFINITY;for(const ee of L)if(b.has(ee.id)){H.getTileCoords(m,ee);const Q=(0,P.Io)(m,Y);Q<te&&(te=Q,z=ee)}return z}};(0,d._)([(0,F.MZ)({constructOnly:!0})],Z.prototype,"concurrency",void 0),(0,d._)([(0,F.MZ)({constructOnly:!0})],Z.prototype,"priority",void 0),(0,d._)([(0,F.MZ)({constructOnly:!0})],Z.prototype,"process",void 0),(0,d._)([(0,F.MZ)({constructOnly:!0})],Z.prototype,"scheduler",void 0),(0,d._)([(0,F.MZ)()],Z.prototype,"state",void 0),(0,d._)([(0,F.MZ)({constructOnly:!0})],Z.prototype,"tileInfoView",void 0),Z=(0,d._)([(0,E.$)("esri.views.2d.tiling.TileQueue")],Z);const D=Z},77031:(xe,re,u)=>{u.d(re,{A:()=>P});var d=u(51995),p=u(83953);class w{constructor(N,U,W){this.maxSize=N,this._tileInfoView=U,this._removedFunc=W,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(N){return this._tilePerId.has(N)}get(N){return this._tilePerId.get(N)}pop(N){const U=this._tilePerId.get(N);if(!U)return;const O=this._tileKeysPerLevel[U.key.level];_(this._tilePerId,N);for(let v=0;v<O.length;v++)if(O[v].id===N){O.splice(v,1);break}return U.visible=!0,U}add(N){N.visible=!1;const U=N.key,W=U.id;if(this._tilePerId.has(W))return;this._tilePerId.set(W,N);const O=U.level;this._tileKeysPerLevel[O]||(this._tileKeysPerLevel[O]=[]),this._tileKeysPerLevel[O].push(U)}prune(N,U,W){let O=this._tilePerId.size;if(O<=this.maxSize)return;let v=this._tileKeysPerLevel.length-1;for(;O>this.maxSize&&v>=0;)v!==N&&(O=this._pruneAroundCenterTile(O,U,W,v)),v--;O>this.maxSize&&(O=this._pruneAroundCenterTile(O,U,W,N))}_pruneAroundCenterTile(N,U,W,O){const v=this._tileKeysPerLevel[O];if(!v||0===v.length)return N;const{size:M,origin:m}=this._tileInfoView.tileInfo,Z=W*M[0],D=W*M[1],L=[0,0],b=[0,0];for(v.sort((H,Y)=>(L[0]=m.x+Z*(H.col+.5),L[1]=m.y-D*(H.row+.5),b[0]=m.x+Z*(Y.col+.5),b[1]=m.y-D*(Y.row+.5),(0,p.hG)(L,U)-(0,p.hG)(b,U)));v.length>0;){const H=v.pop();if(this._removeTile(H.id),--N===this.maxSize)break}return N}_removeTile(N){const U=this._tilePerId.get(N);this._removedFunc&&U&&this._removedFunc(U),_(this._tilePerId,N)}}function _(C,N){C.delete(N)}var I=u(75324);const R=new(u(74847).A)(0,0,0,0),T=new Map,y=[],E=[];class P{constructor(N){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=N.acquireTile,this.releaseTile=N.releaseTile,this.tileInfoView=N.tileInfoView,null!=N.resampling&&(this.resampling=N.resampling),N.cachePolicy&&(this.cachePolicy=N.cachePolicy),N.coveragePolicy&&(this.coveragePolicy=N.coveragePolicy),null!=N.buffer&&(this.buffer=N.buffer),N.cacheSize&&(this._tileCache=new w(N.cacheSize,this.tileInfoView,U=>{this.releaseTile(U)}))}destroy(){this.tileIndex.clear()}update(N){const{resampling:U,tileIndex:W}=this,{scale:O,center:v,resolution:M}=N.state,{minScale:m,maxScale:Z}=this.tileInfoView,D=!N.stationary&&O>this._previousScale;if(this._previousScale=O,!U&&(O>m||O<Z))return this.tiles.length=0,void this.clear();const L=this.tileInfoView.getTileCoverage(N.state,this.buffer,this.resampling,this.coveragePolicy);if(!L)return this.tiles.length=0,void this.clear();const{spans:b,lodInfo:H}=L,{level:Y}=H;this.tiles.length=0,W.forEach(Q=>Q.visible=!0);let z=0,te=0;if(b.length>0)for(const{row:Q,colFrom:q,colTo:j}of b)for(let X=q;X<=j;X++){z++;const A=R.set(Y,Q,H.normalizeCol(X),H.getWorldForColumn(X)).id;let ie=W.get(A);if(ie)ie.isReady?(T.set(A,ie),te++):D||this._addParentTile(A,T);else{if(this._tileCache?.has(A)){if(ie=this._tileCache.pop(A),this.tileIndex.set(A,ie),ie.isReady){T.set(A,ie),te++;continue}}else ie=this.acquireTile(R),this.tileIndex.set(A,ie);D||this._addParentTile(A,T)}}const ee=te===z;for(const[Q,q]of W){if(T.has(Q))continue;R.set(Q);const j=this.tileInfoView.intersects(L,R),X="purge"===this.cachePolicy?R.level!==Y:R.level>Y;!j||!D&&ee?!X&&j||y.push(q):q.isReady?X&&"purge"===this.cachePolicy&&this._hasReadyAncestor(R,Y)?y.push(q):E.push(q):X&&y.push(q)}for(const Q of E)Q.isReady&&T.set(Q.key.id,Q);for(const Q of y)this._tileCache?this._tileCache.add(Q):this.releaseTile(Q),W.delete(Q.key.id);for(const Q of T.values())this.tiles.push(Q);for(const Q of W.values())T.has(Q.key.id)||(Q.visible=!1);this._tileCache?.prune(Y,v,M),I.A.pool.release(L),E.length=0,y.length=0,T.clear()}clear(){const{tileIndex:N}=this;for(const U of N.values())this.releaseTile(U);N.clear()}refresh(N){for(const U of this.tileIndex.values())N(U);this._tileCache?.clear()}updateCacheSize(N){this._tileCache&&(this._tileCache.maxSize=N)}_addParentTile(N,U){let W=N,O=null;for(;W=this.tileInfoView.getTileParentId(W),W;)if(this.tileIndex.has(W)){if(O=this.tileIndex.get(W),O?.isReady){U.has(O.key.id)||U.set(O.key.id,O);break}}else if(this._tileCache?.has(W)&&(O=this._tileCache.pop(W),this.tileIndex.set(W,O),O?.isReady)){U.has(O.key.id)||U.set(O.key.id,O);break}}_hasReadyAncestor(N,U){const W=(0,d.vt)();this.tileInfoView.getTileBounds(W,N,!0);for(const O of this.tileIndex.values())if(O.isReady&&O.key.level>=U&&O.key.level<N.level){const v=(0,d.vt)();if(this.tileInfoView.getTileBounds(v,O.key,!0),(0,d.gR)(v,W))return!0}return!1}}},47461:(xe,re,u)=>{function d(I,F,R,T){const y=3*I,E=3*(R-I)-y,P=1-y-E,C=3*F,N=3*(T-F)-C,U=1-C-N;function W(m){return((P*m+E)*m+y)*m}function v(m){return(3*P*m+2*E)*m+y}return function(m,Z=1e-6){return function O(m){return((U*m+N)*m+C)*m}(function M(m,Z){let D,L,b,H,Y,z;for(b=m,z=0;z<8;z++){if(H=W(b)-m,Math.abs(H)<Z)return b;if(Y=v(b),Math.abs(Y)<1e-6)break;b-=H/Y}if(D=0,L=1,b=m,b<D)return D;if(b>L)return L;for(;D<L;){if(H=W(b),Math.abs(H-m)<Z)return b;m>H?D=b:L=b,b=.5*(L-D)+D}return b}(m,Z))}}u.d(re,{Z0:()=>w,gb:()=>d});const w={};w.ease=d(.25,.1,.25,1),w.linear=d(0,0,1,1),w.easeIn=w["ease-in"]=d(.42,0,1,1),w.easeOut=w["ease-out"]=d(0,0,.58,1),w.easeInOut=w["ease-in-out"]=d(.42,0,.58,1)},6126:(xe,re,u)=>{u.d(re,{$0:()=>k,AU:()=>H,C:()=>j,FT:()=>me,GL:()=>Oe,Hn:()=>se,Ji:()=>Re,RG:()=>fe,UR:()=>he,WK:()=>Ae,XR:()=>oe,Z7:()=>A,aA:()=>We,b:()=>ie,b8:()=>B,cp:()=>Se,hV:()=>ge,iB:()=>X,nr:()=>Le,qV:()=>je,ri:()=>J,s5:()=>Be,tj:()=>S,vt:()=>Q});var d=u(10467),p=u(20351),w=u(31178),_=u(69287),I=u(82663),F=u(85952),R=u(76329),T=u(44999),y=u(83953),E=u(45475),P=u(28067),C=u(68643),N=u(1749),U=u(13970),W=u(32034),O=u(77098),v=u(58701);const M=96,m=39.37,Z=180/Math.PI;function D(ue){return ue.wkid?ue:ue.spatialReference||W.A.WGS84}function L(ue,Te){return Te.type?(0,y.hZ)(ue,Te.x,Te.y):(0,y.C)(ue,Te)}function b(ue){return(0,I.GA)(ue)}function H(ue,Te,we=0){let ze=ue.width,Ee=ue.height;if(0!==we){const Ie=(0,_.kU)(we),be=Math.abs(Math.cos(Ie)),Je=Math.abs(Math.sin(Ie));ze=ue.width*be+ue.height*Je,Ee=ue.width*Je+ue.height*be}const Me=Math.max(1,Te[0]),ve=Math.max(1,Te[1]);return Math.max(ze/Me,Ee/ve)*function _e(ue){return(0,v.fn)(ue)?b(ue)*m*M:1}(ue.spatialReference)}function Y(ue,Te,we,ze){return z.apply(this,arguments)}function z(){return(z=(0,d.A)(function*(ue,Te,we,ze){let Ee,Me;if(!ue||Array.isArray(ue)&&!ue.length)return null;if(w.A.isCollection(ue)&&(ue=ue.toArray()),Array.isArray(ue)&&ue.length&&"object"==typeof ue[0]){const Ie=ue.every(tt=>"attributes"in tt),be=ue.some(tt=>!tt.geometry);let Je=ue;if(Ie&&be&&Te&&Te.allLayerViews){const tt=new Map;for(const St of ue){const Rt=St.layer,Lt=tt.get(Rt)||[],Kt=St.attributes[Rt.objectIdField];null!=Kt&&Lt.push(Kt),tt.set(Rt,Lt)}const lt=[];tt.forEach((St,Rt)=>{const Lt=Te.allLayerViews?.find(Kt=>Kt.layer.id===Rt.id);if(Lt&&"queryFeatures"in Lt){const Kt=Rt.createQuery();Kt.objectIds=St,Kt.returnGeometry=!0,lt.push(Lt.queryFeatures(Kt))}});const ft=yield Promise.all(lt),Et=[];for(const St of ft)if(St&&St.features&&St.features.length)for(const Rt of St.features)null!=Rt.geometry&&Et.push(Rt.geometry);Je=Et}for(const tt of Je)ze=yield Y(tt,Te,we,ze);return ze}if(Array.isArray(ue)&&2===ue.length&&"number"==typeof ue[0]&&"number"==typeof ue[1])Ee=new N.A(ue);else if(ue instanceof C.A)Ee=ue;else if("geometry"in ue)if(ue.geometry)Ee=ue.geometry;else if(ue.layer){const Ie=ue.layer,be=Te.allLayerViews?.find(Je=>Je.layer.id===Ie.id);if(be&&"queryFeatures"in be){const Je=Ie.createQuery();Je.objectIds=[ue.attributes[Ie.objectIdField]],Je.returnGeometry=!0,Ee=(yield be.queryFeatures(Je))?.features?.[0]?.geometry}}if(null==Ee)return null;switch(Ee.type){case"point":Me=new P.A({xmin:Ee.x,ymin:Ee.y,xmax:Ee.x,ymax:Ee.y,spatialReference:Ee.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":Me=(0,O.Hr)(Ee);break;default:Me=Ee.extent}if(!Me)return null;(0,U.isLoaded)()||(0,U.canProjectWithoutEngine)(Me.spatialReference,we)||(yield(0,U.load)());const ve=(0,U.project)(Me,we);if(!ve)return null;if(ze){const Ie=ve.center,be=Ie.clone();be.x=(0,O.O7)(Ie.x,ze.center.x,we),be.x!==Ie.x&&ve.centerAt(be),ze=ze.union(ve)}else ze=ve;return ze})).apply(this,arguments)}function ee(ue,Te){const we=D(ue);return(0,v.aI)(we,Te)||we.imageCoordinateSystem||Te.imageCoordinateSystem?ue:(0,U.project)(ue,Te)}function Q(ue,Te){return q.apply(this,arguments)}function q(){return(q=(0,d.A)(function*(ue,Te){if(!ue||!Te)return new p.A({targetGeometry:new N.A,scale:0,rotation:0});let we=Te.spatialReference;const{constraints:ze,padding:Ee,viewpoint:Me,size:ve}=Te,Ie=[Ee?ve[0]-Ee.left-Ee.right:ve[0],Ee?ve[1]-Ee.top-Ee.bottom:ve[1]];let be=null;ue instanceof p.A?be=ue:ue.viewpoint?be=ue.viewpoint:ue.target&&"esri.Viewpoint"===ue.target.declaredClass&&(be=ue.target);let Je=null;be?.targetGeometry?Je=be.targetGeometry:ue instanceof P.A?Je=ue:ue instanceof C.A?Je=yield Y(ue,Te,we):ue&&(Je=(yield Y(ue.center,Te,we))||(yield Y(ue.target,Te,we))||(yield Y(ue,Te,we))),!Je&&Me?.targetGeometry?Je=Me.targetGeometry:!Je&&Te.extent&&(Je=Te.extent),we||(we=D(Te.spatialReference||Te.extent||Je)),(0,U.isLoaded)()||(0,v.aI)(Je.spatialReference,we)||(0,U.canProjectWithoutEngine)(Je.spatialReference,we)||(yield(0,U.load)());const tt=ee(Je,we),lt="center"in tt?tt.center:tt;!1!==Te.pickClosestTarget&&"point"===lt.type&&"point"===Me.targetGeometry?.type&&(lt.x=(0,O.O7)(lt.x,Me.targetGeometry.x,lt.spatialReference));let ft=0;be?ft=be.rotation:ue.hasOwnProperty("rotation")?ft=ue.rotation:Me&&(ft=Me.rotation);let Et=0;Et=null!=be?.targetGeometry&&"point"===be.targetGeometry.type?be.scale:"scale"in ue&&ue.scale?ue.scale:"zoom"in ue&&-1!==ue.zoom&&ze&&ze.effectiveLODs?ze.zoomToScale(ue.zoom):Array.isArray(Je)||"point"===Je.type||"extent"===Je.type&&0===Je.width&&0===Je.height?Me.scale:H(ee(Je.extent,we),Ie,ft);const St=function te(ue){if(ue&&(!Array.isArray(ue)||"number"!=typeof ue[0])&&("object"==typeof ue||Array.isArray(ue)&&"object"==typeof ue[0])){if("layer"in ue&&null!=ue.layer?.minScale&&null!=ue.layer.maxScale){const Te=ue.layer;return{min:Te.minScale,max:Te.maxScale}}if(Array.isArray(ue)&&ue.length&&ue.every(Te=>"layer"in Te)){let Te=0,we=0;for(const ze of ue){const Ee=ze.layer;Ee?.minScale&&Ee.maxScale&&(Te=Ee.minScale<Te?Ee.minScale:Te,we=Ee.maxScale>we?Ee.maxScale:we)}return Te&&we?{min:Te,max:we}:null}}}(ue.target??ue);St&&(St.min&&St.min<Et?Et=St.min:St.max&&St.max>Et&&(Et=St.max));let Rt=new p.A({targetGeometry:lt,scale:Et,rotation:ft});return ze&&(Rt=ze.fit(Rt),ze.constrainByGeometry(Rt),ze.rotationEnabled||(Rt.rotation=Me.rotation)),Rt})).apply(this,arguments)}function j(ue,Te){const we=ue.targetGeometry,ze=Te.targetGeometry;return we.x=ze.x,we.y=ze.y,we.spatialReference=ze.spatialReference,ue.scale=Te.scale,ue.rotation=Te.rotation,ue}function X(ue,Te,we){return we?(0,y.hZ)(ue,.5*(Te[0]-we.right+we.left),.5*(Te[1]-we.bottom+we.top)):(0,y.hs)(ue,Te,.5)}const A=function(){const ue=(0,E.vt)();return function(Te,we,ze){const Ee=we.targetGeometry;L(ue,Ee);const Me=.5*se(we);return Te.xmin=ue[0]-Me*ze[0],Te.ymin=ue[1]-Me*ze[1],Te.xmax=ue[0]+Me*ze[0],Te.ymax=ue[1]+Me*ze[1],Te.spatialReference=Ee.spatialReference,Te}}();function ie(ue,Te,we,ze,Ee){return Re(ue,Te,we.center),ue.scale=H(we,ze),Ee?.constraints?.constrain(ue),ue}const B=function(){const ue=(0,E.vt)();return function(Te,we,ze){return(0,y.jb)(Te,function Ce(ue,Te){return(0,y.hs)(ue,Te,.5)}(Te,we),X(ue,we,ze))}}(),G=function(){const ue=(0,T.vt)(),Te=(0,E.vt)();return function(we,ze,Ee,Me){const ve=se(ze),Ie=ce(ze);return(0,y.hZ)(Te,ve,ve),(0,R.CV)(ue,Te),(0,R.e$)(ue,ue,Ie),(0,R.Tl)(ue,ue,B(Te,Ee,Me)),(0,R.Tl)(ue,ue,[0,Me.top-Me.bottom]),(0,y.hZ)(we,ue[4],ue[5])}}();function se(ue){return ue.scale*J(ue.targetGeometry?.spatialReference)}function J(ue){return(0,v.fn)(ue)?1/(b(ue)*m*M):1}function ce(ue){return(0,F.DF)(ue.rotation)||0}const Oe=function(){const ue=(0,E.vt)(),Te=(0,E.vt)(),we=(0,E.vt)();return function(ze,Ee,Me,ve,Ie,be){return(0,y.ze)(ue,Ee),(0,y.hs)(Te,Me,.5*be),(0,y.hZ)(we,1/ve*be,-1/ve*be),(0,R.kN)(ze,Te),Ie&&(0,R.e$)(ze,ze,Ie),(0,R.hs)(ze,ze,we),(0,R.Tl)(ze,ze,ue),ze}}(),fe=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee){const Me=se(we),ve=ce(we);return L(ue,we.targetGeometry),Oe(Te,ue,ze,Me,ve,Ee)}}(),Se=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee){const Me=se(we);return L(ue,we.targetGeometry),Oe(Te,ue,ze,Me,0,Ee)}}();function me(ue){const Te=(0,v.Vp)(ue);return Te?Te.valid[1]-Te.valid[0]:0}function ge(ue,Te){return Math.round(me(ue)/Te)}const Be=function(){const ue=(0,E.vt)(),Te=(0,E.vt)(),we=[0,0,0];return function(ze,Ee,Me){(0,y.Re)(ue,ze,Ee),(0,y.S8)(ue,ue),(0,y.Re)(Te,ze,Me),(0,y.S8)(Te,Te),(0,y.$A)(we,ue,Te);let ve=Math.acos((0,y.Om)(ue,Te)/((0,y.Bw)(ue)*(0,y.Bw)(Te)))*Z;return we[2]<0&&(ve=-ve),isNaN(ve)&&(ve=0),ve}}(),Le=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee){const Me=Te.targetGeometry;return j(Te,we),G(ue,we,ze,Ee),Me.x+=ue[0],Me.y+=ue[1],Te}}(),Re=function(ue,Te,we){j(ue,Te);const ze=ue.targetGeometry;return ze.x=we.x,ze.y=we.y,ze.spatialReference=we.spatialReference,ue},oe=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee,Me){Me||(Me="center"),(0,y.jb)(ue,ze,Ee),(0,y.hs)(ue,ue,.5);const ve=ue[0],Ie=ue[1];switch(Me){case"center":(0,y.hZ)(ue,0,0);break;case"left":(0,y.hZ)(ue,-ve,0);break;case"top":(0,y.hZ)(ue,0,Ie);break;case"right":(0,y.hZ)(ue,ve,0);break;case"bottom":(0,y.hZ)(ue,0,-Ie);break;case"top-left":(0,y.hZ)(ue,-ve,Ie);break;case"bottom-left":(0,y.hZ)(ue,-ve,-Ie);break;case"top-right":(0,y.hZ)(ue,ve,Ie);break;case"bottom-right":(0,y.hZ)(ue,ve,-Ie)}return We(Te,we,ue),Te}}();function S(ue,Te,we){return j(ue,Te),ue.rotation+=we,ue}function k(ue,Te,we){return j(ue,Te),ue.rotation=we,ue}const ae=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee,Me){return j(Te,we),isNaN(ze)||0===ze||(Fe(ue,Ee,we,Me),Te.scale=we.scale*ze,Ue(ue,ue,Te,Me),We(Te,Te,(0,y.hZ)(ue,ue[0]-Ee[0],Ee[1]-ue[1]))),Te}}();function he(ue,Te,we){return j(ue,Te),ue.scale=we,ue}const Ae=function(){const ue=(0,E.vt)();return function(Te,we,ze,Ee,Me,ve){return j(Te,we),isNaN(ze)||0===ze||(Fe(ue,Me,we,ve),Te.scale=we.scale*ze,Te.rotation+=Ee,Ue(ue,ue,Te,ve),We(Te,Te,(0,y.hZ)(ue,ue[0]-Me[0],Me[1]-ue[1]))),Te}}(),je=function(){const ue=(0,E.vt)(),Te=(0,E.vt)();return function(we,ze,Ee,Me,ve,Ie,be){return B(Te,Ie,be),(0,y.WQ)(ue,ve,Te),Me?Ae(we,ze,Ee,Me,ue,Ie):ae(we,ze,Ee,ue,Ie)}}(),Fe=function(){const ue=(0,T.vt)();return function(Te,we,ze,Ee){return(0,y.l0)(Te,we,function K(ue,Te,we,ze){return fe(ue,Te,we,ze),(0,R.B8)(ue,ue)}(ue,ze,Ee,1))}}(),Ue=function(){const ue=(0,T.vt)();return function(Te,we,ze,Ee){return(0,y.l0)(Te,we,fe(ue,ze,Ee,1))}}(),We=function(){const ue=(0,E.vt)(),Te=(0,T.vt)();return function(we,ze,Ee){j(we,ze);const Me=se(ze),ve=we.targetGeometry;return(0,R.$0)(Te,ce(ze)),(0,R.hs)(Te,Te,(0,E.fA)(Me,Me)),(0,y.l0)(ue,Ee,Te),ve.x+=ue[0],ve.y+=ue[1],we}}()},23191:(xe,re,u)=>{var d,_;u.d(re,{RT:()=>d}),(_=d||(d={}))[_.Global=1]="Global",_[_.Local=2]="Local"},27111:(xe,re,u)=>{var d,p;u.d(re,{w:()=>d}),(p=d||(d={}))[p.Left=0]="Left",p[p.Middle=1]="Middle",p[p.Right=2]="Right"},33171:(xe,re,u)=>{u.d(re,{l:()=>_}),u(3248),u(35150);class w{constructor(T,y=[]){this.eventType=T,this.keyModifiers=y}matches(T){if(T.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const y=T.modifiers;for(const E of this.keyModifiers)if(!y.has(E))return!1;return!0}}class _{constructor(T){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=T}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const T in this._incoming){const y=this._incoming[T];for(const E of y)this._incomingEventMatches.push(E.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(T=>T.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(T){this._manager||(T.setEventCallback(y=>this._handleEvent(y)),T.setUninstallCallback(()=>this._onUninstall()),this._manager=T)}onUninstall(){}registerIncoming(T,y,E){let P;"function"==typeof y?(E=y,P=[]):P=y||[];const C="string"==typeof T?new w(T,P):T,N=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},U=v=>{const M=this._incoming[v.match.eventType];if(M){const m=M.indexOf(v);M.splice(m,1),N(),this._manager&&this._manager.updateDependencies()}},W=new I(C,E,{onPause:U,onRemove:U,onResume:v=>{const M=this._incoming[v.match.eventType];M&&!M.includes(v)&&(M.push(v),N(),this._manager&&this._manager.updateDependencies())}});let O=this._incoming[C.eventType];return O||(O=[],this._incoming[C.eventType]=O),O.push(W),N(),this._manager&&this._manager.updateDependencies(),W}registerOutgoing(T){if(this._outgoing[T])throw new Error("There is already a callback registered for this outgoing InputEvent: "+T);const y=new F(T,{onEmit:(E,P,C,N)=>{this._manager?.emit(E.eventType,P,C,N)},onRemove:E=>{delete this._outgoing[E.eventType],this._manager?.updateDependencies()}});return this._outgoing[T]=y,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),y}startCapturingPointer(T){this._manager?.setPointerCapture(T,!0)}stopCapturingPointer(T){this._manager?.setPointerCapture(T,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(T){const y=this._incoming[T.type];if(y)for(const E of y)if(E.match.matches(T)&&(E.callback?.(T),T.shouldStopPropagation()))break}}class I{constructor(T,y,E){this.match=T,this._callback=y,this._handler=E}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class F{constructor(T,y){this.eventType=T,this._removed=!1,this._handler=y}emit(T,y,E){this._removed||this._handler.onEmit(this,T,y,E)}remove(){this._removed=!0,this._handler.onRemove(this)}}},19824:(xe,re,u)=>{u.d(re,{e:()=>W,o:()=>M});var d=u(8189),p=u(98877),_=(u(3248),u(35150)),I=u(82767),F=u(85211),T=(u(40707),u(76576)),y=u(75682),E=u(33171);class P extends E.l{constructor(L){super(!0),this._onChange=L,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",b=>this._update(b.data))}_update(L){const b="touch"===L.native.pointerType?"touch":"mouse",{x:H,y:Y}=L;b===this._value&&this._x===H&&this._y===Y||(this._value=b,this._x=H,this._y=Y,this._onChange(b,H,Y))}}var C=u(54029);class N extends E.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,C.v)(!1),this._onPointerAdd=({data:L})=>{"touch"===L.pointerType&&(this._activeTouchPointerIds.add(L.native.pointerId),this._update())},this._onPointerRemove=({data:L})=>{"touch"===L.pointerType&&(this._activeTouchPointerIds.delete(L.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}var U=u(44168);let W=class extends p.A{constructor(D){super(D),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=y.i,this._latestPointerType="mouse",this._propertiesPool=new U.M({latestPointerLocation:Z},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const D=Object.keys(this._nameToGroup);for(const L of D)this.uninstallHandlers(L);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(D=>D.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(D,L,b=M.INTERNAL){if(this._nameToGroup[D]||0===L.length)return;const H={name:D,handlers:L.map(Y=>({handler:Y,active:!0,removed:!1,priorityIndex:0,groupPriority:b,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[D]=H;for(let Y=H.handlers.length-1;Y>=0;Y--){const z=H.handlers[Y];this._handlers.push(z),z.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(te,ee,Q,q,j)=>{this._emitInputEvent(z.priorityIndex+1,te,ee,Q,j,q)},setPointerCapture:(te,ee)=>{this._setPointerCapture(H,z,te,ee)},setEventCallback:te=>{z.eventCallback=te},setUninstallCallback:te=>{z.uninstallCallback=te},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(D){const L=this._nameToGroup[D];L?(L.handlers.forEach(b=>{b.removed=!0,b.uninstallCallback?.()}),delete this._nameToGroup[D],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):_.A.getLogger(this).error("There is no InputHandler group registered under the name `"+D+"`")}hasHandlers(D){return void 0!==this._nameToGroup[D]}isModifierKeyDown(D){return this._activeKeyModifiers.has(D)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const D=new Set,L=new Set;this._handlersPriority=[];for(let b=this._handlers.length-1;b>=0;b--){const H=this._handlers[b];H.priorityIndex=b,this._handlersPriority.push(H)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let b=this._handlersPriority.length-1;b>=0;b--){const H=this._handlersPriority[b];H.priorityIndex=b;let Y=H.handler.hasSideEffects;if(!Y)for(const z of H.handler.outgoingEventTypes)if(D.has(z)){Y=!0;break}if(Y)for(const z of H.handler.incomingEventMatches){D.add(z.eventType);for(const te of z.keyModifiers)(0,y.p)(te)||L.add(te)}H.active=Y}this._sourceEvents=D,this._keyModifiers=L,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(D,L,b){this._latestPointerType=D;const H=this._get("latestPointerLocation");if(null==H||H.x!==L||H.y!==b){const Y=this._propertiesPool.get("latestPointerLocation");Y.x=L,Y.y=b,this._set("latestPointerLocation",Y)}}_onEventReceived(D,L){"pointer-capture-lost"===D&&this._pointerCaptures.delete(L.native.pointerId),this._updateKeyModifiers(D,L),this._emitInputEventFromSource(D,L,null!=this.test.timestamp?this.test.timestamp:L.native?L.native.timestamp:void 0,L.native?L.native.cancelable:void 0)}_updateKeyModifiers(D,L){if(!L)return;let b=!1;const H=()=>{b||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),b=!0)},Y=(te,ee)=>{ee&&!this._activeKeyModifiers.has(te)?(H(),this._activeKeyModifiers.add(te)):!ee&&this._activeKeyModifiers.has(te)&&(H(),this._activeKeyModifiers.delete(te))};if("key-down"===D||"key-up"===D){const te=L.key;this._keyModifiers.has(te)&&Y(te,"key-down"===D)}const z=L.native;Y("Alt",!!z?.altKey),Y("Control",!!z?.ctrlKey),Y("Ctrl",!!z?.ctrlKey),Y("Shift",!!z?.shiftKey),Y("Meta",!!z?.metaKey),Y("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new P((D,L,b)=>this._setLatestPointer(D,L,b)),this._multiTouchHandler=new N,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],M.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,M.INTERNAL)}_setPointerCapture(D,L,b,H){const Y=D.name+"-"+L.priorityIndex,z=this._pointerCaptures.get(b.pointerId)||new Set;this._pointerCaptures.set(b.pointerId,z),H?(z.add(Y),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(b,!0)):z.has(Y)&&(z.delete(Y),0===z.size&&(this._pointerCaptures.delete(b.pointerId),this.eventSource&&this.eventSource.setPointerCapture(b,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(D=>!D.removed),this.updateDependencies()}_emitInputEventFromSource(D,L,b,H){this._emitInputEvent(0,D,L,b,H)}_emitInputEvent(D,L,b,H,Y,z){const te=void 0!==H?H:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),Q={event:new O(L,b,te,z||this._activeKeyModifiers,void 0!==Y&&Y),priorityIndex:D};this._currentPropagation?this._currentPropagation.events.push(Q):this._doNewPropagation(Q)}_doNewPropagation(D){this._currentPropagation={events:new I.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:D.event.timestamp},this._currentPropagation.events.push(D),this._continuePropagation()}_continuePropagation(){this._paused=!1;const D=this._currentPropagation;if(D){for(;D.events.length>0;){const{event:L,priorityIndex:b}=D.events.pop(),H=L.data?.eventId;if(null==H||!this._stoppedPropagationEventIds.has(H))for(D.currentHandler=this._handlersPriority[b];D.currentHandler;){if(D.currentHandler.removed)D.needsHandlerGarbageCollect=!0;else{if(D.currentHandler.active&&!L.shouldStopPropagation()&&D.currentHandler.eventCallback?.(L),L.shouldStopPropagation()){null!=H&&this._stoppedPropagationEventIds.add(H);break}if(L.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:L,priorityIndex:D.currentHandler.priorityIndex+1})}D.currentHandler=this._handlersPriority[D.currentHandler.priorityIndex+1]}}D.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(D){const L=new I.A;L.push(D);const b=this._currentPropagation;if(b){for(;b.events.length;)L.push(b.events.pop());b.events=L,b.currentHandler=null,this._paused=!0}}_compareHandlerPriority(D,L){if(D.handler.hasSideEffects!==L.handler.hasSideEffects)return D.handler.hasSideEffects?1:-1;if(D.groupPriority!==L.groupPriority)return D.groupPriority>L.groupPriority?-1:1;for(const b of D.handler.incomingEventMatches)for(const H of L.handler.incomingEventMatches){if(b.eventType!==H.eventType)continue;const Y=b.keyModifiers.filter(z=>H.keyModifiers.includes(z));if(Y.length===b.keyModifiers.length!=(Y.length===H.keyModifiers.length))return b.keyModifiers.length>H.keyModifiers.length?-1:1}return D.priorityIndex>L.priorityIndex?-1:1}_sortHandlersPriority(D){const L=[];for(const b of D){let H=0;for(;H<L.length&&this._compareHandlerPriority(b,L[H])>=0;)H++;L.splice(H,0,b)}return L}get debug(){const D=L=>{const b=this._setPointerCapture;this._setPointerCapture=()=>{},L(),this._setPointerCapture=b};return{injectEvent:(L,b)=>{D(()=>this._onEventReceived(L,b))},disablePointerCapture:D}}};(0,d._)([(0,F.MZ)({readOnly:!0})],W.prototype,"hasPendingInputs",null),(0,d._)([(0,F.MZ)({constructOnly:!0})],W.prototype,"eventSource",void 0),(0,d._)([(0,F.MZ)({constructOnly:!0})],W.prototype,"recognizers",void 0),(0,d._)([(0,F.MZ)()],W.prototype,"_latestPointerType",void 0),(0,d._)([(0,F.MZ)()],W.prototype,"latestPointerType",null),(0,d._)([(0,F.MZ)()],W.prototype,"multiTouchActive",null),(0,d._)([(0,F.MZ)({readOnly:!0})],W.prototype,"latestPointerLocation",void 0),(0,d._)([(0,F.MZ)()],W.prototype,"_paused",void 0),(0,d._)([(0,F.MZ)({readOnly:!0})],W.prototype,"updating",null),W=(0,d._)([(0,T.$)("esri.views.input.InputManager")],W);class O{constructor(L,b,H,Y,z){this.type=L,this.data=b,this.timestamp=H,this.modifiers=Y,this.cancelable=z,this._propagationState=v.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=v.STOPPED}shouldStopPropagation(){return!!(this._propagationState&v.STOPPED)}async(L){this._propagationState|=v.PAUSED;const b=(H,Y)=>{this._propagationState&=~v.PAUSED;const z=this._resumeCallback;if(this._resumeCallback=null,z&&z(),Y)throw H;return H};return("function"==typeof L?L():L).then(H=>b(H,!1),H=>b(H,!0))}shouldPausePropagation(L){return!!(this._propagationState&v.PAUSED)&&(this._resumeCallback=L,!0)}preventDefault(){this.data.native.preventDefault()}}var v,D;(D=v||(v={}))[D.NONE=0]="NONE",D[D.STOPPED=1]="STOPPED",D[D.PAUSED=2]="PAUSED";const M={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},Z=class m{}},75682:(xe,re,u)=>{u.d(re,{i:()=>p,p:()=>_});const p=(0,u(3248).A)("mac")?"Meta":"Control",w=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),_=I=>w.has(I)},29014:(xe,re,u)=>{var d,p,w,_;u.d(re,{PK:()=>d,SJ:()=>w,p7:()=>p}),(_=d||(d={}))[_.USER=0]="USER",_[_.MANAGER=1]="MANAGER",function(_){_[_.None=0]="None",_[_.Unfocused=1]="Unfocused",_[_.Focused=2]="Focused",_[_.Unselected=4]="Unselected",_[_.Selected=8]="Selected",_[_.All=15]="All"}(p||(p={})),function(_){_[_.None=0]="None",_[_.Custom1=16]="Custom1",_[_.Custom2=32]="Custom2",_[_.Custom3=64]="Custom3",_[_.Custom4=128]="Custom4",_[_.Custom5=256]="Custom5",_[_.Custom6=512]="Custom6",_[_.Custom7=1024]="Custom7",_[_.Custom8=2048]="Custom8",_[_.Custom9=4096]="Custom9",_[_.Custom10=8192]="Custom10",_[_.Custom11=16384]="Custom11",_[_.Custom12=32768]="Custom12",_[_.All=65520]="All"}(w||(w={}))},56253:(xe,re,u)=>{u.d(re,{Ps:()=>F,Tv:()=>y,Zs:()=>w,cD:()=>T,d2:()=>R,fT:()=>p,lH:()=>P,mA:()=>_,n4:()=>E,xc:()=>I});var d=u(68677);const p=new d.A("cyan"),w=1,_=.25,I=new d.A("black"),F=.4,R=.2,T=.25,y="default",E="temporary",P=new d.A("yellow")},33553:(xe,re,u)=>{u.d(re,{A:()=>C});var E,d=u(8189),p=u(68677),w=u(98877),_=u(85211),T=(u(3248),u(35150),u(40707),u(76576)),y=u(56253);let P=E=class extends w.A{constructor(N){super(N),this.name=y.Tv,this.color=y.fT.clone(),this.haloColor=null,this.haloOpacity=y.Zs,this.fillOpacity=y.mA,this.shadowColor=y.xc.clone(),this.shadowOpacity=y.Ps,this.shadowDifference=y.d2,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(N){return this.color.equals(N.color)&&(this.haloColor||this.color).equals(N.haloColor||N.color)&&this.haloOpacity===N.haloOpacity&&this.fillOpacity===N.fillOpacity&&this.haloWidth===N.haloWidth&&this.haloBlur===N.haloBlur&&this.shadowColor.equals(N.shadowColor)&&this.shadowOpacity===N.shadowOpacity&&this.shadowDifference===N.shadowDifference}clone(){return new E({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(N){this.color=N.color.clone(),this.haloColor=N.haloColor?.clone(),this.haloOpacity=N.haloOpacity,this.fillOpacity=N.fillOpacity,this.shadowColor=N.shadowColor.clone(),this.shadowDifference=N.shadowDifference,this.shadowOpacity=N.shadowOpacity,this.haloBlur=N.haloBlur,this.haloWidth=N.haloWidth}};(0,d._)([(0,_.MZ)({type:String,constructOnly:!0,nonNullable:!0})],P.prototype,"name",void 0),(0,d._)([(0,_.MZ)({type:p.A,nonNullable:!0})],P.prototype,"color",void 0),(0,d._)([(0,_.MZ)({type:p.A})],P.prototype,"haloColor",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"haloOpacity",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"fillOpacity",void 0),(0,d._)([(0,_.MZ)({type:p.A,nonNullable:!0})],P.prototype,"shadowColor",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"shadowOpacity",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"shadowDifference",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"haloWidth",void 0),(0,d._)([(0,_.MZ)({nonNullable:!0})],P.prototype,"haloBlur",void 0),P=E=(0,d._)([(0,T.$)("esri.views.support.HighlightOptions")],P);const C=P},44168:(xe,re,u)=>{u.d(re,{M:()=>w});var d=u(75504),p=u(76410);class w{constructor(I,F){this._owner=F,this._properties={},this._afterDispatchHandle=null;for(const R in I){const y=new d.P(I[R],void 0,void 0,2,2);this._properties[R]={pool:y,acquired:[]}}this._afterDispatchHandle=(0,p.rs)(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const I in this._properties){const F=this._properties[I];for(const R of F.acquired)(0,p.Gs)(R)||F.pool.release(R);F.pool.destroy(),F.pool=null,F.acquired=null}this._properties=null,this._owner=null}get(I){const F=this._owner._get(I),R=this._properties[I];let T=R.pool.acquire();for(R.acquired.push(T);T===F;)R.acquired.push(T),T=R.pool.acquire();return T}_release(){for(const I in this._properties){const F=this._properties[I];let R=0;for(const T of F.acquired)(0,p.Gs)(T)?F.acquired[R++]=T:F.pool.release(T);F.acquired.length=R}}}},40830:(xe,re,u)=>{var d,p;u.d(re,{M:()=>d}),(p=d||(d={}))[p.ANIMATING=0]="ANIMATING",p[p.INTERACTING=1]="INTERACTING",p[p.IDLE=2]="IDLE"},34150:(xe,re,u)=>{u.d(re,{Bb:()=>ee,W6:()=>O,mj:()=>W,nu:()=>q});var O,j,d=u(86807),w=(u(3248),u(35150)),_=u(11432),I=u(13316),F=u(12438),R=u(56492),T=u(48900),y=u(54029),E=u(82595),P=u(1257),C=u(96745),N=u(40830),U=u(5714);function W(){return new z.Scheduler}(j=O||(O={})).RESOURCE_CONTROLLER_IMMEDIATE="immediate",j.RESOURCE_CONTROLLER="schedule",j.SLIDE="slide",j.STREAM_DATA_LOADER="stream loader",j.ELEVATION_QUERY="elevation query",j.TERRAIN_SURFACE="terrain",j.SURFACE_GEOMETRY_UPDATES="surface geometry updates",j.LOD_RENDERER="LoD renderer",j.GRAPHICS_CORE="Graphics3D",j.I3S_CONTROLLER="I3S",j.POINT_CLOUD_LAYER="point cloud",j.FEATURE_TILE_FETCHER="feature fetcher",j.OVERLAY="overlay",j.STAGE="stage",j.GRAPHICS_DECONFLICTOR="graphics deconflictor",j.FILTER_VISIBILITY="Graphics3D filter visibility",j.SCALE_VISIBILITY="Graphics3D scale visibility",j.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",j.POINT_OF_INTEREST_FREQUENT="POI frequent",j.POINT_OF_INTEREST_INFREQUENT="POI infrequent",j.LABELER="labeler",j.FEATURE_QUERY_ENGINE="feature query",j.FEATURE_TILE_TREE="feature tile tree",j.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",j.ELEVATION_ALIGNMENT="elevation alignment",j.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",j.TEXT_TEXTURE_ATLAS="text texture atlas",j.TEXTURE_UNLOAD="texture unload",j.LINE_OF_SIGHT_TOOL="line of sight tool",j.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",j.ELEVATION_PROFILE="elevation profile",j.SNAPPING="snapping",j.SHADOW_ACCUMULATOR="shadow accumulator",j.CLOUDS_GENERATOR="clouds generator",j.MAPVIEW_FETCH_QUEUE="mapview fetch queue",j.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",j.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",j[j.NONE=0]="NONE",j[j.TEST_PRIO=1]="TEST_PRIO";const M=new Map([[O.RESOURCE_CONTROLLER_IMMEDIATE,0],[O.RESOURCE_CONTROLLER,4],[O.SLIDE,0],[O.STREAM_DATA_LOADER,0],[O.ELEVATION_QUERY,0],[O.TERRAIN_SURFACE,1],[O.SURFACE_GEOMETRY_UPDATES,1],[O.LOD_RENDERER,2],[O.GRAPHICS_CORE,2],[O.I3S_CONTROLLER,2],[O.POINT_CLOUD_LAYER,2],[O.FEATURE_TILE_FETCHER,2],[O.CLOUDS_GENERATOR,2],[O.OVERLAY,4],[O.STAGE,4],[O.GRAPHICS_DECONFLICTOR,4],[O.FILTER_VISIBILITY,4],[O.SCALE_VISIBILITY,4],[O.FRUSTUM_VISIBILITY,4],[O.POINT_OF_INTEREST_FREQUENT,6],[O.POINT_OF_INTEREST_INFREQUENT,30],[O.LABELER,8],[O.FEATURE_QUERY_ENGINE,8],[O.FEATURE_TILE_TREE,16],[O.FEATURE_TILE_TREE_ACTIVE,0],[O.ELEVATION_ALIGNMENT,12],[O.ELEVATION_ALIGNMENT_SCENE,14],[O.TEXT_TEXTURE_ATLAS,12],[O.TEXTURE_UNLOAD,12],[O.LINE_OF_SIGHT_TOOL,16],[O.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[O.SNAPPING,0],[O.SHADOW_ACCUMULATOR,30],[O.MAPVIEW_FETCH_QUEUE,0],[O.MAPVIEW_LAYERVIEW_UPDATE,2],[O.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,0]]);function m(j){return M.has(j)?M.get(j):"number"==typeof j?j:1}const Z=(0,E.l5)(6.5),D=(0,E.l5)(1),L=(0,E.l5)(30),b=(0,E.l5)(1e3/30),H=(0,E.l5)(100);var z,te;(function(j){j.Scheduler=class X{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(B=>B.needsUpdate)}constructor(){this._updating=(0,y.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new I.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new ie,this._state=N.M.INTERACTING,this._tasks=new F.A,this._runQueue=new F.A,this._load=0,this._idleStateCallbacks=new F.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,T.wB)(()=>C.A.SCHEDULER_LOG_SLOW_TASKS,B=>this._debug=B,T.Vh);for(const B of Object.keys(O))this.performanceInfo.tasks.set(O[B],new I.A(O[B]))}destroy(){this._tasks.toArray().forEach(B=>B.remove()),this._tasks.clear(),(0,_.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(B){this._updatingChanged(),B&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(B,G){const se=new A(this,B,G);return this._tasks.push(se),this._updatingChanged(),this.performanceInfo.tasks.has(B)||this.performanceInfo.tasks.set(B,new I.A(B)),se}registerIdleStateCallbacks(B,G){const se={idleBegin:B,idleEnd:G};this._idleStateCallbacks.push(se),this.state===N.M.IDLE&&this._idleUpdatesStartFired&&se.idleBegin();const J=this;return{remove:()=>this._removeIdleStateCallbacks(se),set idleBegin(ce){J._idleUpdatesStartFired&&(se.idleEnd(),J._state===N.M.IDLE&&ce()),se.idleBegin=ce},set idleEnd(ce){se.idleEnd=ce}}}get load(){return this._load}set state(B){this._state!==B&&(this._state=B,this.state!==N.M.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(G=>G.idleEnd())))}get state(){return this._state}frame(B){this._startFrameTaskTimes();const G=this._updateBudget(B);if(G){const se=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-se)}else this._recordFrameTaskTimes(0);return G}_updateBudget(B){this._test&&(this._test.usedBudget=0),++this._frameNumber;let G=Z,se=B.frameDuration,J=D;switch(this.state){case N.M.IDLE:G=(0,E.l5)(0),se=(0,E.l5)(Math.max(H,B.frameDuration)),J=L;break;case N.M.INTERACTING:se=(0,E.l5)(Math.max(b,B.frameDuration))}return se=(0,E.l5)(se-B.elapsedFrameTime-G),this.state!==N.M.IDLE&&se<D&&!this._forceTask?(this._forceTask=!0,!1):(se=(0,E.l5)(Math.max(se,J)),this._budget.reset(se,this.state),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case N.M.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(B=>B.idleBegin())),this._runIdle();break;case N.M.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,E.l5)(0),this._state),this._budget.madeProgress()}_removeIdleStateCallbacks(B){this._idleUpdatesStartFired&&B.idleEnd(),this._idleStateCallbacks.removeUnordered(B)}removeTask(B){this._tasks.removeUnordered(B),this._runQueue.removeUnordered(B),this._updatingChanged()}_updateTask(B){this._tasks.forAll(G=>{G.name===B&&G.setPriority(B)})}_getState(B){if(this._runQueue.some(se=>se.name===B))return te.SCHEDULED;let G=te.IDLE;return this._tasks.forAll(se=>{se.name===B&&se.needsUpdate&&(se.schedulePriority<=1?G=te.READY:G!==te.READY&&(G=te.WAITING))}),G}_getRuntime(B){let G=0;return this._tasks.forAll(se=>{se.name===B&&(G+=se.runtime)}),G}_resetRuntimes(){this._tasks.forAll(B=>B.runtime=0)}_getRunning(){const B=new Map;if(this._tasks.forAll(se=>{se.needsUpdate&&B.set(se.name,(B.get(se.name)||0)+1)}),0===B.size)return null;let G="";return B.forEach((se,J)=>{G+=se>1?` ${se}x ${J}`:` ${J}`}),G}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const B=this._tasks.reduce((G,se)=>se.needsUpdate?++G:G,0);this._load=.9*this._load+B*(1-.9)}_schedule(){for(this._runQueue.filterInPlace(B=>!!B.needsUpdate||(B.schedulePriority=B.basePriority,!1)),this._tasks.forAll(B=>{0===B.basePriority&&B.needsUpdate&&!this._runQueue.includes(B)&&B.blockFrame!==this._frameNumber&&this._runQueue.unshift(B)});0===this._runQueue.length;){let B=!1,G=0;if(this._tasks.forAll(se=>{se.needsUpdate&&0!==se.schedulePriority&&0!==se.basePriority&&se.blockFrame!==this._frameNumber&&(B=!0,G=Math.max(G,se.basePriority),1===se.schedulePriority?(se.schedulePriority=0,this._runQueue.push(se)):--se.schedulePriority)}),!B)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do{for(;this._runQueue.length>0;){const B=this._budget.now(),G=this._runQueue.pop();this._budget.resetProgress();try{G.task.runTask(this._budget)===U.G&&(G.blockFrame=this._frameNumber)}catch(J){w.A.getLogger("esri.views.support.Scheduler").error(`Exception in task "${G.name}"`,J),G.blockFrame=this._frameNumber}!this._budget.hasProgressed&&G.blockFrame!==this._frameNumber&&G.needsUpdate&&(G.blockFrame=this._frameNumber),G.schedulePriority=G.basePriority;const se=this._budget.now()-B;if(G.runtime+=se,this._frameTaskTimes.set(G.priority,this._frameTaskTimes.get(G.priority)+se),this._budget.remaining<=0)return void this._updatingChanged()}}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const B of Object.keys(O))this._frameTaskTimes.set(O[B],0)}_recordFrameTaskTimes(B){this._frameTaskTimes.forEach((G,se)=>this.performanceInfo.tasks.get(se).push(G)),this.performanceInfo.total.push(B)}get test(){return this._test}};class A{get task(){return this._task.value}get updating(){return this._queue.running}constructor(B,G,se){this._scheduler=B,this.name=G,this.blockFrame=0,this.runtime=0,this._queue=new P.T,this._handles=new d.A,this._basePriority=m(G),this.schedulePriority=this._basePriority,this._task=(0,y.v)(se??this._queue),this._handles.add((0,T.z7)(()=>this.task.running,J=>B.taskRunningChanged(J)))}remove(){this.processQueue(ee),this._scheduler.removeTask(this),this.schedule=q.schedule,this.reschedule=q.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(B){if(this.name===B)return;this.name=B;const G=m(B);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=G),this._basePriority=G}get priority(){return this.name}set priority(B){this.setPriority(B)}get needsUpdate(){return this.updating||this.task.running}schedule(B,G,se){return this._queue.push(B,G,se)}reschedule(B,G,se){return this._queue.unshift(B,G,se)}processQueue(B){return this._queue.runTask(B)}}class ie{constructor(){this._begin=typeof performance<"u"?performance.now():0,this._budget=0,this._state=N.M.IDLE,this._done=!1,this._progressed=!1,this._enabled=!0}run(B){return!this.done&&(!0===B()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get state(){return this._state}get enabled(){return this._enabled}set enabled(B){this._enabled=B}reset(B,G){this._begin=this.now(),this._budget=B,this._state=G,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}j.Budget=ie})(z||(z={})),function(j){j.SCHEDULED="s",j.READY="r",j.WAITING="w",j.IDLE="i"}(te||(te={}));const ee=(()=>{const j=new z.Budget;return j.enabled=!1,j})(),q=new class Q{remove(){}processQueue(){}schedule(X,A,ie){try{if((0,R.G4)(A)){const K=(0,R.NK)();return ie?Promise.resolve(ie(K)):Promise.reject(K)}return(0,R.z7)(X(ee))}catch(K){return Promise.reject(K)}}reschedule(X,A,ie){return this.schedule(X,A,ie)}}},5714:(xe,re,u)=>{u.d(re,{G:()=>d});const d=Symbol("Yield")},96745:(xe,re,u)=>{u.d(re,{A:()=>y});var d=u(8189),p=u(98877),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));let T=class extends p.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,d._)([(0,w.MZ)()],T.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,d._)([(0,w.MZ)()],T.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),T=(0,d._)([(0,R.$)("esri.views.support.debugFlags")],T);const y=new T},77498:(xe,re,u)=>{u.d(re,{FV:()=>R,Uo:()=>I,ZV:()=>w,xB:()=>F}),u(3248);var p=u(67685);function w(T){return(0,p.tc)(T.x,T.y)}function I(T,y){const E=(T instanceof HTMLElement?T:T.surface)?.getBoundingClientRect();return E?(0,p.tc)(y.clientX-E.left,y.clientY-E.top):(0,p.tc)(0,0)}function F(T,y){return y instanceof Event?I(T,y):w(y)}function R(T){if(T instanceof Event)return!0;if("object"==typeof T&&"type"in T)switch(T.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},14989:(xe,re,u)=>{u.r(re),u.d(re,{completeUserSettings:()=>R,createEmptyImageData:()=>w.xR,encode:()=>y,encodeData:()=>E,getFormatAndQuality:()=>O,getMaximumResolutionScale:()=>v,resampleHermite:()=>M,screenshotSuperSampleSettings:()=>m,toDataUrl:()=>W,toRenderSettings:()=>T}),u(3248);var p=u(69287),w=u(48116);const _=2048,I=1.5,F=8;function R(A,ie){const{format:K,quality:B,rotation:G,disableDecorations:se}=A||{},J=H(A,ie.padding),ce=function D(A,ie){const K={x:0,y:0,width:ie.width,height:ie.height};if(A?.area){null!=A.area.x&&(K.x=Math.floor(A.area.x)),null!=A.area.y&&(K.y=Math.floor(A.area.y));const B=null!=A.area.width?Math.floor(A.area.width):null,G=null!=A.area.height?Math.floor(A.area.height):null;if(K.width=ie.width-K.x,K.height=ie.height-K.y,null!=B&&null!=G)K.width=Math.min(K.width,B),K.height=Math.min(K.height,G);else if(null==B&&null!=G){const se=Math.min(K.width,B);K.height=se/K.width*K.height,K.width=se}else if(null!=B&&null==G){const se=Math.min(K.height,G);K.width=se/K.height*K.width,K.height=se}}return function L(A,ie){const K=Math.floor(Math.max(A.x,0)),B=Math.floor(Math.max(A.y,0)),G={x:K,y:B,width:Math.floor(Math.min(A.width,ie.width-K)),height:Math.floor(Math.min(A.height,ie.height-B))},se=G.width/G.height,J=A.width/A.height;if(J===se)return G;if(J>se){const Ce=Math.floor(G.width/J);return{x:G.x,y:Math.floor(G.y+(G.height-Ce)/2),width:G.width,height:Ce}}const ce=Math.floor(G.height*J);return{x:Math.floor(G.x+(G.width-ce)/2),y:G.y,width:ce,height:G.height}}(function b(A,ie){if(null==ie?.width||null==ie.height)return A;const K=ie.width/ie.height,B=A.width/A.height;if(B===K)return A;if(B<K){const se=Math.floor(A.height*K);return A.x-=(se-A.width)/2,A.width=se,A}const G=Math.floor(A.width/K);return A.y-=(G-A.height)/2,A.height=G,A}(K,A),ie)}(A,{width:ie.width-J.left-J.right,height:ie.height-J.top-J.bottom}),{width:_e,height:Ce}=function Z(A,ie){if(!A)return ie;const K=A.width,B=A.height;if(null!=K&&null!=B)return{width:Math.floor(K),height:Math.floor(B)};if(null==K&&null==B)return ie;const G=ie.width/ie.height;return null==B?{width:Math.floor(K),height:Math.floor(K/G)}:{width:Math.floor(B*G),height:Math.floor(B)}}(A,ce),Oe=Y(K);return{format:Oe,quality:(0,p.qE)(B??j[Oe],0,100),area:ce,width:_e,height:Ce,rotation:G,disableDecorations:!!se,ignoreBackground:!!A?.ignoreBackground,ignorePadding:!!A?.ignorePadding}}function T(A,ie){const K=R(A,ie),B=K.area,G=K.width/B.width,se=H(K,ie.padding),J=se.left+se.right,ce=se.top+se.bottom,Ce=ie.height-ce,Oe=Math.floor((ie.width-J)*G+J),fe=Math.floor(Ce*G+ce),Se=A?.layers??[],me=K.ignoreBackground,ge=K.ignorePadding;return{framebufferWidth:Oe,framebufferHeight:fe,region:{x:Math.floor(B.x*G)+se.left,y:Math.floor(B.y*G)+se.top,width:K.width,height:K.height},format:K.format,quality:K.quality,rotation:K.rotation,pixelRatio:G,layers:Se,disableDecorations:K.disableDecorations,ignoreBackground:me,ignorePadding:ge,objectAndLayerIdColor:!1}}function y(A,ie,K){const{ctx:B,canvas:G}=P(A,K),se=B.getImageData(0,0,A.width,A.height),J=W(G,ie);return C(G),{dataUrl:J,data:se}}function E(A,ie){const{ctx:K,canvas:B}=P(A,ie),G=K.getImageData(0,0,A.width,A.height);return C(B),G}function P(A,ie){const K=function N(){return null==U&&(U=document.createElement("canvas")),U}();ie.premultipliedAlpha&&function te(A){const ie=A.data,K=ie.length;for(let B=0;B<K;B+=4){const G=ie[B+3];if(255!==G&&G>0){const se=255/G;ie[B]=ie[B]*se,ie[B+1]=ie[B+1]*se,ie[B+2]=ie[B+2]*se}}}(A),K.width=A.width,K.height=A.height;const B=K.getContext("2d",{willReadFrequently:!0});return B.putImageData(A,0,0),ie.flipY&&function z(A){A.save(),A.globalCompositeOperation="copy",A.scale(1,-1),A.translate(0,-A.canvas.height),A.drawImage(A.canvas,0,0),A.restore()}(B),{ctx:B,canvas:K}}function C(A){A.width=0,A.height=0}let U=null;function W(A,ie){return A.toDataURL(ee[ie.format],ie.quality/100)}function O(A,ie){const K=Y(A);return{format:K,quality:(0,p.qE)(ie??j[K],0,100)}}function v(A,ie){return ie/Math.max(A[0],A[1])}function M(A,ie,K,B=0,G=0,se=A.width-B,J=A.height-G,ce=!1){const{data:_e}=A,{width:Ce,height:Oe,data:fe}=ie,Se=se/Ce,me=J/Oe,ge=Math.ceil(Se/2),Be=Math.ceil(me/2),Le=A.width;for(let Re=0;Re<Oe;Re++)for(let oe=0;oe<Ce;oe++){const S=4*(oe+(ce?Oe-Re-1:Re)*Ce);let k=0,ae=0,he=0,Ae=0,je=0,Fe=0;const Ue=(Re+.5)*me;for(let We=Math.floor(Re*me);We<(Re+1)*me;We++){const ue=Math.abs(Ue-(We+.5))/Be,Te=(oe+.5)*Se,we=ue*ue;for(let ze=Math.floor(oe*Se);ze<(oe+1)*Se;ze++){const Ee=Math.abs(Te-(ze+.5))/ge,Me=Math.sqrt(we+Ee*Ee);if(Me>=1)continue;let ve=2*Me*Me*Me-3*Me*Me+1;const Ie=4*(B+ze+(G+We)*Le);Fe+=ve*_e[Ie+3],ae+=ve,!K&&_e[Ie+3]<255&&(ve=ve*_e[Ie+3]/255),he+=ve*_e[Ie],Ae+=ve*_e[Ie+1],je+=ve*_e[Ie+2],k+=ve}}fe[S]=he/k,fe[S+1]=Ae/k,fe[S+2]=je/k,fe[S+3]=Fe/ae}return ie}function m(A,ie,K){if(!ie)return A;const{framebufferWidth:B,framebufferHeight:G,pixelRatio:se,region:J}=A,ce=H(A,K),_e=ce.left+ce.right,Ce=ce.top+ce.bottom,Oe=B-_e,fe=G-Ce,Se=Math.min(F,Math.min((_-_e)/Oe,(_-Ce)/fe));return Se<I?A:{...A,framebufferWidth:Math.round(Oe*Se)+_e,framebufferHeight:Math.round(fe*Se)+Ce,pixelRatio:se*Se,resample:{region:{x:Math.round((J.x-ce.left)*Se)+ce.left,y:Math.round((J.y-ce.top)*Se)+ce.top,width:Math.round(J.width*Se),height:Math.round(J.height*Se)},width:B,height:G}}}function H(A,ie){return!ie||A?.ignorePadding?X:ie}function Y(A){switch(A){case"png":case"jpg":case"jpeg":return A;default:return q}}const ee={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},q="png",j={png:100,jpg:98,jpeg:98},X={top:0,right:0,bottom:0,left:0}},68165:(xe,re,u)=>{var d,p;u.d(re,{p:()=>d}),(p=d||(d={}))[p.Texture=0]="Texture",p[p.RenderBuffer=1]="RenderBuffer"},76169:(xe,re,u)=>{u.d(re,{g:()=>te});var d=u(10467),p=u(5922),_=(u(3248),u(35150)),I=u(11432),F=u(56492),R=u(54029),T=u(77440),y=u(50915),E=u(68165),P=u(4931);function N(ee){(null!=ee.width&&ee.width<0||null!=ee.height&&ee.height<0||null!=ee.depth&&ee.depth<0)&&_.A.getLogger("esri/views/webgl/textureUtils").error("Negative dimension parameters are not allowed!")}function O(ee){return null!=ee&&"type"in ee&&"compressed"===ee.type}function m(ee){return null!=ee&&!O(ee)&&!function M(ee){return null!=ee&&"byteLength"in ee}(ee)}function Z(ee){return ee===y.Ap.TEXTURE_3D||ee===y.Ap.TEXTURE_2D_ARRAY}function D(ee,Q,q,j=1){let X=Math.max(Q,q);return ee===y.Ap.TEXTURE_3D&&(X=Math.max(X,j)),Math.floor(Math.log2(X))+1}function L(ee){if(null!=ee.internalFormat)return ee.internalFormat===y.Ab.DEPTH_STENCIL?y.Ab.DEPTH24_STENCIL8:ee.internalFormat;switch(ee.dataType){case y.ld.FLOAT:switch(ee.pixelFormat){case y.Ab.RGBA:return y.H0.RGBA32F;case y.Ab.RGB:return y.H0.RGB32F;default:throw new p.A("Unable to derive format")}case y.ld.UNSIGNED_BYTE:switch(ee.pixelFormat){case y.Ab.RGBA:return y.H0.RGBA8;case y.Ab.RGB:return y.H0.RGB8}}return ee.internalFormat=ee.pixelFormat===y.Ab.DEPTH_STENCIL?y.Ab.DEPTH24_STENCIL8:ee.pixelFormat}var H=u(13561);const z=()=>_.A.getLogger("esri/views/webgl/Texture");let te=class xs{constructor(Q,q=null,j=null){if(this.type=E.p.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,this._compressionAbortController=(0,R.v)(null),"context"in Q)this._descriptor=Q,j=q;else{const X=H.z.validate(Q,q);if(!X)throw new p.A("Texture descriptor invalid");this._descriptor=X}this._descriptor.target===y.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(j):this.setData(j)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return(0,P.e)(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}get isCompressing(){return null!==this._compressionAbortController.value}dispose(){this.abortCompression(),this._glName&&this._descriptor.context.instanceCounter.decrement(y.vt.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(Q,q){const j=this._descriptor;if(j.width!==Q||j.height!==q){if(this._wasImmutablyAllocated)throw new p.A("Immutable textures can't be resized!");j.width=Q,j.height=q,this._descriptor.target===y.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(Q){this._descriptor.shouldCompress=Q}setData(Q){this.abortCompression(),!O(Q)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in y.CQ&&(this._descriptor.internalFormat=void 0),this._setData(Q),!O(Q)&&this._descriptor.shouldCompress&&this._compressOnWorker(Q)}updateData(Q,q,j,X,A,ie,K=0){ie||z().error("An attempt to use uninitialized data!"),this._glName||z().error("An attempt to update uninitialized texture!");const B=this._descriptor;B.internalFormat=L(B);const{context:G,pixelFormat:se,dataType:J,target:ce,isImmutable:_e}=B;if(_e&&!this._wasImmutablyAllocated)throw new p.A("Cannot update immutable texture before allocation!");const Ce=G.bindTexture(this,xs.TEXTURE_UNIT_FOR_UPDATES,!0);(q<0||j<0||q+X>B.width||j+A>B.height)&&z().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:Oe}=G;K&&(X&&A||z().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),Oe.pixelStorei(Oe.UNPACK_SKIP_ROWS,K)),m(ie)?Oe.texSubImage2D(ce,Q,q,j,X,A,se,J,ie):O(ie)?Oe.compressedTexSubImage2D(ce,Q,q,j,X,A,B.internalFormat,ie.levels[Q]):Oe.texSubImage2D(ce,Q,q,j,X,A,se,J,ie),K&&Oe.pixelStorei(Oe.UNPACK_SKIP_ROWS,0),G.bindTexture(Ce,xs.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(Q,q,j,X,A,ie,K,B){B||z().error("An attempt to use uninitialized data!"),this._glName||z().error("An attempt to update an uninitialized texture!");const G=this._descriptor;G.internalFormat=L(G);const{context:se,pixelFormat:J,dataType:ce,isImmutable:_e,target:Ce}=G;if(_e&&!this._wasImmutablyAllocated)throw new p.A("Cannot update immutable texture before allocation!");Z(Ce)||z().warn("Attempting to set 3D texture data on a non-3D texture");const Oe=se.bindTexture(this,xs.TEXTURE_UNIT_FOR_UPDATES);se.setActiveTexture(xs.TEXTURE_UNIT_FOR_UPDATES),(q<0||j<0||X<0||q+A>G.width||j+ie>G.height||X+K>G.depth)&&z().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:fe}=se;O(B)?fe.compressedTexSubImage3D(Ce,Q,q,j,X,A,ie,K,G.internalFormat,B=B.levels[Q]):fe.texSubImage3D(Ce,Q,q,j,X,A,ie,K,J,ce,B),se.bindTexture(Oe,xs.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const Q=this._descriptor;if(0===Q.width||0===Q.height)return;if(!Q.hasMipmap){if(this._wasImmutablyAllocated)throw new p.A("Cannot add mipmaps to immutable texture after allocation");Q.hasMipmap=!0,this._samplingModeDirty=!0,N(Q)}Q.samplingMode===y.Cj.LINEAR?(this._samplingModeDirty=!0,Q.samplingMode=y.Cj.LINEAR_MIPMAP_NEAREST):Q.samplingMode===y.Cj.NEAREST&&(this._samplingModeDirty=!0,Q.samplingMode=y.Cj.NEAREST_MIPMAP_NEAREST);const q=this._descriptor.context.bindTexture(this,xs.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(xs.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(Q.target),this._descriptor.context.bindTexture(q,xs.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const Q=this._descriptor;if(Q.hasMipmap){if(this._wasImmutablyAllocated)throw new p.A("Cannot delete mipmaps to immutable texture after allocation");Q.hasMipmap=!1,this._samplingModeDirty=!0,N(Q)}Q.samplingMode===y.Cj.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,Q.samplingMode=y.Cj.LINEAR):Q.samplingMode===y.Cj.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,Q.samplingMode=y.Cj.NEAREST)}setSamplingMode(Q){Q!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=Q,this._samplingModeDirty=!0)}setWrapMode(Q){Q!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=Q,N(this._descriptor),this._wrapModeDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1)}abortCompression(){this.isCompressing&&(this._compressionAbortController.value=(0,I.DC)(this._compressionAbortController.value))}_setData(Q,q){const j=this._descriptor,X=j.context?.gl;if(!X)return;(0,T.Y2)(X),this._glName||(this._glName=X.createTexture(),this._glName&&j.context.instanceCounter.increment(y.vt.Texture,this)),N(j);const A=j.context.bindTexture(this,xs.TEXTURE_UNIT_FOR_UPDATES);j.context.setActiveTexture(xs.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),(0,T.Y2)(X);const ie=q??j.target,K=Z(ie);if(m(Q))this._setDataFromTexImageSource(Q,ie);else{const{width:B,height:G,depth:se}=j;if(null==B||null==G)throw new p.A("Width and height must be specified!");if(K&&null==se)throw new p.A("Depth must be specified!");if(j.internalFormat=L(j),j.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(ie,j.internalFormat,j.hasMipmap,B,G,se),O(Q)){if(!function W(ee){return ee in y.CQ}(j.internalFormat))throw new p.A("Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(Q,j.internalFormat,ie)}else this._texImage(ie,0,j.internalFormat,B,G,se,Q),(0,T.Y2)(X),j.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),(0,T.Y2)(X),j.context.bindTexture(A,xs.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(Q=null){for(let q=y.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;q<=y.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;q++)this._setData(Q,q)}_configurePixelStorage(){const Q=this._descriptor.context.gl,{unpackAlignment:q,flipped:j,preMultiplyAlpha:X}=this._descriptor;Q.pixelStorei(Q.UNPACK_ALIGNMENT,q),Q.pixelStorei(Q.UNPACK_FLIP_Y_WEBGL,j?1:0),Q.pixelStorei(Q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X?1:0)}_setDataFromTexImageSource(Q,q){const{gl:j}=this._descriptor.context,X=this._descriptor;X.internalFormat=L(X);const A=Z(q),{width:ie,height:K,depth:B}=function b(ee){let Q="width"in ee?ee.width:ee.codedWidth,q="height"in ee?ee.height:ee.codedHeight;return ee instanceof HTMLVideoElement&&(Q=ee.videoWidth,q=ee.videoHeight),{width:Q,height:q,depth:1}}(Q);X.width||(X.width=ie),X.height||(X.height=K),A&&(X.depth=B),X.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(q,X.internalFormat,X.hasMipmap,ie,K,B),this._texImage(q,0,X.internalFormat,ie,K,B,Q),(0,T.Y2)(j),X.hasMipmap&&(this.generateMipmap(),(0,T.Y2)(j))}_setDataFromCompressedSource(Q,q,j){const X=this._descriptor,{width:A,height:ie,depth:K}=X,B=Q.levels,G=D(j,A,ie,K),se=Math.min(G,B.length)-1;this._descriptor.context.gl.texParameteri(X.target,X.context.gl.TEXTURE_MAX_LEVEL,se),this._forEachMipmapLevel((J,ce,_e,Ce)=>{const Oe=B[Math.min(J,B.length-1)];this._compressedTexImage(j,J,q,ce,_e,Ce,Oe)},se)}_texStorage(Q,q,j,X,A,ie){const{gl:K}=this._descriptor.context;if(!function U(ee){return ee in y.H0}(q))throw new p.A("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const B=j?D(Q,X,A,ie):1;if(Z(Q)){if(null==ie)throw new p.A("Missing depth dimension for 3D texture upload");K.texStorage3D(Q,B,q,X,A,ie)}else K.texStorage2D(Q,B,q,X,A);this._wasImmutablyAllocated=!0}_texImage(Q,q,j,X,A,ie,K){const B=this._descriptor.context.gl,G=Z(Q),{isImmutable:se,pixelFormat:J,dataType:ce}=this._descriptor;if(se){if(null!=K){const _e=K;if(G){if(null==ie)throw new p.A("Missing depth dimension for 3D texture upload");B.texSubImage3D(Q,q,0,0,0,X,A,ie,J,ce,_e)}else B.texSubImage2D(Q,q,0,0,X,A,J,ce,_e)}}else{const _e=K;if(G){if(null==ie)throw new p.A("Missing depth dimension for 3D texture upload");B.texImage3D(Q,q,j,X,A,ie,0,J,ce,_e)}else B.texImage2D(Q,q,j,X,A,0,J,ce,_e)}}_compressedTexImage(Q,q,j,X,A,ie,K){const B=this._descriptor.context.gl,G=Z(Q);if(this._descriptor.isImmutable){if(null!=K)if(G){if(null==ie)throw new p.A("Missing depth dimension for 3D texture upload");B.compressedTexSubImage3D(Q,q,0,0,0,X,A,ie,j,K)}else B.compressedTexSubImage2D(Q,q,0,0,X,A,j,K)}else if(G){if(null==ie)throw new p.A("Missing depth dimension for 3D texture upload");B.compressedTexImage3D(Q,q,j,X,A,ie,0,K)}else B.compressedTexImage2D(Q,q,j,X,A,0,K)}_compressOnWorker(Q){var q=this;return(0,d.A)(function*(){if(!xs.compressionWorkerHandle||!xs.compressionWorkerHandle.isCompressible(Q))return;const j=q._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_etc"),X=q._descriptor.context?.gl.getExtension("WEBGL_compressed_texture_s3tc");if(j||X){const A=new AbortController;q._compressionAbortController.value=A;const ie={data:yield createImageBitmap(Q),flipped:q.descriptor.flipped,width:Q.width,height:Q.height,hasMipmap:q._descriptor.hasMipmap,hasETC:!!j,hasS3TC:!!X};xs.compressionWorkerHandle.invoke(ie,q._compressionAbortController.value.signal).then(K=>{K&&q.isCompressing&&q.glName&&(q._descriptor.internalFormat=K.internalFormat,q._setData(K.compressedTexture)),A===q._compressionAbortController.value&&(q._compressionAbortController.value=null)}).catch(K=>{(0,F.zf)(K)||A!==q._compressionAbortController.value||(q._compressionAbortController.value=null)})}})()}_forEachMipmapLevel(Q,q=1/0){let{width:j,height:X,depth:A,hasMipmap:ie,target:K}=this._descriptor;const B=K===y.Ap.TEXTURE_3D;if(null==j||null==X||B&&null==A)throw new p.A("Missing texture dimensions for mipmap calculation");for(let G=0;Q(G,j,X,A),ie&&(1!==j||1!==X||B&&1!==A)&&!(G>=q);++G)j=Math.max(1,j>>1),X=Math.max(1,X>>1),B&&(A=Math.max(1,A>>1))}_applySamplingMode(){const Q=this._descriptor,q=Q.context?.gl;let j=Q.samplingMode,X=Q.samplingMode;j===y.Cj.LINEAR_MIPMAP_NEAREST||j===y.Cj.LINEAR_MIPMAP_LINEAR?(j=y.Cj.LINEAR,Q.hasMipmap||(X=y.Cj.LINEAR)):j!==y.Cj.NEAREST_MIPMAP_NEAREST&&j!==y.Cj.NEAREST_MIPMAP_LINEAR||(j=y.Cj.NEAREST,Q.hasMipmap||(X=y.Cj.NEAREST)),q.texParameteri(Q.target,q.TEXTURE_MAG_FILTER,j),q.texParameteri(Q.target,q.TEXTURE_MIN_FILTER,X)}_applyWrapMode(){const Q=this._descriptor,q=Q.context?.gl;"number"==typeof Q.wrapMode?(q.texParameteri(Q.target,q.TEXTURE_WRAP_S,Q.wrapMode),q.texParameteri(Q.target,q.TEXTURE_WRAP_T,Q.wrapMode)):(q.texParameteri(Q.target,q.TEXTURE_WRAP_S,Q.wrapMode.s),q.texParameteri(Q.target,q.TEXTURE_WRAP_T,Q.wrapMode.t))}_applyAnisotropicFilteringParameters(){const Q=this._descriptor,q=Q.context.capabilities.textureFilterAnisotropic;q&&Q.context.gl.texParameterf(Q.target,q.TEXTURE_MAX_ANISOTROPY,Q.maxAnisotropy??1)}};te.TEXTURE_UNIT_FOR_UPDATES=0,te.compressionWorkerHandle=null},4931:(xe,re,u)=>{u.d(re,{R:()=>w,e:()=>_});var d=u(50915),p=u(84757);class w{constructor(F=0,R=F){this.width=F,this.height=R,this.target=d.Ap.TEXTURE_2D,this.pixelFormat=d.Ab.RGBA,this.dataType=d.ld.UNSIGNED_BYTE,this.samplingMode=d.Cj.LINEAR,this.wrapMode=d.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.shouldCompress=!1,this.depth=1,this.isImmutable=!1}}function _(I){return I.width<=0||I.height<=0?0:Math.round(I.width*I.height*I.depth*(I.hasMipmap?4/3:1)*(null==I.internalFormat?4:(0,p.IB)(I.internalFormat))*(I.target===d.Ap.TEXTURE_CUBE_MAP?6:1))}},84757:(xe,re,u)=>{u.d(re,{Hi:()=>y,IB:()=>E,WH:()=>I,yu:()=>T}),u(3248);var p=u(77440),w=u(50915),_=u(45082);function I(P){const C=P.gl;switch(C.getError()){case C.NO_ERROR:return null;case C.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case C.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case C.INVALID_OPERATION:return"The specified command is not allowed for the current state";case C.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case C.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case C.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function T(P,C,N,U,W=0){const O=P.gl;P.bindBuffer(N);for(const v of U){const M=C.get(v.name);if(null==M){console.warn(`There is no location for vertex attribute '${v.name}' defined.`);continue}const m=W*v.stride;if(v.count<=4)O.vertexAttribPointer(M,v.count,v.type,v.normalized,v.stride,v.offset+m),O.enableVertexAttribArray(M),v.divisor>0&&P.gl.vertexAttribDivisor(M,v.divisor);else if(9===v.count)for(let Z=0;Z<3;Z++)O.vertexAttribPointer(M+Z,3,v.type,v.normalized,v.stride,v.offset+12*Z+m),O.enableVertexAttribArray(M+Z),v.divisor>0&&P.gl.vertexAttribDivisor(M+Z,v.divisor);else if(16===v.count)for(let Z=0;Z<4;Z++)O.vertexAttribPointer(M+Z,4,v.type,v.normalized,v.stride,v.offset+16*Z+m),O.enableVertexAttribArray(M+Z),v.divisor>0&&P.gl?.vertexAttribDivisor(M+Z,v.divisor);else console.error("Unsupported vertex attribute element count: "+v.count);if((0,p.en)()){const Z=I(P),D=(0,_._)(v.type),L=v.offset,b=Math.round(D/L)!==D/L?`. Offset not a multiple of stride. DataType requires ${D} bytes, but descriptor has an offset of ${L}`:"";Z&&console.error(`Unable to bind vertex attribute "${v.name}" with baseInstanceOffset ${m}${b}:`,Z,v)}}}function y(P,C,N,U){const W=P.gl;P.bindBuffer(N);for(const O of U){const v=C.get(O.name);if(O.count<=4)W.disableVertexAttribArray(v),O.divisor&&O.divisor>0&&P.gl?.vertexAttribDivisor(v,0);else if(9===O.count)for(let M=0;M<3;M++)W.disableVertexAttribArray(v+M),O.divisor&&O.divisor>0&&P.gl?.vertexAttribDivisor(v+M,0);else if(16===O.count)for(let M=0;M<4;M++)W.disableVertexAttribArray(v+M),O.divisor&&O.divisor>0&&P.gl?.vertexAttribDivisor(v+M,0);else console.error("Unsupported vertex attribute element count: "+O.count)}P.unbindBuffer(w.NZ.ARRAY_BUFFER)}function E(P){switch(P){case w.Ab.ALPHA:case w.Ab.LUMINANCE:case w.Ab.RED:case w.Ab.RED_INTEGER:case w.H0.R8:case w.H0.R8I:case w.H0.R8UI:case w.H0.R8_SNORM:case w.yQ.STENCIL_INDEX8:return 1;case w.Ab.LUMINANCE_ALPHA:case w.Ab.RG:case w.Ab.RG_INTEGER:case w.H0.RGBA4:case w.H0.R16F:case w.H0.R16I:case w.H0.R16UI:case w.H0.RG8:case w.H0.RG8I:case w.H0.RG8UI:case w.H0.RG8_SNORM:case w.H0.RGB565:case w.H0.RGB5_A1:case w.yQ.DEPTH_COMPONENT16:return 2;case w.Ab.DEPTH_COMPONENT:case w.Ab.RGB:case w.Ab.RGB_INTEGER:case w.H0.RGB8:case w.H0.RGB8I:case w.H0.RGB8UI:case w.H0.RGB8_SNORM:case w.H0.SRGB8:case w.yQ.DEPTH_COMPONENT24:return 3;case w.Ab.DEPTH_STENCIL:case w.Ab.DEPTH24_STENCIL8:case w.Ab.RGBA:case w.Ab.RGBA_INTEGER:case w.H0.RGBA8:case w.H0.R32F:case w.H0.R11F_G11F_B10F:case w.H0.RG16F:case w.H0.R32I:case w.H0.R32UI:case w.H0.RG16I:case w.H0.RG16UI:case w.H0.RGBA8I:case w.H0.RGBA8UI:case w.H0.RGBA8_SNORM:case w.H0.SRGB8_ALPHA8:case w.H0.RGB9_E5:case w.H0.RGB10_A2UI:case w.H0.RGB10_A2:case w.yQ.DEPTH_STENCIL:case w.yQ.DEPTH_COMPONENT32F:case w.yQ.DEPTH24_STENCIL8:return 4;case w.yQ.DEPTH32F_STENCIL8:return 5;case w.H0.RGB16F:case w.H0.RGB16I:case w.H0.RGB16UI:return 6;case w.H0.RG32F:case w.H0.RG32I:case w.H0.RG32UI:case w.H0.RGBA16F:case w.H0.RGBA16I:case w.H0.RGBA16UI:return 8;case w.H0.RGB32F:case w.H0.RGB32I:case w.H0.RGB32UI:return 12;case w.H0.RGBA32F:case w.H0.RGBA32I:case w.H0.RGBA32UI:return 16;case w.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case w.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case w.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case w.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case w.CQ.COMPRESSED_R11_EAC:case w.CQ.COMPRESSED_SIGNED_R11_EAC:case w.CQ.COMPRESSED_RGB8_ETC2:case w.CQ.COMPRESSED_SRGB8_ETC2:case w.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case w.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case w.CQ.COMPRESSED_RG11_EAC:case w.CQ.COMPRESSED_SIGNED_RG11_EAC:case w.CQ.COMPRESSED_RGBA8_ETC2_EAC:case w.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},13561:(xe,re,u)=>{u.d(re,{z:()=>w});var d=u(50915),p=u(4931);class w extends p.R{constructor(I,F){switch(super(),this.context=I,Object.assign(this,F),this.internalFormat){case d.H0.R16F:case d.H0.R16I:case d.H0.R16UI:case d.H0.R32F:case d.H0.R32I:case d.H0.R32UI:case d.H0.R8_SNORM:case d.H0.R8:case d.H0.R8I:case d.H0.R8UI:this.pixelFormat=d.Ab.RED}}static validate(I,F){return new w(I,F)}}},54551:(xe,re,u)=>{u.d(re,{C:()=>w});var d=u(22440);let p;function w(){return p??=function F(){const R=new _,T=function I(R){if(typeof WebGL2RenderingContext>"u")return null;const T=document.createElement("canvas");if(!T)return null;let y=T.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==y&&(y=T.getContext("webgl2"),null!=y&&(R.majorPerformanceCaveat=!0)),null==y)return y;R.available=!0,R.maxTextureSize=y.getParameter(y.MAX_TEXTURE_SIZE),R.supportsVertexShaderSamplers=y.getParameter(y.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const E=y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.HIGH_FLOAT);return E&&(R.supportsHighPrecisionFragment=E.precision>0),y}(R);return null==T||(R.supportsColorBufferFloat=null!==T.getExtension("EXT_color_buffer_float"),R.supportsColorBufferFloatBlend=null!==T.getExtension("EXT_float_blend"),R.supportsColorBufferHalfFloat=R.supportsColorBufferFloat||null!==T.getExtension("EXT_color_buffer_half_float"),R.unmaskedRenderer=(0,d.Z)(T,{debugRendererInfo:!0})?.getUnmaskedRendererWebGL()??"unknown"),R}(),p}class _{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}},22440:(xe,re,u)=>{function d(p,w){const _=w.debugRendererInfo&&p.getExtension("WEBGL_debug_renderer_info");return _?{getUnmaskedRendererWebGL:()=>p.getParameter(_.UNMASKED_RENDERER_WEBGL)}:null}u.d(re,{Z:()=>d})},77440:(xe,re,u)=>{u.d(re,{Xc:()=>T,Y2:()=>y,en:()=>R});var d=u(5922),p=u(3248),w=u(35150);const _=()=>w.A.getLogger("esri.views.webgl.checkWebGLError"),F=!!(0,p.A)("enable-feature:webgl-debug");function R(){return F}function T(){return F}function y(E){if(R()){const P=E.getError();if(P){const C=function I(E,P){switch(P){case E.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case E.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case E.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case E.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case E.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case E.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(E,P),N=(new Error).stack;_().error(new d.A("webgl-error","WebGL error occurred",{message:C,stack:N}))}}}},50915:(xe,re,u)=>{var d,p,w,_,I,F,R,T,y,E,P,C,N,U,W,O,v,M,m,Z,A;u.d(re,{Ab:()=>U,Ac:()=>R,Ap:()=>N,CQ:()=>z,Cj:()=>P,Co:()=>m,H0:()=>W,Hr:()=>H,MT:()=>y,NV:()=>d,NZ:()=>I,Nm:()=>b,R:()=>Z,Tb:()=>_,WR:()=>p,Y7:()=>F,_U:()=>M,dn:()=>w,eA:()=>E,ld:()=>O,nI:()=>Y,pF:()=>C,pe:()=>T,sS:()=>q,tx:()=>j,vt:()=>L,xM:()=>D,xV:()=>te,yQ:()=>v}),(A=d||(d={}))[A.DEPTH=256]="DEPTH",A[A.STENCIL=1024]="STENCIL",A[A.COLOR=16384]="COLOR",function(A){A[A.POINTS=0]="POINTS",A[A.LINES=1]="LINES",A[A.LINE_LOOP=2]="LINE_LOOP",A[A.LINE_STRIP=3]="LINE_STRIP",A[A.TRIANGLES=4]="TRIANGLES",A[A.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",A[A.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(A){A[A.ZERO=0]="ZERO",A[A.ONE=1]="ONE",A[A.SRC_COLOR=768]="SRC_COLOR",A[A.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",A[A.SRC_ALPHA=770]="SRC_ALPHA",A[A.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",A[A.DST_ALPHA=772]="DST_ALPHA",A[A.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",A[A.DST_COLOR=774]="DST_COLOR",A[A.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",A[A.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",A[A.CONSTANT_COLOR=32769]="CONSTANT_COLOR",A[A.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",A[A.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",A[A.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(w||(w={})),function(A){A[A.ADD=32774]="ADD",A[A.MIN=32775]="MIN",A[A.MAX=32776]="MAX",A[A.SUBTRACT=32778]="SUBTRACT",A[A.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(_||(_={})),function(A){A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",A[A.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",A[A.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",A[A.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",A[A.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",A[A.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",A[A.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(I||(I={})),function(A){A[A.FRONT=1028]="FRONT",A[A.BACK=1029]="BACK",A[A.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(F||(F={})),function(A){A[A.CW=2304]="CW",A[A.CCW=2305]="CCW"}(R||(R={})),function(A){A[A.BYTE=5120]="BYTE",A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.SHORT=5122]="SHORT",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.INT=5124]="INT",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.FLOAT=5126]="FLOAT",A[A.HALF_FLOAT=5131]="HALF_FLOAT"}(T||(T={})),function(A){A[A.NEVER=512]="NEVER",A[A.LESS=513]="LESS",A[A.EQUAL=514]="EQUAL",A[A.LEQUAL=515]="LEQUAL",A[A.GREATER=516]="GREATER",A[A.NOTEQUAL=517]="NOTEQUAL",A[A.GEQUAL=518]="GEQUAL",A[A.ALWAYS=519]="ALWAYS"}(y||(y={})),function(A){A[A.ZERO=0]="ZERO",A[A.KEEP=7680]="KEEP",A[A.REPLACE=7681]="REPLACE",A[A.INCR=7682]="INCR",A[A.DECR=7683]="DECR",A[A.INVERT=5386]="INVERT",A[A.INCR_WRAP=34055]="INCR_WRAP",A[A.DECR_WRAP=34056]="DECR_WRAP"}(E||(E={})),function(A){A[A.NEAREST=9728]="NEAREST",A[A.LINEAR=9729]="LINEAR",A[A.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",A[A.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",A[A.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",A[A.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(P||(P={})),function(A){A[A.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",A[A.REPEAT=10497]="REPEAT",A[A.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(C||(C={})),function(A){A[A.TEXTURE_2D=3553]="TEXTURE_2D",A[A.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",A[A.TEXTURE_3D=32879]="TEXTURE_3D",A[A.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",A[A.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",A[A.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",A[A.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",A[A.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(N||(N={})),function(A){A[A.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",A[A.DEPTH_STENCIL=34041]="DEPTH_STENCIL",A[A.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",A[A.ALPHA=6406]="ALPHA",A[A.RGB=6407]="RGB",A[A.RGBA=6408]="RGBA",A[A.LUMINANCE=6409]="LUMINANCE",A[A.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",A[A.RED=6403]="RED",A[A.RG=33319]="RG",A[A.RED_INTEGER=36244]="RED_INTEGER",A[A.RG_INTEGER=33320]="RG_INTEGER",A[A.RGB_INTEGER=36248]="RGB_INTEGER",A[A.RGBA_INTEGER=36249]="RGBA_INTEGER"}(U||(U={})),function(A){A[A.RGBA4=32854]="RGBA4",A[A.R16F=33325]="R16F",A[A.RG16F=33327]="RG16F",A[A.RGB32F=34837]="RGB32F",A[A.RGBA16F=34842]="RGBA16F",A[A.R32F=33326]="R32F",A[A.RG32F=33328]="RG32F",A[A.RGBA32F=34836]="RGBA32F",A[A.R11F_G11F_B10F=35898]="R11F_G11F_B10F",A[A.RGB8=32849]="RGB8",A[A.RGBA8=32856]="RGBA8",A[A.RGB5_A1=32855]="RGB5_A1",A[A.R8=33321]="R8",A[A.RG8=33323]="RG8",A[A.R8I=33329]="R8I",A[A.R8UI=33330]="R8UI",A[A.R16I=33331]="R16I",A[A.R16UI=33332]="R16UI",A[A.R32I=33333]="R32I",A[A.R32UI=33334]="R32UI",A[A.RG8I=33335]="RG8I",A[A.RG8UI=33336]="RG8UI",A[A.RG16I=33337]="RG16I",A[A.RG16UI=33338]="RG16UI",A[A.RG32I=33339]="RG32I",A[A.RG32UI=33340]="RG32UI",A[A.RGB16F=34843]="RGB16F",A[A.RGB9_E5=35901]="RGB9_E5",A[A.SRGB8=35905]="SRGB8",A[A.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",A[A.RGB565=36194]="RGB565",A[A.RGBA32UI=36208]="RGBA32UI",A[A.RGB32UI=36209]="RGB32UI",A[A.RGBA16UI=36214]="RGBA16UI",A[A.RGB16UI=36215]="RGB16UI",A[A.RGBA8UI=36220]="RGBA8UI",A[A.RGB8UI=36221]="RGB8UI",A[A.RGBA32I=36226]="RGBA32I",A[A.RGB32I=36227]="RGB32I",A[A.RGBA16I=36232]="RGBA16I",A[A.RGB16I=36233]="RGB16I",A[A.RGBA8I=36238]="RGBA8I",A[A.RGB8I=36239]="RGB8I",A[A.R8_SNORM=36756]="R8_SNORM",A[A.RG8_SNORM=36757]="RG8_SNORM",A[A.RGB8_SNORM=36758]="RGB8_SNORM",A[A.RGBA8_SNORM=36759]="RGBA8_SNORM",A[A.RGB10_A2=32857]="RGB10_A2",A[A.RGB10_A2UI=36975]="RGB10_A2UI"}(W||(W={})),function(A){A[A.FLOAT=5126]="FLOAT",A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",A[A.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",A[A.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",A[A.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",A[A.BYTE=5120]="BYTE",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.SHORT=5122]="SHORT",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.INT=5124]="INT",A[A.HALF_FLOAT=5131]="HALF_FLOAT",A[A.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",A[A.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",A[A.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",A[A.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(O||(O={})),function(A){A[A.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",A[A.STENCIL_INDEX8=36168]="STENCIL_INDEX8",A[A.DEPTH_STENCIL=34041]="DEPTH_STENCIL",A[A.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",A[A.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",A[A.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",A[A.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(v||(v={})),function(A){A[A.STATIC_DRAW=35044]="STATIC_DRAW",A[A.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",A[A.STREAM_DRAW=35040]="STREAM_DRAW",A[A.STATIC_READ=35045]="STATIC_READ",A[A.DYNAMIC_READ=35049]="DYNAMIC_READ",A[A.STREAM_READ=35041]="STREAM_READ",A[A.STATIC_COPY=35046]="STATIC_COPY",A[A.DYNAMIC_COPY=35050]="DYNAMIC_COPY",A[A.STREAM_COPY=35042]="STREAM_COPY"}(M||(M={})),function(A){A[A.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",A[A.VERTEX_SHADER=35633]="VERTEX_SHADER"}(m||(m={})),function(A){A[A.FRAMEBUFFER=36160]="FRAMEBUFFER",A[A.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",A[A.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(Z||(Z={}));const D=33984;var L,b,H;(function(A){A[A.Texture=0]="Texture",A[A.BufferObject=1]="BufferObject",A[A.VertexArrayObject=2]="VertexArrayObject",A[A.Shader=3]="Shader",A[A.Program=4]="Program",A[A.FramebufferObject=5]="FramebufferObject",A[A.Renderbuffer=6]="Renderbuffer",A[A.TransformFeedback=7]="TransformFeedback",A[A.Sync=8]="Sync",A[A.UNCOUNTED=9]="UNCOUNTED",A[A.LinesOfCode=9]="LinesOfCode",A[A.Uniform=10]="Uniform",A[A.COUNT=11]="COUNT"})(L||(L={})),function(A){A[A.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",A[A.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",A[A.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",A[A.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",A[A.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",A[A.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",A[A.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",A[A.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",A[A.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",A[A.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",A[A.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",A[A.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",A[A.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",A[A.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",A[A.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",A[A.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(b||(b={})),function(A){A[A.NONE=0]="NONE",A[A.BACK=1029]="BACK"}(H||(H={}));const Y=33306;var z,te,ee,Q,q,j,X;(function(A){A[A.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",A[A.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",A[A.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",A[A.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",A[A.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",A[A.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",A[A.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",A[A.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",A[A.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",A[A.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",A[A.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",A[A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(z||(z={})),function(A){A[A.FLOAT=5126]="FLOAT",A[A.FLOAT_VEC2=35664]="FLOAT_VEC2",A[A.FLOAT_VEC3=35665]="FLOAT_VEC3",A[A.FLOAT_VEC4=35666]="FLOAT_VEC4",A[A.INT=5124]="INT",A[A.INT_VEC2=35667]="INT_VEC2",A[A.INT_VEC3=35668]="INT_VEC3",A[A.INT_VEC4=35669]="INT_VEC4",A[A.BOOL=35670]="BOOL",A[A.BOOL_VEC2=35671]="BOOL_VEC2",A[A.BOOL_VEC3=35672]="BOOL_VEC3",A[A.BOOL_VEC4=35673]="BOOL_VEC4",A[A.FLOAT_MAT2=35674]="FLOAT_MAT2",A[A.FLOAT_MAT3=35675]="FLOAT_MAT3",A[A.FLOAT_MAT4=35676]="FLOAT_MAT4",A[A.SAMPLER_2D=35678]="SAMPLER_2D",A[A.SAMPLER_CUBE=35680]="SAMPLER_CUBE",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",A[A.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",A[A.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",A[A.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",A[A.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",A[A.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",A[A.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",A[A.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",A[A.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",A[A.SAMPLER_3D=35679]="SAMPLER_3D",A[A.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",A[A.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",A[A.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",A[A.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",A[A.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",A[A.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",A[A.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",A[A.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",A[A.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",A[A.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",A[A.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",A[A.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(te||(te={})),function(A){A[A.OBJECT_TYPE=37138]="OBJECT_TYPE",A[A.SYNC_CONDITION=37139]="SYNC_CONDITION",A[A.SYNC_STATUS=37140]="SYNC_STATUS",A[A.SYNC_FLAGS=37141]="SYNC_FLAGS"}(ee||(ee={})),function(A){A[A.UNSIGNALED=37144]="UNSIGNALED",A[A.SIGNALED=37145]="SIGNALED"}(Q||(Q={})),function(A){A[A.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",A[A.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",A[A.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",A[A.WAIT_FAILED=37149]="WAIT_FAILED"}(q||(q={})),function(A){A[A.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(j||(j={})),function(A){A[A.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(X||(X={}))},45082:(xe,re,u)=>{u.d(re,{_:()=>p});var d=u(50915);function p(w){switch(w){case d.pe.BYTE:case d.pe.UNSIGNED_BYTE:return 1;case d.pe.SHORT:case d.pe.UNSIGNED_SHORT:case d.pe.HALF_FLOAT:return 2;case d.pe.FLOAT:case d.pe.INT:case d.pe.UNSIGNED_INT:return 4}}},46873:(xe,re,u)=>{u.d(re,{D:()=>w,p:()=>p});var d=u(55739);function p(_){const I=(0,d.Vr)(100*(1-_));return Math.max(0,Math.min(I,100))}function w(_){return Math.max(0,Math.min(1-_/100,1))}},85263:(xe,re,u)=>{u.d(re,{CJ:()=>O});var d=u(5922),p=u(77806),w=u(89221),_=u(41556),I=u(58443);const F=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),R=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wcs","wfs","wms","wmts"]),T=new Set([...R,"link-chart"]);function U(v,M){"maxScale"in v&&(M.maxScale=(0,_.B)(v.maxScale)??void 0),"minScale"in v&&(M.minScale=(0,_.B)(v.minScale)??void 0)}function O(v,M,m){if(!v.persistenceEnabled)return null;if(!("write"in v)||!v.write)return m?.messages&&m.messages.push(new d.A("layer:unsupported",`Layers (${v.title}, ${v.id}) of type '${v.declaredClass}' cannot be persisted`,{layer:v})),null;if((0,I.Ov)(v)&&!v.isTable)M=v.resourceInfo;else if(function C(v,M){if(M.restrictedWebMapWriting){const m=function P(v){switch(v.layerContainerType){case"basemap":return F;case"operational-layers":return"link-chart"===v.origin?T:R;default:return null}}(M);return null==m||m.has(v.type)&&!(0,I.Ov)(v)}return!0}(v,m)){const Z={};return v.write(Z,m)?Z:null}return null!=M&&function W(v,M){if(function N(v,M){if(M)if((0,I.Ov)(v)){const m=(0,w.wc)("featureCollection.layers",M),Z=m?.[0]?.layerDefinition;Z&&U(v,Z)}else"group"!==v.type&&U(v,M)}(v,M),M&&(M.id=v.id,"blendMode"in v&&(M.blendMode=v.blendMode,"normal"===M.blendMode&&delete M.blendMode),M.opacity=(0,_.B)(v.opacity)??void 0,M.title=v.title||"Layer",M.visibility=v.visible,"legendEnabled"in v&&"wmts"!==v.type))if((0,I.Ov)(v)){const m=M.featureCollection;m&&(m.showLegend=v.legendEnabled)}else M.showLegend=v.legendEnabled}(v,M=(0,p.o8)(M)),M}},40920:(xe,re,u)=>{u.d(re,{r:()=>w});var d=u(43420);function w(I){return null!=I&&"object"==typeof I&&"declaredClass"in I&&"esri.WebMap"===I.declaredClass}new class p extends d.R{constructor(F,R){super(F,R,"webmap")}}(2,33)},2188:(xe,re,u)=>{u.d(re,{A:()=>me});var d=u(10467),p=u(8189),_=(u(13242),u(52827)),I=u(42425),F=u(40611),T=(u(3248),u(77806)),y=u(35150),E=u(11432),P=u(64261),C=u(56492),N=u(48900),U=u(43085),W=u(85211),O=u(48669),v=u(76576),M=u(9700),m=u(90949),Z=u(37370);u(76062);const L={handleInterceptedEvent:(ge,Be,Le,Re)=>(ge.scheduleRender(),Be.properties[`on${Re.type}`].apply(Be.properties.bind||Le,[Re]))},b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(ge,Be,Le)=>{"-"===Be.charAt(0)?ge.style.setProperty(Be,Le):ge.style[Be]=Le}},te=(ge,Be,Le=!1)=>{let Re=ge;return Be.forEach((oe,S)=>{const k=Re?.children?((ge,Be)=>ge.find(ae=>ae.domNode===oe))(Re.children):void 0;Le&&!k&&S!==Be.length-1||(Re=k)}),Re};var Q=u(42900),q=u(73290),j=u(16137);const X=new Set;var J,K=u(21714),B=u(60421),G=u(88996),se=u(45846);let _e=0;function Ce(ge,Be){const Le=Object.prototype.hasOwnProperty;for(const Re in Be)Le.call(Be,Re)&&Le.call(ge,Re)&&(null!=ge[Re]&&null!=Be[Re]&&"object"==typeof ge[Re]&&"object"==typeof Be[Re]?Ce(ge[Re],Be[Re]):ge[Re]=Be[Re]);return ge}const Oe=(ge=>{let Be;const Le={...L,...ge},Re=(ge=>({...b,...ge}))(Le),oe=Re.performanceLogger;let S,k=!0,ae=!1;const he=[],Ae=[],je=(Ue,We,ue)=>{let Te;Re.eventHandlerInterceptor=(ze,Ee,Me,ve)=>function(Ie){let be;oe("domEvent",Ie);const Je=((ge,Be)=>{const Le=[];for(;ge&&ge!==Be;)Le.push(ge),ge=ge.parentNode;return Le})(Ie.currentTarget,Te.domNode),tt=Je.some(ft=>customElements.get(ft?.tagName?.toLowerCase()));if(Ie.eventPhase!==Event.CAPTURING_PHASE&&tt){const ft=Ie.composedPath(),Et=ft.slice(ft.indexOf(Ie.currentTarget),ft.indexOf(Te.domNode)).reverse();be=te(Te.getLastRender(),Et,!0)}else Je.reverse(),be=te(Te.getLastRender(),Je);let lt;return be&&(lt=Le.handleInterceptedEvent(Be,be,this,Ie)),oe("domEventProcessed",Ie),lt},Le.postProcessProjectionOptions?.(Re);const we=ue();Te=Ue(We,we,Re),Re.eventHandlerInterceptor=void 0,he.push(Te),Ae.push(ue),Le.afterFirstVNodeRendered&&Le.afterFirstVNodeRendered(Te,we)};let Fe=()=>{if(S=void 0,k){k=!1,oe("renderStart",void 0);for(let Ue=0;Ue<he.length;Ue++){const We=Ae[Ue]();oe("rendered",void 0);try{he[Ue].update(We)}catch(ue){console.error(ue)}oe("patched",void 0)}oe("renderDone",void 0),k=!0}};return Le.modifyDoRenderImplementation&&(Fe=Le.modifyDoRenderImplementation(Fe,he,Ae)),Be={renderNow:Fe,scheduleRender:()=>{S||ae||(S=requestAnimationFrame(Fe))},stop:()=>{S&&(cancelAnimationFrame(S),S=void 0),ae=!0},resume:()=>{ae=!1,k=!0,Be.scheduleRender()},append:(Ue,We)=>{je(Z.t.append,Ue,We)},insertBefore:(Ue,We)=>{je(Z.t.insertBefore,Ue,We)},merge:(Ue,We)=>{je(Z.t.merge,Ue,We)},replace:(Ue,We)=>{je(Z.t.replace,Ue,We)},detach:Ue=>{for(let We=0;We<Ae.length;We++)if(Ae[We]===Ue)return Ae.splice(We,1),he.splice(We,1)[0];throw new Error("renderFunction was not found")}},Be})({postProcessProjectionOptions(ge){const Be=ge.eventHandlerInterceptor,Le=/capture$/i;ge.eventHandlerInterceptor=(Re,oe,S,k)=>{const ae=Be?.(Re,oe,S,k),he=Le.test(Re);if(!((Re=Re.replace(Le,"")).toLowerCase()in S)||he){const Ae=Re[2].toLowerCase()+Re.slice(3),je=We=>ae?.call(S,We);S.addEventListener(Ae,je,he);const Fe=()=>S.removeEventListener(Ae,je,he),Ue=k.afterRemoved;k.afterRemoved=We=>{Ue?.(We),Fe()}}return ae}},handleInterceptedEvent(ge,Be,Le,Re){const{eventPhase:oe,type:S}=Re,k=oe===Event.CAPTURING_PHASE;let ae=`on${S}${k?"capture":""}`;const he=Be.properties;(he&&ae in he||(ae=`on${S[0].toUpperCase()}${S.slice(1)}${k?"Capture":""}`,he&&ae in he))&&((0,K.Sh)(),ge.scheduleRender(),he[ae].call(he.bind||Le,Re))}});let fe=!1,Se=class extends(P.A.EsriPromiseMixin(I.A.EventedAccessor)){constructor(ge,Be){var Le;super(ge,Be),Le=this,this._attached=!1,this._projector=Oe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,C.sg)((0,d.A)(function*(){if(Le._messageBundleProps?.length){const he=yield Promise.allSettled(Le._messageBundleProps.map(function(){var Ae=(0,d.A)(function*({bundlePath:je,propertyName:Fe}){if(Le.destroyed)return;let Ue=yield(0,se.ud)(je);Le.uiStrings&&Object.keys(Le.uiStrings)&&(Ue=Ce((0,T.o8)(Ue),Le.uiStrings)),Le[Fe]=Ue});return function(je){return Ae.apply(this,arguments)}}()));if(Le.destroyed)return;for(const Ae of he)"rejected"===Ae.status&&y.A.getLogger(Le).error("widget-intl:locale-error",Le.declaredClass,Ae.reason)}yield Le.loadLocale()})),(0,Q.V)();const Re="esri-widget-uid-"+(0,U.lk)(),oe=this.render.bind(this);this._trackingTarget=new m.r(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const S=()=>({vnodeSelector:"div",properties:{key:`${Re}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),k=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const he=oe()??S(),Ae=he.properties??={};if(Ae.key??=Re,(0,q.b)(he.vnodeSelector)){if(!this.visible)return S()}else this.visible?Ae.styles||(Ae.styles={}):(Ae.class="",Ae.styles={display:"none"}),Ae.styles.display??="";let je=0;return he.children?.forEach(Fe=>{(0,q.b)(Fe.vnodeSelector)||(Fe.properties??={},Fe.properties.key??=`${this.id}--${je++}`)}),(0,q.d)(this,he)};this.render=()=>{if(fe)return k();let he=(0,K.rE)(this)??null;if(he)return he;this._trackingTarget.clear(),fe=!0;try{he=(0,M.a)(this._trackingTarget,k)}catch(Ae){throw y.A.getLogger(this).error(Ae),Ae}finally{fe=!1}return he&&(0,K.$U)(this,he),he};const ae=this.beforeFirstRender();ae?this._resourcesFetch=ae.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),function A(ge){X.add(ge),ge.finally(()=>X.delete(ge))}(this._resourcesFetch)}normalizeCtorArgs(ge,Be){const Le={...ge};return Be&&(Le.container=Be),Le}postInitialize(){}beforeFirstRender(){const ge=this.loadDependencies();return this._messageBundleProps?.length||ge?Promise.all([ge,this._loadLocale()]).then(()=>{}).catch(C.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,E.pR)(this._trackingTarget),(0,E.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,K.Qw)(this))}set container(ge){this._get("container")||this._set("container",ge)}castContainer(ge){return(0,_.$)(ge)}get domNode(){return this.container}set domNode(ge){this.container=ge}get icon(){return null}set icon(ge){this._overrideIfSome("icon",ge)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+_e++}set id(ge){ge&&this._set("id",ge)}get label(){return this.declaredClass.split(".").pop()}set label(ge){this._overrideIfSome("label",ge)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(ge){this._set("visible",ge)}get[(J=j.x,j.D)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,K.Qw)(this),this._projector.scheduleRender())}classes(...ge){return B.Ly.apply(this,ge)}renderNow(){(0,K.Qw)(this),this._projector.renderNow()}_postInitialize(){var ge=this;if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,N.wB)(()=>this.viewModel,(Le,Re)=>{Re&&this.removeHandles("delegated-events"),Le&&(0,F.wb)(Le)&&this.addHandles(this._delegatedEventNames.map(oe=>(0,F.on)(Le,oe,S=>{this.emit(oe,S)})),"delegated-events")},N.pc)),this.postInitialize();const Be=function(){var Le=(0,d.A)(function*(){yield ge._loadLocale().catch(C.jH),ge.scheduleRender()});return function(){return Le.apply(this,arguments)}}();this.addHandles([(0,G.oQ)(Be),(0,N.wB)(()=>this.uiStrings,Be),(0,N.z7)(()=>this.container,Le=>{this.destroyed||this._attach(Le)},{initial:!0,once:!0})])}_attach(ge){ge&&(this._projector.merge(ge,this.render),this._attached=!0)}_detach(ge){this._attached&&(this._projector.detach(this.render),this._attached=!1),ge?.parentNode?.removeChild(ge)}};Se[J]=!0,Se.vnodeSelector="div",(0,p._)([(0,W.MZ)()],Se.prototype,"_readyForTrueRender",void 0),(0,p._)([(0,W.MZ)({value:null})],Se.prototype,"container",null),(0,p._)([(0,O.w)("container")],Se.prototype,"castContainer",null),(0,p._)([(0,W.MZ)()],Se.prototype,"icon",null),(0,p._)([(0,W.MZ)()],Se.prototype,"id",null),(0,p._)([(0,W.MZ)()],Se.prototype,"label",null),(0,p._)([(0,W.MZ)()],Se.prototype,"renderable",null),(0,p._)([(0,W.MZ)()],Se.prototype,"uiStrings",void 0),(0,p._)([(0,W.MZ)()],Se.prototype,"viewModel",void 0),(0,p._)([(0,W.MZ)({value:!0})],Se.prototype,"visible",null),(0,p._)([(0,W.MZ)()],Se.prototype,"key",void 0),(0,p._)([(0,W.MZ)()],Se.prototype,"children",void 0),(0,p._)([(0,W.MZ)()],Se.prototype,"afterCreate",void 0),(0,p._)([(0,W.MZ)()],Se.prototype,"afterUpdate",void 0),(0,p._)([(0,W.MZ)()],Se.prototype,"afterRemoved",void 0),Se=(0,p._)([(0,v.$)("esri.widgets.Widget")],Se);const me=Se},10361:(xe,re,u)=>{u.d(re,{A:()=>T});var d=u(8189),p=u(11432),w=u(85211),R=(u(3248),u(35150),u(40707),u(76576));const T=y=>{let E=class extends y{constructor(...P){super(...P),this.goToOverride=null,this.view=null}callGoTo(P){const{view:C}=this;return(0,p.Lw)(C),this.goToOverride?this.goToOverride(C,P):C.goTo(P.target,P.options)}};return(0,d._)([(0,w.MZ)()],E.prototype,"goToOverride",void 0),(0,d._)([(0,w.MZ)()],E.prototype,"view",void 0),E=(0,d._)([(0,R.$)("esri.widgets.support.GoTo")],E),E}},42900:(xe,re,u)=>{u.d(re,{V:()=>T,W:()=>y});var d=u(34499);let p=!1;const w=E=>{p=!0,(0,d.s)(E)};var _=u(90261),F=(u(3248),u(45272));let R;function T(){p||w((0,F.s2)((0,_.s)(R)))}function y(E){const P=[];for(const C of Object.keys(E))customElements.get(`calcite-${C}`)||P.push(E[C]?.());return P.length>0?Promise.all(P):null}R="components/assets"},54737:(xe,re,u)=>{u.d(re,{$:()=>p});var d=u(60421);function p(){return function(I,F){if(!I[F])throw new TypeError(`Cannot auto bind undefined function '${String(F)}'`);return{value:_(I[F])}}}function _(I){return function(F,...R){!function w(I){const F=I?.type;return I instanceof KeyboardEvent||"keyup"===F||"keydown"===F||"keypress"===F}(F)?I.call(this,F,...R):(0,d.OU)(F.key)&&(F.preventDefault(),F.stopPropagation(),F.target.click())}}},5668:(xe,re,u)=>{function d(p){return(w,_)=>{w.hasOwnProperty("_messageBundleProps")||(w._messageBundleProps=w._messageBundleProps?w._messageBundleProps.slice():[]),w._messageBundleProps.push({bundlePath:p,propertyName:_})}}u.d(re,{G:()=>d})},92190:(xe,re,u)=>{u.d(re,{D:()=>d});const d={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},56295:(xe,re,u)=>{u.d(re,{K:()=>I,w:()=>F});var d=u(73290),p=function(R){return{vnodeSelector:"",properties:void 0,children:void 0,text:R.toString(),domNode:null}},w=function(R,T){for(var y=0,E=R.length;y<E;y++){var P=R[y];Array.isArray(P)?w(P,T):null!=P&&!1!==P&&(P.hasOwnProperty("vnodeSelector")||(P=p(P)),T.push(P))}},_=function(R,T){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];if(1===y.length&&"string"==typeof y[0])return{vnodeSelector:R,properties:T||void 0,children:void 0,text:y[0],domNode:null};var P=[];return w(y,P),{vnodeSelector:R,properties:T||void 0,children:P,text:void 0,domNode:null}};function I(R,T,...y){return"function"!=typeof R||(0,d.b)(R)?_(R,T??null,...y):R(T,...y)}function F(...R){return R}},73290:(xe,re,u)=>{u.d(re,{b:()=>E,d:()=>F});var d=u(17715),p=u(16137);const w=[],_={},I=new WeakMap;function F(P,C){let N=C.children;if(N?.length)for(let W=0;W<N.length;++W)N[W]=F(P,N[W]);else N=w;const U=C.vnodeSelector;if(E(U)){const W=C.properties||_,O=W.key||U,v={key:O,afterCreate:R,afterUpdate:T,afterRemoved:y,parentWidget:P,widgetConstructor:U,widgetProperties:{...W,key:O,children:N}};return{vnodeSelector:U.vnodeSelector,properties:v,children:void 0,text:void 0,domNode:null}}return C}function R(P,C,N,{parentWidget:U,widgetConstructor:W,widgetProperties:O}){const v=new W(O);v.container=P,I.set(P,v),v.afterCreate?.(v,P),U.addHandles((0,d.hA)(()=>y(P))),queueMicrotask(()=>{v[p.D].projector.renderNow()})}function T(P,C,N,{widgetProperties:U}){const W=I.get(P);W&&(W.set(U),W.afterUpdate?.(W,P))}function y(P){const C=I.get(P);C&&(C.afterRemoved?.(C,P),C.destroy(),I.delete(P))}function E(P){return"function"==typeof P&&P[p.x]}},16137:(xe,re,u)=>{u.d(re,{D:()=>p,x:()=>d});const d=Symbol("widget"),p=Symbol("widget-test-data")},21714:(xe,re,u)=>{u.d(re,{$U:()=>_,Qw:()=>I,Sh:()=>p,rE:()=>w});const d=new Map;function p(){d.clear()}function w(F){return d.get(F)}function _(F,R){d.set(F,R)}function I(F){d.delete(F)}},60421:(xe,re,u)=>{u.d(re,{Ly:()=>Rs,N_:()=>it,OU:()=>Os,V8:()=>Ve,W5:()=>_s,Z6:()=>Ts,cA:()=>ut});var d=u(10467),p=function(){return p=Object.assign||function(et){for(var Ye,ht=1,yt=arguments.length;ht<yt;ht++)for(var Ke in Ye=arguments[ht])Object.prototype.hasOwnProperty.call(Ye,Ke)&&(et[Ke]=Ye[Ke]);return et},p.apply(this,arguments)},w={exports:{}},_={},I={exports:{}},F={};function R(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var E=/javascript\s*\:/gim;F.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},F.getDefaultWhiteList=R,F.onAttr=function T(le,et,Ye){},F.onIgnoreAttr=function y(le,et,Ye){},F.safeAttrValue=function P(le,et){return E.test(et)?"":et};var N_trim=function(le){return String.prototype.trim?le.trim():le.replace(/(^\s*)|(\s*$)/g,"")},N_trimRight=function(le){return String.prototype.trimRight?le.trimRight():le.replace(/(\s*$)/g,"")},O=F;function M(le){return null==le}function Z(le){(le=function m(le){var et={};for(var Ye in le)et[Ye]=le[Ye];return et}(le||{})).whiteList=le.whiteList||O.whiteList,le.onAttr=le.onAttr||O.onAttr,le.onIgnoreAttr=le.onIgnoreAttr||O.onIgnoreAttr,le.safeAttrValue=le.safeAttrValue||O.safeAttrValue,this.options=le}Z.prototype.process=function(le){if(!(le=(le=le||"").toString()))return"";var Ye=this.options,ht=Ye.whiteList,yt=Ye.onAttr,Ke=Ye.onIgnoreAttr,He=Ye.safeAttrValue;return function U(le,et){";"!==(le=N_trimRight(le))[le.length-1]&&(le+=";");var Ye=le.length,ht=!1,yt=0,Ke=0,He="";function qe(){if(!ht){var Ct=N_trim(le.slice(yt,Ke)),wt=Ct.indexOf(":");if(-1!==wt){var ls=N_trim(Ct.slice(0,wt)),is=N_trim(Ct.slice(wt+1));if(ls){var $t=et(yt,He.length,ls,is,Ct);$t&&(He+=$t+"; ")}}}yt=Ke+1}for(;Ke<Ye;Ke++){var ot=le[Ke];if("/"===ot&&"*"===le[Ke+1]){var Dt=le.indexOf("*/",Ke+2);if(-1===Dt)break;yt=(Ke=Dt+1)+1,ht=!1}else"("===ot?ht=!0:")"===ot?ht=!1:";"===ot?ht||qe():"\n"===ot&&qe()}return N_trim(He)}(le,function(ot,Dt,Ct,wt,ls){var is=ht[Ct],$t=!1;if(!0===is?$t=is:"function"==typeof is?$t=is(wt):is instanceof RegExp&&($t=is.test(wt)),!0!==$t&&($t=!1),wt=He(Ct,wt)){var ds,qt={position:Dt,sourcePosition:ot,source:ls,isWhite:$t};if($t)return M(ds=yt(Ct,wt,qt))?Ct+":"+wt:ds;if(!M(ds=Ke(Ct,wt,qt)))return ds}})};var D=Z;!function(le,et){var Ye=F,ht=D;for(var Ke in(et=le.exports=function yt(He,qe){return new ht(qe).process(He)}).FilterCSS=ht,Ye)et[Ke]=Ye[Ke]}(I,I.exports);var L=I.exports,b={indexOf:function(le,et){var Ye,ht;if(Array.prototype.indexOf)return le.indexOf(et);for(Ye=0,ht=le.length;Ye<ht;Ye++)if(le[Ye]===et)return Ye;return-1},forEach:function(le,et,Ye){var ht,yt;if(Array.prototype.forEach)return le.forEach(et,Ye);for(ht=0,yt=le.length;ht<yt;ht++)et.call(Ye,le[ht],ht,le)},trim:function(le){return String.prototype.trim?le.trim():le.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(le){var Ye=/\s|\n|\t/.exec(le);return Ye?Ye.index:-1}},Y=L.getDefaultWhiteList,z=b;var ee=new(0,L.FilterCSS);function A(le){return le.replace(K,"&lt;").replace(B,"&gt;")}var K=/</g,B=/>/g,G=/"/g,se=/&quot;/g,J=/&#([a-zA-Z0-9]*);?/gim,ce=/&colon;?/gim,_e=/&newline;?/gim,Ce=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Oe=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,fe=/u\s*r\s*l\s*\(.*/gi;function Se(le){return le.replace(G,"&quot;")}function me(le){return le.replace(se,'"')}function ge(le){return le.replace(J,function(Ye,ht){return String.fromCharCode("x"===ht[0]||"X"===ht[0]?parseInt(ht.substr(1),16):parseInt(ht,10))})}function Be(le){return le.replace(ce,":").replace(_e," ")}function Le(le){for(var et="",Ye=0,ht=le.length;Ye<ht;Ye++)et+=le.charCodeAt(Ye)<32?" ":le.charAt(Ye);return z.trim(et)}function Re(le){return Le(le=Be(le=ge(le=me(le))))}function oe(le){return A(le=Se(le))}_.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},_.getDefaultWhiteList=function te(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},_.onTag=function Q(le,et,Ye){},_.onIgnoreTag=function q(le,et,Ye){},_.onTagAttr=function j(le,et,Ye){},_.onIgnoreTagAttr=function X(le,et,Ye){},_.safeAttrValue=function ie(le,et,Ye,ht){if(Ye=Re(Ye),"href"===et||"src"===et){if("#"===(Ye=z.trim(Ye)))return"#";if("http://"!==Ye.substr(0,7)&&"https://"!==Ye.substr(0,8)&&"mailto:"!==Ye.substr(0,7)&&"tel:"!==Ye.substr(0,4)&&"data:image/"!==Ye.substr(0,11)&&"ftp://"!==Ye.substr(0,6)&&"./"!==Ye.substr(0,2)&&"../"!==Ye.substr(0,3)&&"#"!==Ye[0]&&"/"!==Ye[0])return""}else if("background"===et){if(Ce.lastIndex=0,Ce.test(Ye))return""}else if("style"===et){if(Oe.lastIndex=0,Oe.test(Ye)||(fe.lastIndex=0,fe.test(Ye)&&(Ce.lastIndex=0,Ce.test(Ye))))return"";!1!==ht&&(Ye=(ht=ht||ee).process(Ye))}return oe(Ye)},_.escapeHtml=A,_.escapeQuote=Se,_.unescapeQuote=me,_.escapeHtmlEntities=ge,_.escapeDangerHtml5Entities=Be,_.clearNonPrintableCharacter=Le,_.friendlyAttrValue=Re,_.escapeAttrValue=oe,_.onIgnoreTagStripAll=function S(){return""},_.StripTagBody=function k(le,et){"function"!=typeof et&&(et=function(){});var Ye=!Array.isArray(le),yt=[],Ke=!1;return{onIgnoreTag:function(He,qe,ot){if(function ht(He){return!!Ye||-1!==z.indexOf(le,He)}(He)){if(ot.isClosing){return yt.push([!1!==Ke?Ke:ot.position,ot.position+10]),Ke=!1,"[/removed]"}return Ke||(Ke=ot.position),"[removed]"}return et(He,qe,ot)},remove:function(He){var qe="",ot=0;return z.forEach(yt,function(Dt){qe+=He.slice(ot,Dt[0]),ot=Dt[1]}),qe+=He.slice(ot)}}},_.stripCommentTag=function ae(le){for(var et="",Ye=0;Ye<le.length;){var ht=le.indexOf("\x3c!--",Ye);if(-1===ht){et+=le.slice(Ye);break}et+=le.slice(Ye,ht);var yt=le.indexOf("--\x3e",ht);if(-1===yt)break;Ye=yt+3}return et},_.stripBlankChar=function he(le){var et=le.split("");return(et=et.filter(function(Ye){var ht=Ye.charCodeAt(0);return!(127===ht||ht<=31&&10!==ht&&13!==ht)})).join("")},_.cssFilter=ee,_.getDefaultCSSWhiteList=Y;var Ae={},je=b;function Fe(le){var Ye,et=je.spaceIndex(le);return Ye=le.slice(1,-1===et?-1:et+1),"/"===(Ye=je.trim(Ye).toLowerCase()).slice(0,1)&&(Ye=Ye.slice(1)),"/"===Ye.slice(-1)&&(Ye=Ye.slice(0,-1)),Ye}function Ue(le){return"</"===le.slice(0,2)}var ue=/[^a-zA-Z0-9\\_:.-]/gim;function we(le,et){for(;et<le.length;et++){var Ye=le[et];if(" "!==Ye)return"="===Ye?et:-1}}function ze(le,et){for(;et<le.length;et++){var Ye=le[et];if(" "!==Ye)return"'"===Ye||'"'===Ye?et:-1}}function Ee(le,et){for(;et>0;et--){var Ye=le[et];if(" "!==Ye)return"="===Ye?et:-1}}function ve(le){return function Me(le){return'"'===le[0]&&'"'===le[le.length-1]||"'"===le[0]&&"'"===le[le.length-1]}(le)?le.substr(1,le.length-2):le}Ae.parseTag=function We(le,et,Ye){var ht="",yt=0,Ke=!1,He=!1,qe=0,ot=le.length,Dt="",Ct="";e:for(qe=0;qe<ot;qe++){var wt=le.charAt(qe);if(!1===Ke){if("<"===wt){Ke=qe;continue}}else if(!1===He){if("<"===wt){ht+=Ye(le.slice(yt,qe)),Ke=qe,yt=qe;continue}if(">"===wt){ht+=Ye(le.slice(yt,Ke)),Dt=Fe(Ct=le.slice(Ke,qe+1)),ht+=et(Ke,ht.length,Dt,Ct,Ue(Ct)),yt=qe+1,Ke=!1;continue}if('"'===wt||"'"===wt)for(var ls=1,is=le.charAt(qe-ls);""===is.trim()||"="===is;){if("="===is){He=wt;continue e}is=le.charAt(qe-++ls)}}else if(wt===He){He=!1;continue}}return yt<le.length&&(ht+=Ye(le.substr(yt))),ht},Ae.parseAttr=function Te(le,et){var Ye=0,ht=0,yt=[],Ke=!1,He=le.length;function qe(ls,is){if(!((ls=(ls=je.trim(ls)).replace(ue,"").toLowerCase()).length<1)){var $t=et(ls,is||"");$t&&yt.push($t)}}for(var ot=0;ot<He;ot++){var wt,Dt=le.charAt(ot);if(!1!==Ke||"="!==Dt)if(!1===Ke||ot!==ht){if(/\s|\n|\t/.test(Dt)){if(le=le.replace(/\s|\n|\t/g," "),!1===Ke){if(-1===(wt=we(le,ot))){qe(je.trim(le.slice(Ye,ot))),Ke=!1,Ye=ot+1;continue}ot=wt-1;continue}if(-1===(wt=Ee(le,ot-1))){qe(Ke,ve(je.trim(le.slice(Ye,ot)))),Ke=!1,Ye=ot+1;continue}}}else{if(-1===(wt=le.indexOf(Dt,ot+1)))break;qe(Ke,je.trim(le.slice(ht+1,wt))),Ke=!1,Ye=(ot=wt)+1}else Ke=le.slice(Ye,ot),ht='"'===le.charAt(Ye=ot+1)||"'"===le.charAt(Ye)?Ye:ze(le,ot+1)}return Ye<le.length&&(!1===Ke?qe(le.slice(Ye)):qe(Ke,ve(je.trim(le.slice(Ye))))),je.trim(yt.join(" "))};var Ie=L.FilterCSS,be=_,tt=Ae.parseTag,lt=Ae.parseAttr,ft=b;function Et(le){return null==le}function Kt(le){(le=function Rt(le){var et={};for(var Ye in le)et[Ye]=le[Ye];return et}(le||{})).stripIgnoreTag&&(le.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),le.onIgnoreTag=be.onIgnoreTagStripAll),le.whiteList=le.whiteList||le.allowList?function Lt(le){var et={};for(var Ye in le)Array.isArray(le[Ye])?et[Ye.toLowerCase()]=le[Ye].map(function(ht){return ht.toLowerCase()}):et[Ye.toLowerCase()]=le[Ye];return et}(le.whiteList||le.allowList):be.whiteList,le.onTag=le.onTag||be.onTag,le.onTagAttr=le.onTagAttr||be.onTagAttr,le.onIgnoreTag=le.onIgnoreTag||be.onIgnoreTag,le.onIgnoreTagAttr=le.onIgnoreTagAttr||be.onIgnoreTagAttr,le.safeAttrValue=le.safeAttrValue||be.safeAttrValue,le.escapeHtml=le.escapeHtml||be.escapeHtml,this.options=le,!1===le.css?this.cssFilter=!1:(le.css=le.css||{},this.cssFilter=new Ie(le.css))}Kt.prototype.process=function(le){if(!(le=(le=le||"").toString()))return"";var Ye=this.options,ht=Ye.whiteList,yt=Ye.onTag,Ke=Ye.onIgnoreTag,He=Ye.onTagAttr,qe=Ye.onIgnoreTagAttr,ot=Ye.safeAttrValue,Dt=Ye.escapeHtml,Ct=this.cssFilter;Ye.stripBlankChar&&(le=be.stripBlankChar(le)),Ye.allowCommentTag||(le=be.stripCommentTag(le));var wt=!1;Ye.stripIgnoreTagBody&&(wt=be.StripTagBody(Ye.stripIgnoreTagBody,Ke),Ke=wt.onIgnoreTag);var ls=tt(le,function(is,$t,qt,ds,Xs){var Zs={sourcePosition:is,position:$t,isClosing:Xs,isWhite:Object.prototype.hasOwnProperty.call(ht,qt)},Qs=yt(qt,ds,Zs);if(!Et(Qs))return Qs;if(Zs.isWhite){if(Zs.isClosing)return"</"+qt+">";var Sn=function St(le){var et=ft.spaceIndex(le);if(-1===et)return{html:"",closing:"/"===le[le.length-2]};var Ye="/"===(le=ft.trim(le.slice(et+1,-1)))[le.length-1];return Ye&&(le=ft.trim(le.slice(0,-1))),{html:le,closing:Ye}}(ds),qs=ht[qt],Ds=lt(Sn.html,function(Us,js){var en=-1!==ft.indexOf(qs,Us),es=He(qt,Us,js,en);return Et(es)?en?(js=ot(qt,Us,js,Ct))?Us+'="'+js+'"':Us:Et(es=qe(qt,Us,js,en))?void 0:es:es});return ds="<"+qt,Ds&&(ds+=" "+Ds),Sn.closing&&(ds+=" /"),ds+">"}return Et(Qs=Ke(qt,ds,Zs))?Dt(ds):Qs},Dt);return wt&&(ls=wt.remove(ls)),ls};var Vt=Kt;!function(le,et){var Ye=_,ht=Ae,yt=Vt;function Ke(qe,ot){return new yt(ot).process(qe)}(et=le.exports=Ke).filterXSS=Ke,et.FilterXSS=yt,function(){for(var qe in Ye)et[qe]=Ye[qe];for(var ot in ht)et[ot]=ht[ot]}(),function He(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=le.exports)}(w,w.exports);var zt=w.exports,Wt=function(){function le(et,Ye){var yt,ht=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=p(p({},zt.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Ke,He,qe,ot){return"a"===Ke&&"href"===He||("img"===Ke||"source"===Ke)&&"src"===He?ht.sanitizeUrl(qe):zt.safeAttrValue(Ke,He,qe,ot)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},et&&!Ye?yt=et:et&&Ye?((yt=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(et).forEach(function(Ke){if("whiteList"===Ke)yt.whiteList=ht._extendObjectOfArrays([ht.arcgisWhiteList,et.whiteList||{}]);else if("css"===Ke){var He=et.css.whiteList;null!=He&&et.css instanceof Object&&Object.keys(He).forEach(function(qe){return yt.css.whiteList[qe]=He[qe]})}else yt[Ke]=et[Ke]})):((yt=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,yt.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=yt,this._xssFilter=new zt.FilterXSS(yt)}return le.prototype.sanitize=function(et,Ye){switch(void 0===Ye&&(Ye={}),typeof et){case"number":return isNaN(et)||!isFinite(et)?null:et;case"boolean":return et;case"string":return this._xssFilter.process(et);case"object":return this._iterateOverObject(et,Ye);default:return Ye.allowUndefined&&typeof et>"u"?void 0:null}},le.prototype.sanitizeUrl=function(et,Ye){var ht=(Ye??{}).isProtocolRequired,yt=void 0===ht||ht,Ke=this._trim(et.substring(0,et.indexOf(":"))),He="/"===et,qe=/^#/.test(et),ot=Ke&&this.allowedProtocols.indexOf(Ke.toLowerCase())>-1;return He||qe||ot?zt.escapeAttrValue(et):Ke||yt?"":zt.escapeAttrValue("https://".concat(et))},le.prototype.sanitizeHTMLAttribute=function(et,Ye,ht,yt){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(et,Ye,ht,yt):zt.safeAttrValue(et,Ye,ht,yt)},le.prototype.validate=function(et,Ye){void 0===Ye&&(Ye={});var ht=this.sanitize(et,Ye);return{isValid:et===ht,sanitized:ht}},le.prototype.encodeHTML=function(et){var Ye=this;return String(et).replace(/[&<>"'\/]/g,function(ht){return Ye._entityMap[ht]})},le.prototype.encodeAttrValue=function(et){var Ye=/^[a-zA-Z0-9]$/;return String(et).replace(/[\x00-\xFF]/g,function(ht,yt){return Ye.test(ht)?ht:"&#x".concat(Number(et.charCodeAt(yt)).toString(16),";")})},le.prototype._extendObjectOfArrays=function(et){var Ye={};return et.forEach(function(ht){Object.keys(ht).forEach(function(yt){Ye[yt]=Array.isArray(ht[yt])&&Array.isArray(Ye[yt])?Ye[yt].concat(ht[yt]):ht[yt]})}),Ye},le.prototype._iterateOverObject=function(et,Ye){var ht=this;void 0===Ye&&(Ye={});try{var yt=!1,Ke=void 0;if(Array.isArray(et))Ke=et.reduce(function(qe,ot){var Dt=ht.validate(ot,Ye);return Dt.isValid?qe.concat([ot]):(yt=!0,qe.concat([Dt.sanitized]))},[]);else{if(!function(le){if("object"!=typeof le||null===le||"[object Object]"!==Object.prototype.toString.call(le))return!1;var et=Object.getPrototypeOf(le);if(null===et)return!0;for(;null!==Object.getPrototypeOf(et);)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(le)===et}(et))return Ye.allowUndefined&&typeof et>"u"?void 0:null;Ke=Object.keys(et).reduce(function(qe,ot){var Dt=et[ot],Ct=ht.validate(Dt,Ye);return Ct.isValid?qe[ot]=Dt:(yt=!0,qe[ot]=Ct.sanitized),qe},{})}return yt?Ke:et}catch{return null}},le.prototype._trim=function(et){return String.prototype.trim?et.trim():et.replace(/(^\s*)|(\s*$)/g,"")},le}(),Ne=u(56595),gt=(u(17715),u(3248),u(35150),u(56492)),It=(u(48900),u(3804)),Ot=u(21714);function Rs(...le){const et=Ne.A.acquire();for(let ht=0;ht<le.length;ht++){const yt=le[ht],Ke=typeof yt;if("string"===Ke)et.push(yt);else if(Array.isArray(yt))et.push.apply(et,yt);else if("object"===Ke)for(const He in yt)yt[He]&&et.push(He)}const Ye=et.join(" ");return Ne.A.release(et),Ye}function Ve(le){const et=le?.closest("[dir]");return null!==et&&et instanceof HTMLElement&&"rtl"===et.dir||"rtl"===document.dir}function it(le){this[le.getAttribute("data-node-ref")]=null}function ut(le){this[le.getAttribute("data-node-ref")]=le}(()=>{const le=new Map;new ResizeObserver(ht=>{(0,Ot.Sh)();for(const yt of ht)le.get(yt.target)?.(yt)})})();const mt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((le,et)=>(le[et]=[],le),{}),Zt=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],_s=new Wt({whiteList:mt,onTagAttr:(le,et,Ye)=>{const ht=`${et}="${Ye}"`;if(Zt.includes(et))return ht},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function Os(le){return"Enter"===le||" "===le}function Ts(le,et){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.A)(function*(le,et){yield(0,It.$m)((0,gt.Mq)(et));const Ye="function"==typeof le?le():le;Ye&&("setFocus"in Ye&&"function"==typeof Ye.setFocus?yield Ye.setFocus():Ye instanceof HTMLElement&&Ye.focus())})).apply(this,arguments)}},51434:(xe,re,u)=>{u.d(re,{WF:()=>ge,lh:()=>Oe,le:()=>Be,s6:()=>Fe,CP:()=>ae,zl:()=>he,Bq:()=>We,pf:()=>ue});var d=u(10467),F=u(36946);function T(Ee){let Me=Ee;for(;Me=Me.parentNode??Me.host;)if(Me?.constructor?.lumina){const ve=Me;return ve.manager?.loadedCalled||ve._offspring.push(Ee),ve._postLoad.promise}return!1}var P=Object.defineProperty;var N=globalThis.HTMLElement??function C(Ee){const Me=Ee.split(":");return 1===Me.length?[Me[0],(0,F.j1)(Me[0])]:Me};function W([Ee,Me]){this[Ee]=Me}(class extends N{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new F.cY,this._postLoaded=new F.cY,this._offspring=[],this._saveInstanceProperties();const Ee=this.constructor;Ee._LitConstructor?this._initializeComponent({a:Ee._LitConstructor}):Ee._loadPromise.then(this._initializeComponent.bind(this)).catch(Me=>{this._postLoaded.reject(Me),setTimeout(()=>{throw Me})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(Ee){P(this.prototype,Ee,{configurable:!0,enumerable:!0,get(){return this._store[Ee]},set(Me){this._store[Ee]=Me}})}static _bindAsync(Ee){P(this.prototype,Ee,{value(...Me){var ve=this;return(0,d.A)(function*(){return ve._litElement||(yield ve._postLoaded.promise),yield ve._litElement[Ee](...Me)})()},configurable:!0})}static _bindSync(Ee){P(this.prototype,Ee,{value(...Me){return this._litElement[Ee](...Me)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const Ee=this.constructor,Me=this;Ee._properties?.forEach(ve=>{Object.hasOwn(this,ve)&&(this._store[ve]=Me[ve],delete Me[ve])})}attributeChangedCallback(Ee,Me,ve){this._litElement?.attributeChangedCallback(Ee,Me,ve),this._litElement||this._pendingAttributes.push(Ee)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=T(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}componentOnReady(){var Ee=this;return(0,d.A)(function*(){return yield Ee._postLoaded.promise,Ee})()}_initializeComponent(Ee){const Me=this.constructor,ve=Me._name,Ie=this._store,be=Object.values(Ee).find(St=>St.tagName===ve),Je=`${ve}--lazy`;let tt=be;for(;tt&&!Object.hasOwn(tt,"lumina");)tt=Object.getPrototypeOf(tt);(function O(Ee){const Me=Ee.prototype,ve=Element.prototype;Object.hasOwn(Me,"isConnected")||(Me.setAttribute=function(be,Je){ve.setAttribute.call(this.el,be,Je)},Me.removeAttribute=function(be){ve.removeAttribute.call(this.el,be)},P(Me,"isConnected",{get(){return Reflect.get(ve,"isConnected",this.el)}}))})(tt),!Me._LitConstructor&&(Me._LitConstructor=be,customElements.define(Je,be)),be.lazy=this;const ft=document.createElement(Je);be.lazy=void 0,this._litElement=ft,this._store=ft,this._pendingAttributes.forEach(St=>{const Rt=this.getAttribute(St);ft.attributeChangedCallback(St,null,Rt)}),Object.entries(Ie).forEach(W,ft);const Et=this.isConnected;(Et||this._ancestorLoad)&&(ft.connectedCallback?.(),Et||ft.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}});var v={},M=u(8437);Event,Event,u(87979);var X=u(38324),A=u(39009),ie=u(8971);const K=(0,ie.u$)(class extends ie.WL{constructor(Ee){if(super(Ee),Ee.type!==ie.OA.ATTRIBUTE||"class"!==Ee.name||Ee.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(Ee){return" "+Object.keys(Ee).filter(Me=>Ee[Me]).join(" ")+" "}update(Ee,[Me]){if(void 0===this.st){this.st=new Set,void 0!==Ee.strings&&(this.nt=new Set(Ee.strings.join(" ").split(/\s/).filter(Ie=>""!==Ie)));for(const Ie in Me)Me[Ie]&&!this.nt?.has(Ie)&&this.st.add(Ie);return this.render(Me)}const ve=Ee.element.classList;for(const Ie of this.st)Ie in Me||(ve.remove(Ie),this.st.delete(Ie));for(const Ie in Me){const be=!!Me[Ie];be===this.st.has(Ie)||this.nt?.has(Ie)||(be?(ve.add(Ie),this.st.add(Ie)):(ve.remove(Ie),this.st.delete(Ie)))}return A.c0}}),B="important",G=" !"+B,se=(0,ie.u$)(class extends ie.WL{constructor(Ee){if(super(Ee),Ee.type!==ie.OA.ATTRIBUTE||"style"!==Ee.name||Ee.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(Ee){return Object.keys(Ee).reduce((Me,ve)=>{const Ie=Ee[ve];return null==Ie?Me:Me+`${ve=ve.includes("-")?ve:ve.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${Ie};`},"")}update(Ee,[Me]){const{style:ve}=Ee.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(Me)),this.render(Me);for(const Ie of this.ft)null==Me[Ie]&&(this.ft.delete(Ie),Ie.includes("-")?ve.removeProperty(Ie):ve[Ie]=null);for(const Ie in Me){const be=Me[Ie];if(null!=be){this.ft.add(Ie);const Je="string"==typeof be&&be.endsWith(G);Ie.includes("-")||Je?ve.setProperty(Ie,Je?be.slice(0,-11):be,Je?B:""):ve[Ie]=be}}return A.c0}});u(18723);var Ce=(Ee="",Me={},ve=(0,M.Gk)())=>{const Ie={emit:be=>{""===Ee&&(0,M.hq)();const Je=new CustomEvent(Ee,{detail:be,cancelable:!0,bubbles:!0,composed:!0,...Me});return ve.el.dispatchEvent(Je),Je}};return""===Ee&&(0,M.Nh)(void 0,be=>{Ee=be.key},Ie),Ie},Oe=Ce.bind(null,""),me=()=>{},ge=class Ja extends X.WF{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=(0,M.lr)(this),this._postLoad=this.constructor.lazy?._postLoad??new F.cY,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new F.cY,this._enableUpdating=this.enableUpdating,this.enableUpdating=me;const Me=Ja.prototype.shouldUpdate;this.shouldUpdate!==Me&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=Me),X.S$&&this.el.setAttribute(this.constructor.runtime.hydratedAttribute,"")}static finalizeStyles(Me){const ve=super.finalizeStyles(Me),Ie=this.shadowRootOptions===v;return void 0===this.runtime?.commonStyles||Ie?ve:[this.runtime.commonStyles,...ve]}static createProperty(Me,ve){const Ie="number"==typeof ve?ve:Array.isArray(ve)?ve[0]:0,be=Array.isArray(ve)?ve[1]:void 0;super.createProperty(Me,{attribute:!!(1&Ie&&"string"==typeof Me)&&(0,F.j1)(Me),reflect:!!(2&Ie),type:4&Ie?Boolean:8&Ie?Number:void 0,state:!!(16&Ie),readOnly:!!(32&Ie),noAccessor:!!(64&Ie),...be})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const Me=!this.manager.connectedCalled;super.connectedCallback(),Me&&queueMicrotask(()=>this._load().catch(ve=>{this._postLoaded.reject(ve),setTimeout(()=>{throw ve})}))}createRenderRoot(){const Me=this.el.shadowRoot,ve=this.constructor,Ie=ve.shadowRootOptions,Je=Me??(Ie===v?this.el:this.el.attachShadow(Ie));if(Object.defineProperty(this,"shadowRoot",{value:Je}),Me)return X.WF.prototype.createRenderRoot.call(this),Me;if(this.isConnected){const tt=Je.getRootNode();tt.adoptedStyleSheets=[...tt.adoptedStyleSheets,...ve.elementStyles.map(lt=>"styleSheet"in lt?lt.styleSheet:lt)]}return Je}_load(){var Me=this;return(0,d.A)(function*(){const ve=Me.el._ancestorLoad??T(Me.el);ve&&(yield ve),yield Me.manager._load(),Me._enableUpdating(!0),Me.performUpdate(),Me._postLoad.resolve(),yield Promise.resolve();const Ie=Me._offspring.filter(be=>!be.manager?.loadedCalled);Ie.length&&(yield Promise.allSettled(Ie.map(function(){var be=(0,d.A)(function*(Je){return yield Je.componentOnReady()});return function(Je){return be.apply(this,arguments)}}()))),Me._offspring.length=0,Me.el.setAttribute(Me.constructor.runtime.hydratedAttribute,""),Me.manager._loaded(),Me._postLoaded.resolve()})()}shouldUpdate(Me){return this.$changes=Me,this._originalShouldUpdate?.(Me)??!0}listen(Me,ve,Ie){const be=ve?.bind(this)??ve;this.manager.onLifecycle(()=>(this.el.addEventListener(Me,be,Ie),()=>this.el.removeEventListener(Me,be,Ie)))}listenOn(Me,ve,Ie,be){const Je=Ie?.bind(this)??Ie;this.manager.onLifecycle(()=>(Me.addEventListener(ve,Je,be),()=>Me.removeEventListener(ve,Je,be)))}componentOnReady(){var Me=this;return(0,d.A)(function*(){return yield Me._postLoaded.promise,Me})()}};function Be(Ee){let Me;const ve=be=>{Me=new URL(be,globalThis.location?.href||void 0).href},Ie={...Ee,getAssetPath(be){const Je=new URL(be,Me);return Je.origin!==globalThis.location?.origin?Je.href:Je.pathname},setAssetPath:ve,customElement(be,Je){Je.runtime=Ie,Je.tagName=be,customElements.get(be)||customElements.define(be,Je)}};return ve(Ee.defaultAssetPath),Ie}ge.$createEvent=Ce;var ae=Ee=>"object"==typeof Ee&&null!=Ee?K(Ee):Ee,he=Ee=>"object"==typeof Ee&&null!=Ee?se(Ee):Ee,Fe=A.s6;function We(Ee,Me,ve){null==ve?Ee.removeAttribute(Me):Ee.setAttribute(Me,ve)}var ue={toAttribute:Ee=>!0===Ee?"":!1===Ee?null:Ee}},34499:(xe,re,u)=>{u.d(re,{C:()=>F,D:()=>R,c:()=>D,f:()=>E,g:()=>L,i:()=>O,l:()=>P,s:()=>b});var d=u(51434),p=u(48142);const w="calcite-mode-auto",_="calcite-mode-dark",F={autoMode:w,darkMode:_,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},R={filter:250,nextTick:0,resize:150,reposition:100};function T(){const{classList:H}=document.body,Y=window.matchMedia("(prefers-color-scheme: dark)").matches,z=()=>H.contains(_)||H.contains(w)&&Y?"dark":"light",te=q=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:q}})),ee=q=>{Q!==q&&te(q),Q=q};let Q=z();te(Q),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",q=>ee(q.matches?"dark":"light")),new MutationObserver(()=>ee(z())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const y=globalThis.calciteConfig,E=y?.focusTrapStack||[],P=y?.logLevel||"info",C="3.1.0",O=()=>!p.S&&typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;!function m(){O()&&("interactive"===document.readyState?T():document.addEventListener("DOMContentLoaded",()=>T(),{once:!0})),function W(){if(y&&y.version)return;console.info(`Using Calcite Components ${C} [Date: 2025-03-26, Revision: d5f75fd64]`);const H=y||globalThis.calciteConfig||{};Object.defineProperty(H,"version",{value:C,writable:!1}),globalThis.calciteConfig=H}()}();const Z=(0,d.le)({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.1.0/",hydratedAttribute:"calcite-hydrated"}),{customElement:D,getAssetPath:L,setAssetPath:b}=Z},85139:(xe,re,u)=>{u.d(re,{AH:()=>R,Rf:()=>T,sk:()=>y});const d=globalThis,p=d.ShadowRoot&&(void 0===d.ShadyCSS||d.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,w=Symbol(),_=new WeakMap;class I{constructor(P,C,N){if(this._$cssResult$=!0,N!==w)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=P,this.t=C}get styleSheet(){let P=this.o;const C=this.t;if(p&&void 0===P){const N=void 0!==C&&1===C.length;N&&(P=_.get(C)),void 0===P&&((this.o=P=new CSSStyleSheet).replaceSync(this.cssText),N&&_.set(C,P))}return P}toString(){return this.cssText}}const R=(E,...P)=>{const C=1===E.length?E[0]:P.reduce((N,U,W)=>N+(O=>{if(!0===O._$cssResult$)return O.cssText;if("number"==typeof O)return O;throw Error("Value passed to 'css' function must be a 'css' function result: "+O+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(U)+E[W+1],E[0]);return new I(C,E,w)},T=(E,P)=>{if(p)E.adoptedStyleSheets=P.map(C=>C instanceof CSSStyleSheet?C:C.styleSheet);else for(const C of P){const N=document.createElement("style"),U=d.litNonce;void 0!==U&&N.setAttribute("nonce",U),N.textContent=C.cssText,E.appendChild(N)}},y=p?E=>E:E=>E instanceof CSSStyleSheet?(P=>{let C="";for(const N of P.cssRules)C+=N.cssText;return(E=>new I("string"==typeof E?E:E+"",void 0,w))(C)})(E):E},87979:(xe,re,u)=>{u.d(re,{Ec:()=>W,W3:()=>U,mN:()=>v});var d=u(10467),p=u(85139);const{is:w,defineProperty:_,getOwnPropertyDescriptor:I,getOwnPropertyNames:F,getOwnPropertySymbols:R,getPrototypeOf:T}=Object,y=globalThis,E=y.trustedTypes,P=E?E.emptyScript:"",C=y.reactiveElementPolyfillSupport,N=(M,m)=>M,U={toAttribute(M,m){switch(m){case Boolean:M=M?P:null;break;case Object:case Array:M=null==M?M:JSON.stringify(M)}return M},fromAttribute(M,m){let Z=M;switch(m){case Boolean:Z=null!==M;break;case Number:Z=null===M?null:Number(M);break;case Object:case Array:try{Z=JSON.parse(M)}catch{Z=null}}return Z}},W=(M,m)=>!w(M,m),O={attribute:!0,type:String,converter:U,reflect:!1,hasChanged:W};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class v extends HTMLElement{static addInitializer(m){this._$Ei(),(this.l??=[]).push(m)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(m,Z=O){if(Z.state&&(Z.attribute=!1),this._$Ei(),this.elementProperties.set(m,Z),!Z.noAccessor){const D=Symbol(),L=this.getPropertyDescriptor(m,D,Z);void 0!==L&&_(this.prototype,m,L)}}static getPropertyDescriptor(m,Z,D){const{get:L,set:b}=I(this.prototype,m)??{get(){return this[Z]},set(H){this[Z]=H}};return{get(){return L?.call(this)},set(H){const Y=L?.call(this);b.call(this,H),this.requestUpdate(m,Y,D)},configurable:!0,enumerable:!0}}static getPropertyOptions(m){return this.elementProperties.get(m)??O}static _$Ei(){if(this.hasOwnProperty(N("elementProperties")))return;const m=T(this);m.finalize(),void 0!==m.l&&(this.l=[...m.l]),this.elementProperties=new Map(m.elementProperties)}static finalize(){if(this.hasOwnProperty(N("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(N("properties"))){const Z=this.properties,D=[...F(Z),...R(Z)];for(const L of D)this.createProperty(L,Z[L])}const m=this[Symbol.metadata];if(null!==m){const Z=litPropertyMetadata.get(m);if(void 0!==Z)for(const[D,L]of Z)this.elementProperties.set(D,L)}this._$Eh=new Map;for(const[Z,D]of this.elementProperties){const L=this._$Eu(Z,D);void 0!==L&&this._$Eh.set(L,Z)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(m){const Z=[];if(Array.isArray(m)){const D=new Set(m.flat(1/0).reverse());for(const L of D)Z.unshift((0,p.sk)(L))}else void 0!==m&&Z.push((0,p.sk)(m));return Z}static _$Eu(m,Z){const D=Z.attribute;return!1===D?void 0:"string"==typeof D?D:"string"==typeof m?m.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(m=>this.enableUpdating=m),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(m=>m(this))}addController(m){(this._$EO??=new Set).add(m),void 0!==this.renderRoot&&this.isConnected&&m.hostConnected?.()}removeController(m){this._$EO?.delete(m)}_$E_(){const m=new Map,Z=this.constructor.elementProperties;for(const D of Z.keys())this.hasOwnProperty(D)&&(m.set(D,this[D]),delete this[D]);m.size>0&&(this._$Ep=m)}createRenderRoot(){const m=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,p.Rf)(m,this.constructor.elementStyles),m}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(m=>m.hostConnected?.())}enableUpdating(m){}disconnectedCallback(){this._$EO?.forEach(m=>m.hostDisconnected?.())}attributeChangedCallback(m,Z,D){this._$AK(m,D)}_$EC(m,Z){const D=this.constructor.elementProperties.get(m),L=this.constructor._$Eu(m,D);if(void 0!==L&&!0===D.reflect){const b=(void 0!==D.converter?.toAttribute?D.converter:U).toAttribute(Z,D.type);this._$Em=m,null==b?this.removeAttribute(L):this.setAttribute(L,b),this._$Em=null}}_$AK(m,Z){const D=this.constructor,L=D._$Eh.get(m);if(void 0!==L&&this._$Em!==L){const b=D.getPropertyOptions(L),H="function"==typeof b.converter?{fromAttribute:b.converter}:void 0!==b.converter?.fromAttribute?b.converter:U;this._$Em=L,this[L]=H.fromAttribute(Z,b.type),this._$Em=null}}requestUpdate(m,Z,D){if(void 0!==m){if(D??=this.constructor.getPropertyOptions(m),!(D.hasChanged??W)(this[m],Z))return;this.P(m,Z,D)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(m,Z,D){this._$AL.has(m)||this._$AL.set(m,Z),!0===D.reflect&&this._$Em!==m&&(this._$Ej??=new Set).add(m)}_$ET(){var m=this;return(0,d.A)(function*(){m.isUpdatePending=!0;try{yield m._$ES}catch(D){Promise.reject(D)}const Z=m.scheduleUpdate();return null!=Z&&(yield Z),!m.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[L,b]of this._$Ep)this[L]=b;this._$Ep=void 0}const D=this.constructor.elementProperties;if(D.size>0)for(const[L,b]of D)!0!==b.wrapped||this._$AL.has(L)||void 0===this[L]||this.P(L,this[L],b)}let m=!1;const Z=this._$AL;try{m=this.shouldUpdate(Z),m?(this.willUpdate(Z),this._$EO?.forEach(D=>D.hostUpdate?.()),this.update(Z)):this._$EU()}catch(D){throw m=!1,this._$EU(),D}m&&this._$AE(Z)}willUpdate(m){}_$AE(m){this._$EO?.forEach(Z=>Z.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(m)),this.updated(m)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(m){return!0}update(m){this._$Ej&&=this._$Ej.forEach(Z=>this._$EC(Z,this[Z])),this._$EU()}updated(m){}firstUpdated(m){}}v.elementStyles=[],v.shadowRootOptions={mode:"open"},v[N("elementProperties")]=new Map,v[N("finalized")]=new Map,C?.({ReactiveElement:v}),(y.reactiveElementVersions??=[]).push("2.0.4")},75051:(xe,re,u)=>{u.d(re,{Rt:()=>y,mY:()=>U});var d=u(39009);const y=M=>void 0===M.strings,N={},U=(M,m=N)=>M._$AH=m},8971:(xe,re,u)=>{u.d(re,{OA:()=>d,WL:()=>w,u$:()=>p});const d={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},p=_=>(...I)=>({_$litDirective$:_,values:I});class w{constructor(I){}get _$AU(){return this._$AM._$AU}_$AT(I,F,R){this._$Ct=I,this._$AM=F,this._$Ci=R}_$AS(I,F){return this.update(I,F)}update(I,F){return this.render(...F)}}},18723:(xe,re,u)=>{u.d(re,{V:()=>_});var d=u(39009),p=u(8971),w=u(75051);const _=(0,p.u$)(class extends p.WL{constructor(I){if(super(I),I.type!==p.OA.PROPERTY&&I.type!==p.OA.ATTRIBUTE&&I.type!==p.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,w.Rt)(I))throw Error("`live` bindings can only contain a single expression")}render(I){return I}update(I,[F]){if(F===d.c0||F===d.s6)return F;const R=I.element,T=I.name;if(I.type===p.OA.PROPERTY){if(F===R[T])return d.c0}else if(I.type===p.OA.BOOLEAN_ATTRIBUTE){if(!!F===R.hasAttribute(T))return d.c0}else if(I.type===p.OA.ATTRIBUTE&&R.getAttribute(T)===F+"")return d.c0;return(0,w.mY)(I),F}})},48142:(xe,re,u)=>{u.d(re,{S:()=>d});const d=!1},39009:(xe,re,u)=>{u.d(re,{JW:()=>b,XX:()=>Ce,c0:()=>Y,ej:()=>H,ge:()=>ce,qy:()=>L,s6:()=>z});const d=globalThis,p=d.trustedTypes,w=p?p.createPolicy("lit-html",{createHTML:Oe=>Oe}):void 0,_="$lit$",I=`lit$${Math.random().toFixed(9).slice(2)}$`,F="?"+I,R=`<${F}>`,T=document,y=()=>T.createComment(""),E=Oe=>null===Oe||"object"!=typeof Oe&&"function"!=typeof Oe,P=Array.isArray,C=Oe=>P(Oe)||"function"==typeof Oe?.[Symbol.iterator],N="[ \t\n\f\r]",U=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W=/-->/g,O=/>/g,v=RegExp(`>|${N}(?:([^\\s"'>=/]+)(${N}*=${N}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),M=/'/g,m=/"/g,Z=/^(?:script|style|textarea|title)$/i,D=Oe=>(fe,...Se)=>({_$litType$:Oe,strings:fe,values:Se}),L=D(1),b=D(2),H=D(3),Y=Symbol.for("lit-noChange"),z=Symbol.for("lit-nothing"),te=new WeakMap,ee=T.createTreeWalker(T,129);function Q(Oe,fe){if(!P(Oe)||!Oe.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==w?w.createHTML(fe):fe}const q=(Oe,fe)=>{const Se=Oe.length-1,me=[];let ge,Be=2===fe?"<svg>":3===fe?"<math>":"",Le=U;for(let Re=0;Re<Se;Re++){const oe=Oe[Re];let S,k,ae=-1,he=0;for(;he<oe.length&&(Le.lastIndex=he,k=Le.exec(oe),null!==k);)he=Le.lastIndex,Le===U?"!--"===k[1]?Le=W:void 0!==k[1]?Le=O:void 0!==k[2]?(Z.test(k[2])&&(ge=RegExp("</"+k[2],"g")),Le=v):void 0!==k[3]&&(Le=v):Le===v?">"===k[0]?(Le=ge??U,ae=-1):void 0===k[1]?ae=-2:(ae=Le.lastIndex-k[2].length,S=k[1],Le=void 0===k[3]?v:'"'===k[3]?m:M):Le===m||Le===M?Le=v:Le===W||Le===O?Le=U:(Le=v,ge=void 0);const Ae=Le===v&&Oe[Re+1].startsWith("/>")?" ":"";Be+=Le===U?oe+R:ae>=0?(me.push(S),oe.slice(0,ae)+_+oe.slice(ae)+I+Ae):oe+I+(-2===ae?Re:Ae)}return[Q(Oe,Be+(Oe[Se]||"<?>")+(2===fe?"</svg>":3===fe?"</math>":"")),me]};class j{constructor({strings:fe,_$litType$:Se},me){let ge;this.parts=[];let Be=0,Le=0;const Re=fe.length-1,oe=this.parts,[S,k]=q(fe,Se);if(this.el=j.createElement(S,me),ee.currentNode=this.el.content,2===Se||3===Se){const ae=this.el.content.firstChild;ae.replaceWith(...ae.childNodes)}for(;null!==(ge=ee.nextNode())&&oe.length<Re;){if(1===ge.nodeType){if(ge.hasAttributes())for(const ae of ge.getAttributeNames())if(ae.endsWith(_)){const he=k[Le++],Ae=ge.getAttribute(ae).split(I),je=/([.?@])?(.*)/.exec(he);oe.push({type:1,index:Be,name:je[2],strings:Ae,ctor:"."===je[1]?B:"?"===je[1]?G:"@"===je[1]?se:K}),ge.removeAttribute(ae)}else ae.startsWith(I)&&(oe.push({type:6,index:Be}),ge.removeAttribute(ae));if(Z.test(ge.tagName)){const ae=ge.textContent.split(I),he=ae.length-1;if(he>0){ge.textContent=p?p.emptyScript:"";for(let Ae=0;Ae<he;Ae++)ge.append(ae[Ae],y()),ee.nextNode(),oe.push({type:2,index:++Be});ge.append(ae[he],y())}}}else if(8===ge.nodeType)if(ge.data===F)oe.push({type:2,index:Be});else{let ae=-1;for(;-1!==(ae=ge.data.indexOf(I,ae+1));)oe.push({type:7,index:Be}),ae+=I.length-1}Be++}}static createElement(fe,Se){const me=T.createElement("template");return me.innerHTML=fe,me}}function X(Oe,fe,Se=Oe,me){if(fe===Y)return fe;let ge=void 0!==me?Se._$Co?.[me]:Se._$Cl;const Be=E(fe)?void 0:fe._$litDirective$;return ge?.constructor!==Be&&(ge?._$AO?.(!1),void 0===Be?ge=void 0:(ge=new Be(Oe),ge._$AT(Oe,Se,me)),void 0!==me?(Se._$Co??=[])[me]=ge:Se._$Cl=ge),void 0!==ge&&(fe=X(Oe,ge._$AS(Oe,fe.values),ge,me)),fe}class A{constructor(fe,Se){this._$AV=[],this._$AN=void 0,this._$AD=fe,this._$AM=Se}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(fe){const{el:{content:Se},parts:me}=this._$AD,ge=(fe?.creationScope??T).importNode(Se,!0);ee.currentNode=ge;let Be=ee.nextNode(),Le=0,Re=0,oe=me[0];for(;void 0!==oe;){if(Le===oe.index){let S;2===oe.type?S=new ie(Be,Be.nextSibling,this,fe):1===oe.type?S=new oe.ctor(Be,oe.name,oe.strings,this,fe):6===oe.type&&(S=new J(Be,this,fe)),this._$AV.push(S),oe=me[++Re]}Le!==oe?.index&&(Be=ee.nextNode(),Le++)}return ee.currentNode=T,ge}p(fe){let Se=0;for(const me of this._$AV)void 0!==me&&(void 0!==me.strings?(me._$AI(fe,me,Se),Se+=me.strings.length-2):me._$AI(fe[Se])),Se++}}class ie{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(fe,Se,me,ge){this.type=2,this._$AH=z,this._$AN=void 0,this._$AA=fe,this._$AB=Se,this._$AM=me,this.options=ge,this._$Cv=ge?.isConnected??!0}get parentNode(){let fe=this._$AA.parentNode;const Se=this._$AM;return void 0!==Se&&11===fe?.nodeType&&(fe=Se.parentNode),fe}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(fe,Se=this){fe=X(this,fe,Se),E(fe)?fe===z||null==fe||""===fe?(this._$AH!==z&&this._$AR(),this._$AH=z):fe!==this._$AH&&fe!==Y&&this._(fe):void 0!==fe._$litType$?this.$(fe):void 0!==fe.nodeType?this.T(fe):C(fe)?this.k(fe):this._(fe)}O(fe){return this._$AA.parentNode.insertBefore(fe,this._$AB)}T(fe){this._$AH!==fe&&(this._$AR(),this._$AH=this.O(fe))}_(fe){this._$AH!==z&&E(this._$AH)?this._$AA.nextSibling.data=fe:this.T(T.createTextNode(fe)),this._$AH=fe}$(fe){const{values:Se,_$litType$:me}=fe,ge="number"==typeof me?this._$AC(fe):(void 0===me.el&&(me.el=j.createElement(Q(me.h,me.h[0]),this.options)),me);if(this._$AH?._$AD===ge)this._$AH.p(Se);else{const Be=new A(ge,this),Le=Be.u(this.options);Be.p(Se),this.T(Le),this._$AH=Be}}_$AC(fe){let Se=te.get(fe.strings);return void 0===Se&&te.set(fe.strings,Se=new j(fe)),Se}k(fe){P(this._$AH)||(this._$AH=[],this._$AR());const Se=this._$AH;let me,ge=0;for(const Be of fe)ge===Se.length?Se.push(me=new ie(this.O(y()),this.O(y()),this,this.options)):me=Se[ge],me._$AI(Be),ge++;ge<Se.length&&(this._$AR(me&&me._$AB.nextSibling,ge),Se.length=ge)}_$AR(fe=this._$AA.nextSibling,Se){for(this._$AP?.(!1,!0,Se);fe&&fe!==this._$AB;){const me=fe.nextSibling;fe.remove(),fe=me}}setConnected(fe){void 0===this._$AM&&(this._$Cv=fe,this._$AP?.(fe))}}class K{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(fe,Se,me,ge,Be){this.type=1,this._$AH=z,this._$AN=void 0,this.element=fe,this.name=Se,this._$AM=ge,this.options=Be,me.length>2||""!==me[0]||""!==me[1]?(this._$AH=Array(me.length-1).fill(new String),this.strings=me):this._$AH=z}_$AI(fe,Se=this,me,ge){const Be=this.strings;let Le=!1;if(void 0===Be)fe=X(this,fe,Se,0),Le=!E(fe)||fe!==this._$AH&&fe!==Y,Le&&(this._$AH=fe);else{const Re=fe;let oe,S;for(fe=Be[0],oe=0;oe<Be.length-1;oe++)S=X(this,Re[me+oe],Se,oe),S===Y&&(S=this._$AH[oe]),Le||=!E(S)||S!==this._$AH[oe],S===z?fe=z:fe!==z&&(fe+=(S??"")+Be[oe+1]),this._$AH[oe]=S}Le&&!ge&&this.j(fe)}j(fe){fe===z?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,fe??"")}}class B extends K{constructor(){super(...arguments),this.type=3}j(fe){this.element[this.name]=fe===z?void 0:fe}}class G extends K{constructor(){super(...arguments),this.type=4}j(fe){this.element.toggleAttribute(this.name,!!fe&&fe!==z)}}class se extends K{constructor(fe,Se,me,ge,Be){super(fe,Se,me,ge,Be),this.type=5}_$AI(fe,Se=this){if((fe=X(this,fe,Se,0)??z)===Y)return;const me=this._$AH,ge=fe===z&&me!==z||fe.capture!==me.capture||fe.once!==me.once||fe.passive!==me.passive,Be=fe!==z&&(me===z||ge);ge&&this.element.removeEventListener(this.name,this,me),Be&&this.element.addEventListener(this.name,this,fe),this._$AH=fe}handleEvent(fe){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,fe):this._$AH.handleEvent(fe)}}class J{constructor(fe,Se,me){this.element=fe,this.type=6,this._$AN=void 0,this._$AM=Se,this.options=me}get _$AU(){return this._$AM._$AU}_$AI(fe){X(this,fe)}}const ce={M:_,P:I,A:F,C:1,L:q,R:A,D:C,V:X,I:ie,H:K,N:G,U:se,B,F:J},_e=d.litHtmlPolyfillSupport;_e?.(j,ie),(d.litHtmlVersions??=[]).push("3.2.1");const Ce=(Oe,fe,Se)=>{const me=Se?.renderBefore??fe;let ge=me._$litPart$;if(void 0===ge){const Be=Se?.renderBefore??null;me._$litPart$=ge=new ie(fe.insertBefore(y(),Be),Be,void 0,Se??{})}return ge._$AI(Oe),ge}},38324:(xe,re,u)=>{u.d(re,{WF:()=>w,qy:()=>p.qy,S$:()=>F.S,s6:()=>p.s6,JW:()=>p.JW});var d=u(87979),p=u(39009);class w extends d.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const T=super.createRenderRoot();return this.renderOptions.renderBefore??=T.firstChild,T}update(T){const y=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(T),this._$Do=(0,p.XX)(y,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return p.c0}}w._$litElement$=!0,w.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:w});const _=globalThis.litElementPolyfillSupport;_?.({LitElement:w}),(globalThis.litElementVersions??=[]).push("4.1.1");var F=u(48142)},44549:(xe,re,u)=>{u.d(re,{c9:()=>Bt,mQ:()=>Ie,oh:()=>Oe,bo:()=>ie});class d extends Error{}class p extends d{constructor($){super(`Invalid DateTime: ${$.toMessage()}`)}}class w extends d{constructor($){super(`Invalid Interval: ${$.toMessage()}`)}}class _ extends d{constructor($){super(`Invalid Duration: ${$.toMessage()}`)}}class I extends d{}class F extends d{constructor($){super(`Invalid unit ${$}`)}}class R extends d{}class T extends d{constructor(){super("Zone is an abstract class")}}const y="numeric",E="short",P="long",C={year:y,month:y,day:y},N={year:y,month:E,day:y},U={year:y,month:E,day:y,weekday:E},W={year:y,month:P,day:y},O={year:y,month:P,day:y,weekday:P},v={hour:y,minute:y},M={hour:y,minute:y,second:y},m={hour:y,minute:y,second:y,timeZoneName:E},Z={hour:y,minute:y,second:y,timeZoneName:P},D={hour:y,minute:y,hourCycle:"h23"},L={hour:y,minute:y,second:y,hourCycle:"h23"},b={hour:y,minute:y,second:y,hourCycle:"h23",timeZoneName:E},H={hour:y,minute:y,second:y,hourCycle:"h23",timeZoneName:P},Y={year:y,month:y,day:y,hour:y,minute:y},z={year:y,month:y,day:y,hour:y,minute:y,second:y},te={year:y,month:E,day:y,hour:y,minute:y},ee={year:y,month:E,day:y,hour:y,minute:y,second:y},Q={year:y,month:E,day:y,weekday:E,hour:y,minute:y},q={year:y,month:P,day:y,hour:y,minute:y,timeZoneName:E},j={year:y,month:P,day:y,hour:y,minute:y,second:y,timeZoneName:E},X={year:y,month:P,day:y,weekday:P,hour:y,minute:y,timeZoneName:P},A={year:y,month:P,day:y,weekday:P,hour:y,minute:y,second:y,timeZoneName:P};class ie{get type(){throw new T}get name(){throw new T}get ianaName(){return this.name}get isUniversal(){throw new T}offsetName($,de){throw new T}formatOffset($,de){throw new T}offset($){throw new T}equals($){throw new T}get isValid(){throw new T}}let K=null;class B extends ie{static get instance(){return null===K&&(K=new B),K}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName($,{format:de,locale:Pe}){return Sn($,de,Pe)}formatOffset($,de){return js(this.offset($),de)}offset($){return-new Date($).getTimezoneOffset()}equals($){return"system"===$.type}get isValid(){return!0}}let G={};const J={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ce={};class Oe extends ie{static create($){return Ce[$]||(Ce[$]=new Oe($)),Ce[$]}static resetCache(){Ce={},G={}}static isValidSpecifier($){return this.isValidZone($)}static isValidZone($){if(!$)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:$}).format(),!0}catch{return!1}}constructor($){super(),this.zoneName=$,this.valid=Oe.isValidZone($)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName($,{format:de,locale:Pe}){return Sn($,de,Pe,this.name)}formatOffset($,de){return js(this.offset($),de)}offset($){const de=new Date($);if(isNaN(de))return NaN;const Pe=function se(pe){return G[pe]||(G[pe]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:pe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),G[pe]}(this.name);let[Ze,ke,Xe,rt,ct,vt,Ut]=Pe.formatToParts?function _e(pe,$){const de=pe.formatToParts($),Pe=[];for(let Ze=0;Ze<de.length;Ze++){const{type:ke,value:Xe}=de[Ze],rt=J[ke];"era"===ke?Pe[rt]=Xe:mt(rt)||(Pe[rt]=parseInt(Xe,10))}return Pe}(Pe,de):function ce(pe,$){const de=pe.format($).replace(/\u200E/g,""),Pe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(de),[,Ze,ke,Xe,rt,ct,vt,Ut]=Pe;return[Xe,Ze,ke,rt,ct,vt,Ut]}(Pe,de);"BC"===rt&&(Ze=1-Math.abs(Ze));let Ft=+de;const Es=Ft%1e3;return Ft-=Es>=0?Es:1e3+Es,(ds({year:Ze,month:ke,day:Xe,hour:24===ct?0:ct,minute:vt,second:Ut,millisecond:0})-Ft)/6e4}equals($){return"iana"===$.type&&$.name===this.name}get isValid(){return this.valid}}let fe={},me={};function ge(pe,$={}){const de=JSON.stringify([pe,$]);let Pe=me[de];return Pe||(Pe=new Intl.DateTimeFormat(pe,$),me[de]=Pe),Pe}let Be={},Re={},S=null,ae={};function We(pe,$,de,Pe){const Ze=pe.listingMode();return"error"===Ze?null:"en"===Ze?de($):Pe($)}class Te{constructor($,de,Pe){this.padTo=Pe.padTo||0,this.floor=Pe.floor||!1;const{padTo:Ze,floor:ke,...Xe}=Pe;if(!de||Object.keys(Xe).length>0){const rt={useGrouping:!1,...Pe};Pe.padTo>0&&(rt.minimumIntegerDigits=Pe.padTo),this.inf=function Le(pe,$={}){const de=JSON.stringify([pe,$]);let Pe=Be[de];return Pe||(Pe=new Intl.NumberFormat(pe,$),Be[de]=Pe),Pe}($,rt)}}format($){if(this.inf){const de=this.floor?Math.floor($):$;return this.inf.format(de)}return ot(this.floor?Math.floor($):ls($,3),this.padTo)}}class we{constructor($,de,Pe){let Ze;if(this.opts=Pe,this.originalZone=void 0,this.opts.timeZone)this.dt=$;else if("fixed"===$.zone.type){const Xe=$.offset/60*-1,rt=Xe>=0?`Etc/GMT+${Xe}`:`Etc/GMT${Xe}`;0!==$.offset&&Oe.create(rt).valid?(Ze=rt,this.dt=$):(Ze="UTC",this.dt=0===$.offset?$:$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone)}else"system"===$.zone.type?this.dt=$:"iana"===$.zone.type?(this.dt=$,Ze=$.zone.name):(Ze="UTC",this.dt=$.setZone("UTC").plus({minutes:$.offset}),this.originalZone=$.zone);const ke={...this.opts};ke.timeZone=ke.timeZone||Ze,this.dtf=ge(de,ke)}format(){return this.originalZone?this.formatToParts().map(({value:$})=>$).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const $=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?$.map(de=>{if("timeZoneName"===de.type){const Pe=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...de,value:Pe}}return de}):$}resolvedOptions(){return this.dtf.resolvedOptions()}}class ze{constructor($,de,Pe){this.opts={style:"long",...Pe},!de&&Fs()&&(this.rtf=function oe(pe,$={}){const{base:de,...Pe}=$,Ze=JSON.stringify([pe,Pe]);let ke=Re[Ze];return ke||(ke=new Intl.RelativeTimeFormat(pe,$),Re[Ze]=ke),ke}($,Pe))}format($,de){return this.rtf?this.rtf.format($,de):function so(pe,$,de="always",Pe=!1){const Ze={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},ke=-1===["hours","minutes","seconds"].indexOf(pe);if("auto"===de&&ke){const Ht="days"===pe;switch($){case 1:return Ht?"tomorrow":`next ${Ze[pe][0]}`;case-1:return Ht?"yesterday":`last ${Ze[pe][0]}`;case 0:return Ht?"today":`this ${Ze[pe][0]}`}}const Xe=Object.is($,-0)||$<0,rt=Math.abs($),ct=1===rt,vt=Ze[pe],Ut=Pe?ct?vt[1]:vt[2]||vt[1]:ct?Ze[pe][0]:pe;return Xe?`${rt} ${Ut} ago`:`in ${rt} ${Ut}`}(de,$,this.opts.numeric,"long"!==this.opts.style)}formatToParts($,de){return this.rtf?this.rtf.formatToParts($,de):[]}}const Ee={firstDay:1,minimalDays:4,weekend:[6,7]};class Me{static fromOpts($){return Me.create($.locale,$.numberingSystem,$.outputCalendar,$.weekSettings,$.defaultToEN)}static create($,de,Pe,Ze,ke=!1){const Xe=$||nt.defaultLocale,rt=Xe||(ke?"en-US":function k(){return S||(S=(new Intl.DateTimeFormat).resolvedOptions().locale,S)}()),ct=de||nt.defaultNumberingSystem,vt=Pe||nt.defaultOutputCalendar,Ut=Ke(Ze)||nt.defaultWeekSettings;return new Me(rt,ct,vt,Ut,Xe)}static resetCache(){S=null,me={},Be={},Re={}}static fromObject({locale:$,numberingSystem:de,outputCalendar:Pe,weekSettings:Ze}={}){return Me.create($,de,Pe,Ze)}constructor($,de,Pe,Ze,ke){const[Xe,rt,ct]=function Ae(pe){const $=pe.indexOf("-x-");-1!==$&&(pe=pe.substring(0,$));const de=pe.indexOf("-u-");if(-1===de)return[pe];{let Pe,Ze;try{Pe=ge(pe).resolvedOptions(),Ze=pe}catch{const ct=pe.substring(0,de);Pe=ge(ct).resolvedOptions(),Ze=ct}const{numberingSystem:ke,calendar:Xe}=Pe;return[Ze,ke,Xe]}}($);this.locale=Xe,this.numberingSystem=de||rt||null,this.outputCalendar=Pe||ct||null,this.weekSettings=Ze,this.intl=function je(pe,$,de){return(de||$)&&(pe.includes("-u-")||(pe+="-u"),de&&(pe+=`-ca-${de}`),$&&(pe+=`-nu-${$}`)),pe}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=ke,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function ue(pe){return(!pe.numberingSystem||"latn"===pe.numberingSystem)&&("latn"===pe.numberingSystem||!pe.locale||pe.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(pe.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone($){return $&&0!==Object.getOwnPropertyNames($).length?Me.create($.locale||this.specifiedLocale,$.numberingSystem||this.numberingSystem,$.outputCalendar||this.outputCalendar,Ke($.weekSettings)||this.weekSettings,$.defaultToEN||!1):this}redefaultToEN($={}){return this.clone({...$,defaultToEN:!0})}redefaultToSystem($={}){return this.clone({...$,defaultToEN:!1})}months($,de=!1){return We(this,$,Cn,()=>{const Pe=de?{month:$,day:"numeric"}:{month:$},Ze=de?"format":"standalone";return this.monthsCache[Ze][$]||(this.monthsCache[Ze][$]=function Fe(pe){const $=[];for(let de=1;de<=12;de++){const Pe=Bt.utc(2009,de,1);$.push(pe(Pe))}return $}(ke=>this.extract(ke,Pe,"month"))),this.monthsCache[Ze][$]})}weekdays($,de=!1){return We(this,$,vs,()=>{const Pe=de?{weekday:$,year:"numeric",month:"long",day:"numeric"}:{weekday:$},Ze=de?"format":"standalone";return this.weekdaysCache[Ze][$]||(this.weekdaysCache[Ze][$]=function Ue(pe){const $=[];for(let de=1;de<=7;de++){const Pe=Bt.utc(2016,11,13+de);$.push(pe(Pe))}return $}(ke=>this.extract(ke,Pe,"weekday"))),this.weekdaysCache[Ze][$]})}meridiems(){return We(this,void 0,()=>Qi,()=>{if(!this.meridiemCache){const $={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Bt.utc(2016,11,13,9),Bt.utc(2016,11,13,19)].map(de=>this.extract(de,$,"dayperiod"))}return this.meridiemCache})}eras($){return We(this,$,li,()=>{const de={era:$};return this.eraCache[$]||(this.eraCache[$]=[Bt.utc(-40,1,1),Bt.utc(2017,1,1)].map(Pe=>this.extract(Pe,de,"era"))),this.eraCache[$]})}extract($,de,Pe){const Xe=this.dtFormatter($,de).formatToParts().find(rt=>rt.type.toLowerCase()===Pe);return Xe?Xe.value:null}numberFormatter($={}){return new Te(this.intl,$.forceSimple||this.fastNumbers,$)}dtFormatter($,de={}){return new we($,this.intl,de)}relFormatter($={}){return new ze(this.intl,this.isEnglish(),$)}listFormatter($={}){return function Se(pe,$={}){const de=JSON.stringify([pe,$]);let Pe=fe[de];return Pe||(Pe=new Intl.ListFormat(pe,$),fe[de]=Pe),Pe}(this.intl,$)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:le()?function he(pe){let $=ae[pe];if(!$){const de=new Intl.Locale(pe);$="getWeekInfo"in de?de.getWeekInfo():de.weekInfo,ae[pe]=$}return $}(this.locale):Ee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals($){return this.locale===$.locale&&this.numberingSystem===$.numberingSystem&&this.outputCalendar===$.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ve=null;class Ie extends ie{static get utcInstance(){return null===ve&&(ve=new Ie(0)),ve}static instance($){return 0===$?Ie.utcInstance:new Ie($)}static parseSpecifier($){if($){const de=$.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(de)return new Ie(qs(de[1],de[2]))}return null}constructor($){super(),this.fixed=$}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${js(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${js(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset($,de){return js(this.fixed,de)}get isUniversal(){return!0}offset(){return this.fixed}equals($){return"fixed"===$.type&&$.fixed===this.fixed}get isValid(){return!0}}class be extends ie{constructor($){super(),this.zoneName=$}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Je(pe,$){if(mt(pe)||null===pe)return $;if(pe instanceof ie)return pe;if(function Os(pe){return"string"==typeof pe}(pe)){const Pe=pe.toLowerCase();return"default"===Pe?$:"local"===Pe||"system"===Pe?B.instance:"utc"===Pe||"gmt"===Pe?Ie.utcInstance:Ie.parseSpecifier(Pe)||Oe.create(pe)}return Zt(pe)?Ie.instance(pe):"object"==typeof pe&&"offset"in pe&&"function"==typeof pe.offset?pe:new be(pe)}const tt={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},lt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ft=tt.hanidec.replace(/[\[|\]]/g,"").split("");let St={};function Lt({numberingSystem:pe},$=""){const de=pe||"latn";return St[de]||(St[de]={}),St[de][$]||(St[de][$]=new RegExp(`${tt[de]}${$}`)),St[de][$]}let st,Kt=()=>Date.now(),Vt="system",zt=null,Qt=null,Wt=null,Ne=60,dt=null;class nt{static get now(){return Kt}static set now($){Kt=$}static set defaultZone($){Vt=$}static get defaultZone(){return Je(Vt,B.instance)}static get defaultLocale(){return zt}static set defaultLocale($){zt=$}static get defaultNumberingSystem(){return Qt}static set defaultNumberingSystem($){Qt=$}static get defaultOutputCalendar(){return Wt}static set defaultOutputCalendar($){Wt=$}static get defaultWeekSettings(){return dt}static set defaultWeekSettings($){dt=Ke($)}static get twoDigitCutoffYear(){return Ne}static set twoDigitCutoffYear($){Ne=$%100}static get throwOnInvalid(){return st}static set throwOnInvalid($){st=$}static resetCaches(){Me.resetCache(),Oe.resetCache(),Bt.resetCache(),function Rt(){St={}}()}}class gt{constructor($,de){this.reason=$,this.explanation=de}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Tt=[0,31,59,90,120,151,181,212,243,273,304,334],It=[0,31,60,91,121,152,182,213,244,274,305,335];function Ot(pe,$){return new gt("unit out of range",`you specified ${$} (of type ${typeof $}) as a ${pe}, which is invalid`)}function xt(pe,$,de){const Pe=new Date(Date.UTC(pe,$-1,de));pe<100&&pe>=0&&Pe.setUTCFullYear(Pe.getUTCFullYear()-1900);const Ze=Pe.getUTCDay();return 0===Ze?7:Ze}function bt(pe,$,de){return de+(is(pe)?It:Tt)[$-1]}function kt(pe,$){const de=is(pe)?It:Tt,Pe=de.findIndex(ke=>ke<$);return{month:Pe+1,day:$-de[Pe]}}function Nt(pe,$){return(pe-$+7)%7+1}function us(pe,$=4,de=1){const{year:Pe,month:Ze,day:ke}=pe,Xe=bt(Pe,Ze,ke),rt=Nt(xt(Pe,Ze,ke),de);let vt,ct=Math.floor((Xe-rt+14-$)/7);return ct<1?(vt=Pe-1,ct=Zs(vt,$,de)):ct>Zs(Pe,$,de)?(vt=Pe+1,ct=1):vt=Pe,{weekYear:vt,weekNumber:ct,weekday:rt,...en(pe)}}function hs(pe,$=4,de=1){const{weekYear:Pe,weekNumber:Ze,weekday:ke}=pe,Xe=Nt(xt(Pe,1,$),de),rt=$t(Pe);let vt,ct=7*Ze+ke-Xe-7+$;ct<1?(vt=Pe-1,ct+=$t(vt)):ct>rt?(vt=Pe+1,ct-=$t(Pe)):vt=Pe;const{month:Ut,day:Ht}=kt(vt,ct);return{year:vt,month:Ut,day:Ht,...en(pe)}}function Rs(pe){const{year:$,month:de,day:Pe}=pe;return{year:$,ordinal:bt($,de,Pe),...en(pe)}}function gs(pe){const{year:$,ordinal:de}=pe,{month:Pe,day:Ze}=kt($,de);return{year:$,month:Pe,day:Ze,...en(pe)}}function Ve(pe,$){if(mt(pe.localWeekday)&&mt(pe.localWeekNumber)&&mt(pe.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!mt(pe.weekday)||!mt(pe.weekNumber)||!mt(pe.weekYear))throw new I("Cannot mix locale-based week fields with ISO-based week fields");return mt(pe.localWeekday)||(pe.weekday=pe.localWeekday),mt(pe.localWeekNumber)||(pe.weekNumber=pe.localWeekNumber),mt(pe.localWeekYear)||(pe.weekYear=pe.localWeekYear),delete pe.localWeekday,delete pe.localWeekNumber,delete pe.localWeekYear,{minDaysInFirstWeek:$.getMinDaysInFirstWeek(),startOfWeek:$.getStartOfWeek()}}function ut(pe){const $=_s(pe.year),de=He(pe.month,1,12),Pe=He(pe.day,1,qt(pe.year,pe.month));return $?de?!Pe&&Ot("day",pe.day):Ot("month",pe.month):Ot("year",pe.year)}function At(pe){const{hour:$,minute:de,second:Pe,millisecond:Ze}=pe,ke=He($,0,23)||24===$&&0===de&&0===Pe&&0===Ze,Xe=He(de,0,59),rt=He(Pe,0,59),ct=He(Ze,0,999);return ke?Xe?rt?!ct&&Ot("millisecond",Ze):Ot("second",Pe):Ot("minute",de):Ot("hour",$)}function mt(pe){return typeof pe>"u"}function Zt(pe){return"number"==typeof pe}function _s(pe){return"number"==typeof pe&&pe%1==0}function Fs(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function le(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Ye(pe,$,de){if(0!==pe.length)return pe.reduce((Pe,Ze)=>{const ke=[$(Ze),Ze];return Pe&&de(Pe[0],ke[0])===Pe[0]?Pe:ke},null)[1]}function yt(pe,$){return Object.prototype.hasOwnProperty.call(pe,$)}function Ke(pe){if(null==pe)return null;if("object"!=typeof pe)throw new R("Week settings must be an object");if(!He(pe.firstDay,1,7)||!He(pe.minimalDays,1,7)||!Array.isArray(pe.weekend)||pe.weekend.some($=>!He($,1,7)))throw new R("Invalid week settings");return{firstDay:pe.firstDay,minimalDays:pe.minimalDays,weekend:Array.from(pe.weekend)}}function He(pe,$,de){return _s(pe)&&pe>=$&&pe<=de}function ot(pe,$=2){let Pe;return Pe=pe<0?"-"+(""+-pe).padStart($,"0"):(""+pe).padStart($,"0"),Pe}function Dt(pe){if(!mt(pe)&&null!==pe&&""!==pe)return parseInt(pe,10)}function Ct(pe){if(!mt(pe)&&null!==pe&&""!==pe)return parseFloat(pe)}function wt(pe){if(!mt(pe)&&null!==pe&&""!==pe){const $=1e3*parseFloat("0."+pe);return Math.floor($)}}function ls(pe,$,de=!1){const Pe=10**$;return(de?Math.trunc:Math.round)(pe*Pe)/Pe}function is(pe){return pe%4==0&&(pe%100!=0||pe%400==0)}function $t(pe){return is(pe)?366:365}function qt(pe,$){const de=function qe(pe,$){return pe-$*Math.floor(pe/$)}($-1,12)+1;return 2===de?is(pe+($-de)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][de-1]}function ds(pe){let $=Date.UTC(pe.year,pe.month-1,pe.day,pe.hour,pe.minute,pe.second,pe.millisecond);return pe.year<100&&pe.year>=0&&($=new Date($),$.setUTCFullYear(pe.year,pe.month-1,pe.day)),+$}function Xs(pe,$,de){return-Nt(xt(pe,1,$),de)+$-1}function Zs(pe,$=4,de=1){const Pe=Xs(pe,$,de),Ze=Xs(pe+1,$,de);return($t(pe)-Pe+Ze)/7}function Qs(pe){return pe>99?pe:pe>nt.twoDigitCutoffYear?1900+pe:2e3+pe}function Sn(pe,$,de,Pe=null){const Ze=new Date(pe),ke={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Pe&&(ke.timeZone=Pe);const Xe={timeZoneName:$,...ke},rt=new Intl.DateTimeFormat(de,Xe).formatToParts(Ze).find(ct=>"timezonename"===ct.type.toLowerCase());return rt?rt.value:null}function qs(pe,$){let de=parseInt(pe,10);Number.isNaN(de)&&(de=0);const Pe=parseInt($,10)||0;return 60*de+(de<0||Object.is(de,-0)?-Pe:Pe)}function Ds(pe){const $=Number(pe);if("boolean"==typeof pe||""===pe||Number.isNaN($))throw new R(`Invalid unit value ${pe}`);return $}function Us(pe,$){const de={};for(const Pe in pe)if(yt(pe,Pe)){const Ze=pe[Pe];if(null==Ze)continue;de[$(Pe)]=Ds(Ze)}return de}function js(pe,$){const de=Math.trunc(Math.abs(pe/60)),Pe=Math.trunc(Math.abs(pe%60)),Ze=pe>=0?"+":"-";switch($){case"short":return`${Ze}${ot(de,2)}:${ot(Pe,2)}`;case"narrow":return`${Ze}${de}${Pe>0?`:${Pe}`:""}`;case"techie":return`${Ze}${ot(de,2)}${ot(Pe,2)}`;default:throw new RangeError(`Value format ${$} is out of range for property format`)}}function en(pe){return function ht(pe,$){return $.reduce((de,Pe)=>(de[Pe]=pe[Pe],de),{})}(pe,["hour","minute","second","millisecond"])}const ni=["January","February","March","April","May","June","July","August","September","October","November","December"],ri=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Xi=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cn(pe){switch(pe){case"narrow":return[...Xi];case"short":return[...ri];case"long":return[...ni];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const cr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Rn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],tn=["M","T","W","T","F","S","S"];function vs(pe){switch(pe){case"narrow":return[...tn];case"short":return[...Rn];case"long":return[...cr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Qi=["AM","PM"],ii=["Before Christ","Anno Domini"],oi=["BC","AD"],ai=["B","A"];function li(pe){switch(pe){case"narrow":return[...ai];case"short":return[...oi];case"long":return[...ii];default:return null}}function ui(pe,$){let de="";for(const Pe of pe)de+=Pe.literal?Pe.val:$(Pe.val);return de}const no={D:C,DD:N,DDD:W,DDDD:O,t:v,tt:M,ttt:m,tttt:Z,T:D,TT:L,TTT:b,TTTT:H,f:Y,ff:te,fff:q,ffff:X,F:z,FF:ee,FFF:j,FFFF:A};class Ms{static create($,de={}){return new Ms($,de)}static parseFormat($){let de=null,Pe="",Ze=!1;const ke=[];for(let Xe=0;Xe<$.length;Xe++){const rt=$.charAt(Xe);"'"===rt?(Pe.length>0&&ke.push({literal:Ze||/^\s+$/.test(Pe),val:Pe}),de=null,Pe="",Ze=!Ze):Ze||rt===de?Pe+=rt:(Pe.length>0&&ke.push({literal:/^\s+$/.test(Pe),val:Pe}),Pe=rt,de=rt)}return Pe.length>0&&ke.push({literal:Ze||/^\s+$/.test(Pe),val:Pe}),ke}static macroTokenToFormatOpts($){return no[$]}constructor($,de){this.opts=de,this.loc=$,this.systemLoc=null}formatWithSystemDefault($,de){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter($,{...this.opts,...de}).format()}dtFormatter($,de={}){return this.loc.dtFormatter($,{...this.opts,...de})}formatDateTime($,de){return this.dtFormatter($,de).format()}formatDateTimeParts($,de){return this.dtFormatter($,de).formatToParts()}formatInterval($,de){return this.dtFormatter($.start,de).dtf.formatRange($.start.toJSDate(),$.end.toJSDate())}resolvedOptions($,de){return this.dtFormatter($,de).resolvedOptions()}num($,de=0){if(this.opts.forceSimple)return ot($,de);const Pe={...this.opts};return de>0&&(Pe.padTo=de),this.loc.numberFormatter(Pe).format($)}formatDateTimeFromString($,de){const Pe="en"===this.loc.listingMode(),Ze=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ke=(Ft,Es)=>this.loc.extract($,Ft,Es),Xe=Ft=>$.isOffsetFixed&&0===$.offset&&Ft.allowZ?"Z":$.isValid?$.zone.formatOffset($.ts,Ft.format):"",ct=(Ft,Es)=>Pe?function eo(pe,$){return Cn($)[pe.month-1]}($,Ft):ke(Es?{month:Ft}:{month:Ft,day:"numeric"},"month"),vt=(Ft,Es)=>Pe?function qi(pe,$){return vs($)[pe.weekday-1]}($,Ft):ke(Es?{weekday:Ft}:{weekday:Ft,month:"long",day:"numeric"},"weekday"),Ut=Ft=>{const Es=Ms.macroTokenToFormatOpts(Ft);return Es?this.formatWithSystemDefault($,Es):Ft},Ht=Ft=>Pe?function to(pe,$){return li($)[pe.year<0?0:1]}($,Ft):ke({era:Ft},"era");return ui(Ms.parseFormat(de),Ft=>{switch(Ft){case"S":return this.num($.millisecond);case"u":case"SSS":return this.num($.millisecond,3);case"s":return this.num($.second);case"ss":return this.num($.second,2);case"uu":return this.num(Math.floor($.millisecond/10),2);case"uuu":return this.num(Math.floor($.millisecond/100));case"m":return this.num($.minute);case"mm":return this.num($.minute,2);case"h":return this.num($.hour%12==0?12:$.hour%12);case"hh":return this.num($.hour%12==0?12:$.hour%12,2);case"H":return this.num($.hour);case"HH":return this.num($.hour,2);case"Z":return Xe({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Xe({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Xe({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return $.zone.offsetName($.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return $.zone.offsetName($.ts,{format:"long",locale:this.loc.locale});case"z":return $.zoneName;case"a":return Pe?function ci(pe){return Qi[pe.hour<12?0:1]}($):ke({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return Ze?ke({day:"numeric"},"day"):this.num($.day);case"dd":return Ze?ke({day:"2-digit"},"day"):this.num($.day,2);case"c":case"E":return this.num($.weekday);case"ccc":return vt("short",!0);case"cccc":return vt("long",!0);case"ccccc":return vt("narrow",!0);case"EEE":return vt("short",!1);case"EEEE":return vt("long",!1);case"EEEEE":return vt("narrow",!1);case"L":return Ze?ke({month:"numeric",day:"numeric"},"month"):this.num($.month);case"LL":return Ze?ke({month:"2-digit",day:"numeric"},"month"):this.num($.month,2);case"LLL":return ct("short",!0);case"LLLL":return ct("long",!0);case"LLLLL":return ct("narrow",!0);case"M":return Ze?ke({month:"numeric"},"month"):this.num($.month);case"MM":return Ze?ke({month:"2-digit"},"month"):this.num($.month,2);case"MMM":return ct("short",!1);case"MMMM":return ct("long",!1);case"MMMMM":return ct("narrow",!1);case"y":return Ze?ke({year:"numeric"},"year"):this.num($.year);case"yy":return Ze?ke({year:"2-digit"},"year"):this.num($.year.toString().slice(-2),2);case"yyyy":return Ze?ke({year:"numeric"},"year"):this.num($.year,4);case"yyyyyy":return Ze?ke({year:"numeric"},"year"):this.num($.year,6);case"G":return Ht("short");case"GG":return Ht("long");case"GGGGG":return Ht("narrow");case"kk":return this.num($.weekYear.toString().slice(-2),2);case"kkkk":return this.num($.weekYear,4);case"W":return this.num($.weekNumber);case"WW":return this.num($.weekNumber,2);case"n":return this.num($.localWeekNumber);case"nn":return this.num($.localWeekNumber,2);case"ii":return this.num($.localWeekYear.toString().slice(-2),2);case"iiii":return this.num($.localWeekYear,4);case"o":return this.num($.ordinal);case"ooo":return this.num($.ordinal,3);case"q":return this.num($.quarter);case"qq":return this.num($.quarter,2);case"X":return this.num(Math.floor($.ts/1e3));case"x":return this.num($.ts);default:return Ut(Ft)}})}formatDurationFromString($,de){const Pe=ct=>{switch(ct[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},ke=Ms.parseFormat(de),Xe=ke.reduce((ct,{literal:vt,val:Ut})=>vt?ct:ct.concat(Ut),[]);return ui(ke,(ct=>vt=>{const Ut=Pe(vt);return Ut?this.num(ct.get(Ut),vt.length):vt})($.shiftTo(...Xe.map(Pe).filter(ct=>ct))))}}const In=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function wn(...pe){const $=pe.reduce((de,Pe)=>de+Pe.source,"");return RegExp(`^${$}$`)}function Ln(...pe){return $=>pe.reduce(([de,Pe,Ze],ke)=>{const[Xe,rt,ct]=ke($,Ze);return[{...de,...Xe},rt||Pe,ct]},[{},null,1]).slice(0,2)}function Gs(pe,...$){if(null==pe)return[null,null];for(const[de,Pe]of $){const Ze=de.exec(pe);if(Ze)return Pe(Ze)}return[null,null]}function hi(...pe){return($,de)=>{const Pe={};let Ze;for(Ze=0;Ze<pe.length;Ze++)Pe[pe[Ze]]=Dt($[de+Ze]);return[Pe,null,de+Ze]}}const di=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,pi=RegExp(`${Zn.source}(?:${di.source}?(?:\\[(${In.source})\\])?)?`),Gn=RegExp(`(?:T${pi.source})?`),fi=hi("weekYear","weekNumber","weekDay"),bn=hi("year","ordinal"),Cr=RegExp(`${Zn.source} ?(?:${di.source}|(${In.source}))?`),oo=RegExp(`(?: ${Cr.source})?`);function nn(pe,$,de){const Pe=pe[$];return mt(Pe)?de:Dt(Pe)}function rn(pe,$){return[{hours:nn(pe,$,0),minutes:nn(pe,$+1,0),seconds:nn(pe,$+2,0),milliseconds:wt(pe[$+3])},null,$+4]}function zn(pe,$){const de=!pe[$]&&!pe[$+1],Pe=qs(pe[$+1],pe[$+2]);return[{},de?null:Ie.instance(Pe),$+3]}function Cs(pe,$){return[{},pe[$]?Oe.create(pe[$]):null,$+1]}const Rr=RegExp(`^T?${Zn.source}$`),xn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ao(pe){const[$,de,Pe,Ze,ke,Xe,rt,ct,vt]=pe,Ut="-"===$[0],Ht=ct&&"-"===ct[0],ps=(Ft,Es=!1)=>void 0!==Ft&&(Es||Ft&&Ut)?-Ft:Ft;return[{years:ps(Ct(de)),months:ps(Ct(Pe)),weeks:ps(Ct(Ze)),days:ps(Ct(ke)),hours:ps(Ct(Xe)),minutes:ps(Ct(rt)),seconds:ps(Ct(ct),"-0"===ct),milliseconds:ps(wt(vt),Ht)}]}const Un={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Vn(pe,$,de,Pe,Ze,ke,Xe){const rt={year:2===$.length?Qs(Dt($)):Dt($),month:ri.indexOf(de)+1,day:Dt(Pe),hour:Dt(Ze),minute:Dt(ke)};return Xe&&(rt.second=Dt(Xe)),pe&&(rt.weekday=pe.length>3?cr.indexOf(pe)+1:Rn.indexOf(pe)+1),rt}const lo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function co(pe){const[,$,de,Pe,Ze,ke,Xe,rt,ct,vt,Ut,Ht]=pe,ps=Vn($,Ze,Pe,de,ke,Xe,rt);let Ft;return Ft=ct?Un[ct]:vt?0:qs(Ut,Ht),[ps,new Ie(Ft)]}const uo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ur=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ho=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ir(pe){const[,$,de,Pe,Ze,ke,Xe,rt]=pe;return[Vn($,Ze,Pe,de,ke,Xe,rt),Ie.utcInstance]}function po(pe){const[,$,de,Pe,Ze,ke,Xe,rt]=pe;return[Vn($,rt,de,Pe,Ze,ke,Xe),Ie.utcInstance]}const wr=wn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Gn),yn=wn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Gn),Lr=wn(/(\d{4})-?(\d{3})/,Gn),on=wn(pi),br=Ln(function _i(pe,$){return[{year:nn(pe,$),month:nn(pe,$+1,1),day:nn(pe,$+2,1)},null,$+3]},rn,zn,Cs),an=Ln(fi,rn,zn,Cs),hr=Ln(bn,rn,zn,Cs),yi=Ln(rn,zn,Cs),jr=Ln(rn),Nr=wn(/(\d{4})-(\d\d)-(\d\d)/,oo),ts=wn(Cr),mo=Ln(rn,zn,Cs),gn="Invalid Duration",Ei={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Hn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Ei},Pt=365.2425,ln=30.436875,yo={years:{quarters:4,months:12,weeks:Pt/7,days:Pt,hours:24*Pt,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Pt/28,days:Pt/4,hours:24*Pt/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ln/7,days:ln,hours:24*ln,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Ei},vn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Is=vn.slice(0).reverse();function zs(pe,$,de=!1){const Pe={values:de?$.values:{...pe.values,...$.values||{}},loc:pe.loc.clone($.loc),conversionAccuracy:$.conversionAccuracy||pe.conversionAccuracy,matrix:$.matrix||pe.matrix};return new Jt(Pe)}function Yt(pe,$){let de=$.milliseconds??0;for(const Pe of Is.slice(1))$[Pe]&&(de+=$[Pe]*pe[Pe].milliseconds);return de}function kn(pe,$){const de=Yt(pe,$)<0?-1:1;vn.reduceRight((Pe,Ze)=>{if(mt($[Ze]))return Pe;if(Pe){const Xe=pe[Ze][Pe],rt=Math.floor($[Pe]*de/Xe);$[Ze]+=rt*de,$[Pe]-=rt*Xe*de}return Ze},null),vn.reduce((Pe,Ze)=>{if(mt($[Ze]))return Pe;if(Pe){const ke=$[Pe]%1;$[Pe]-=ke,$[Ze]+=ke*pe[Pe][Ze]}return Ze},null)}class Jt{constructor($){const de="longterm"===$.conversionAccuracy||!1;let Pe=de?yo:Hn;$.matrix&&(Pe=$.matrix),this.values=$.values,this.loc=$.loc||Me.create(),this.conversionAccuracy=de?"longterm":"casual",this.invalid=$.invalid||null,this.matrix=Pe,this.isLuxonDuration=!0}static fromMillis($,de){return Jt.fromObject({milliseconds:$},de)}static fromObject($,de={}){if(null==$||"object"!=typeof $)throw new R("Duration.fromObject: argument expected to be an object, got "+(null===$?"null":typeof $));return new Jt({values:Us($,Jt.normalizeUnit),loc:Me.fromObject(de),conversionAccuracy:de.conversionAccuracy,matrix:de.matrix})}static fromDurationLike($){if(Zt($))return Jt.fromMillis($);if(Jt.isDuration($))return $;if("object"==typeof $)return Jt.fromObject($);throw new R(`Unknown duration argument ${$} of type ${typeof $}`)}static fromISO($,de){const[Pe]=function fo(pe){return Gs(pe,[xn,ao])}($);return Pe?Jt.fromObject(Pe,de):Jt.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static fromISOTime($,de){const[Pe]=function vi(pe){return Gs(pe,[Rr,jr])}($);return Pe?Jt.fromObject(Pe,de):Jt.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static invalid($,de=null){if(!$)throw new R("need to specify a reason the Duration is invalid");const Pe=$ instanceof gt?$:new gt($,de);if(nt.throwOnInvalid)throw new _(Pe);return new Jt({invalid:Pe})}static normalizeUnit($){const de={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[$&&$.toLowerCase()];if(!de)throw new F($);return de}static isDuration($){return $&&$.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat($,de={}){const Pe={...de,floor:!1!==de.round&&!1!==de.floor};return this.isValid?Ms.create(this.loc,Pe).formatDurationFromString(this,$):gn}toHuman($={}){if(!this.isValid)return gn;const de=vn.map(Pe=>{const Ze=this.values[Pe];return mt(Ze)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...$,unit:Pe.slice(0,-1)}).format(Ze)}).filter(Pe=>Pe);return this.loc.listFormatter({type:"conjunction",style:$.listStyle||"narrow",...$}).format(de)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let $="P";return 0!==this.years&&($+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&($+=this.months+3*this.quarters+"M"),0!==this.weeks&&($+=this.weeks+"W"),0!==this.days&&($+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&($+="T"),0!==this.hours&&($+=this.hours+"H"),0!==this.minutes&&($+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&($+=ls(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===$&&($+="T0S"),$}toISOTime($={}){if(!this.isValid)return null;const de=this.toMillis();return de<0||de>=864e5?null:($={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...$,includeOffset:!1},Bt.fromMillis(de,{zone:"UTC"}).toISOTime($))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Yt(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus($){if(!this.isValid)return this;const de=Jt.fromDurationLike($),Pe={};for(const Ze of vn)(yt(de.values,Ze)||yt(this.values,Ze))&&(Pe[Ze]=de.get(Ze)+this.get(Ze));return zs(this,{values:Pe},!0)}minus($){if(!this.isValid)return this;const de=Jt.fromDurationLike($);return this.plus(de.negate())}mapUnits($){if(!this.isValid)return this;const de={};for(const Pe of Object.keys(this.values))de[Pe]=Ds($(this.values[Pe],Pe));return zs(this,{values:de},!0)}get($){return this[Jt.normalizeUnit($)]}set($){return this.isValid?zs(this,{values:{...this.values,...Us($,Jt.normalizeUnit)}}):this}reconfigure({locale:$,numberingSystem:de,conversionAccuracy:Pe,matrix:Ze}={}){return zs(this,{loc:this.loc.clone({locale:$,numberingSystem:de}),matrix:Ze,conversionAccuracy:Pe})}as($){return this.isValid?this.shiftTo($).get($):NaN}normalize(){if(!this.isValid)return this;const $=this.toObject();return kn(this.matrix,$),zs(this,{values:$},!0)}rescale(){return this.isValid?zs(this,{values:function dr(pe){const $={};for(const[de,Pe]of Object.entries(pe))0!==Pe&&($[de]=Pe);return $}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...$){if(!this.isValid)return this;if(0===$.length)return this;$=$.map(Xe=>Jt.normalizeUnit(Xe));const de={},Pe={},Ze=this.toObject();let ke;for(const Xe of vn)if($.indexOf(Xe)>=0){ke=Xe;let rt=0;for(const vt in Pe)rt+=this.matrix[vt][Xe]*Pe[vt],Pe[vt]=0;Zt(Ze[Xe])&&(rt+=Ze[Xe]);const ct=Math.trunc(rt);de[Xe]=ct,Pe[Xe]=(1e3*rt-1e3*ct)/1e3}else Zt(Ze[Xe])&&(Pe[Xe]=Ze[Xe]);for(const Xe in Pe)0!==Pe[Xe]&&(de[ke]+=Xe===ke?Pe[Xe]:Pe[Xe]/this.matrix[ke][Xe]);return kn(this.matrix,de),zs(this,{values:de},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const $={};for(const de of Object.keys(this.values))$[de]=0===this.values[de]?0:-this.values[de];return zs(this,{values:$},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals($){if(!this.isValid||!$.isValid||!this.loc.equals($.loc))return!1;function de(Pe,Ze){return void 0===Pe||0===Pe?void 0===Ze||0===Ze:Pe===Ze}for(const Pe of vn)if(!de(this.values[Pe],$.values[Pe]))return!1;return!0}}const cn="Invalid Interval";class ns{constructor($){this.s=$.start,this.e=$.end,this.invalid=$.invalid||null,this.isLuxonInterval=!0}static invalid($,de=null){if(!$)throw new R("need to specify a reason the Interval is invalid");const Pe=$ instanceof gt?$:new gt($,de);if(nt.throwOnInvalid)throw new w(Pe);return new ns({invalid:Pe})}static fromDateTimes($,de){const Pe=qn($),Ze=qn(de),ke=function jn(pe,$){return pe&&pe.isValid?$&&$.isValid?$<pe?ns.invalid("end before start",`The end of an interval must be after its start, but you had start=${pe.toISO()} and end=${$.toISO()}`):null:ns.invalid("missing or invalid end"):ns.invalid("missing or invalid start")}(Pe,Ze);return ke??new ns({start:Pe,end:Ze})}static after($,de){const Pe=Jt.fromDurationLike(de),Ze=qn($);return ns.fromDateTimes(Ze,Ze.plus(Pe))}static before($,de){const Pe=Jt.fromDurationLike(de),Ze=qn($);return ns.fromDateTimes(Ze.minus(Pe),Ze)}static fromISO($,de){const[Pe,Ze]=($||"").split("/",2);if(Pe&&Ze){let ke,Xe,rt,ct;try{ke=Bt.fromISO(Pe,de),Xe=ke.isValid}catch{Xe=!1}try{rt=Bt.fromISO(Ze,de),ct=rt.isValid}catch{ct=!1}if(Xe&&ct)return ns.fromDateTimes(ke,rt);if(Xe){const vt=Jt.fromISO(Ze,de);if(vt.isValid)return ns.after(ke,vt)}else if(ct){const vt=Jt.fromISO(Pe,de);if(vt.isValid)return ns.before(rt,vt)}}return ns.invalid("unparsable",`the input "${$}" can't be parsed as ISO 8601`)}static isInterval($){return $&&$.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length($="milliseconds"){return this.isValid?this.toDuration($).get($):NaN}count($="milliseconds",de){if(!this.isValid)return NaN;const Pe=this.start.startOf($,de);let Ze;return Ze=de?.useLocaleWeeks?this.end.reconfigure({locale:Pe.locale}):this.end,Ze=Ze.startOf($,de),Math.floor(Ze.diff(Pe,$).get($))+(Ze.valueOf()!==this.end.valueOf())}hasSame($){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,$))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter($){return!!this.isValid&&this.s>$}isBefore($){return!!this.isValid&&this.e<=$}contains($){return!!this.isValid&&this.s<=$&&this.e>$}set({start:$,end:de}={}){return this.isValid?ns.fromDateTimes($||this.s,de||this.e):this}splitAt(...$){if(!this.isValid)return[];const de=$.map(qn).filter(Xe=>this.contains(Xe)).sort((Xe,rt)=>Xe.toMillis()-rt.toMillis()),Pe=[];let{s:Ze}=this,ke=0;for(;Ze<this.e;){const Xe=de[ke]||this.e,rt=+Xe>+this.e?this.e:Xe;Pe.push(ns.fromDateTimes(Ze,rt)),Ze=rt,ke+=1}return Pe}splitBy($){const de=Jt.fromDurationLike($);if(!this.isValid||!de.isValid||0===de.as("milliseconds"))return[];let ke,{s:Pe}=this,Ze=1;const Xe=[];for(;Pe<this.e;){const rt=this.start.plus(de.mapUnits(ct=>ct*Ze));ke=+rt>+this.e?this.e:rt,Xe.push(ns.fromDateTimes(Pe,ke)),Pe=ke,Ze+=1}return Xe}divideEqually($){return this.isValid?this.splitBy(this.length()/$).slice(0,$):[]}overlaps($){return this.e>$.s&&this.s<$.e}abutsStart($){return!!this.isValid&&+this.e==+$.s}abutsEnd($){return!!this.isValid&&+$.e==+this.s}engulfs($){return!!this.isValid&&this.s<=$.s&&this.e>=$.e}equals($){return!(!this.isValid||!$.isValid)&&this.s.equals($.s)&&this.e.equals($.e)}intersection($){if(!this.isValid)return this;const de=this.s>$.s?this.s:$.s,Pe=this.e<$.e?this.e:$.e;return de>=Pe?null:ns.fromDateTimes(de,Pe)}union($){return this.isValid?ns.fromDateTimes(this.s<$.s?this.s:$.s,this.e>$.e?this.e:$.e):this}static merge($){const[de,Pe]=$.sort((Ze,ke)=>Ze.s-ke.s).reduce(([Ze,ke],Xe)=>ke?ke.overlaps(Xe)||ke.abutsStart(Xe)?[Ze,ke.union(Xe)]:[Ze.concat([ke]),Xe]:[Ze,Xe],[[],null]);return Pe&&de.push(Pe),de}static xor($){let de=null,Pe=0;const Ze=[],ke=$.map(ct=>[{time:ct.s,type:"s"},{time:ct.e,type:"e"}]),rt=Array.prototype.concat(...ke).sort((ct,vt)=>ct.time-vt.time);for(const ct of rt)Pe+="s"===ct.type?1:-1,1===Pe?de=ct.time:(de&&+de!=+ct.time&&Ze.push(ns.fromDateTimes(de,ct.time)),de=null);return ns.merge(Ze)}difference(...$){return ns.xor([this].concat($)).map(de=>this.intersection(de)).filter(de=>de&&!de.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:cn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString($=C,de={}){return this.isValid?Ms.create(this.s.loc.clone(de),$).formatInterval(this):cn}toISO($){return this.isValid?`${this.s.toISO($)}/${this.e.toISO($)}`:cn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cn}toISOTime($){return this.isValid?`${this.s.toISOTime($)}/${this.e.toISOTime($)}`:cn}toFormat($,{separator:de=" \u2013 "}={}){return this.isValid?`${this.s.toFormat($)}${de}${this.e.toFormat($)}`:cn}toDuration($,de){return this.isValid?this.e.diff(this.s,$,de):Jt.invalid(this.invalidReason)}mapEndpoints($){return ns.fromDateTimes($(this.s),$(this.e))}}class Jn{static hasDST($=nt.defaultZone){const de=Bt.now().setZone($).set({month:12});return!$.isUniversal&&de.offset!==de.set({month:6}).offset}static isValidIANAZone($){return Oe.isValidZone($)}static normalizeZone($){return Je($,nt.defaultZone)}static getStartOfWeek({locale:$=null,locObj:de=null}={}){return(de||Me.create($)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:$=null,locObj:de=null}={}){return(de||Me.create($)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:$=null,locObj:de=null}={}){return(de||Me.create($)).getWeekendDays().slice()}static months($="long",{locale:de=null,numberingSystem:Pe=null,locObj:Ze=null,outputCalendar:ke="gregory"}={}){return(Ze||Me.create(de,Pe,ke)).months($)}static monthsFormat($="long",{locale:de=null,numberingSystem:Pe=null,locObj:Ze=null,outputCalendar:ke="gregory"}={}){return(Ze||Me.create(de,Pe,ke)).months($,!0)}static weekdays($="long",{locale:de=null,numberingSystem:Pe=null,locObj:Ze=null}={}){return(Ze||Me.create(de,Pe,null)).weekdays($)}static weekdaysFormat($="long",{locale:de=null,numberingSystem:Pe=null,locObj:Ze=null}={}){return(Ze||Me.create(de,Pe,null)).weekdays($,!0)}static meridiems({locale:$=null}={}){return Me.create($).meridiems()}static eras($="short",{locale:de=null}={}){return Me.create(de,null,"gregory").eras($)}static features(){return{relative:Fs(),localeWeek:le()}}}function Mi(pe,$){const de=Ze=>Ze.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Pe=de($)-de(pe);return Math.floor(Jt.fromMillis(Pe).as("days"))}function Xt(pe,$=(de=>de)){return{regex:pe,deser:([de])=>$(function Et(pe){let $=parseInt(pe,10);if(isNaN($)){$="";for(let de=0;de<pe.length;de++){const Pe=pe.charCodeAt(de);if(-1!==pe[de].search(tt.hanidec))$+=ft.indexOf(pe[de]);else for(const Ze in lt){const[ke,Xe]=lt[Ze];Pe>=ke&&Pe<=Xe&&($+=Pe-ke)}}return parseInt($,10)}return $}(de))}}const Vs=`[ ${String.fromCharCode(160)}]`,$s=new RegExp(Vs,"g");function Pi(pe){return pe.replace(/\./g,"\\.?").replace($s,Vs)}function pr(pe){return pe.replace(/\./g,"").replace($s," ").toLowerCase()}function ws(pe,$){return null===pe?null:{regex:RegExp(pe.map(Pi).join("|")),deser:([de])=>pe.findIndex(Pe=>pr(de)===pr(Pe))+$}}function Hs(pe,$){return{regex:pe,deser:([,de,Pe])=>qs(de,Pe),groups:$}}function sn(pe){return{regex:pe,deser:([$])=>$}}function Wr(pe){return pe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const vo={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Kr=null;function Oi(pe,$){return Array.prototype.concat(...pe.map(de=>function Gr(pe,$){if(pe.literal)return pe;const Pe=hn(Ms.macroTokenToFormatOpts(pe.val),$);return null==Pe||Pe.includes(void 0)?pe:Pe}(de,$)))}class Ti{constructor($,de){if(this.locale=$,this.format=de,this.tokens=Oi(Ms.parseFormat(de),$),this.units=this.tokens.map(Pe=>function fr(pe,$){const de=Lt($),Pe=Lt($,"{2}"),Ze=Lt($,"{3}"),ke=Lt($,"{4}"),Xe=Lt($,"{6}"),rt=Lt($,"{1,2}"),ct=Lt($,"{1,3}"),vt=Lt($,"{1,6}"),Ut=Lt($,"{1,9}"),Ht=Lt($,"{2,4}"),ps=Lt($,"{4,6}"),Ft=Ks=>({regex:RegExp(Wr(Ks.val)),deser:([Fn])=>Fn,literal:!0}),En=(Ks=>{if(pe.literal)return Ft(Ks);switch(Ks.val){case"G":return ws($.eras("short"),0);case"GG":return ws($.eras("long"),0);case"y":return Xt(vt);case"yy":case"kk":return Xt(Ht,Qs);case"yyyy":case"kkkk":return Xt(ke);case"yyyyy":return Xt(ps);case"yyyyyy":return Xt(Xe);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Xt(rt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Xt(Pe);case"MMM":return ws($.months("short",!0),1);case"MMMM":return ws($.months("long",!0),1);case"LLL":return ws($.months("short",!1),1);case"LLLL":return ws($.months("long",!1),1);case"o":case"S":return Xt(ct);case"ooo":case"SSS":return Xt(Ze);case"u":return sn(Ut);case"uu":return sn(rt);case"uuu":case"E":case"c":return Xt(de);case"a":return ws($.meridiems(),0);case"EEE":return ws($.weekdays("short",!1),1);case"EEEE":return ws($.weekdays("long",!1),1);case"ccc":return ws($.weekdays("short",!0),1);case"cccc":return ws($.weekdays("long",!0),1);case"Z":case"ZZ":return Hs(new RegExp(`([+-]${rt.source})(?::(${Pe.source}))?`),2);case"ZZZ":return Hs(new RegExp(`([+-]${rt.source})(${Pe.source})?`),2);case"z":return sn(/[a-z_+-/]{1,256}?/i);case" ":return sn(/[^\S\n\r]/);default:return Ft(Ks)}})(pe)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return En.token=pe,En}(Pe,$)),this.disqualifyingUnit=this.units.find(Pe=>Pe.invalidReason),!this.disqualifyingUnit){const[Pe,Ze]=function un(pe){return[`^${pe.map(de=>de.regex).reduce((de,Pe)=>`${de}(${Pe.source})`,"")}$`,pe]}(this.units);this.regex=RegExp(Pe,"i"),this.handlers=Ze}}explainFromTokens($){if(this.isValid){const[de,Pe]=function Fr(pe,$,de){const Pe=pe.match($);if(Pe){const Ze={};let ke=1;for(const Xe in de)if(yt(de,Xe)){const rt=de[Xe],ct=rt.groups?rt.groups+1:1;!rt.literal&&rt.token&&(Ze[rt.token.val[0]]=rt.deser(Pe.slice(ke,ke+ct))),ke+=ct}return[Pe,Ze]}return[Pe,{}]}($,this.regex,this.handlers),[Ze,ke,Xe]=Pe?function mr(pe){let Pe,de=null;return mt(pe.z)||(de=Oe.create(pe.z)),mt(pe.Z)||(de||(de=new Ie(pe.Z)),Pe=pe.Z),mt(pe.q)||(pe.M=3*(pe.q-1)+1),mt(pe.h)||(pe.h<12&&1===pe.a?pe.h+=12:12===pe.h&&0===pe.a&&(pe.h=0)),0===pe.G&&pe.y&&(pe.y=-pe.y),mt(pe.u)||(pe.S=wt(pe.u)),[Object.keys(pe).reduce((ke,Xe)=>{const rt=(ke=>{switch(ke){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Xe);return rt&&(ke[rt]=pe[Xe]),ke},{}),de,Pe]}(Pe):[null,null,void 0];if(yt(Pe,"a")&&yt(Pe,"H"))throw new I("Can't include meridiem when specifying 24-hour format");return{input:$,tokens:this.tokens,regex:this.regex,rawMatches:de,matches:Pe,result:Ze,zone:ke,specificOffset:Xe}}return{input:$,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Di(pe,$,de){return new Ti(pe,de).explainFromTokens($)}function hn(pe,$){if(!pe)return null;const Pe=Ms.create($,pe).dtFormatter(function Zr(){return Kr||(Kr=Bt.fromMillis(1555555555555)),Kr}()),Ze=Pe.formatToParts(),ke=Pe.resolvedOptions();return Ze.map(Xe=>function Eo(pe,$,de){const{type:Pe,value:Ze}=pe;if("literal"===Pe){const ct=/^\s+$/.test(Ze);return{literal:!ct,val:ct?" ":Ze}}let Xe=Pe;"hour"===Pe&&(Xe=null!=$.hour12?$.hour12?"hour12":"hour24":null!=$.hourCycle?"h11"===$.hourCycle||"h12"===$.hourCycle?"hour12":"hour24":de.hour12?"hour12":"hour24");let rt=vo[Xe];if("object"==typeof rt&&(rt=rt[$[Pe]]),rt)return{literal:!1,val:rt}}(Xe,pe,ke))}const Yn="Invalid DateTime",Nn=864e13;function Bn(pe){return new gt("unsupported zone",`the zone "${pe.name}" is not supported`)}function Xn(pe){return null===pe.weekData&&(pe.weekData=us(pe.c)),pe.weekData}function As(pe){return null===pe.localWeekData&&(pe.localWeekData=us(pe.c,pe.loc.getMinDaysInFirstWeek(),pe.loc.getStartOfWeek())),pe.localWeekData}function dn(pe,$){const de={ts:pe.ts,zone:pe.zone,c:pe.c,o:pe.o,loc:pe.loc,invalid:pe.invalid};return new Bt({...de,...$,old:de})}function Si(pe,$,de){let Pe=pe-60*$*1e3;const Ze=de.offset(Pe);if($===Ze)return[Pe,$];Pe-=60*(Ze-$)*1e3;const ke=de.offset(Pe);return Ze===ke?[Pe,Ze]:[pe-60*Math.min(Ze,ke)*1e3,Math.max(Ze,ke)]}function ss(pe,$){const de=new Date(pe+=60*$*1e3);return{year:de.getUTCFullYear(),month:de.getUTCMonth()+1,day:de.getUTCDate(),hour:de.getUTCHours(),minute:de.getUTCMinutes(),second:de.getUTCSeconds(),millisecond:de.getUTCMilliseconds()}}function Qn(pe,$,de){return Si(ds(pe),$,de)}function Vr(pe,$){const de=pe.o,Pe=pe.c.year+Math.trunc($.years),Ze=pe.c.month+Math.trunc($.months)+3*Math.trunc($.quarters),ke={...pe.c,year:Pe,month:Ze,day:Math.min(pe.c.day,qt(Pe,Ze))+Math.trunc($.days)+7*Math.trunc($.weeks)},Xe=Jt.fromObject({years:$.years-Math.trunc($.years),quarters:$.quarters-Math.trunc($.quarters),months:$.months-Math.trunc($.months),weeks:$.weeks-Math.trunc($.weeks),days:$.days-Math.trunc($.days),hours:$.hours,minutes:$.minutes,seconds:$.seconds,milliseconds:$.milliseconds}).as("milliseconds"),rt=ds(ke);let[ct,vt]=Si(rt,de,pe.zone);return 0!==Xe&&(ct+=Xe,vt=pe.zone.offset(ct)),{ts:ct,o:vt}}function Wn(pe,$,de,Pe,Ze,ke){const{setZone:Xe,zone:rt}=de;if(pe&&0!==Object.keys(pe).length||$){const ct=$||rt,vt=Bt.fromObject(pe,{...de,zone:ct,specificOffset:ke});return Xe?vt:vt.setZone(rt)}return Bt.invalid(new gt("unparsable",`the input "${Ze}" can't be parsed as ${Pe}`))}function ys(pe,$,de=!0){return pe.isValid?Ms.create(Me.create("en-US"),{allowZ:de,forceSimple:!0}).formatDateTimeFromString(pe,$):null}function $r(pe,$){const de=pe.c.year>9999||pe.c.year<0;let Pe="";return de&&pe.c.year>=0&&(Pe+="+"),Pe+=ot(pe.c.year,de?6:4),$?(Pe+="-",Pe+=ot(pe.c.month),Pe+="-",Pe+=ot(pe.c.day)):(Pe+=ot(pe.c.month),Pe+=ot(pe.c.day)),Pe}function Hr(pe,$,de,Pe,Ze,ke){let Xe=ot(pe.c.hour);return $?(Xe+=":",Xe+=ot(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!de)&&(Xe+=":")):Xe+=ot(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!de)&&(Xe+=ot(pe.c.second),(0!==pe.c.millisecond||!Pe)&&(Xe+=".",Xe+=ot(pe.c.millisecond,3))),Ze&&(pe.isOffsetFixed&&0===pe.offset&&!ke?Xe+="Z":pe.o<0?(Xe+="-",Xe+=ot(Math.trunc(-pe.o/60)),Xe+=":",Xe+=ot(Math.trunc(-pe.o%60))):(Xe+="+",Xe+=ot(Math.trunc(pe.o/60)),Xe+=":",Xe+=ot(Math.trunc(pe.o%60)))),ke&&(Xe+="["+pe.zone.ianaName+"]"),Xe}const kr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ta={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ci={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Jr=["year","month","day","hour","minute","second","millisecond"],Mo=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_r=["year","ordinal","hour","minute","second","millisecond"];function Ri(pe){switch(pe.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function Ao(pe){const $={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[pe.toLowerCase()];if(!$)throw new F(pe);return $}(pe)}}function Ns(pe,$){const de=Je($.zone,nt.defaultZone);if(!de.isValid)return Bt.invalid(Bn(de));const Pe=Me.fromObject($);let Ze,ke;if(mt(pe.year))Ze=nt.now();else{for(const ct of Jr)mt(pe[ct])&&(pe[ct]=kr[ct]);const Xe=ut(pe)||At(pe);if(Xe)return Bt.invalid(Xe);const rt=function Po(pe){return yr[pe]||(void 0===Yr&&(Yr=nt.now()),yr[pe]=pe.offset(Yr)),yr[pe]}(de);[Ze,ke]=Qn(pe,rt,de)}return new Bt({ts:Ze,zone:de,loc:Pe,o:ke})}function Ii(pe,$,de){const Pe=!!mt(de.round)||de.round,Ze=(Xe,rt)=>(Xe=ls(Xe,Pe||de.calendary?0:2,!0),$.loc.clone(de).relFormatter(de).format(Xe,rt)),ke=Xe=>de.calendary?$.hasSame(pe,Xe)?0:$.startOf(Xe).diff(pe.startOf(Xe),Xe).get(Xe):$.diff(pe,Xe).get(Xe);if(de.unit)return Ze(ke(de.unit),de.unit);for(const Xe of de.units){const rt=ke(Xe);if(Math.abs(rt)>=1)return Ze(rt,Xe)}return Ze(pe>$?-0:0,de.units[de.units.length-1])}function wi(pe){let de,$={};return pe.length>0&&"object"==typeof pe[pe.length-1]?($=pe[pe.length-1],de=Array.from(pe).slice(0,pe.length-1)):de=Array.from(pe),[$,de]}let Yr,yr={};class Bt{constructor($){const de=$.zone||nt.defaultZone;let Pe=$.invalid||(Number.isNaN($.ts)?new gt("invalid input"):null)||(de.isValid?null:Bn(de));this.ts=mt($.ts)?nt.now():$.ts;let Ze=null,ke=null;if(!Pe)if($.old&&$.old.ts===this.ts&&$.old.zone.equals(de))[Ze,ke]=[$.old.c,$.old.o];else{const rt=Zt($.o)&&!$.old?$.o:de.offset(this.ts);Ze=ss(this.ts,rt),Pe=Number.isNaN(Ze.year)?new gt("invalid input"):null,Ze=Pe?null:Ze,ke=Pe?null:rt}this._zone=de,this.loc=$.loc||Me.create(),this.invalid=Pe,this.weekData=null,this.localWeekData=null,this.c=Ze,this.o=ke,this.isLuxonDateTime=!0}static now(){return new Bt({})}static local(){const[$,de]=wi(arguments),[Pe,Ze,ke,Xe,rt,ct,vt]=de;return Ns({year:Pe,month:Ze,day:ke,hour:Xe,minute:rt,second:ct,millisecond:vt},$)}static utc(){const[$,de]=wi(arguments),[Pe,Ze,ke,Xe,rt,ct,vt]=de;return $.zone=Ie.utcInstance,Ns({year:Pe,month:Ze,day:ke,hour:Xe,minute:rt,second:ct,millisecond:vt},$)}static fromJSDate($,de={}){const Pe=function Ts(pe){return"[object Date]"===Object.prototype.toString.call(pe)}($)?$.valueOf():NaN;if(Number.isNaN(Pe))return Bt.invalid("invalid input");const Ze=Je(de.zone,nt.defaultZone);return Ze.isValid?new Bt({ts:Pe,zone:Ze,loc:Me.fromObject(de)}):Bt.invalid(Bn(Ze))}static fromMillis($,de={}){if(Zt($))return $<-Nn||$>Nn?Bt.invalid("Timestamp out of range"):new Bt({ts:$,zone:Je(de.zone,nt.defaultZone),loc:Me.fromObject(de)});throw new R(`fromMillis requires a numerical input, but received a ${typeof $} with value ${$}`)}static fromSeconds($,de={}){if(Zt($))return new Bt({ts:1e3*$,zone:Je(de.zone,nt.defaultZone),loc:Me.fromObject(de)});throw new R("fromSeconds requires a numerical input")}static fromObject($,de={}){$=$||{};const Pe=Je(de.zone,nt.defaultZone);if(!Pe.isValid)return Bt.invalid(Bn(Pe));const Ze=Me.fromObject(de),ke=Us($,Ri),{minDaysInFirstWeek:Xe,startOfWeek:rt}=Ve(ke,Ze),ct=nt.now(),vt=mt(de.specificOffset)?Pe.offset(ct):de.specificOffset,Ut=!mt(ke.ordinal),Ht=!mt(ke.year),ps=!mt(ke.month)||!mt(ke.day),Ft=Ht||ps,Es=ke.weekYear||ke.weekNumber;if((Ft||Ut)&&Es)throw new I("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ps&&Ut)throw new I("Can't mix ordinal dates with month/day");const En=Es||ke.weekday&&!Ft;let Ks,Fn,er=ss(ct,vt);En?(Ks=Mo,Fn=ta,er=us(er,Xe,rt)):Ut?(Ks=_r,Fn=Ci,er=Rs(er)):(Ks=Jr,Fn=kr);let Li=!1;for(const pn of Ks)mt(ke[pn])?ke[pn]=Li?Fn[pn]:er[pn]:Li=!0;const bi=En?function at(pe,$=4,de=1){const Pe=_s(pe.weekYear),Ze=He(pe.weekNumber,1,Zs(pe.weekYear,$,de)),ke=He(pe.weekday,1,7);return Pe?Ze?!ke&&Ot("weekday",pe.weekday):Ot("week",pe.weekNumber):Ot("weekYear",pe.weekYear)}(ke,Xe,rt):Ut?function it(pe){const $=_s(pe.year),de=He(pe.ordinal,1,$t(pe.year));return $?!de&&Ot("ordinal",pe.ordinal):Ot("year",pe.year)}(ke):ut(ke),Mn=bi||At(ke);if(Mn)return Bt.invalid(Mn);const Oo=En?hs(ke,Xe,rt):Ut?gs(ke):ke,[Xr,To]=Qn(Oo,vt,Pe),fs=new Bt({ts:Xr,zone:Pe,o:To,loc:Ze});return ke.weekday&&Ft&&$.weekday!==fs.weekday?Bt.invalid("mismatched weekday",`you can't specify both a weekday of ${ke.weekday} and a date of ${fs.toISO()}`):fs.isValid?fs:Bt.invalid(fs.invalid)}static fromISO($,de={}){const[Pe,Ze]=function gi(pe){return Gs(pe,[wr,br],[yn,an],[Lr,hr],[on,yi])}($);return Wn(Pe,Ze,de,"ISO 8601",$)}static fromRFC2822($,de={}){const[Pe,Ze]=function xr(pe){return Gs(function $n(pe){return pe.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(pe),[lo,co])}($);return Wn(Pe,Ze,de,"RFC 2822",$)}static fromHTTP($,de={}){const[Pe,Ze]=function Ur(pe){return Gs(pe,[uo,Ir],[ur,Ir],[ho,po])}($);return Wn(Pe,Ze,de,"HTTP",de)}static fromFormat($,de,Pe={}){if(mt($)||mt(de))throw new R("fromFormat requires an input string and a format");const{locale:Ze=null,numberingSystem:ke=null}=Pe,Xe=Me.fromOpts({locale:Ze,numberingSystem:ke,defaultToEN:!0}),[rt,ct,vt,Ut]=function zr(pe,$,de){const{result:Pe,zone:Ze,specificOffset:ke,invalidReason:Xe}=Di(pe,$,de);return[Pe,Ze,ke,Xe]}(Xe,$,de);return Ut?Bt.invalid(Ut):Wn(rt,ct,Pe,`format ${de}`,$,vt)}static fromString($,de,Pe={}){return Bt.fromFormat($,de,Pe)}static fromSQL($,de={}){const[Pe,Ze]=function _o(pe){return Gs(pe,[Nr,br],[ts,mo])}($);return Wn(Pe,Ze,de,"SQL",$)}static invalid($,de=null){if(!$)throw new R("need to specify a reason the DateTime is invalid");const Pe=$ instanceof gt?$:new gt($,de);if(nt.throwOnInvalid)throw new p(Pe);return new Bt({invalid:Pe})}static isDateTime($){return $&&$.isLuxonDateTime||!1}static parseFormatForOpts($,de={}){const Pe=hn($,Me.fromObject(de));return Pe?Pe.map(Ze=>Ze?Ze.val:null).join(""):null}static expandFormat($,de={}){return Oi(Ms.parseFormat($),Me.fromObject(de)).map(Ze=>Ze.val).join("")}static resetCache(){Yr=void 0,yr={}}get($){return this[$]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Xn(this).weekYear:NaN}get weekNumber(){return this.isValid?Xn(this).weekNumber:NaN}get weekday(){return this.isValid?Xn(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?As(this).weekday:NaN}get localWeekNumber(){return this.isValid?As(this).weekNumber:NaN}get localWeekYear(){return this.isValid?As(this).weekYear:NaN}get ordinal(){return this.isValid?Rs(this.c).ordinal:NaN}get monthShort(){return this.isValid?Jn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Jn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Jn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Jn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const $=864e5,de=6e4,Pe=ds(this.c),Ze=this.zone.offset(Pe-$),ke=this.zone.offset(Pe+$),Xe=this.zone.offset(Pe-Ze*de),rt=this.zone.offset(Pe-ke*de);if(Xe===rt)return[this];const ct=Pe-Xe*de,vt=Pe-rt*de,Ut=ss(ct,Xe),Ht=ss(vt,rt);return Ut.hour===Ht.hour&&Ut.minute===Ht.minute&&Ut.second===Ht.second&&Ut.millisecond===Ht.millisecond?[dn(this,{ts:ct}),dn(this,{ts:vt})]:[this]}get isInLeapYear(){return is(this.year)}get daysInMonth(){return qt(this.year,this.month)}get daysInYear(){return this.isValid?$t(this.year):NaN}get weeksInWeekYear(){return this.isValid?Zs(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Zs(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions($={}){const{locale:de,numberingSystem:Pe,calendar:Ze}=Ms.create(this.loc.clone($),$).resolvedOptions(this);return{locale:de,numberingSystem:Pe,outputCalendar:Ze}}toUTC($=0,de={}){return this.setZone(Ie.instance($),de)}toLocal(){return this.setZone(nt.defaultZone)}setZone($,{keepLocalTime:de=!1,keepCalendarTime:Pe=!1}={}){if(($=Je($,nt.defaultZone)).equals(this.zone))return this;if($.isValid){let Ze=this.ts;if(de||Pe){const ke=$.offset(this.ts),Xe=this.toObject();[Ze]=Qn(Xe,ke,$)}return dn(this,{ts:Ze,zone:$})}return Bt.invalid(Bn($))}reconfigure({locale:$,numberingSystem:de,outputCalendar:Pe}={}){return dn(this,{loc:this.loc.clone({locale:$,numberingSystem:de,outputCalendar:Pe})})}setLocale($){return this.reconfigure({locale:$})}set($){if(!this.isValid)return this;const de=Us($,Ri),{minDaysInFirstWeek:Pe,startOfWeek:Ze}=Ve(de,this.loc),ke=!mt(de.weekYear)||!mt(de.weekNumber)||!mt(de.weekday),Xe=!mt(de.ordinal),rt=!mt(de.year),ct=!mt(de.month)||!mt(de.day);if((rt||ct||Xe)&&(de.weekYear||de.weekNumber))throw new I("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ct&&Xe)throw new I("Can't mix ordinal dates with month/day");let Ht;ke?Ht=hs({...us(this.c,Pe,Ze),...de},Pe,Ze):mt(de.ordinal)?(Ht={...this.toObject(),...de},mt(de.day)&&(Ht.day=Math.min(qt(Ht.year,Ht.month),Ht.day))):Ht=gs({...Rs(this.c),...de});const[ps,Ft]=Qn(Ht,this.o,this.zone);return dn(this,{ts:ps,o:Ft})}plus($){return this.isValid?dn(this,Vr(this,Jt.fromDurationLike($))):this}minus($){return this.isValid?dn(this,Vr(this,Jt.fromDurationLike($).negate())):this}startOf($,{useLocaleWeeks:de=!1}={}){if(!this.isValid)return this;const Pe={},Ze=Jt.normalizeUnit($);switch(Ze){case"years":Pe.month=1;case"quarters":case"months":Pe.day=1;case"weeks":case"days":Pe.hour=0;case"hours":Pe.minute=0;case"minutes":Pe.second=0;case"seconds":Pe.millisecond=0}if("weeks"===Ze)if(de){const ke=this.loc.getStartOfWeek(),{weekday:Xe}=this;Xe<ke&&(Pe.weekNumber=this.weekNumber-1),Pe.weekday=ke}else Pe.weekday=1;if("quarters"===Ze){const ke=Math.ceil(this.month/3);Pe.month=3*(ke-1)+1}return this.set(Pe)}endOf($,de){return this.isValid?this.plus({[$]:1}).startOf($,de).minus(1):this}toFormat($,de={}){return this.isValid?Ms.create(this.loc.redefaultToEN(de)).formatDateTimeFromString(this,$):Yn}toLocaleString($=C,de={}){return this.isValid?Ms.create(this.loc.clone(de),$).formatDateTime(this):Yn}toLocaleParts($={}){return this.isValid?Ms.create(this.loc.clone($),$).formatDateTimeParts(this):[]}toISO({format:$="extended",suppressSeconds:de=!1,suppressMilliseconds:Pe=!1,includeOffset:Ze=!0,extendedZone:ke=!1}={}){if(!this.isValid)return null;const Xe="extended"===$;let rt=$r(this,Xe);return rt+="T",rt+=Hr(this,Xe,de,Pe,Ze,ke),rt}toISODate({format:$="extended"}={}){return this.isValid?$r(this,"extended"===$):null}toISOWeekDate(){return ys(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:$=!1,suppressSeconds:de=!1,includeOffset:Pe=!0,includePrefix:Ze=!1,extendedZone:ke=!1,format:Xe="extended"}={}){return this.isValid?(Ze?"T":"")+Hr(this,"extended"===Xe,de,$,Pe,ke):null}toRFC2822(){return ys(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ys(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$r(this,!0):null}toSQLTime({includeOffset:$=!0,includeZone:de=!1,includeOffsetSpace:Pe=!0}={}){let Ze="HH:mm:ss.SSS";return(de||$)&&(Pe&&(Ze+=" "),de?Ze+="z":$&&(Ze+="ZZ")),ys(this,Ze,!0)}toSQL($={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime($)}`:null}toString(){return this.isValid?this.toISO():Yn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject($={}){if(!this.isValid)return{};const de={...this.c};return $.includeConfig&&(de.outputCalendar=this.outputCalendar,de.numberingSystem=this.loc.numberingSystem,de.locale=this.loc.locale),de}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff($,de="milliseconds",Pe={}){if(!this.isValid||!$.isValid)return Jt.invalid("created by diffing an invalid DateTime");const Ze={locale:this.locale,numberingSystem:this.numberingSystem,...Pe},ke=function et(pe){return Array.isArray(pe)?pe:[pe]}(de).map(Jt.normalizeUnit),Xe=$.valueOf()>this.valueOf(),vt=function Br(pe,$,de,Pe){let[Ze,ke,Xe,rt]=function go(pe,$,de){const Pe=[["years",(ct,vt)=>vt.year-ct.year],["quarters",(ct,vt)=>vt.quarter-ct.quarter+4*(vt.year-ct.year)],["months",(ct,vt)=>vt.month-ct.month+12*(vt.year-ct.year)],["weeks",(ct,vt)=>{const Ut=Mi(ct,vt);return(Ut-Ut%7)/7}],["days",Mi]],Ze={},ke=pe;let Xe,rt;for(const[ct,vt]of Pe)de.indexOf(ct)>=0&&(Xe=ct,Ze[ct]=vt(pe,$),rt=ke.plus(Ze),rt>$?(Ze[ct]--,(pe=ke.plus(Ze))>$&&(rt=pe,Ze[ct]--,pe=ke.plus(Ze))):pe=rt);return[pe,Ze,rt,Xe]}(pe,$,de);const ct=$-Ze,vt=de.filter(Ht=>["hours","minutes","seconds","milliseconds"].indexOf(Ht)>=0);0===vt.length&&(Xe<$&&(Xe=Ze.plus({[rt]:1})),Xe!==Ze&&(ke[rt]=(ke[rt]||0)+ct/(Xe-Ze)));const Ut=Jt.fromObject(ke,Pe);return vt.length>0?Jt.fromMillis(ct,Pe).shiftTo(...vt).plus(Ut):Ut}(Xe?this:$,Xe?$:this,ke,Ze);return Xe?vt.negate():vt}diffNow($="milliseconds",de={}){return this.diff(Bt.now(),$,de)}until($){return this.isValid?ns.fromDateTimes(this,$):this}hasSame($,de,Pe){if(!this.isValid)return!1;const Ze=$.valueOf(),ke=this.setZone($.zone,{keepLocalTime:!0});return ke.startOf(de,Pe)<=Ze&&Ze<=ke.endOf(de,Pe)}equals($){return this.isValid&&$.isValid&&this.valueOf()===$.valueOf()&&this.zone.equals($.zone)&&this.loc.equals($.loc)}toRelative($={}){if(!this.isValid)return null;const de=$.base||Bt.fromObject({},{zone:this.zone}),Pe=$.padding?this<de?-$.padding:$.padding:0;let Ze=["years","months","days","hours","minutes","seconds"],ke=$.unit;return Array.isArray($.unit)&&(Ze=$.unit,ke=void 0),Ii(de,this.plus(Pe),{...$,numeric:"always",units:Ze,unit:ke})}toRelativeCalendar($={}){return this.isValid?Ii($.base||Bt.fromObject({},{zone:this.zone}),this,{...$,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...$){if(!$.every(Bt.isDateTime))throw new R("min requires all arguments be DateTimes");return Ye($,de=>de.valueOf(),Math.min)}static max(...$){if(!$.every(Bt.isDateTime))throw new R("max requires all arguments be DateTimes");return Ye($,de=>de.valueOf(),Math.max)}static fromFormatExplain($,de,Pe={}){const{locale:Ze=null,numberingSystem:ke=null}=Pe;return Di(Me.fromOpts({locale:Ze,numberingSystem:ke,defaultToEN:!0}),$,de)}static fromStringExplain($,de,Pe={}){return Bt.fromFormatExplain($,de,Pe)}static buildFormatParser($,de={}){const{locale:Pe=null,numberingSystem:Ze=null}=de,ke=Me.fromOpts({locale:Pe,numberingSystem:Ze,defaultToEN:!0});return new Ti(ke,$)}static fromFormatParser($,de,Pe={}){if(mt($)||mt(de))throw new R("fromFormatParser requires an input string and a format parser");const{locale:Ze=null,numberingSystem:ke=null}=Pe,Xe=Me.fromOpts({locale:Ze,numberingSystem:ke,defaultToEN:!0});if(!Xe.equals(de.locale))throw new R(`fromFormatParser called with a locale of ${Xe}, but the format parser was created for ${de.locale}`);const{result:rt,zone:ct,specificOffset:vt,invalidReason:Ut}=de.explainFromTokens($);return Ut?Bt.invalid(Ut):Wn(rt,ct,Pe,`format ${de.format}`,$,vt)}static get DATE_SHORT(){return C}static get DATE_MED(){return N}static get DATE_MED_WITH_WEEKDAY(){return U}static get DATE_FULL(){return W}static get DATE_HUGE(){return O}static get TIME_SIMPLE(){return v}static get TIME_WITH_SECONDS(){return M}static get TIME_WITH_SHORT_OFFSET(){return m}static get TIME_WITH_LONG_OFFSET(){return Z}static get TIME_24_SIMPLE(){return D}static get TIME_24_WITH_SECONDS(){return L}static get TIME_24_WITH_SHORT_OFFSET(){return b}static get TIME_24_WITH_LONG_OFFSET(){return H}static get DATETIME_SHORT(){return Y}static get DATETIME_SHORT_WITH_SECONDS(){return z}static get DATETIME_MED(){return te}static get DATETIME_MED_WITH_SECONDS(){return ee}static get DATETIME_MED_WITH_WEEKDAY(){return Q}static get DATETIME_FULL(){return q}static get DATETIME_FULL_WITH_SECONDS(){return j}static get DATETIME_HUGE(){return X}static get DATETIME_HUGE_WITH_SECONDS(){return A}}function qn(pe){if(Bt.isDateTime(pe))return pe;if(pe&&pe.valueOf&&Zt(pe.valueOf()))return Bt.fromJSDate(pe);if(pe&&"object"==typeof pe)return Bt.fromObject(pe);throw new R(`Unknown datetime argument: ${pe}, of type ${typeof pe}`)}},10467:(xe,re,u)=>{function d(w,_,I,F,R,T,y){try{var E=w[T](y),P=E.value}catch(C){return void I(C)}E.done?_(P):Promise.resolve(P).then(F,R)}function p(w){return function(){var _=this,I=arguments;return new Promise(function(F,R){var T=w.apply(_,I);function y(P){d(T,F,R,y,E,"next",P)}function E(P){d(T,F,R,y,E,"throw",P)}y(void 0)})}}u.d(re,{A:()=>p})}}]);