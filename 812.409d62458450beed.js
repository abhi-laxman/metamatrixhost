"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[812],{73446:(rt,Q,u)=>{u.d(Q,{Fq:()=>j,Yc:()=>w,Yq:()=>N});var Z=u(28067);function w(m){if(null==m)return null;switch(m.type){case"polygon":case"multipoint":case"polyline":return m.extent;case"point":return new Z.A({xmin:m.x,ymin:m.y,xmax:m.x,ymax:m.y,spatialReference:m.spatialReference});case"extent":return m}return null}function N(m){if(null==m)return null;const v=m.clone();return void 0!==m.cache._geVersion&&(v.cache._geVersion=m.cache._geVersion),v}function j(m){return"number"==typeof m&&isFinite(m)&&Math.floor(m)===m}},87257:(rt,Q,u)=>{u.d(Q,{n:()=>m});var Z=u(61299),w=u(88996),K=u(44549);function N(v){v=v.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let i="";const c=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const M of v.match(c)||[])switch(M){case"D":i+="d";break;case"DD":i+="dd";break;case"DDD":i+="o";break;case"d":i+="c";break;case"ddd":i+="ccc";break;case"dddd":i+="cccc";break;case"M":i+="L";break;case"MM":i+="LL";break;case"MMM":i+="LLL";break;case"MMMM":i+="LLLL";break;case"YY":i+="yy";break;case"Y":case"YYYY":i+="yyyy";break;case"Q":i+="q";break;case"X":case"x":i+=M;break;default:M.length>=2&&"["===M.slice(0,1)&&"]"===M.slice(-1)?i+=`'${M.slice(1,-1)}'`:i+=`'${M}'`}return i}const j="esri.core.sql.dateonly";class m{constructor(i,c,M){this._year=i,this._month=c,this._day=M,this.declaredRootClass=j}static isDateOnly(i){return"object"==typeof i&&null!=i&&"declaredRootClass"in i&&i.declaredRootClass===j}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(i){return m.isDateOnly(i)&&i.day===this.day&&i.month===this.month&&i.year===this.year}clone(){return new m(this._year,this._month,this._day)}toDateTime(i){return K.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,Z.mT)(i)})}toDateTimeLuxon(i){return K.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,Z.mT)(i)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(i=null,c=!0){if(null===i||""===i)return this.toString();if(c&&(i=N(i)),!i)return"";const M=this.toDateTime("unknown");return Z.lY.dateTimeToArcadeDate(M).toFormat(i,{locale:(0,w.JK)(),numberingSystem:"latn"})}toArcadeDate(){const i=this.toDateTime("unknown");return Z.lY.dateTimeToArcadeDate(i)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(i,c){return m.fromDateTime(this.toUTCDateTime().plus({[i]:c}))}toUTCDateTime(){return K.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(i,c){switch(c.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(i.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(i.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===c?this.toUTCDateTime().diff(i.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(i.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(i.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(i.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(i.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(i.toUTCDateTime(),"years").years}}static fromMilliseconds(i){const c=K.c9.fromMillis(i,{zone:K.mQ.utcInstance});return c.isValid?m.fromParts(c.year,c.month,c.day):null}static fromSeconds(i){const c=K.c9.fromSeconds(i,{zone:K.mQ.utcInstance});return c.isValid?m.fromParts(c.year,c.month,c.day):null}static fromReader(i){if(!i)return null;const c=i.split("-");return 3!==c.length?null:new m(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10))}static fromParts(i,c,M){const O=new m(i,c,M);return!1===O.isValid?null:O}static fromDateJS(i){return m.fromParts(i.getFullYear(),i.getMonth()+1,i.getDay())}static fromDateTime(i){return m.fromParts(i.year,i.month,i.day)}static fromSqlTimeStampOffset(i){return this.fromDateTime(i.toDateTime())}static fromString(i,c=null){if(""===i||null===i)return null;const M=[];if(c)(c=N(c))&&M.push(c);else if(null===c||""===c){const O=K.c9.fromISO(i,{setZone:!0});return O.isValid?m.fromParts(O.year,O.month,O.day):null}for(const O of M){const D=K.c9.fromFormat(i,c??O);if(D.isValid)return new m(D.year,D.month,D.day)}return null}static fromNow(i="system"){const c=K.c9.fromJSDate(new Date).setZone((0,Z.mT)(i));return new m(c.year,c.month,c.day)}}},29752:(rt,Q,u)=>{u.d(Q,{k:()=>m});var Z=u(73446),w=u(88996),K=u(44549);function N(v){if(!v)return"";const i=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let c="";for(const M of v.match(i)||[])switch(M){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":c+=M;break;case"A":case"a":c+="a";break;default:c+=`'${M}'`}return c}const j="esri.core.sql.timeonly";class m{constructor(i,c,M,O){this._hour=i,this._minute=c,this._second=M,this._millisecond=O,this.declaredRootClass=j}static isTimeOnly(i){return"object"==typeof i&&null!=i&&"declaredRootClass"in i&&i.declaredRootClass===j}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(i){return m.isTimeOnly(i)&&i.hour===this.hour&&i.minute===this.minute&&i.second===this.second&&i.millisecond===this.millisecond}clone(){return new m(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,Z.Fq)(this.hour)&&(0,Z.Fq)(this.minute)&&(0,Z.Fq)(this.second)&&(0,Z.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(i=null){return null===i||""===i?this.toString():(i=N(i))?K.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(i,{locale:(0,w.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(i,c,M,O){const D=new m(i,c,M,O);return D.isValid()?D:null}static fromReader(i){if(!i)return null;const c=i.split(":");return 3!==c.length?null:new m(parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),0)}static fromMilliseconds(i){if(i>864e5||i<0)return null;const c=Math.floor(i/1e3%60),M=Math.floor(i/6e4%60),O=Math.floor(i/36e5%24),D=Math.floor(i%1e3);return new m(O,M,c,D)}static fromDateJS(i){return new m(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())}static fromDateTime(i){return new m(i.hour,i.minute,i.second,i.millisecond)}static fromSqlTimeStampOffset(i){return this.fromDateTime(i.toDateTime())}static fromString(i,c=null){if(""===i||null===i)return null;const M=[];c?(c=N(c))&&M.push(c):null!==c&&""!==c||(M.push("HH:mm:ss"),M.push("HH:mm:ss.SSS"),M.push("hh:mm:ss a"),M.push("hh:mm:ss.SSS a"),M.push("HH:mm"),M.push("hh:mm a"),M.push("H:mm"),M.push("h:mm a"),M.push("H:mm:ss"),M.push("h:mm:ss a"),M.push("H:mm:ss.SSS"),M.push("h:mm:ss.SSS a"));for(const O of M){const D=K.c9.fromFormat(i,O);if(D.isValid)return new m(D.hour,D.minute,D.second,D.millisecond)}return null}plus(i,c){switch(i){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return m.fromDateTime(this.toUTCDateTime().plus({[i]:c}))}return null}toUTCDateTime(){return K.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(i,c){switch(c.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(i.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(i.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===c?this.toUTCDateTime().diff(i.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(i.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(i.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(i.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(i.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(i.toUTCDateTime(),"years").years}}}},79915:(rt,Q,u)=>{u.d(Q,{g:()=>Z});const Z={convertToGEGeometry:function w(g,d){return null==d?null:g.convertJSONToGeometry(d)},exportPoint:function N(g,d,E){const F=new K(g.getPointX(d),g.getPointY(d),E),C=g.hasZ(d),_=g.hasM(d);return C&&(F.z=g.getPointZ(d)),_&&(F.m=g.getPointM(d)),F},exportPolygon:function m(g,d,E){return new j(g.exportPaths(d),E,g.hasZ(d),g.hasM(d))},exportPolyline:function i(g,d,E){return new v(g.exportPaths(d),E,g.hasZ(d),g.hasM(d))},exportMultipoint:function M(g,d,E){return new c(g.exportPoints(d),E,g.hasZ(d),g.hasM(d))},exportExtent:function D(g,d,E){const F=g.hasZ(d),C=g.hasM(d),_=new O(g.getXMin(d),g.getYMin(d),g.getXMax(d),g.getYMax(d),E);if(F){const L=g.getZExtent(d);_.zmin=L.vmin,_.zmax=L.vmax}if(C){const L=g.getMExtent(d);_.mmin=L.vmin,_.mmax=L.vmax}return _}};class K{constructor(d,E,F){this.x=d,this.y=E,this.spatialReference=F,this.z=void 0,this.m=void 0}}class j{constructor(d,E,F,C){this.rings=d,this.spatialReference=E,this.hasZ=void 0,this.hasM=void 0,F&&(this.hasZ=F),C&&(this.hasM=C)}}class v{constructor(d,E,F,C){this.paths=d,this.spatialReference=E,this.hasZ=void 0,this.hasM=void 0,F&&(this.hasZ=F),C&&(this.hasM=C)}}class c{constructor(d,E,F,C){this.points=d,this.spatialReference=E,this.hasZ=void 0,this.hasM=void 0,F&&(this.hasZ=F),C&&(this.hasM=C)}}class O{constructor(d,E,F,C,_){this.xmin=d,this.ymin=E,this.xmax=F,this.ymax=C,this.spatialReference=_,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},721:(rt,Q,u)=>{function w(l){return l?{originPosition:"upper-left"===l.originPosition?"upperLeft":"lower-left"===l.originPosition?"lowerLeft":l.originPosition,scale:l.tolerance?[l.tolerance,l.tolerance,1,1]:[1,1,1,1],translate:null!=l.extent?[l.extent.xmin,l.extent.ymax,l.extent.zmin??0,l.extent.mmin??0]:[0,0,0,0]}:null}function N(l){if(function K(l){return"lowerLeft"===l.originPosition&&4===l.scale.length&&4===l.translate.length}(l))return l;const{originPosition:s,scale:a,translate:h}=l,R=a[1]??1;return{originPosition:"lowerLeft",scale:[a[0]??1,"lowerLeft"===s?R:-R,a[2]??1,a[3]??1],translate:[h[0]??0,h[1]??0,h[2]??0,h[3]??0]}}function j({scale:l,translate:s},a){return Math.round((a-s[0])/l[0])}function m({scale:l,translate:s},a){return Math.round((a-s[1])/l[1])}function v({scale:l,translate:s},a){return Math.round(((a??0)-s[2])/l[2])}function i({scale:l,translate:s},a){return a?Math.round((a-s[3])/l[3]):0}function c(l,s){return l&&s?g:l&&!s?O:!l&&s?D:M}u.d(Q,{$X:()=>ct,B2:()=>m,Gy:()=>J,IE:()=>j,P5:()=>lt,Q1:()=>N,QE:()=>nt,SW:()=>mt,Tr:()=>at,VV:()=>w,wp:()=>q}),u(61320);const M=(l,s)=>{const a=[];if(!s.length)return null;const h=s[0];let x=j(l,h[0]),R=m(l,h[1]);a.push([x,R]);for(let B=1;B<s.length;B++){const[W,b]=s[B],X=j(l,W),Y=m(l,b);X===x&&Y===R||a.push([X-x,Y-R]),x=X,R=Y}return a},O=(l,s)=>{const a=[];if(!s.length)return null;const h=s[0];let x=j(l,h[0]),R=m(l,h[1]),B=v(l,h[2]);a.push([x,R,B]);for(let W=1;W<s.length;W++){const[b,X,Y]=s[W],k=j(l,b),tt=m(l,X),et=v(l,Y);k===x&&tt===R&&et===B||a.push([k-x,tt-R,et]),x=k,R=tt,B=et}return a},D=(l,s)=>{const a=[];if(!s.length)return null;const h=s[0];let x=j(l,h[0]),R=m(l,h[1]),B=i(l,h[2]);a.push([x,R,B]);for(let W=1;W<s.length;W++){const[b,X,Y]=s[W],k=j(l,b),tt=m(l,X),et=i(l,Y);k===x&&tt===R&&et===B||a.push([k-x,tt-R,et]),x=k,R=tt,B=et}return a},g=(l,s)=>{const a=[];if(!s.length)return null;const h=s[0];let x=j(l,h[0]),R=m(l,h[1]),B=v(l,h[2]),W=i(l,h[3]);a.push([x,R,B,W]);for(let b=1;b<s.length;b++){const[X,Y,k,tt]=s[b],et=j(l,X),ut=m(l,Y),ht=v(l,k),ft=i(l,tt);et===x&&ut===R&&ht===B&&ft===W||a.push([et-x,ut-R,ht,ft]),x=et,R=ut,B=ht,W=ft}return a};function C({scale:l,translate:s},a){return a*l[0]+s[0]}function _({scale:l,translate:s},a){return a*l[1]+s[1]}function L({scale:l,translate:s},a){return(a??0)*l[2]+s[2]}function f({scale:l,translate:s},a){return a?a*l[3]+s[3]:0}function y(l,s){return l&&s?p:l&&!s?P:!l&&s?V:S}const S=(l,s)=>{const a=new Array(s.length);if(!s.length)return a;const h=s[0];let x=C(l,h[0]),R=_(l,h[1]);a[0]=[x,R];const{scale:B,originPosition:W}=l,b=B[0],X="lowerLeft"===W?B[1]:-B[1];for(let Y=1;Y<s.length;Y++){const[k,tt]=s[Y];x+=b*k,R+=X*tt,a[Y]=[x,R]}return a},P=(l,s)=>{const a=new Array(s.length);if(!s.length)return a;const h=s[0];let x=C(l,h[0]),R=_(l,h[1]);a[0]=[x,R,L(l,h[2])];const{scale:B,originPosition:W}=l,b=B[0],X="lowerLeft"===W?B[1]:-B[1];for(let Y=1;Y<s.length;Y++){const[k,tt,et]=s[Y];x+=b*k,R+=X*tt,a[Y]=[x,R,L(l,et)]}return a},V=(l,s)=>{const a=new Array(s.length);if(!s.length)return a;const h=s[0];let x=C(l,h[0]),R=_(l,h[1]);a[0]=[x,R,f(l,h[2])];const{scale:B,originPosition:W}=l,b=B[0],X="lowerLeft"===W?B[1]:-B[1];for(let Y=1;Y<s.length;Y++){const[k,tt,et]=s[Y];x+=b*k,R+=X*tt,a[Y]=[x,R,f(l,et)]}return a},p=(l,s)=>{const a=new Array(s.length);if(!s.length)return a;const h=s[0];let x=C(l,h[0]),R=_(l,h[1]);a[0]=[x,R,L(l,h[2]),f(l,h[3])];const{scale:B,originPosition:W}=l,b=B[0],X="lowerLeft"===W?B[1]:-B[1];for(let Y=1;Y<s.length;Y++){const[k,tt,et,ut]=s[Y];x+=b*k,R+=X*tt,a[Y]=[x,R,L(l,et),f(l,ut)]}return a};function G(l,s,a){const h=new Array(a.length);for(let x=0;x<a.length;x++)h[x]=s(l,a[x]);return h}function J(l,s,a){const h=N(l);return s.x=j(h,a.x),s.y=m(h,a.y),null!=a.z&&(s.z=v(h,a.z)),null!=a.m&&(s.m=i(h,a.m)),s}function q(l,s,a){const h=function E(l,s,a,h){const x=[],R=c(a,h);for(let B=0;B<s.length;B++){const W=R(l,s[B]);W&&W.length>=3&&x.push(W)}return x.length?x:null}(N(l),a.rings,a.hasZ,a.hasM);return h?(s.rings=h,s.hasZ=a.hasZ??!1,s.hasM=a.hasM??!1,s):null}function nt(l,s,a){const h=function F(l,s,a,h){const x=[],R=c(a,h);for(let B=0;B<s.length;B++){const W=R(l,s[B]);W&&W.length>=2&&x.push(W)}return x.length?x:null}(N(l),a.paths,a.hasZ,a.hasM);return h?(s.paths=h,s.hasZ=a.hasZ??!1,s.hasM=a.hasM??!1,s):null}function mt(l,s,a,h=a?.hasZ??!1,x=a?.hasM??!1){if(null!=a){const R=N(l);s.points=y(h,x)(R,a.points),s.hasZ=h,s.hasM=x}return s}function at(l,s,a,h=null!=a?.z,x=null!=a?.m){if(null==a)return s;const R=N(l);return s.x=C(R,a.x),s.y=_(R,a.y),h&&(s.z=L(R,a.z)),x&&(s.m=f(R,a.m)),s}function ct(l,s,a,h=a?.hasZ??!1,x=a?.hasM??!1){if(null!=a){const R=N(l);s.rings=G(R,y(h,x),a.rings),s.hasZ=h,s.hasM=x}return s}function lt(l,s,a,h=a?.hasZ??!1,x=a?.hasM??!1){if(null!=a){const R=N(l);s.paths=G(R,y(h,x),a.paths),s.hasZ=h,s.hasM=x}return s}},95985:(rt,Q,u)=>{u.d(Q,{LQ:()=>v,ag:()=>c,pL:()=>i});var Z=u(31732),w=u(13682);const K=new w.A,N=new w.A,j=new w.A,m={esriGeometryPoint:Z.DF,esriGeometryPolyline:Z.BW,esriGeometryPolygon:Z.z5,esriGeometryMultipoint:Z.qK};function v(D,g,d,E=D.hasZ,F=D.hasM){if(null==g)return null;const C=D.hasZ&&E,_=D.hasM&&F;if(d){const L=(0,Z.Nl)(j,g,D.hasZ,D.hasM,"esriGeometryPoint",d,E,F);return(0,Z.DF)(L,C,_)}return(0,Z.DF)(g,C,_)}function i(D,g,d,E,F,C,_=g,L=d){const f=g&&_,y=d&&L,S=null!=E?"coords"in E?E:E.geometry:null;if(null==S)return null;if(F){let P=(0,Z.kz)(N,S,g,d,D,F,_,L);return C&&(P=(0,Z.Nl)(j,P,f,y,D,C)),m[D]?.(P,f,y)??null}if(C){const P=(0,Z.Nl)(j,S,g,d,D,C,_,L);return m[D]?.(P,f,y)??null}return(0,Z.Q4)(K,S,g,d,_,L),m[D]?.(K,f,y)??null}function c(D){return D&&M in D?JSON.parse(JSON.stringify(D,O)):D}const M="_geVersion",O=(D,g)=>D===M?void 0:g},88840:(rt,Q,u)=>{u.d(Q,{Cv:()=>F,Nk:()=>D,lK:()=>L});var Z=u(10467),w=u(89952),K=u(56492),N=u(13970),j=u(79915),m=u(58701),v=u(55039);const i=[0,0];function c(f,y){if(!y)return null;if("x"in y){const S={x:0,y:0};return[S.x,S.y]=f(y.x,y.y,i),null!=y.z&&(S.z=y.z),null!=y.m&&(S.m=y.m),S}if("xmin"in y){const S={xmin:0,ymin:0,xmax:0,ymax:0};return[S.xmin,S.ymin]=f(y.xmin,y.ymin,i),[S.xmax,S.ymax]=f(y.xmax,y.ymax,i),y.hasZ&&(S.zmin=y.zmin,S.zmax=y.zmax,S.hasZ=!0),y.hasM&&(S.mmin=y.mmin,S.mmax=y.mmax,S.hasM=!0),S}return"rings"in y?{rings:M(y.rings,f),hasM:y.hasM,hasZ:y.hasZ}:"paths"in y?{paths:M(y.paths,f),hasM:y.hasM,hasZ:y.hasZ}:"points"in y?{points:O(y.points,f),hasM:y.hasM,hasZ:y.hasZ}:null}function M(f,y){const S=[];for(const P of f)S.push(O(P,y));return S}function O(f,y){const S=[];for(const P of f){const V=y(P[0],P[1],[0,0]);S.push(V),P.length>2&&V.push(P[2]),P.length>3&&V.push(P[3])}return S}function D(f,y){return g.apply(this,arguments)}function g(){return(g=(0,Z.A)(function*(f,y){if(!f||!y)return;const S=Array.isArray(f)?f.map(P=>null!=P.geometry?P.geometry.spatialReference:null).filter(w.Ru):[f];yield(0,N.initializeProjection)(S.map(P=>({source:P,dest:y})))})).apply(this,arguments)}const d=c.bind(null,v.je),E=c.bind(null,v.tD);function F(f,y,S,P){if(!f)return null;if(S||(S=y,y=f.spatialReference),!(0,m.fn)(y)||!(0,m.fn)(S)||(0,m.aI)(y,S))return f;if((0,v.y7)(y,S)){const V=(0,m.K8)(S)?d(f):E(f);return V.spatialReference=S,V}return(0,N.projectMany)(j.g,[f],y,S,null,P)[0]}const _=new class C{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}push(y,S,P,V){var p=this;return(0,Z.A)(function*(){if(!y?.length||!S||!P||(0,m.aI)(S,P))return y;const G={geometries:y,inSpatialReference:S,outSpatialReference:P,geographicTransformation:V,resolve:(0,K.Tw)()};return p._jobs.push(G),p._timer??=setTimeout(p._process,10),G.resolve.promise})()}_process(){this._timer=null;const y=this._jobs.shift();if(!y)return;const{geometries:S,inSpatialReference:P,outSpatialReference:V,resolve:p,geographicTransformation:G}=y;(0,v.y7)(P,V)?(0,m.K8)(V)?p(S.map(d)):p(S.map(E)):p((0,N.projectMany)(j.g,S,P,V,G,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function L(f,y,S,P){return _.push(f,y,S,P)}},871:(rt,Q,u)=>{u.d(Q,{GC:()=>F,T2:()=>_,VY:()=>O,dO:()=>V,iJ:()=>d,v8:()=>D});var Z=u(10467),w=u(5922),K=u(49976),N=u(82663),j=u(13970),m=u(22442),v=u(61320),i=u(77098),c=u(58701),M=u(88840);const O=new K.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),D=Object.freeze({}),g="frequency";function d(p,G,$){return E.apply(this,arguments)}function E(){return(E=(0,Z.A)(function*(p,G,$){const A=p.bin;return A.onField&&(A.onField=A.onField.trim()),A.onExpression?.value&&(A.onExpression.value=A.onExpression.value.trim()),A.splitBy&&(A.splitBy.value&&(A.splitBy.value=A.splitBy.value.trim()),A.splitBy.outAlias&&(A.splitBy.outAlias=A.splitBy.outAlias.trim())),A.stackBy&&(A.stackBy.value&&(A.stackBy.value=A.stackBy.value.trim()),A.stackBy.outAlias&&(A.stackBy.outAlias=A.stackBy.outAlias.trim())),"normalizationField"in A.parameters&&A.parameters.normalizationField&&(A.parameters.normalizationField=A.parameters.normalizationField.trim()),p.outStatistics?.length||(p.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:g}]),F(p,G,$)})).apply(this,arguments)}function F(p,G,$){return C.apply(this,arguments)}function C(){return(C=(0,Z.A)(function*(p,G,$){const{outFields:A,orderByFields:T,groupByFieldsForStatistics:I,outStatistics:z}=p;if(A)for(let U=0;U<A.length;U++)A[U]=A[U].trim();if(T)for(let U=0;U<T.length;U++)T[U]=T[U].trim();if(I)for(let U=0;U<I.length;U++)I[U]=I[U].trim();if(z)for(let U=0;U<z.length;U++)z[U].onStatisticField&&(z[U].onStatisticField=z[U].onStatisticField.trim());return p.geometry&&!p.outSR&&(p.outSR=p.geometry.spatialReference),_(p,G,$)})).apply(this,arguments)}function _(p,G,$){return L.apply(this,arguments)}function L(){return L=(0,Z.A)(function*(p,G,$){if(!p)return null;let{where:A}=p;if(p.where=A=A?.trim(),(!A||/^1 *= *1$/.test(A)||G&&G===A)&&(p.where=null),!p.geometry)return p;let T=yield function S(p){return P.apply(this,arguments)}(p);if(p.distance=0,p.units=null,"esriSpatialRelEnvelopeIntersects"===p.spatialRel){const{spatialReference:I}=p.geometry;T=(0,m.HA)(T),T.spatialReference=I}if(T){yield(0,M.Nk)(T.spatialReference,$),T=function y(p,G){const $=p.spatialReference;return f(p,G)&&(0,v.ZC)(p)?{spatialReference:$,rings:[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]]}:p}(T,$);const I=(yield(0,i.el)((0,v.rS)(T)))[0];if(null==I)throw D;const z="quantizationParameters"in p&&p.quantizationParameters?.tolerance||"maxAllowableOffset"in p&&p.maxAllowableOffset||0,U=z&&f(T,$)?{densificationStep:8*z}:void 0,H=I.toJSON(),st=(0,M.Cv)(H,H.spatialReference,$,U);if(!st)throw D;st.spatialReference=$,p.geometry=st}return p}),L.apply(this,arguments)}function f(p,G){if(!p)return!1;const $=p.spatialReference;return((0,v.ZC)(p)||(0,v.Bi)(p)||(0,v.Rg)(p))&&!(0,c.aI)($,G)&&!(0,j.canProjectWithoutEngine)($,G)}function P(){return(P=(0,Z.A)(function*(p){const{distance:G,units:$}=p,A=p.geometry;if(null==G||"vertexAttributes"in A)return A;const T=A.spatialReference,I=$?O.fromJSON($):(0,N.Ij)(T),z=T&&((0,c.EA)(T)||(0,c.K8)(T))?A:yield(0,M.Nk)(T,c.KK).then(()=>(0,M.Cv)(A,c.KK)),U=yield Promise.all([u.e(2076),u.e(6771)]).then(u.bind(u,52839));yield U.load();const H=U.execute(z,G||1,{unit:I})??void 0;if(!H||!(0,v.Bi)(H)||0===H.rings.length)throw new w.A("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return H})).apply(this,arguments)}function V(p,G){return null==p?null:"string"==typeof p?G?new Date(`1970-01-01T${p}Z`).getTime():new Date(p).getTime():p instanceof Date?p.getTime():p}},18633:(rt,Q,u)=>{u.d(Q,{tC:()=>A,c0:()=>G,xt:()=>V});var Z=u(10467),w=u(5922),K=u(8190),N=u(62928),m=u(61320),v=u(58701);function i(T,I){return T?I?4:3:I?3:2}function O(T,I,z,U,H){if(!T)return!1;const st=i(I,z),{coords:J,lengths:q}=T;let nt=!1,it=0;for(const ot of q)nt=D(nt,J,st,it,ot,U,H),it+=ot*st;return nt}function D(T,I,z,U,H,st,J){let q=T,nt=U;for(let it=U,ot=U+H*z;it<ot;it+=z){nt=it+z,nt===ot&&(nt=U);const mt=I[it],at=I[it+1],lt=I[nt+1];(at<J&&lt>=J||lt<J&&at>=J)&&mt+(J-at)/(lt-at)*(I[nt]-mt)<st&&(q=!q)}return q}var g=u(31732),d=u(13682),E=u(95985),F=u(88840);const C="unsupported-query",_={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!1,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}},S={esriSpatialRelIntersects:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2076),u.e(7184)]).then(u.bind(u,87764)),esriSpatialRelContains:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(5451)]).then(u.bind(u,82503)),esriSpatialRelCrosses:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2076),u.e(1332)]).then(u.bind(u,83240)),esriSpatialRelDisjoint:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2350)]).then(u.bind(u,35626)),esriSpatialRelEnvelopeIntersects:null,esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2076),u.e(4870)]).then(u.bind(u,54114)),esriSpatialRelTouches:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2076),u.e(7415)]).then(u.bind(u,25083)),esriSpatialRelWithin:()=>Promise.all([u.e(3558),u.e(3037),u.e(4931),u.e(2076),u.e(1841)]).then(u.bind(u,82085)),esriSpatialRelRelation:null};function V(T,I,z,U,H){return p.apply(this,arguments)}function p(){return(p=(0,Z.A)(function*(T,I,z,U,H){if((0,m.Bi)(I)){if("esriGeometryPoint"===z&&("esriSpatialRelIntersects"===T||"esriSpatialRelContains"===T)){const J=(0,g.Ye)(new d.A,I,!1,!1);return q=>function c(T,I,z,U){return O(T,I,z,U.coords[0],U.coords[1])}(J,!1,!1,q)}if("esriGeometryMultipoint"===z){const J=(0,g.Ye)(new d.A,I,!1,!1);if("esriSpatialRelContains"===T)return q=>function M(T,I,z,U,H,st){const J=i(H,st),{coords:q,lengths:nt}=U;if(!nt)return!1;for(let it=0,ot=0;it<nt.length;it++,ot+=J)if(!O(T,I,z,q[ot],q[ot+1]))return!1;return!0}(J,!1,!1,q,U,H)}}if((0,m.ZC)(I)){if("esriGeometryPoint"===z&&("esriSpatialRelIntersects"===T||"esriSpatialRelContains"===T))return J=>(0,K.qz)(I,(0,E.pL)(z,U,H,J));if("esriGeometryMultipoint"===z&&"esriSpatialRelContains"===T)return J=>(0,K.rL)(I,(0,E.pL)(z,U,H,J));if("esriSpatialRelIntersects"===T){const J=function j(T){return"mesh"===T?N.xB:(0,N.xK)(T)}(z);return q=>J(I,(0,E.pL)(z,U,H,q))}}"esriSpatialRelEnvelopeIntersects"===T&&(T="esriSpatialRelIntersects");const st=yield function P(T){const I=S[T];if(null==I)throw new Error(`Cannot load unsupported spatial operator: ${T}`);return I()}(T);return J=>st.execute(I,(0,E.pL)(z,U,H,J))})).apply(this,arguments)}function G(T,I,z){return $.apply(this,arguments)}function $(){return($=(0,Z.A)(function*(T,I,z){const{spatialRel:U,geometry:H}=T;if(H){if(!function L(T){return null!=T&&!0===_.spatialRelationship[T]}(U))throw new w.A(C,"Unsupported query spatial relationship",{query:T});if((0,v.fn)(H.spatialReference)&&(0,v.fn)(z)){if(!function f(T){return null!=T&&!0===_.queryGeometry[(0,m.$B)(T)]}(H))throw new w.A(C,"Unsupported query geometry type",{query:T});if(!function y(T){return null!=T&&!0===_.layerGeometry[T]}(I))throw new w.A(C,"Unsupported layer geometry type",{query:T});if(T.outSR)return(0,F.Nk)(T.geometry?.spatialReference,T.outSR)}}})).apply(this,arguments)}function A(T){if((0,m.ZC)(T))return!0;if((0,m.Bi)(T)){for(const I of T.rings)if(5!==I.length||I[0][0]!==I[1][0]||I[0][0]!==I[4][0]||I[2][0]!==I[3][0]||I[0][1]!==I[3][1]||I[0][1]!==I[4][1]||I[1][1]!==I[2][1])return!1;return!0}return!1}},76980:(rt,Q,u)=>{u.d(Q,{I:()=>j,W:()=>K});var Z=u(10467),w=u(69690);function K(c,M){return N.apply(this,arguments)}function N(){return(N=(0,Z.A)(function*(c,M){if(!c)return null;const O=M.featureAdapter,{startTimeField:D,endTimeField:g}=c;let d=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY;if(D&&g)yield M.forEach(F=>{const C=O.getAttribute((0,w.zI)(F),D),_=O.getAttribute((0,w.zI)(F),g);null==C||isNaN(C)||(d=Math.min(d,C)),null==_||isNaN(_)||(E=Math.max(E,_))});else{const F=D||g;yield M.forEach(C=>{const _=O.getAttribute((0,w.zI)(C),F);null==_||isNaN(_)||(d=Math.min(d,_),E=Math.max(E,_))})}return{start:d,end:E}})).apply(this,arguments)}function j(c,M,O){if(!M||!c)return null;const{startTimeField:D,endTimeField:g}=c;if(!D&&!g)return null;const{start:d,end:E}=M;if(null===d&&null===E)return null;if(void 0===d&&void 0===E)return()=>!1;const F=O.getAttributeAsTimestamp?.bind(O)??O.getAttribute.bind(O);return D&&g?function m(c,M,O,D,g){return null!=D&&null!=g?d=>{const E=c(d,M),F=c(d,O);return(null==E||E<=g)&&(null==F||F>=D)}:null!=D?d=>{const E=c(d,O);return null==E||E>=D}:null!=g?d=>{const E=c(d,M);return null==E||E<=g}:void 0}(F,D,g,d,E):function v(c,M,O,D){return null!=O&&null!=D&&O===D?g=>c(g,M)===O:null!=O&&null!=D?g=>{const d=c(g,M);return null!=d&&d>=O&&d<=D}:null!=O?g=>{const d=c(g,M);return null!=d&&d>=O}:null!=D?g=>{const d=c(g,M);return null!=d&&d<=D}:void 0}(F,D||g,d,E)}},73258:(rt,Q,u)=>{u.d(Q,{A:()=>d});var Z=u(5922),w=u(71065),K=u(35150),N=u(60797),j=u(24098),m=u(86300),v=u(20543),i=u(22639),c=u(44549);const g=new Map;class d{static fromJSON(f){return new d(f.fields,f.timeZoneByFieldName)}static fromLayer(f){return new d(f.fields??[],_(f))}static fromLayerJSON(f){return new d(f.fields??[],_(f))}constructor(f=[],y){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=f||[],this._timeZoneByFieldName=y?new Map(y):null;const S=[];for(const P of this.fields){const V=P?.name,p=F(V);if(V&&p){const G=E(V);this._fieldsMap.set(V,P),this._fieldsMap.set(G,P),this._normalizedFieldsMap.set(p,P),S.push(`${G}:${P.type}:${this._timeZoneByFieldName?.get(V)}`),(0,m.vE)(P)?(this.dateFields.push(P),this._dateFieldsSet.add(P)):(0,m.WA)(P)&&(this._numericFieldsSet.add(P),this.numericFields.push(P)),(0,m.te)(P)||(0,m.Xz)(P)||(P.editable=null==P.editable||!!P.editable,P.nullable=null==P.nullable||!!P.nullable)}}S.sort(),this.uid=S.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const f of this.fields)(0,m.te)(f)||(0,m.Xz)(f)||f.nullable||void 0!==(0,m.lD)(f)||this._requiredFields.push(f)}return this._requiredFields}equals(f){return this.uid===f?.uid}has(f){return null!=this.get(f)}get(f){if(!f)return;let y=this._fieldsMap.get(f);return y||(y=this._fieldsMap.get(E(f))??this._normalizedFieldsMap.get(F(f)),y&&this._fieldsMap.set(f,y),y)}getTimeZone(f){const y=this.get(f&&"string"!=typeof f?f.name:f);return y?this._timeZoneByFieldName?this._timeZoneByFieldName.get(y.name):"date"===y.type||"esriFieldTypeDate"===y.type?(K.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new Z.A("getTimeZone:no-timezone-information",`no time zone information for field '${y.name}'`)),v.n$):C.has(y.type)?v.L5:null:null}getLuxonTimeZone(f){const y=this.getTimeZone(f);return y?y===v.L5?j.GB.instance:y===v.n$?c.mQ.utcInstance:(0,N.tE)(g,y,()=>c.oh.create(y)):null}isDateField(f){return this._dateFieldsSet.has(this.get(f))}isTimeOnlyField(f){return(0,m.OH)(this.get(f))}isNumericField(f){return this._numericFieldsSet.has(this.get(f))}normalizeFieldName(f){return this.get(f)?.name??void 0}toJSON(){return{fields:this.fields.map(f=>w.A.isSerializable(f)?f.toJSON():f),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function E(L){return L.trim().toLowerCase()}function F(L){return(0,m.rS)(L)?.toLowerCase()??""}const C=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function _(L){const f=new Map;if(!L.fields)return f;const y=!0===L.datesInUnknownTimezone,{timeInfo:S,editFieldsInfo:P}=L,V=(S?"startField"in S?S.startField:S.startTimeField:"")??"",p=(S?"endField"in S?S.endField:S.endTimeField:"")??"",G=function D(L){return"dateFieldsTimeZone"in L}(L)?L.dateFieldsTimeZone??null:L.dateFieldsTimeReference?(0,i.ZS)(L.dateFieldsTimeReference):null,$=P?function M(L){return"timeZone"in L}(P)?P.timeZone??G:P.dateFieldsTimeReference?(0,i.ZS)(P.dateFieldsTimeReference):G??v.n$:null,A=S?function O(L){return"timeZone"in L}(S)?S.timeZone??G:S.timeReference?(0,i.ZS)(S.timeReference):G:null,T=new Map([[E(P?.creationDateField??""),$],[E(P?.editDateField??""),$],[E(V),A],[E(p),A]]);for(const{name:I,type:z}of L.fields)if(C.has(z))f.set(I,v.L5);else if("date"!==z&&"esriFieldTypeDate"!==z)f.set(I,null);else if(y)f.set(I,v.L5);else{const U=T.get(E(I??""))??G;f.set(I,U)}return f}}}]);