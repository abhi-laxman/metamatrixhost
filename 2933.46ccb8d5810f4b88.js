"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2933],{50279:(Ue,we,w)=>{w.d(we,{x:()=>G});class G{}},48504:(Ue,we,w)=>{w.d(we,{a:()=>G});class G{constructor(a,T){this._moduleSingletons=a,this._syntaxModules=T}loadLibrary(a){if(null==this._syntaxModules)return null;const T=this._syntaxModules[a];return T?{syntax:T.script,uri:T.uri}:null}}},85925:(Ue,we,w)=>{w.d(we,{j:()=>_});var G=w(10467),Z=w(89563),a=w(55279),T=w(3108);class d{constructor(I){const z=this;z._keys=[],z._values=[],z.length=0,I&&I.forEach(C=>{z.set(C[0],C[1])})}entries(){return[].slice.call(this.keys().map((I,z)=>[I,this._values[z]]))}keys(){return[].slice.call(this._keys)}values(){return[].slice.call(this._values)}has(I){return this._keys.includes(I)}get(I){const z=this._keys.indexOf(I);return z>-1?this._values[z]:null}deepGet(I){if(!I?.length)return null;const z=(C,Y)=>null==C?null:Y.length?z(C instanceof d?C.get(Y[0]):C[Y[0]],Y.slice(1)):C;return z(this.get(I[0]),I.slice(1))}set(I,z){const C=this,Y=this._keys.indexOf(I);return Y>-1?C._values[Y]=z:(C._keys.push(I),C._values.push(z),C.length=C._values.length),this}sortedSet(I,z,C,Y){const X=this._keys.length,x=C||0,j=void 0!==Y?Y:X-1;if(0===X)return this._keys.push(I),this._values.push(z),this;if(I===this._keys[x])return this._values.splice(x,0,z),this;if(I===this._keys[j])return this._values.splice(j,0,z),this;if(I>this._keys[j])return this._keys.splice(j+1,0,I),this._values.splice(j+1,0,z),this;if(I<this._keys[x])return this._values.splice(x,0,z),this._keys.splice(x,0,I),this;if(x>=j)return this;const o=x+Math.floor((j-x)/2);return I<this._keys[o]?this.sortedSet(I,z,x,o-1):I>this._keys[o]?this.sortedSet(I,z,o+1,j):this}size(){return this.length}clear(){const I=this;return I._keys.length=I.length=I._values.length=0,this}delete(I){const z=this,C=z._keys.indexOf(I);return C>-1&&(z._keys.splice(C,1),z._values.splice(C,1),z.length=z._keys.length,!0)}forEach(I){this._keys.forEach((z,C)=>{I(this._values[C],z,C)})}map(I){return this.keys().map((z,C)=>I(this._values[C],z,C))}filter(I){const z=this;return z._keys.forEach((C,Y)=>{!1===I(z._values[Y],C,Y)&&z.delete(C)}),this}clone(){return new d(this.entries())}}class m{constructor(I=20){this._maxEntries=I,this._values=new d}delete(I){this._values.has(I)&&this._values.delete(I)}get(I){let z=null;return this._values.has(I)&&(z=this._values.get(I),this._values.delete(I),this._values.set(I,z)),z}put(I,z){if(this._values.size()>=this._maxEntries){const C=this._values.keys()[0];this._values.delete(C)}this._values.set(I,z)}}var oe=w(73874);class _{constructor(I){this.portalUri=I}normalizeModuleUri(I){const z=/^[a-z0-9A-Z]+(@[0-9]+\.[0-9]+\.[0-9]+)?([?|/].*)?$/gi,C=/(?<portalurl>.+)\/home\/item\.html\?id=(?<itemid>.+)$/gi,Y=/(?<portalurl>.+)\/sharing\/rest\/content\/users\/[a-zA-Z0-9]+\/items\/(?<itemid>.+)$/gi,se=/(?<portalurl>.+)\/sharing\/rest\/content\/items\/(?<itemid>.+)$/gi,X=/(?<itemid>.*)@(?<versionstring>[0-9]+\.[0-9]+\.[0-9]+)([?|/].*)?$/gi;if(I.startsWith("portal+")){let x=I.slice(7),j="",o=x,p=!1;for(const e of[C,se,Y]){const h=e.exec(x);if(null!==h){const l=h.groups;o=l.itemid,j=l.portalurl,p=!0;break}}if(!1===p){if(!z.test(x))throw new a.ps(a.B.UnsupportedUriProtocol,{uri:I});o=x,j=this.portalUri}o.includes("/")&&(o=o.split("/")[0]),o.includes("?")&&(o=o.split("?")[0]);let c="current";const g=X.exec(o);if(null!==g){const e=g.groups;o=e.itemid,c=e.versionstring}return x=new oe.A({url:j}).restUrl+"/content/items/"+o+"/resources/"+c+".arc",{url:x,scheme:"portal",uri:"PO:"+x}}if(I.startsWith("mock")){if("mock"===I)return{url:"",scheme:"mock",data:'\n      export var hello = 1;\n      export function helloWorld() {\n          return "Hello World " + hello;\n      }\n  ',uri:"mock"};const x=I.replace("mock:","");if(void 0!==_.mocks[x])return{url:"",scheme:"mock",data:_.mocks[x],uri:I}}throw new a.ps(a.B.UnrecognizedUri,{uri:I})}fetchModule(I){var z=this;return(0,G.A)(function*(){const C=_.cachedModules.getFromCache(I.uri);if(C)return C;const Y=z.fetchSource(I);_.cachedModules.addToCache(I.uri,Y);let se=null;try{se=yield Y}catch(X){throw _.cachedModules.removeFromCache(I.uri),X}return se})()}fetchSource(I){return(0,G.A)(function*(){if("portal"===I.scheme){const z=yield(0,Z.A)(I.url,{responseType:"text",query:{}});if(z.data)return(0,T.t)(z.data,[])}if("mock"===I.scheme)return(0,T.t)(I.data??"",[]);throw new a.ps(a.B.UnsupportedUriProtocol)})()}static create(I){return new _(I)}static getDefault(){return this._default??(_._default=_._moduleResolverFactory())}static set moduleResolverClass(I){this._moduleResolverFactory=I,this._default=null}}_.mocks={},_.cachedModules=new class E{constructor(I=20){this._maxEntries=I,this._cache=new m(this._maxEntries),this._layerMetadata=new m(this._maxEntries),this._serviceMetadata=new m(this._maxEntries),this._portalItems=new m(this._maxEntries),this._portalItemLayers=new m(this._maxEntries)}clear(){this._cache=new m(this._maxEntries),this._layerMetadata=new m(this._maxEntries),this._serviceMetadata=new m(this._maxEntries),this._portalItems=new m(this._maxEntries),this._portalItemLayers=new m(this._maxEntries)}addToCache(I,z){this._cache.put(I,z)}removeFromCache(I){this._cache.delete(I)}getFromCache(I){return this._cache.get(I)}getCachedLayerMetadata(I){return this._layerMetadata.get(I)}setCachedLayerMetadata(I,z){this._layerMetadata.put(I,z)}removeCachedLayerMetadata(I,z){this._layerMetadata.get(I)===z&&this._layerMetadata.delete(I)}getCachedServiceMetadata(I){return this._serviceMetadata.get(I)}setCachedServiceMetadata(I,z){this._serviceMetadata.put(I,z)}removeCachedServiceMetadata(I,z){this._serviceMetadata.get(I)===z&&this._serviceMetadata.delete(I)}getCachedPortalItem(I,z){return this._portalItems.get(`${z}:${I}`)}setCachedPortalItem(I,z,C){this._portalItems.put(`${z}:${I}`,C)}removeCachedPortalItem(I,z,C){const Y=`${z}:${I}`;this._portalItems.get(Y)===C&&this._portalItems.delete(Y)}getCachedPortalItemLayer(I,z){return this._portalItemLayers.get(`${z}:${I}`)}setCachedPortalItemLayer(I,z,C){this._portalItemLayers.put(`${z}:${I}`,C)}removeCachedPortalItemLayer(I,z,C){const Y=`${z}:${I}`;this._portalItemLayers.get(Y)===C&&this._portalItemLayers.delete(Y)}}(30),_._default=null,_._moduleResolverFactory=()=>{const F=oe.A.getDefault();return new _(F.url)}},45369:(Ue,we,w)=>{w.d(we,{A:()=>Z});var G=w(53787);class Z extends G.A{constructor(T){super(),this.declaredClass="esri.arcade.Portal",this.immutable=!1,this.setField("url",T),this.immutable=!0}}},84462:(Ue,we,w)=>{w.d(we,{A:()=>Z});var G=w(53787);class Z extends G.A{constructor(T,d,m,E,oe,_,F){super(),this.attachmentUrl=oe,this.declaredClass="esri.arcade.Attachment",this.immutable=!1,this.setField("id",T),this.setField("name",d),this.setField("contenttype",m),this.setField("size",E),this.setField("exifinfo",_),this.setField("keywords",F),this.immutable=!0}deepClone(){return new Z(this.field("id"),this.field("name"),this.field("contenttype"),this.field("size"),this.attachmentUrl,this.field("exifinfo")?.deepClone()??null,this.field("keywords"))}}},53787:(Ue,we,w)=>{w.d(we,{A:()=>_});var G=w(10467),Z=w(61299),a=w(59312),T=w(55279),d=w(42686),m=w(68643),E=w(68778);function oe(F,I,z=!1,C=!1){if(null==F)return null;if((0,E.Et)(F))return(0,d.t)(F);if((0,E.Lm)(F))return(0,d.e)(F);if((0,E.Kg)(F))return(0,d.f)(F);if((0,d.g)(F))return(0,d.h)(F,I);if((0,d.j)(F)||(0,d.k)(F))return F;if((0,E.cy)(F)){const se=[];for(const X of F)se.push(oe(X,I,z,C));return se}if(C&&(0,d.l)(F))return F;const Y=new _;Y.immutable=!1;for(const se of Object.keys(F)){const X=F[se];void 0!==X&&Y.setField(se,oe(X,I,z,C))}return Y.immutable=z,Y}class _{constructor(I){this.declaredClass="esri.arcade.Dictionary",this.plain=!1,this.immutable=!0,this.attributes=I instanceof _?I.attributes:I??{}}field(I){const z=I.toLowerCase(),C=this.attributes[I];if(void 0!==C)return C;for(const Y in this.attributes)if(Y.toLowerCase()===z)return this.attributes[Y];throw new T.D$(null,T.TX.FieldNotFound,null,{key:I})}setField(I,z){if(this.immutable)throw new T.D$(null,T.TX.Immutable,null);if((0,d.i)(z))throw new T.D$(null,T.TX.NoFunctionInDictionary,null);const C=I.toLowerCase();if(z instanceof Date&&(z=Z.lY.dateJSToArcadeDate(z)),void 0===this.attributes[I]){for(const Y in this.attributes)if(Y.toLowerCase()===C)return void(this.attributes[Y]=z);this.attributes[I]=z}else this.attributes[I]=z}hasField(I){const z=I.toLowerCase();if(void 0!==this.attributes[I])return!0;for(const C in this.attributes)if(C.toLowerCase()===z)return!0;return!1}keys(){let I=[];for(const z in this.attributes)I.push(z);return I=I.sort(),I}castToText(I=!1){return(0,d.c)(this.attributes,{useNumbersForDates:I})}static convertObjectToArcadeDictionary(I,z,C=!0,Y=!1){const se=new _;se.immutable=!1;for(const X in I){const x=I[X];void 0!==x&&se.setField(X.toString(),oe(x,z,C,Y))}return se.immutable=C,se}static convertJsonToArcade(I,z,C=!1,Y=!1){return oe(I,z,C,Y)}castAsJson(I=null){const z={};for(let C in this.attributes){const Y=this.attributes[C];void 0!==Y&&(I?.keyTranslate&&(C=I.keyTranslate(C)),z[C]=(0,d.a)(Y,I))}return z}castDictionaryValueAsJsonAsync(I,z,C,Y=null,se){return(0,G.A)(function*(){const X=yield(0,d.b)(C,Y,se);return I[z]=X,X})()}castAsJsonAsync(I=null,z=null){var C=this;return(0,G.A)(function*(){const Y={},se=[];for(let X in C.attributes){const x=C.attributes[X];z?.keyTranslate&&(X=z.keyTranslate(X)),void 0!==x&&((0,d.d)(x)||x instanceof m.A||x instanceof Z.lY?Y[X]=(0,d.a)(x,z):se.push(C.castDictionaryValueAsJsonAsync(Y,X,x,I,z)))}return se.length>0&&(yield Promise.all(se)),Y})()}deepClone(){const I=new _;I.immutable=!1;for(const z of this.keys())I.setField(z,(0,a.G)(this.field(z)));return I}}},63145:(Ue,we,w)=>{w.d(we,{A:()=>se});var G=w(10467),Z=w(61299),a=w(59312),T=w(53787),d=w(55279),m=w(42686),E=w(87875),oe=w(87257),_=w(29752),F=w(68643),I=w(61320),z=w(31732),C=w(73258),Y=w(68778);class se{constructor(){this.arcadeDeclaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._fieldTypesFixed=!0,this.fieldsIndex=null,this.contextTimeZone=null,this.immutable=!0,this._fieldsToFixDataTypes=null,this.immutable=!0}static createFromGraphic(x,j){const o=new se;return o.contextTimeZone=j??null,o._geometry=null!=x.geometry?x.geometry:null,o.attributes=null==x.attributes?{}:x.attributes,x._sourceLayer?(o._layer=x._sourceLayer,o._fieldTypesFixed=!1):x._layer?(o._layer=x._layer,o._fieldTypesFixed=!1):x.layer&&"fields"in x.layer?(o._layer=x.layer,o._fieldTypesFixed=!1):x.sourceLayer&&"fields"in x.sourceLayer&&(o._layer=x.sourceLayer,o._fieldTypesFixed=!1),o._layer&&!o._fieldTypesFixed&&(o.fieldsIndex=this.hydrateFieldsIndex(o._layer)),o}static createFromArcadeFeature(x){if(x instanceof se){const o=new se;return o._fieldTypesFixed=x._fieldTypesFixed,o.attributes=x.attributes,o._geometry=x._geometry,o._optimizedGeomDefinition=x._optimizedGeomDefinition,x._layer&&(o._layer=x._layer),o.fieldsIndex=x.fieldsIndex,o.contextTimeZone=x.contextTimeZone,o}const j={};for(const o of x.keys())j[o]=x.field(o);return se.createFromGraphicLikeObject(x.geometry(),j,x.fullSchema(),x.contextTimeZone)}static createFromOptimisedFeature(x,j,o){const p=new se;return p._geometry=x.geometry?{geometry:x.geometry}:null,p._optimizedGeomDefinition=o,p.attributes=x.attributes||{},p._layer=j,p._fieldTypesFixed=!1,p}static createFromArcadeDictionary(x,j){const o=new se;return o.attributes=x.field("attributes"),null!==o.attributes&&o.attributes instanceof T.A?(o.attributes=o.attributes.attributes,null===o.attributes&&(o.attributes={})):o.attributes={},o._geometry=x.field("geometry"),null!==o._geometry&&(o._geometry instanceof T.A?o._geometry=(0,E.E)(o._geometry,j):o._geometry instanceof F.A||(o._geometry=null)),o}static createFromGraphicLikeObject(x,j,o=null,p){const c=new se;return c.contextTimeZone=p??null,null===j&&(j={}),c.attributes=j,c._geometry=x??null,c._layer=o,c._layer&&(c._fieldTypesFixed=!1,c.fieldsIndex=this.hydrateFieldsIndex(c._layer)),c}static hydrateFieldsIndex(x){return null===x?null:(0,m.p)(x)?x.getFieldsIndex():x.fieldsIndex?x.fieldsIndex:C.A.fromLayerJSON({datesInUnknownTimezone:x.datesInUnknownTimezone,fields:x.fields,timeInfo:x.timeInfo,editFieldsInfo:x.editFieldsInfo,dateFieldsTimeReference:x.dateFieldsTimeReference??{timeZone:"UTC",respectsDaylightSaving:!1}})}repurposeFromGraphicLikeObject(x,j,o=null){null===j&&(j={}),this.attributes=j,this._geometry=x??null,this._layer=o,this._fieldTypesFixed=!this._layer}castToText(x=!1){!1===this._fieldTypesFixed&&this._fixFieldTypes();const j=(0,m.c)(this.attributes,{useNumbersForDates:x});return'{"geometry":'+(null===this.geometry()?"null":(0,m.s)(this.geometry()))+',"attributes":'+j+"}"}_fixFieldTypes(){if(this._fieldsToFixDataTypes&&this._fieldsToFixDataTypes?.length>0)return this._fixAllFields(this._fieldsToFixDataTypes),void(this._fieldTypesFixed=!0);const x=[],j=this._layer.fields;for(let o=0;o<j.length;o++){const p=j[o],{name:c,type:g}=p;switch(g){case"date":case"esriFieldTypeDate":x.push({field:c,dataType:"date"});break;case"date-only":case"esriFieldTypeDateOnly":x.push({field:c,dataType:"date-only"});break;case"time-only":case"esriFieldTypeTimeOnly":x.push({field:c,dataType:"time-only"});break;case"timestamp-offset":case"esriFieldTypeTimestampOffset":x.push({field:c,dataType:"timestamp-offset"})}}this._fieldsToFixDataTypes=x,x.length>0&&this._fixAllFields(x),this._fieldTypesFixed=!0}isUnknownDateTimeField(x){return"unknown"===this.fieldsIndex?.getTimeZone(x)}_fixAllFields(x){this.attributes={...this.attributes};const j=this.contextTimeZone??"system";for(let o=0;o<x.length;o++){const p=x[o].field,c=x[o].dataType;let g=this.attributes[p];if(void 0===g){for(const e in this.attributes)if(e.toLowerCase()===p.toLowerCase()){if(g=this.attributes[e],null!==g){if("time-only"===c){(0,m.k)(g)||(this.attributes[e]=_.k.fromReader(g.toString()));break}if("date-only"===c){(0,m.j)(g)||(this.attributes[e]=oe.n.fromReader(g.toString()));break}if("timestamp-offset"===c){(0,m.g)(g)||(this.attributes[e]=Z.lY.fromReaderAsTimeStampOffset(g.toString()));break}const h=this.isUnknownDateTimeField(e);g instanceof Date?this.attributes[e]=h?Z.lY.unknownDateJSToArcadeDate(g):Z.lY.dateJSAndZoneToArcadeDate(g,j):(0,m.g)(g)||(this.attributes[e]=h?Z.lY.unknownEpochToArcadeDate(g):Z.lY.epochToArcadeDate(g,j))}break}}else if(null!==g){if("time-only"===c){this.attributes[p]=(0,m.k)(g)?g:_.k.fromReader(g.toString());continue}if("date-only"===c){this.attributes[p]=(0,m.j)(g)?g:oe.n.fromReader(g.toString());continue}if("timestamp-offset"===c){this.attributes[p]=(0,m.g)(g)?g:Z.lY.fromReaderAsTimeStampOffset(g.toString());continue}const e=this.isUnknownDateTimeField(p);this.attributes[p]=(0,m.g)(g)?g:g instanceof Date?e?Z.lY.unknownDateJSToArcadeDate(g):Z.lY.dateJSAndZoneToArcadeDate(g,j):e?Z.lY.unknownEpochToArcadeDate(g):Z.lY.epochToArcadeDate(g,j)}}}geometry(){return null===this._geometry||this._geometry instanceof F.A||(this._optimizedGeomDefinition?(this._geometry=(0,I.rS)((0,z.zv)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM)),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,I.rS)(this._geometry)),this._geometry}field(x){this._fieldTypesFixed||this._fixFieldTypes();const j=this.attributes[x];if(void 0!==j)return j;const o=x.toLowerCase();for(const p in this.attributes)if(p.toLowerCase()===o)return this.attributes[p];if(this._hasFieldDefinition(o))return null;throw new d.D$(null,d.TX.FieldNotFound,null,{key:x})}_hasFieldDefinition(x){if(null===this._layer)return!1;for(let j=0;j<this._layer.fields.length;j++)if(this._layer.fields[j].name.toLowerCase()===x)return!0;return!1}setField(x,j){if(this.immutable)throw new d.D$(null,d.TX.Immutable,null);if(j instanceof Date&&(j=this.isUnknownDateTimeField(x)?Z.lY.unknownDateJSToArcadeDate(j):Z.lY.dateJSToArcadeDate(j)),!1===(0,m.d)(j))throw new d.D$(null,d.TX.TypeNotAllowedInFeature,null);const o=x.toLowerCase();if(void 0===this.attributes[x]){for(const p in this.attributes)if(p.toLowerCase()===o)return void(this.attributes[p]=j);this.attributes[x]=j}else this.attributes[x]=j}hasField(x){const j=x.toLowerCase();if(void 0!==this.attributes[x])return!0;for(const o in this.attributes)if(o.toLowerCase()===j)return!0;return!!this._hasFieldDefinition(j)}keys(){let x=[];const j={};for(const o in this.attributes)x.push(o),j[o.toLowerCase()]=1;if(null!==this._layer)for(let o=0;o<this._layer.fields.length;o++){const p=this._layer.fields[o];1!==j[p.name.toLowerCase()]&&x.push(p.name)}return x=x.sort(),x}static parseAttributesFromDictionary(x){const j={};for(const o in x.attributes){const p=x.attributes[o];if(!(0,m.d)(p))throw new d.D$(null,d.TX.InvalidParameter,null);j[o]=p}return j}static fromJson(x,j){let o=null;null!=x.geometry&&(o=(0,I.rS)(x.geometry));const p={};if(null!=x.attributes)for(const c in x.attributes){const g=x.attributes[c];if(null===g)p[c]=g;else{if(!((0,Y.Kg)(g)||(0,Y.Et)(g)||(0,Y.Lm)(g)||(0,m.g)(g)||(0,m.k)(g)||(0,m.j)(g)))throw new d.D$(null,d.TX.InvalidParameter,null);p[c]=g}}return se.createFromGraphicLikeObject(o,p,null,j??null)}fullSchema(){return this._layer}gdbVersion(){if(null===this._layer)return"";const x=this._layer.gdbVersion;return void 0===x?"":""===x&&this._layer.capabilities?.isVersioned?"SDE.DEFAULT":x}castAsJson(x){const j={attributes:{},geometry:!0===x?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null};for(const o in this.attributes){const p=this.attributes[o];void 0!==p&&(j.attributes[o]=(0,m.a)(p,x))}return j}castAsJsonAsync(x=null,j){var o=this;return(0,G.A)(function*(){return o.castAsJson(j)})()}}(0,a.y)(se)},61552:(Ue,we,w)=>{w.d(we,{CU:()=>d,UQ:()=>T,fF:()=>Z,o6:()=>a});var G=w(56492);class Z{constructor(){}}function a(m,E,oe){if(m instanceof Z&&!(m instanceof d)){const _=new d;return _.fn=m,_.parameterEvaluator=oe,_.context=E,_}return m}class T extends Z{constructor(E){super(),this.fn=E}createFunction(E){return(...oe)=>this.fn(E,{preparsed:!0,arguments:oe})}call(E,oe){return this.fn(E,oe)}marshalledCall(E,oe,_,F){return F(E,oe,(I,z,C)=>{C=C.map(se=>se instanceof Z&&!(se instanceof d)?a(se,E,F):se);const Y=this.call(_,{args:C});return(0,G.$X)(Y)?Y.then(se=>a(se,_,F)):Y})}}class d extends Z{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(E){return this.fn.createFunction(this.context)}call(E,oe){return this.fn.marshalledCall(E,oe,this.context,this.parameterEvaluator)}marshalledCall(E,oe,_){return this.fn.marshalledCall(E,oe,this.context,this.parameterEvaluator)}}},42970:(Ue,we,w)=>{w.d(we,{A:()=>G});class G{constructor(a=[]){this._elements=a}length(){return this._elements.length}get(a){return this._elements[a]}toArray(){return this.slice()}slice(a=0,T=this.length()){const d=[];for(let m=a;m<T;m++)d.push(this.get(m));return d}}},61223:(Ue,we,w)=>{w.d(we,{A:()=>a});var G=w(42970),Z=w(40056);class a extends G.A{constructor(d,m,E,oe,_){super(d),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=E,this._hasM=oe,this._spRef=m,this._cacheId=_}get(d){if(void 0===this._lazyPath[d]){const m=this._elements[d];if(void 0===m)return;this._lazyPath[d]=new Z.A(m,this._spRef,this._hasZ,this._hasM,this._cacheId,d)}return this._lazyPath[d]}equalityTest(d){return d===this||null!==d&&d instanceof a&&d.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},40056:(Ue,we,w)=>{w.d(we,{A:()=>a});var G=w(42970),Z=w(1749);class a extends G.A{constructor(d,m,E,oe,_,F){super(d),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=m,this._hasZ=E,this._hasM=oe,this._cacheId=_,this._partId=F}get(d){if(void 0===this._lazyPt[d]){const m=this._elements[d];if(void 0===m)return;const E=new Z.A(m[0],m[1],this._spRef);this._hasZ&&(E.z=m[2]),this._hasM&&(E.m=this._hasZ?m[3]:m[2]),E.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+d.toString(),this._lazyPt[d]=E}return this._lazyPt[d]}equalityTest(d){return d===this||null!==d&&d instanceof a&&d.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},73238:(Ue,we,w)=>{w.d(we,{Lf:()=>st,V0:()=>et,X$:()=>xe});var G=w(10467),Z=w(48234),a=w(50279),T=w(48504),d=w(56847),m=w(53787),E=w(55279),oe=w(63145),_=w(61552),F=w(42686),I=w(63829),z=w(78464),C=w(98745),Y=w(15099),se=w(39521),X=w(65266),x=w(82050),j=w(35154),o=w(61828),p=w(56492),c=w(68643),g=w(32034),e=w(68778);function O(r,s,b){try{return b(r,null,s.arguments)}catch(L){throw L}}function t(r,s){switch(s.type){case"AssignmentExpression":return function _e(r,s){const b=t(r,s.right);if("MemberExpression"===s.left.type){let Q;const y=t(r,s.left.object);return!0===s.left.computed?Q=t(r,s.left.property):(Q="'"+s.left.property.name+"'",v(s.left.property.name)),"lang.assignmember("+y+","+Q+",'"+s.operator+"',"+b+")"}const L=(0,Z.X)(s.left);if(v(L),null!==r.localScope){if(void 0!==r.localScope[L])return"lscope['"+L+"']=lang.assign("+b+",'"+s.operator+"', lscope['"+L+"'])";if(void 0!==r.localScope._SymbolsMap[L])return"lscope['"+r.localScope._SymbolsMap[L]+"']=lang.assign("+b+",'"+s.operator+"', lscope['"+r.localScope._SymbolsMap[L]+"'])"}if(void 0!==r.globalScope[L])return"gscope['"+L+"']=lang.assign("+b+",'"+s.operator+"', gscope['"+L+"'])";if(void 0!==r.globalScope._SymbolsMap[L])return"gscope['"+r.globalScope._SymbolsMap[L]+"']=lang.assign("+b+",'"+s.operator+"', gscope['"+r.globalScope._SymbolsMap[L]+"'])";if(null!==r.localScope){if(r.undeclaredGlobalsInFunctions.has(L))return"gscope[lang.chkAssig('"+r.undeclaredGlobalsInFunctions.get(L).manglename+"',runtimeCtx)]=lang.assign("+b+",'"+s.operator+"', gscope['"+r.undeclaredGlobalsInFunctions.get(L).manglename+"'])";const Q={manglename:ke(r),node:s.left};return r.undeclaredGlobalsInFunctions.set(L,Q),"gscope[lang.chkAssig('"+Q.manglename+"',runtimeCtx)]=lang.assign("+b+",'"+s.operator+"', gscope['"+Q.manglename+"'])"}throw new E.D$(r,E.TX.InvalidIdentifier,s)}(r,s);case"UpdateExpression":return function N(r,s){if("CallExpression"===s.argument.type)throw new E.mT(r,E.TX.NeverReach,s);let b;if("MemberExpression"===s.argument.type){const Q=t(r,s.argument.object);return!0===s.argument.computed?b=t(r,s.argument.property):(v(s.argument.property.name),b="'"+s.argument.property.name+"'"),"lang.memberupdate("+Q+","+b+",'"+s.operator+"',"+s.prefix+")"}const L=(0,Z.X)(s.argument);if(v(L),null!==r.localScope){if(void 0!==r.localScope[L])return"lang.update(lscope, '"+L+"','"+s.operator+"',"+s.prefix+")";if(void 0!==r.localScope._SymbolsMap[L])return"lang.update(lscope, '"+r.localScope._SymbolsMap[L]+"','"+s.operator+"',"+s.prefix+")"}if(void 0!==r.globalScope[L])return"lang.update(gscope, '"+L+"','"+s.operator+"',"+s.prefix+")";if(void 0!==r.globalScope._SymbolsMap[L])return"lang.update(gscope, '"+r.globalScope._SymbolsMap[L]+"','"+s.operator+"',"+s.prefix+")";if(null!==r.localScope){if(r.undeclaredGlobalsInFunctions.has(L))return"lang.update(gscope,lang.chkAssig( '"+r.undeclaredGlobalsInFunctions.get(L).manglename+"',runtimeCtx),'"+s.operator+"',"+s.prefix+")";const Q={manglename:ke(r),node:s.argument};return r.undeclaredGlobalsInFunctions.set(L,Q),"lang.update(gscope, lang.chkAssig('"+Q.manglename+"',runtimeCtx),'"+s.operator+"',"+s.prefix+")"}throw new E.D$(r,E.TX.InvalidIdentifier,s)}(r,s);case"TemplateLiteral":return function Ke(r,s){try{const b=[];let L=0;for(const Q of s.quasis)b.push(Q.value?JSON.stringify(Q.value.cooked):JSON.stringify("")),!1===Q.tail&&(b.push(s.expressions[L]?"lang.castString(lang.aCheck("+t(r,s.expressions[L])+", 'TemplateLiteral'))":""),L++);return"(["+b.join(",")+"]).join('')"}catch(b){throw b}}(r,s);case"Identifier":return function ye(r,s){try{const b=(0,Z.X)(s);if(v(b),null!==r.localScope){if(void 0!==r.localScope[b])return"lscope['"+b+"']";if(void 0!==r.localScope._SymbolsMap[b])return"lscope['"+r.localScope._SymbolsMap[b]+"']"}if(void 0!==r.globalScope[b])return"gscope['"+b+"']";if(void 0!==r.globalScope._SymbolsMap[b])return"gscope['"+r.globalScope._SymbolsMap[b]+"']";if(null!==r.localScope){if(r.undeclaredGlobalsInFunctions.has(b))return"gscope[lang.chkAssig('"+r.undeclaredGlobalsInFunctions.get(b).manglename+"',runtimeCtx)]";const L={manglename:ke(r),node:s};return r.undeclaredGlobalsInFunctions.set(b,L),"gscope[lang.chkAssig('"+L.manglename+"',runtimeCtx)]"}throw new E.mT(r,E.TX.InvalidIdentifier,s)}catch(b){throw b}}(r,s);case"MemberExpression":return function ge(r,s){try{let b;return!0===s.computed?b=t(r,s.property):(v(s.property.name),b="'"+s.property.name+"'"),"lang.member("+t(r,s.object)+","+b+")"}catch(b){throw b}}(r,s);case"Literal":return null==s.value?"null":JSON.stringify(s.value);case"CallExpression":return function pe(r,s){try{if("MemberExpression"===s.callee.type){let Q;!0===s.callee.computed?Q=t(r,s.callee.property):(v(s.callee.property.name),Q="'"+s.callee.property.name+"'");let y="[";for(let A=0;A<s.arguments.length;A++)A>0&&(y+=", "),y+=t(r,s.arguments[A]);return y+="]",r.isAsync?"(yield lang.callModuleFunction("+t(r,s.callee.object)+","+y+","+Q+",runtimeCtx))":"lang.callModuleFunction("+t(r,s.callee.object)+","+y+","+Q+",runtimeCtx)"}if("Identifier"!==s.callee.type)throw new E.mT(r,E.TX.FunctionNotFound,s);const b=(0,Z.X)(s.callee);if("iif"===b)return function Ee(r,s){try{if(3!==s.arguments.length)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);const b=Fe(r);return`${r.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${b} = ${t(r,s.arguments[0])};\n\n        if (${b} === true) {\n          return  ${t(r,s.arguments[1])};\n        }\n        else if (${b} === false) {\n          return ${t(r,s.arguments[2])};\n        }\n        else {\n          lang.error('ExecutionErrorCodes.BooleanConditionRequired');\n        }\n      ${r.isAsync?"})}()))":"}()"}`}catch(b){throw b}}(r,s);if("when"===b)return function Pe(r,s){try{if(s.arguments.length<3)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);if(s.arguments.length%2==0)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);const b=Fe(r);let L="var ";for(let Q=0;Q<s.arguments.length-1;Q+=2)L+=`${b} = lang.mustBoolean(${t(r,s.arguments[Q])}, runtimeCtx);\n      if (${b} === true ) {\n        return ${t(r,s.arguments[Q+1])}\n      }\n`;return`${r.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        ${L}\n        return ${t(r,s.arguments[s.arguments.length-1])}\n        ${r.isAsync?"})}()))":"}()"}`}catch(b){throw b}}(r,s);if("defaultvalue"===b)return function Se(r,s){try{if(s.arguments.length<2||s.arguments.length>3)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);const b=Fe(r),L=Fe(r);return 3===s.arguments.length?`${r.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n      var ${b} = ${t(r,s.arguments[0])};\n      var ${L} = ${t(r,s.arguments[1])};\n      ${b} = lang.getNestedOptionalValue(${b}, ${L});\n      return ${b} != null && ${b} !== "" ? ${b} : ${t(r,s.arguments[2])};\n      ${r.isAsync?"})}()))":"}()"}`:`${r.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${b} = ${t(r,s.arguments[0])};\n        if (${b} === null) {\n          return  ${t(r,s.arguments[1])};\n        }\n        if (${b} === "") {\n          return  ${t(r,s.arguments[1])};\n        }\n        if (${b} === undefined) {\n          return  ${t(r,s.arguments[1])};\n        }\n        return ${b};\n      ${r.isAsync?"})}()))":"}()"}`}catch(b){throw b}}(r,s);if("decode"===b)return function Ge(r,s){try{if(s.arguments.length<2)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);if(2===s.arguments.length)return`(${t(r,s.arguments[1])})`;if((s.arguments.length-1)%2==0)throw new E.mT(r,E.TX.WrongNumberOfParameters,s);const b=Fe(r),L=Fe(r);let Q="var ";for(let y=1;y<s.arguments.length-1;y+=2)Q+=`${L} = ${t(r,s.arguments[y])};\n      if (lang.binary(${L}, ${b}, "==") === true ) {\n        return ${t(r,s.arguments[y+1])}\n      }\n`;return`${r.isAsync?"(yield (function() { \n return lang.__awaiter(this, void 0, void 0, function* () {":"function() {"}\n        var ${b} = ${t(r,s.arguments[0])};\n        ${Q}\n        return ${t(r,s.arguments[s.arguments.length-1])}\n        ${r.isAsync?"})}()))":"}()"}`}catch(b){throw b}}(r,s);let L="";if(null!==r.localScope&&(void 0!==r.localScope[b]?L="lscope['"+b+"']":void 0!==r.localScope._SymbolsMap[b]&&(L="lscope['"+r.localScope._SymbolsMap[b]+"']")),""===L)if(void 0!==r.globalScope[b])L="gscope['"+b+"']";else if(void 0!==r.globalScope._SymbolsMap[b])L="gscope['"+r.globalScope._SymbolsMap[b]+"']";else if(null!==r.localScope)if(r.undeclaredGlobalsInFunctions.has(b))L="gscope[lang.chkAssig('"+r.undeclaredGlobalsInFunctions.get(b).manglename+"',runtimeCtx)]";else{const Q={manglename:ke(r),node:s.callee};r.undeclaredGlobalsInFunctions.set(b,Q),L="gscope[lang.chkAssig('"+Q.manglename+"',runtimeCtx)]"}if(""!==L){let Q="[";for(let y=0;y<s.arguments.length;y++)y>0&&(Q+=", "),Q+=t(r,s.arguments[y]);return Q+="]",r.isAsync?"(yield lang.callfunc("+L+","+Q+",runtimeCtx) )":"lang.callfunc("+L+","+Q+",runtimeCtx)"}throw new E.mT(r,E.TX.FunctionNotFound,s)}catch(b){throw b}}(r,s);case"UnaryExpression":return function ve(r,s){try{return"lang.unary("+t(r,s.argument)+",'"+s.operator+"')"}catch(b){throw b}}(r,s);case"BinaryExpression":return function je(r,s){try{return"lang.binary("+t(r,s.left)+","+t(r,s.right)+",'"+s.operator+"')"}catch(b){throw b}}(r,s);case"LogicalExpression":return function Me(r,s){try{if("AssignmentExpression"===s.left.type||"UpdateExpression"===s.left.type)throw new E.mT(r,E.TX.LogicalExpressionOnlyBoolean,s);if("AssignmentExpression"===s.right.type||"UpdateExpression"===s.right.type)throw new E.mT(r,E.TX.LogicalExpressionOnlyBoolean,s);if("&&"===s.operator||"||"===s.operator)return"(lang.logicalCheck("+t(r,s.left)+") "+s.operator+" lang.logicalCheck("+t(r,s.right)+"))";throw new E.mT(null,E.TX.LogicExpressionOrAnd,null)}catch(b){throw b}}(r,s);case"ArrayExpression":return function Oe(r,s){try{const b=[];for(let L=0;L<s.elements.length;L++)b.push("Literal"===s.elements[L].type?t(r,s.elements[L]):"lang.aCheck("+t(r,s.elements[L])+",'ArrayExpression')");return"["+b.join(",")+"]"}catch(b){throw b}}(r,s);case"ObjectExpression":return function U(r,s){let b="lang.dictionary([";for(let L=0;L<s.properties.length;L++){const Q=s.properties[L];let y;"Identifier"===Q.key.type?(v(Q.key.name),y="'"+Q.key.name+"'"):y=t(r,Q.key),L>0&&(b+=","),b+="lang.strCheck("+y+",'ObjectExpression'),lang.aCheck("+t(r,Q.value)+", 'ObjectExpression')"}return b+="])",b}(r,s);default:throw new E.mT(r,E.TX.Unrecognized,s)}}function f(r,s){switch(s.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclaration":return function q(r,s){const b=[];for(let L=0;L<s.declarations.length;L++)b.push(ae(r,s.declarations[L]));return b.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(r,s);case"BlockStatement":return Te(r,s);case"FunctionDeclaration":return function $(r,s){const b=(0,Z.X)(s.id);let L;v(b);let Q=!1;void 0!==r.globalScope[b]?L=b:void 0!==r.globalScope._SymbolsMap[b]?L=r.globalScope._SymbolsMap[b]:r.undeclaredGlobalsInFunctions.has(b)?(L=r.undeclaredGlobalsInFunctions.get(b).manglename,r.globalScope._SymbolsMap[b]=L,r.mangleMap[b]=L,r.undeclaredGlobalsInFunctions.delete(b),Q=!0):(L=ke(r),r.globalScope._SymbolsMap[b]=L,r.mangleMap[b]=L);const y={isAsync:r.isAsync,console:r.console,exports:r.exports,undeclaredGlobalsInFunctions:r.undeclaredGlobalsInFunctions,customfunctions:r.customfunctions,moduleFactory:r.moduleFactory,moduleFactoryMap:r.moduleFactoryMap,libraryResolver:r.libraryResolver,lrucache:r.lrucache,interceptor:r.interceptor,services:r.services,symbols:r.symbols,mangleMap:r.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:r.depthCounter,globalScope:r.globalScope};let A="new lang.UserDefinedCompiledFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let B=0;B<s.params.length;B++){const k=(0,Z.X)(s.params[B]);v(k);const V=ke(r);y.localScope._SymbolsMap[k]=V,y.mangleMap[k]=V,A+="lscope['"+V+"']=arguments["+B.toString()+"];\n"}return!0===r.isAsync?(A+="return lang.__awaiter(this, void 0, void 0, function* () {\n",A+=Te(y,s.body)+"\n return lastStatement; ",A+="});  }",A+=", runtimeCtx),"+s.params.length+")",A+="\n lastStatement = lc.voidOperation; \n"):(A+=Te(y,s.body)+"\n return lastStatement; }, runtimeCtx),"+s.params.length+")",A+="\n lastStatement = lc.voidOperation; \n"),Q?"gscope[lang.setAssig('"+L+"', runtimeCtx)]="+A:"gscope['"+L+"']="+A}(r,s);case"ImportDeclaration":return function Re(r,s){const b=(0,Z.X)(s.specifiers[0].local);v(b);const L=r.libraryResolver?.loadLibrary(b),Q=ke(r);void 0===r.moduleFactory[L.uri]&&(r.moduleFactory[L.uri]=function ot(r,s,b=!1){const L={isAsync:b,moduleFactory:s.moduleFactory,moduleFactoryMap:{},libraryResolver:new T.a(null,r.loadedModules),globalScope:ne(s.vars,b?P:be,s.customfunctions),customfunctions:s.customfunctions,localScope:null,mangleMap:{},undeclaredGlobalsInFunctions:new Map,depthCounter:{depth:1},exports:{},console:rt,lrucache:s.lrucache,timeZone:s.timeZone??null,interceptor:s.interceptor,services:s.services,symbols:{symbolCounter:0}};let Q=Te(L,r);""===Q&&(Q="lc.voidOperation; ");let y="";y=b?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+Q+"\n return lastStatement; }); } \n yield mainBody(); \n return this.prepareModule(runtimeCtx); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+Q+"\n return lastStatement; } \n mainBody(); \n return this.prepareModule(runtimeCtx); ";const A=L.moduleFactory,B=L.moduleFactoryMap,k=L.exports,V={};let de;for(de in k)V[de]=L.mangleMap[de]??de;const te={lc:F.v,lang:qe,mangles:L.mangleMap,prepareModule:ie=>new tt(ie),prepare(ie,le){let Ce=ie.spatialReference;null==Ce&&(Ce=new g.A({wkid:102100}));const Ne=ce(ie.vars,ie.customfunctions,le,ie.timeZone);return{localStack:[],isAsync:le,exports:k,exportmangle:V,gdefs:{},moduleFactory:A,moduleFactoryMap:B,moduleSingletons:ie.moduleSingletons,mangleMap:this.mangles,spatialReference:Ce,globalScope:Ne,abortSignal:null==ie.abortSignal?{aborted:!1}:ie.abortSignal,localScope:null,services:ie.services,console:ie.console??rt,lrucache:ie.lrucache,timeZone:ie.timeZone??null,interceptor:ie.interceptor,symbols:{symbolCounter:0},depthCounter:ie.depthCounter}}};return new Function("context","spatialReference",y).bind(te)}(L.syntax,{interceptor:r.interceptor,services:r.services,moduleFactory:r.moduleFactory,lrucache:r.lrucache,timeZone:r.timeZone??null,libraryResolver:r.libraryResolver,customfunctions:r.customfunctions,vars:{}},r.isAsync)),r.moduleFactoryMap[Q]=L.uri;let y,A="";return A=r.isAsync?"(yield lang.loadModule('"+Q+"', runtimeCtx) ); ":"lang.loadModule('"+Q+"', runtimeCtx); ",void 0!==r.globalScope[b]?"gscope['"+b+"']="+A:void 0!==r.globalScope._SymbolsMap[b]?"gscope['"+r.globalScope._SymbolsMap[b]+"']="+A:(r.undeclaredGlobalsInFunctions.has(b)?(y=r.undeclaredGlobalsInFunctions.get(b).manglename,r.undeclaredGlobalsInFunctions.delete(b)):y=ke(r),r.globalScope._SymbolsMap[b]=y,r.mangleMap[b]=y,"gscope[lang.setAssig('"+y+"', runtimeCtx)]="+A)}(r,s);case"ExportNamedDeclaration":return function u(r,s){const b=f(r,s.declaration);if("FunctionDeclaration"===s.declaration.type)r.exports[(0,Z.X)(s.declaration.id)]="function";else if("VariableDeclaration"===s.declaration.type)for(const L of s.declaration.declarations)r.exports[(0,Z.X)(L.id)]="variable";return b}(r,s);case"ReturnStatement":return function Xe(r,s){return null===s.argument?"return lc.voidOperation":"return "+t(r,s.argument)}(r,s);case"IfStatement":return Ie(r,s);case"ExpressionStatement":return function De(r,s){return"AssignmentExpression"===s.expression.type?"lastStatement = lc.voidOperation; "+t(r,s.expression)+"; \n ":"lastStatement = "+t(r,s.expression)+"; "}(r,s);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"ForStatement":return function ee(r,s){let b="lastStatement = lc.voidOperation; \n";null!==s.init&&(b+="VariableDeclaration"===s.init.type?f(r,s.init):t(r,s.init)+"; ");const L=Fe(r),Q=Fe(r);return b+="var "+L+" = true; ",b+="\n do { ",null!==s.update&&(b+=" if ("+L+"===false) {\n "+t(r,s.update)+"  \n}\n "+L+"=false; \n"),null!==s.test&&(b+="var "+Q+" = "+t(r,s.test)+"; ",b+="if ("+Q+"===false) { break; } else if ("+Q+"!==true) { lang.error('"+E.TX.BooleanConditionRequired+"');   }\n"),b+=f(r,s.body),null!==s.update&&(b+="\n "+t(r,s.update)),b+="\n"+L+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",b}(r,s);case"ForInStatement":return function K(r,s){const b=Fe(r);let L="var "+b+" = "+t(r,s.right)+";\n";"VariableDeclaration"===s.left.type&&(L+=f(r,s.left));const Q=(0,Z.X)("VariableDeclaration"===s.left.type?s.left.declarations[0].id:s.left);v(Q);let y="";null!==r.localScope&&(void 0!==r.localScope[Q]?y="lscope['"+Q+"']":void 0!==r.localScope._SymbolsMap[Q]&&(y="lscope['"+r.localScope._SymbolsMap[Q]+"']"));let A="";if(""===y)if(void 0!==r.globalScope[Q])y="gscope['"+Q+"']";else if(void 0!==r.globalScope._SymbolsMap[Q])y="gscope['"+r.globalScope._SymbolsMap[Q]+"']";else if(null!==r.localScope)if(r.undeclaredGlobalsInFunctions.has(Q))y="gscope['"+r.undeclaredGlobalsInFunctions.get(Q).manglename+"']",A=r.undeclaredGlobalsInFunctions.get(Q).manglename;else{const B={manglename:ke(r),node:s.left};r.undeclaredGlobalsInFunctions.set(Q,B),y="gscope['"+B.manglename+"']",A=B.manglename}return A&&(L+="lang.chkAssig('"+A+"',runtimeCtx); \n"),L+="if ("+b+"===null) {  lastStatement = lc.voidOperation; }\n ",L+="else if (lc.isArray("+b+") || lc.isString("+b+")) {\n",L+=H(r,y,`${b}.length`,s.body),L+="}\n",L+="else if (lc.isImmutableArray("+b+")) {\n",L+=H(r,y,`${b}.length()`,s.body),L+="}\n",L+="else if (( "+b+" instanceof lang.Dictionary) || lc.isDictionaryLike("+b+")) {\n",L+=R(r,y,`${b}.keys()`,s.body),L+="}\n",r.isAsync&&(L+="else if (lc.isFeatureSet("+b+")) {\n",L+=ue(r,y,b,s.body),L+="}\n"),L+=`else if (lc.isGeometry(${b})) {\n`,L+=R(r,y,`lang.getGeometryKeys(${b})`,s.body),L+="}\n",L+="else { lastStatement = lc.voidOperation; } \n",L}(r,s);case"ForOfStatement":return function J(r,s){const b=Fe(r);let L="var "+b+" = "+t(r,s.right)+";\n";"VariableDeclaration"===s.left.type&&(L+=f(r,s.left));const Q=(0,Z.X)("VariableDeclaration"===s.left.type?s.left.declarations[0].id:s.left);v(Q);let y="";null!==r.localScope&&(void 0!==r.localScope[Q]?y="lscope['"+Q+"']":void 0!==r.localScope._SymbolsMap[Q]&&(y="lscope['"+r.localScope._SymbolsMap[Q]+"']"));let A="";if(""===y)if(void 0!==r.globalScope[Q])y="gscope['"+Q+"']";else if(void 0!==r.globalScope._SymbolsMap[Q])y="gscope['"+r.globalScope._SymbolsMap[Q]+"']";else if(null!==r.localScope)if(r.undeclaredGlobalsInFunctions.has(Q))y="gscope['"+r.undeclaredGlobalsInFunctions.get(Q).manglename+"']",A=r.undeclaredGlobalsInFunctions.get(Q).manglename;else{const B={manglename:ke(r),node:s.left};r.undeclaredGlobalsInFunctions.set(Q,B),y="gscope['"+B.manglename+"']",A=B.manglename}return A&&(L+="lang.chkAssig('"+A+"',runtimeCtx); \n"),L+="if ("+b+"===null) {  lastStatement = lc.voidOperation; }\n ",L+="else if (lc.isArray("+b+") || lc.isString("+b+")) {\n",L+=H(r,y,`${b}.length`,s.body,(B,k)=>[`if (${k} >= ${b}.length) {`,`  lang.error('${E.TX.OutOfBounds}');`,"}",`${B} = ${b}[${k}];`].join("\n")),L+="}\n",L+="else if (lc.isImmutableArray("+b+")) {\n",L+=H(r,y,`${b}.length()`,s.body,(B,k)=>`${B} = ${b}.get(${k});`),L+="}\n",L+="else if (( "+b+" instanceof lang.Dictionary) || lc.isDictionaryLike("+b+")) {\n",L+=R(r,y,`${b}.keys()`,s.body,B=>`lang.entry(${B}, ${b}.field(${B}))`),L+="}\n",r.isAsync&&(L+="else if (lc.isFeatureSet("+b+")) {\n",L+=ue(r,y,b,s.body),L+="}\n"),L+=`else if (lc.isGeometry(${b})) {\n`,L+=R(r,y,`lang.getGeometryKeys(${b})`,s.body,B=>`lang.entry(${B}, lang.geometryMember(${b}, ${B}, runtimeCtx, null, 1))`),L+="}\n",L+="else { lastStatement = lc.voidOperation; } \n",L}(r,s);case"WhileStatement":return function re(r,s){let b="lastStatement = lc.voidOperation; \n";const L=Fe(r);return b+=`\n  var ${L} = true;\n    do {\n      ${L} = ${t(r,s.test)};\n      if (${L}==false) {\n        break;\n      }\n      if (${L}!==true) {\n        lang.error('${E.TX.BooleanConditionRequired}');\n      }\n      ${f(r,s.body)}\n    }\n    while (${L} !== false);\n    lastStatement = lc.voidOperation;\n  `,b}(r,s);default:throw new E.mT(r,E.TX.Unrecognized,s)}}function H(r,s,b,L,Q=((y,A)=>`${y} = ${A}`)){const y=Fe(r),A=Fe(r);return[`var ${y} = ${b};`,`for (var ${A} = 0; ${A} < ${y}; ${A}++) {`,`  ${Q(s,A)}`,`  ${f(r,L)}`,"}","lastStatement = lc.voidOperation;"].join("\n")}function R(r,s,b,L,Q=(y=>y)){const y=Fe(r),A=Fe(r);return[`var ${y} = ${b};`,`for (var ${A} of ${y}) {`,`  ${s} = ${Q(A)};`,`  ${f(r,L)}`,"}","lastStatement = lc.voidOperation;"].join("\n")}function ue(r,s,b,L){const Q=Fe(r);return[`var ${Q} = ${b}.iterator(runtimeCtx.abortSignal);`,`while ((${s} = lang.graphicToFeature(yield ${Q}.next(), ${b}, runtimeCtx)) != null) {`,`  ${f(r,L)}`,"}","lastStatement = lc.voidOperation;"].join("\n")}function Ae(r,s){return"BlockStatement"===s.type?f(r,s):"ReturnStatement"===s.type||"BreakStatement"===s.type||"ContinueStatement"===s.type?f(r,s)+"; ":"ExpressionStatement"===s.type?f(r,s):f(r,s)+"; "}function Ie(r,s){return`if (lang.mustBoolean(${t(r,s.test)}, runtimeCtx) === true) {\n    ${Ae(r,s.consequent)}\n  } `+(null!==s.alternate?"IfStatement"===s.alternate.type?" else "+Ie(r,s.alternate):` else {\n      ${Ae(r,s.alternate)}\n    }\n`:" else {\n      lastStatement = lc.voidOperation;\n    }\n")}function Te(r,s){let b="";for(let L=0;L<s.body.length;L++)"EmptyStatement"!==s.body[L].type&&(b+="ReturnStatement"===s.body[L].type||"BreakStatement"===s.body[L].type||"ContinueStatement"===s.body[L].type?f(r,s.body[L])+"; \n":f(r,s.body[L])+" \n");return b}function v(r){if("iif"===r)throw new E.O$;if("decode"===r)throw new E.O$;if("when"===r)throw new E.O$;if("defaultvalue"===r)throw new E.O$}function ae(r,s){const b=null===s.init?null:t(r,s.init),L=(0,Z.X)(s.id);if(v(L),null!==r.localScope){if(void 0!==r.localScope[L])return"lscope['"+L+"']="+b+"; ";if(void 0!==r.localScope._SymbolsMap[L])return"lscope['"+r.localScope._SymbolsMap[L]+"']="+b+"; ";const y=ke(r);return r.localScope._SymbolsMap[L]=y,r.mangleMap[L]=y,"lscope['"+y+"']="+b+"; "}if(void 0!==r.globalScope[L])return"gscope['"+L+"']="+b+"; ";if(void 0!==r.globalScope._SymbolsMap[L])return"gscope['"+r.globalScope._SymbolsMap[L]+"']="+b+"; ";if(r.undeclaredGlobalsInFunctions.has(L)){const y=r.undeclaredGlobalsInFunctions.get(L).manglename;return r.globalScope._SymbolsMap[L]=y,r.mangleMap[L]=y,r.undeclaredGlobalsInFunctions.delete(L),"gscope[lang.setAssig('"+y+"', runtimeCtx)]="+b+"; "}const Q=ke(r);return r.globalScope._SymbolsMap[L]=Q,r.mangleMap[L]=Q,"gscope['"+Q+"']="+b+"; "}const be={};function ke(r){return r.symbols.symbolCounter++,`_T${r.symbols.symbolCounter}`}function Fe(r){return r.symbols.symbolCounter++,`_Tvar${r.symbols.symbolCounter}`}(0,C.d)(be,O),(0,o.d)(be,O),(0,Y.d)(be,O,He),(0,x.d)(be,O),(0,se.d)(be,O),(0,j.d)(be,O),be.iif=function(r,s){try{return O(r,s,(b,L,Q)=>{throw new E.D$(r,E.TX.Unrecognized,s)})}catch(b){throw b}},be.decode=function(r,s){try{return O(r,s,(b,L,Q)=>{throw new E.D$(r,E.TX.Unrecognized,s)})}catch(b){throw b}},be.when=function(r,s){try{return O(r,s,(b,L,Q)=>{throw new E.D$(r,E.TX.Unrecognized,s)})}catch(b){throw b}},be.defaultvalue=function(r,s){try{return O(r,s,(b,L,Q)=>{throw new E.D$(r,E.TX.Unrecognized,s)})}catch(b){throw b}};const P={};for(const r in be)P[r]=new _.UQ(be[r]);(0,X.d)(be,O);for(const r in be)be[r]=new _.UQ(be[r]);const D=function(){};D.prototype=be;const S=function(){};function ne(r,s,b){const L={_SymbolsMap:{}};r||(r={}),b||(b={}),L.textformatting=1,L.infinity=1,L.pi=1;for(const Q in s)L[Q]=1;for(const Q in b)L[Q]=1;for(const Q in r)L[Q]=1;return L}function ce(r,s,b,L){const Q=b?new S:new D;r||(r={}),s||(s={});const y=new m.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});y.immutable=!1,Q._SymbolsMap={textformatting:1,infinity:1,pi:1},Q.textformatting=y,Q.infinity=Number.POSITIVE_INFINITY,Q.pi=Math.PI;for(const A in s)Q[A]=s[A],Q._SymbolsMap[A]=1;for(const A in r){const B=r[A];Q._SymbolsMap[A]=1,Q[A]=(0,e.DU)(B)?oe.A.createFromGraphic(B,L??null):B}return Q}function xe(r,s){const b={mode:s,compiled:!0,functions:{},signatures:[],standardFunction:O,standardFunctionAsync:O,evaluateIdentifier:He};for(let L=0;L<r.length;L++)r[L].registerFunctions(b);if("sync"===s){for(const L in b.functions)be[L]=new _.UQ(b.functions[L]),D.prototype[L]=be[L];for(let L=0;L<b.signatures.length;L++)(0,I.WC)(b.signatures[L],"sync")}else{for(const L in b.functions)P[L]=new _.UQ(b.functions[L]),S.prototype[L]=P[L];for(let L=0;L<b.signatures.length;L++)(0,I.WC)(b.signatures[L],"async")}}function He(r,s){const b=s.name;if("_SymbolsMap"===b)throw new E.D$(r,E.TX.InvalidIdentifier,null);if(r.localStack.length>0){const Q=r.localStack[r.localStack.length-1];if(!b.toLowerCase().startsWith("_t")&&void 0!==Q[b])return Q[b];const y=r.mangleMap[b];if(void 0!==y&&void 0!==Q[y])return Q[y]}if(!b.toLowerCase().startsWith("_t")&&void 0!==r.globalScope[b]||1===r.globalScope._SymbolsMap[b])return r.globalScope[b];const L=r.mangleMap[b];return void 0!==L?r.globalScope[L]:void 0}S.prototype=P,xe([z.A],"sync"),xe([z.A],"async");let ze=0;const qe={isNumber:r=>(0,e.Et)(r),isArray:r=>(0,e.cy)(r),isImmutableArray:r=>(0,F.m)(r),isDictionaryLike:r=>(0,F.z)(r),isString:r=>(0,e.Kg)(r),isDictionary:r=>(0,F.q)(r),isGeometry:r=>(0,F.l)(r),getGeometryKeys:r=>(0,d.T)(r),geometryMember:(r,s,b,L,Q=1)=>(0,d.Bl)(r,s,b,L,Q),error(r){throw new E.D$(null,r,null)},__awaiter:(r,s,b,L)=>new Promise((Q,y)=>{function A(V){try{k(L.next(V))}catch(de){y(de)}}function B(V){try{k(L.throw(V))}catch(de){y(de)}}function k(V){V.done?Q(V.value):V.value?.then?V.value.then(A,B):(ze++,ze%100==0?setTimeout(()=>{ze=0,A(V.value)},0):A(V.value))}k((L=L.apply(r,s||[])).next())}),functionDepthchecker:(r,s)=>function(){if(s.depthCounter.depth++,s.localStack.push({}),s.depthCounter.depth>64)throw new E.D$(null,E.TX.MaximumCallDepth,null);const b=r.apply(this,arguments);return(0,p.$X)(b)?b.then(L=>(s.depthCounter.depth--,s.localStack.length=s.localStack.length-1,L)):(s.depthCounter.depth--,s.localStack.length=s.localStack.length-1,b)},chkAssig(r,s){if(void 0===s.gdefs[r])throw new E.D$(s,E.TX.InvalidIdentifier,null);return r},mustBoolean(r,s){if(!0===r||!1===r)return r;throw new E.D$(s,E.TX.BooleanConditionRequired,null)},setAssig:(r,s)=>(s.gdefs[r]=1,r),castString:r=>(0,F.f)(r),aCheck(r,s){if((0,F.i)(r))throw new E.D$(null,"ArrayExpression"===s?E.TX.NoFunctionInArray:"ObjectExpression"===s?E.TX.NoFunctionInDictionary:E.TX.NoFunctionInTemplateLiteral,null);return r===F.w?null:r},Dictionary:m.A,Feature:oe.A,UserDefinedCompiledFunction:class h extends _.fF{constructor(s,b){super(),this.paramCount=b,this.fn=s}createFunction(s){return(...b)=>{if(b.length!==this.paramCount)throw new E.D$(s,E.TX.WrongNumberOfParameters,null);return this.fn(...b)}}call(s,b){return this.fn(...b.arguments)}marshalledCall(s,b,L,Q){return Q(s,b,(y,A,B)=>{B=B.map(V=>!(0,F.i)(V)||V instanceof _.CU?V:(0,_.o6)(V,s,Q));const k=this.call(L,{arguments:B});return(0,p.$X)(k)?k.then(V=>(0,_.o6)(V,L,Q)):k})}},dictionary(r){const s={},b=new Map;for(let Q=0;Q<r.length;Q+=2){if((0,F.i)(r[Q+1]))throw new E.D$(null,E.TX.NoFunctionInDictionary,null);if(!1===(0,e.Kg)(r[Q]))throw new E.D$(null,E.TX.KeyMustBeString,null);let y=r[Q].toString();const A=y.toLowerCase();b.has(A)?y=b.get(A):b.set(A,y),s[y]=r[Q+1]===F.w?null:r[Q+1]}const L=new m.A(s);return L.immutable=!1,L},entry:(r,s)=>new m.A({key:r,value:s}),strCheck(r){if(!1===(0,e.Kg)(r))throw new E.D$(null,E.TX.KeyMustBeString,null);return r},unary(r,s){if((0,e.Lm)(r)){if("!"===s)return!r;if("-"===s)return-1*(0,F.t)(r);if("+"===s)return 1*(0,F.t)(r);if("~"===s)return~(0,F.t)(r);throw new E.D$(null,E.TX.UnsupportedUnaryOperator,null)}if("-"===s)return-1*(0,F.t)(r);if("+"===s)return 1*(0,F.t)(r);if("~"===s)return~(0,F.t)(r);throw new E.D$(null,E.TX.UnsupportedUnaryOperator,null)},logicalCheck(r){if(!1===(0,e.Lm)(r))throw new E.D$(null,E.TX.LogicExpressionOrAnd,null);return r},logical(r,s,b){if((0,e.Lm)(r)&&(0,e.Lm)(s))switch(b){case"||":return r||s;case"&&":return r&&s;default:throw new E.D$(null,E.TX.LogicExpressionOrAnd,null)}throw new E.D$(null,E.TX.LogicExpressionOrAnd,null)},binary(r,s,b){switch(b){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,F.C)((0,F.t)(r),(0,F.t)(s),b);case"==":case"=":return(0,F.B)(r,s);case"!=":return!(0,F.B)(r,s);case"<":case">":case"<=":case">=":return(0,F.A)(r,s,b);case"+":return(0,e.Kg)(r)||(0,e.Kg)(s)?(0,F.f)(r)+(0,F.f)(s):(0,F.t)(r)+(0,F.t)(s);case"-":return(0,F.t)(r)-(0,F.t)(s);case"*":return(0,F.t)(r)*(0,F.t)(s);case"/":return(0,F.t)(r)/(0,F.t)(s);case"%":return(0,F.t)(r)%(0,F.t)(s);default:throw new E.D$(null,E.TX.UnsupportedOperator,null)}},assign(r,s,b){switch(s){case"=":return r===F.w?null:r;case"/=":return(0,F.t)(b)/(0,F.t)(r);case"*=":return(0,F.t)(b)*(0,F.t)(r);case"-=":return(0,F.t)(b)-(0,F.t)(r);case"+=":return(0,e.Kg)(b)||(0,e.Kg)(r)?(0,F.f)(b)+(0,F.f)(r):(0,F.t)(b)+(0,F.t)(r);case"%=":return(0,F.t)(b)%(0,F.t)(r);default:throw new E.D$(null,E.TX.UnsupportedOperator,null)}},update(r,s,b,L){const Q=(0,F.t)(r[s]);return r[s]="++"===b?Q+1:Q-1,!1===L?Q:"++"===b?Q+1:Q-1},graphicToFeature:(r,s,b)=>null===r?null:oe.A.createFromGraphicLikeObject(r.geometry,r.attributes,s,b.timeZone),memberupdate(r,s,b,L){let Q;if((0,e.cy)(r)){if(!(0,e.Et)(s))throw new E.D$(null,E.TX.ArrayAccessorMustBeNumber,null);if(s<0&&(s=r.length+s),s<0||s>=r.length)throw new E.D$(null,E.TX.OutOfBounds,null);Q=(0,F.t)(r[s]),r[s]="++"===b?Q+1:Q-1}else if(r instanceof m.A){if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.KeyAccessorMustBeString,null);if(!0!==r.hasField(s))throw new E.D$(null,E.TX.FieldNotFound,null,{key:s});Q=(0,F.t)(r.field(s)),r.setField(s,"++"===b?Q+1:Q-1)}else if((0,F.n)(r)){if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.KeyAccessorMustBeString,null);if(!0!==r.hasField(s))throw new E.D$(null,E.TX.FieldNotFound,null);Q=(0,F.t)(r.field(s)),r.setField(s,"++"===b?Q+1:Q-1)}else{if((0,F.m)(r))throw new E.D$(null,E.TX.Immutable,null);if(!(r instanceof tt))throw new E.D$(null,E.TX.InvalidIdentifier,null);if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.ModuleAccessorMustBeString,null);if(!0!==r.hasGlobal(s))throw new E.D$(null,E.TX.ModuleExportNotFound,null);Q=(0,F.t)(r.global(s)),r.setGlobal(s,"++"===b?Q+1:Q-1)}return!1===L?Q:"++"===b?Q+1:Q-1},assignmember(r,s,b,L){if((0,e.cy)(r)){if(!(0,e.Et)(s))throw new E.D$(null,E.TX.ArrayAccessorMustBeNumber,null);if(s<0&&(s=r.length+s),s<0||s>r.length)throw new E.D$(null,E.TX.OutOfBounds,null);if(s===r.length){if("="!==b)throw new E.D$(null,E.TX.OutOfBounds,null);r[s]=this.assign(L,b,r[s])}else r[s]=this.assign(L,b,r[s])}else if(r instanceof m.A){if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.KeyAccessorMustBeString,null);if(!0===r.hasField(s))r.setField(s,this.assign(L,b,r.field(s)));else{if("="!==b)throw new E.D$(null,E.TX.FieldNotFound,null);r.setField(s,this.assign(L,b,null))}}else if((0,F.n)(r)){if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.KeyAccessorMustBeString,null);if(!0===r.hasField(s))r.setField(s,this.assign(L,b,r.field(s)));else{if("="!==b)throw new E.D$(null,E.TX.FieldNotFound,null);r.setField(s,this.assign(L,b,null))}}else{if((0,F.m)(r))throw new E.D$(null,E.TX.Immutable,null);if(!(r instanceof tt))throw new E.D$(null,E.TX.InvalidIdentifier,null);if(!1===(0,e.Kg)(s))throw new E.D$(null,E.TX.ModuleAccessorMustBeString,null);if(!r.hasGlobal(s))throw new E.D$(null,E.TX.ModuleExportNotFound,null);r.setGlobal(s,this.assign(L,b,r.global(s)))}},member(r,s){if(null===r)throw new E.D$(null,E.TX.MemberOfNull,null);if(r instanceof m.A||(0,F.z)(r)){if((0,e.Kg)(s))return r.field(s);throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}if(r instanceof c.A){if((0,e.Kg)(s))return(0,d.Bl)(r,s,null,null);throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}if((0,e.cy)(r)){if((0,e.Et)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=r.length+s),s>=r.length||s<0)throw new E.D$(null,E.TX.OutOfBounds,null);return r[s]}throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}if((0,e.Kg)(r)){if((0,e.Et)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=r.length+s),s>=r.length||s<0)throw new E.D$(null,E.TX.OutOfBounds,null);return r[s]}throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}if((0,F.m)(r)){if((0,e.Et)(s)&&isFinite(s)&&Math.floor(s)===s){if(s<0&&(s=r.length()+s),s>=r.length()||s<0)throw new E.D$(null,E.TX.OutOfBounds,null);return r.get(s)}throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}if(r instanceof tt){if((0,e.Kg)(s))return r.global(s);throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)}throw new E.D$(null,E.TX.InvalidMemberAccessKey,null)},callfunc:(r,s,b)=>r.call(b,{arguments:s,preparsed:!0}),loadModule(r,s){const b=s.moduleFactoryMap[r];if(s.moduleSingletons[b])return s.moduleSingletons[b];const L=s.moduleFactory[b]({vars:{},moduleSingletons:s.moduleSingletons,depthCounter:s.depthCounter,console:s.console,abortSignal:s.abortSignal,isAsync:s.isAsync,services:s.services,lrucache:s.lrucache,timeZone:s.timeZone??null,interceptor:s.interceptor},s.spatialReference);return s.moduleSingletons[b]=L,L},callModuleFunction(r,s,b,L){if(!(r instanceof tt))throw new E.D$(null,E.TX.FunctionNotFound,null);const Q=r.global(b);if(!1===(0,F.i)(Q))throw new E.D$(null,E.TX.CallNonFunction,null);return Q.call(L,{preparsed:!0,arguments:s})},getNestedOptionalValue:(r,s)=>(0,d.jd)(r,s)};function rt(r){console.log(r)}function et(r,s,b=!1){null===s&&(s={vars:{},customfunctions:{}});let L=null;r.usesModules&&(L=new T.a(null,r.loadedModules));const Q={isAsync:b,globalScope:ne(s.vars,b?P:be,s.customfunctions),moduleFactory:{},moduleFactoryMap:{},undeclaredGlobalsInFunctions:new Map,customfunctions:s.customfunctions,libraryResolver:L,localScope:null,mangleMap:{},depthCounter:{depth:1},exports:{},console:rt,lrucache:s.lrucache,timeZone:s.timeZone??null,interceptor:s.interceptor,services:s.services,symbols:{symbolCounter:0}};let y=Te(Q,r);""===y&&(y="lc.voidOperation; "),Q.undeclaredGlobalsInFunctions.size>0&&Q.undeclaredGlobalsInFunctions.forEach(le=>{throw new E.mT(s,E.TX.InvalidIdentifier,le.node)});let A="";A=b?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+y+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+y+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const B=Q.moduleFactory,k=Q.moduleFactoryMap,V=Q.exports,de={};let te;for(te in V)de[te]=Q.mangleMap[te]??te;const ie={lc:F.v,lang:qe,mangles:Q.mangleMap,postProcess(le){if(le instanceof F.R&&(le=le.value),le instanceof F.I&&(le=le.value),le===F.w&&(le=null),le===F.x)throw new E.D$(null,E.TX.IllegalResult,null);if(le===F.y)throw new E.D$(null,E.TX.IllegalResult,null);if((0,F.i)(le))throw new E.D$(null,E.TX.IllegalResult,null);return le},prepare(le,Ce){let Ne=le.spatialReference;null==Ne&&(Ne=g.A.WebMercator);const We=ce(le.vars,le.customfunctions,Ce,le.timeZone);return{localStack:[],isAsync:Ce,moduleFactory:B,moduleFactoryMap:k,mangleMap:this.mangles,moduleSingletons:{},exports:V,gdefs:{},exportmangle:de,spatialReference:Ne,globalScope:We,abortSignal:null==le.abortSignal?{aborted:!1}:le.abortSignal,localScope:null,services:le.services,console:le.console??rt,lrucache:le.lrucache,timeZone:le.timeZone??null,interceptor:le.interceptor,symbols:{symbolCounter:0},depthCounter:{depth:1}}}};return new Function("context","spatialReference",A).bind(ie)}function st(){return it.apply(this,arguments)}function it(){return(it=(0,G.A)(function*(){return xe([yield w.e(1501).then(w.bind(w,83882))],"async"),!0})).apply(this,arguments)}class tt extends a.x{constructor(s){super(),this.moduleContext=s}hasGlobal(s){return void 0===this.moduleContext.exports[s]&&(s=s.toLowerCase()),void 0!==this.moduleContext.exports[s]}setGlobal(s,b){const L=this.moduleContext.globalScope,Q=s.toLowerCase();if((0,F.i)(b))throw new E.D$(null,E.TX.AssignModuleFunction,null);L[this.moduleContext.exportmangle[Q]]=b}global(s){const b=this.moduleContext.globalScope,L=s.toLowerCase(),Q=b[this.moduleContext.exportmangle[L]];if(void 0===Q)throw new E.D$(null,E.TX.InvalidIdentifier,null);if((0,F.i)(Q)&&!(Q instanceof _.CU)){const y=new _.CU;return y.fn=Q,y.parameterEvaluator=O,y.context=this.moduleContext,b[this.moduleContext.exportmangle[L]]=y,y}return Q}}},48234:(Ue,we,w)=>{w.d(we,{X:()=>Z});var G=w(55279);function Z(a){if("string"==typeof a)return a.toLowerCase();if("name"in a)return a.name.toLowerCase();if("string"!=typeof a.value)throw new G.D$(null,G.TX.InvalidIdentifier,null);return a.value.toLowerCase()}},64939:(Ue,we,w)=>{w.d(we,{HG:()=>Fe,X$:()=>ke});var G=w(48234),Z=w(50279),a=w(48504),T=w(56847),d=w(53787),m=w(55279),E=w(63145),oe=w(61552),_=w(42686),F=w(63829),I=w(78464),z=w(98745),C=w(15099),Y=w(39521),se=w(65266),X=w(82050),x=w(35154),j=w(61828),o=w(68643),p=w(32034),c=w(68778);class g extends oe.fF{constructor(D,S){super(),this.definition=D,this.context=S}createFunction(D){return(...S)=>{const ne={spatialReference:this.context.spatialReference,console:this.context.console,services:this.context.services,timeZone:this.context.timeZone??null,lrucache:this.context.lrucache,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:D.depthCounter.depth+1},globalScope:this.context.globalScope};if(ne.depthCounter.depth>64)throw new m.D$(D,m.TX.MaximumCallDepth,null);return Ee(this.definition,ne,S,null)}}call(D,S){return l(D,S,(ne,ce,he)=>{const xe={spatialReference:D.spatialReference,services:D.services,globalScope:D.globalScope,depthCounter:{depth:D.depthCounter.depth+1},libraryResolver:D.libraryResolver,exports:D.exports,timeZone:D.timeZone??null,console:D.console,lrucache:D.lrucache,interceptor:D.interceptor,localScope:{}};if(xe.depthCounter.depth>64)throw new m.D$(D,m.TX.MaximumCallDepth,S);return Ee(this.definition,xe,he,S)})}marshalledCall(D,S,ne,ce){return ce(D,S,(he,xe,Le)=>{const He={spatialReference:D.spatialReference,globalScope:ne.globalScope,services:D.services,depthCounter:{depth:D.depthCounter.depth+1},libraryResolver:D.libraryResolver,exports:D.exports,console:D.console,timeZone:D.timeZone??null,lrucache:D.lrucache,interceptor:D.interceptor,localScope:{}};return Le=Le.map(ze=>!(0,_.i)(ze)||ze instanceof oe.CU?ze:(0,oe.o6)(ze,D,ce)),(0,oe.o6)(Ee(this.definition,He,Le,S),ne,ce)})}}class e extends Z.x{constructor(D){super(),this.source=D}global(D){const S=this.executingContext.globalScope[(0,G.X)(D)];if((0,_.i)(S.value)&&!(S.value instanceof oe.CU)){const ne=new oe.CU;ne.fn=S.value,ne.parameterEvaluator=l,ne.context=this.executingContext,S.value=ne}return S.value}setGlobal(D,S){if((0,_.i)(S))throw new m.D$(null,m.TX.AssignModuleFunction,null);this.executingContext.globalScope[(0,G.X)(D)]={value:S}}hasGlobal(D){return void 0===this.executingContext.exports[D]&&(D=(0,G.X)(D)),void 0!==this.executingContext.exports[D]}loadModule(D){let S=D.spatialReference;null==S&&(S=new p.A({wkid:102100})),this.moduleScope=Pe({},D.customfunctions,D.timeZone),this.executingContext={spatialReference:S,globalScope:this.moduleScope,localScope:null,libraryResolver:new a.a(D.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},services:D.services,console:D.console??be,timeZone:D.timeZone??null,lrucache:D.lrucache,interceptor:D.interceptor,depthCounter:{depth:1}},De(this.executingContext,this.source.syntax)}}function l(P,D,S){try{return!0===D.preparsed?S(P,null,D.arguments):S(P,D,function h(P,D){const S=[];for(let ne=0;ne<D.arguments.length;ne++)S.push(O(P,D.arguments[ne]));return S}(P,D))}catch(ne){throw ne}}function O(P,D){try{switch(D.type){case"AssignmentExpression":return function N(P,D){if("MemberExpression"===D.left.type){const ce=O(P,D.left.object);let he;if(!0===D.left.computed)he=O(P,D.left.property);else{if("Identifier"!==D.left.property.type)throw new m.D$(P,m.TX.InvalidIdentifier,D);he=D.left.property.name}const xe=O(P,D.right);if((0,c.cy)(ce)){if(!(0,c.Et)(he))throw new m.D$(P,m.TX.ArrayAccessorMustBeNumber,D);if(he<0&&(he=ce.length+he),he<0||he>ce.length)throw new m.D$(P,m.TX.OutOfBounds,D);if(he===ce.length){if("="!==D.operator)throw new m.D$(P,m.TX.OutOfBounds,D);ce[he]=ee(xe,D.operator,ce[he],D,P)}else ce[he]=ee(xe,D.operator,ce[he],D,P)}else if(ce instanceof d.A){if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.KeyAccessorMustBeString,D);if(!0===ce.hasField(he))ce.setField(he,ee(xe,D.operator,ce.field(he),D,P));else{if("="!==D.operator)throw new m.D$(P,m.TX.FieldNotFound,D,{key:he});ce.setField(he,ee(xe,D.operator,null,D,P))}}else if((0,_.n)(ce)){if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.KeyAccessorMustBeString,D);if(!0===ce.hasField(he))ce.setField(he,ee(xe,D.operator,ce.field(he),D,P));else{if("="!==D.operator)throw new m.D$(P,m.TX.FieldNotFound,D,{key:he});ce.setField(he,ee(xe,D.operator,null,D,P))}}else{if((0,_.m)(ce))throw new m.D$(P,m.TX.Immutable,D);if(!(ce instanceof e))throw new m.D$(P,m.TX.InvalidIdentifier,D);if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.ModuleAccessorMustBeString,D);if(!0!==ce.hasGlobal(he))throw new m.D$(P,m.TX.ModuleExportNotFound,D);ce.setGlobal(he,ee(xe,D.operator,ce.global(he),D,P))}return _.w}const S=(0,G.X)(D.left),ne=O(P,D.right);if(null!=P.localScope&&void 0!==P.localScope[S])return P.localScope[S]={value:ee(ne,D.operator,P.localScope[S].value,D,P)},_.w;if(void 0!==P.globalScope[S])return P.globalScope[S]={value:ee(ne,D.operator,P.globalScope[S].value,D,P)},_.w;throw new m.D$(P,m.TX.InvalidIdentifier,D)}(P,D);case"UpdateExpression":return function J(P,D){if("CallExpression"===D.argument.type)throw new m.D$(P,m.TX.NeverReach,D);let S;if("MemberExpression"===D.argument.type){const ce=O(P,D.argument.object);let he;if(!0===D.argument.computed)he=O(P,D.argument.property);else{if("Identifier"!==D.argument.property.type)throw new m.D$(P,m.TX.Unrecognized,D);he=D.argument.property.name}if((0,c.cy)(ce)){if(!(0,c.Et)(he))throw new m.D$(P,m.TX.ArrayAccessorMustBeNumber,D);if(he<0&&(he=ce.length+he),he<0||he>=ce.length)throw new m.D$(P,m.TX.OutOfBounds,D);S=(0,_.t)(ce[he]),ce[he]="++"===D.operator?S+1:S-1}else if(ce instanceof d.A){if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.KeyAccessorMustBeString,D);if(!0!==ce.hasField(he))throw new m.D$(P,m.TX.FieldNotFound,D);S=(0,_.t)(ce.field(he)),ce.setField(he,"++"===D.operator?S+1:S-1)}else if((0,_.n)(ce)){if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.KeyAccessorMustBeString,D);if(!0!==ce.hasField(he))throw new m.D$(P,m.TX.FieldNotFound,D);S=(0,_.t)(ce.field(he)),ce.setField(he,"++"===D.operator?S+1:S-1)}else{if((0,_.m)(ce))throw new m.D$(P,m.TX.Immutable,D);if(!(ce instanceof e))throw new m.D$(P,m.TX.InvalidParameter,D);if(!1===(0,c.Kg)(he))throw new m.D$(P,m.TX.ModuleAccessorMustBeString,D);if(!0!==ce.hasGlobal(he))throw new m.D$(P,m.TX.ModuleExportNotFound,D);S=(0,_.t)(ce.global(he)),ce.setGlobal(he,"++"===D.operator?S+1:S-1)}return!1===D.prefix?S:"++"===D.operator?S+1:S-1}const ne=(0,G.X)(D.argument);if(null!=P.localScope&&void 0!==P.localScope[ne])return S=(0,_.t)(P.localScope[ne].value),P.localScope[ne]={value:"++"===D.operator?S+1:S-1},!1===D.prefix?S:"++"===D.operator?S+1:S-1;if(void 0!==P.globalScope[ne])return S=(0,_.t)(P.globalScope[ne].value),P.globalScope[ne]={value:"++"===D.operator?S+1:S-1},!1===D.prefix?S:"++"===D.operator?S+1:S-1;throw new m.D$(P,m.TX.InvalidIdentifier,D)}(P,D);case"TemplateLiteral":return function Oe(P,D){let S="",ne=0;for(const ce of D.quasis)S+=ce.value?ce.value.cooked:"",!1===ce.tail&&(S+=D.expressions[ne]?(0,_.f)(ve(O(P,D.expressions[ne]),P,D)):"",ne++);return S}(P,D);case"Identifier":return Ke(P,D);case"MemberExpression":return function v(P,D){try{const S=O(P,D.object);if(null===S)throw new m.D$(P,m.TX.MemberOfNull,D);if(!1===D.computed){if("Identifier"===D.property.type){if(S instanceof d.A||(0,_.z)(S))return S.field(D.property.name);if(S instanceof o.A)return(0,T.Bl)(S,D.property.name,P,D);if(S instanceof e){if(!S.hasGlobal(D.property.name))throw new m.D$(P,m.TX.InvalidIdentifier,D);return S.global(D.property.name)}}throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}let ne=O(P,D.property);if(S instanceof d.A||(0,_.z)(S)){if((0,c.Kg)(ne))return S.field(ne);throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}if(S instanceof e){if((0,c.Kg)(ne))return S.global(ne);throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}if(S instanceof o.A){if((0,c.Kg)(ne))return(0,T.Bl)(S,ne,P,D);throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}if((0,c.cy)(S)){if((0,c.Et)(ne)&&isFinite(ne)&&Math.floor(ne)===ne){if(ne<0&&(ne=S.length+ne),ne>=S.length||ne<0)throw new m.D$(P,m.TX.OutOfBounds,D);return S[ne]}throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}if((0,c.Kg)(S)){if((0,c.Et)(ne)&&isFinite(ne)&&Math.floor(ne)===ne){if(ne<0&&(ne=S.length+ne),ne>=S.length||ne<0)throw new m.D$(P,m.TX.OutOfBounds,D);return S[ne]}throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}if((0,_.m)(S)){if((0,c.Et)(ne)&&isFinite(ne)&&Math.floor(ne)===ne){if(ne<0&&(ne=S.length()+ne),ne>=S.length()||ne<0)throw new m.D$(P,m.TX.OutOfBounds,D);return S.get(ne)}throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}throw new m.D$(P,m.TX.InvalidMemberAccessKey,D)}catch(S){throw S}}(P,D);case"Literal":return D.value;case"CallExpression":return function je(P,D){try{if("MemberExpression"===D.callee.type){const ne=O(P,D.callee.object);if(!(ne instanceof e))throw new m.D$(P,m.TX.FunctionNotFound,D);const ce=!1===D.callee.computed?D.callee.property.name:O(P,D.callee.property);if(!ne.hasGlobal(ce))throw new m.D$(P,m.TX.FunctionNotFound,D);const he=ne.global(ce);if(!(0,_.i)(he))throw new m.D$(P,m.TX.CallNonFunction,D);return he.call(P,D)}if("Identifier"!==D.callee.type)throw new m.D$(P,m.TX.FunctionNotFound,D);const S=(0,G.X)(D.callee);if(null!=P.localScope&&void 0!==P.localScope[S]){const ne=P.localScope[S];if((0,_.i)(ne.value))return ne.value.call(P,D);throw new m.D$(P,m.TX.CallNonFunction,D)}if(void 0!==P.globalScope[S]){const ne=P.globalScope[S];if((0,_.i)(ne.value))return ne.value.call(P,D);throw new m.D$(P,m.TX.CallNonFunction,D)}throw new m.D$(P,m.TX.FunctionNotFound,D)}catch(S){throw S}}(P,D);case"UnaryExpression":return function $(P,D){try{const S=O(P,D.argument);if((0,c.Lm)(S)){if("!"===D.operator)return!S;if("-"===D.operator)return-1*(0,_.t)(S);if("+"===D.operator)return 1*(0,_.t)(S);if("~"===D.operator)return~(0,_.t)(S);throw new m.D$(P,m.TX.UnsupportedUnaryOperator,D)}if("~"===D.operator)return~(0,_.t)(S);if("-"===D.operator)return-1*(0,_.t)(S);if("+"===D.operator)return 1*(0,_.t)(S);throw new m.D$(P,m.TX.UnsupportedUnaryOperator,D)}catch(S){throw S}}(P,D);case"BinaryExpression":return function ae(P,D){try{const S=O(P,D.left),ne=O(P,D.right);switch(D.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,_.C)((0,_.t)(S),(0,_.t)(ne),D.operator);case"==":return(0,_.B)(S,ne);case"!=":return!(0,_.B)(S,ne);case"<":case">":case"<=":case">=":return(0,_.A)(S,ne,D.operator);case"+":return(0,c.Kg)(S)||(0,c.Kg)(ne)?(0,_.f)(S)+(0,_.f)(ne):(0,_.t)(S)+(0,_.t)(ne);case"-":return(0,_.t)(S)-(0,_.t)(ne);case"*":return(0,_.t)(S)*(0,_.t)(ne);case"/":return(0,_.t)(S)/(0,_.t)(ne);case"%":return(0,_.t)(S)%(0,_.t)(ne);default:throw new m.D$(P,m.TX.UnsupportedOperator,D)}}catch(S){throw S}}(P,D);case"LogicalExpression":return function ge(P,D){try{const S=O(P,D.left);if((0,c.Lm)(S))switch(D.operator){case"||":{if(!0===S)return S;const ne=O(P,D.right);if((0,c.Lm)(ne))return ne;throw new m.D$(P,m.TX.LogicExpressionOrAnd,D)}case"&&":{if(!1===S)return S;const ne=O(P,D.right);if((0,c.Lm)(ne))return ne;throw new m.D$(P,m.TX.LogicExpressionOrAnd,D)}default:throw new m.D$(P,m.TX.LogicExpressionOrAnd,D)}throw new m.D$(P,m.TX.LogicalExpressionOnlyBoolean,D)}catch(S){throw S}}(P,D);case"ArrayExpression":return function q(P,D){try{const S=[];for(let ne=0;ne<D.elements.length;ne++){const ce=O(P,D.elements[ne]);if((0,_.i)(ce))throw new m.D$(P,m.TX.NoFunctionInArray,D);S.push(ce===_.w?null:ce)}return S}catch(S){throw S}}(P,D);case"ObjectExpression":return function f(P,D){const S={},ne=new Map;for(let he=0;he<D.properties.length;he++){const xe=D.properties[he],Le="Identifier"===xe.key.type?xe.key.name:O(P,xe.key),He=O(P,xe.value);if((0,_.i)(He))throw new m.D$(P,m.TX.NoFunctionInDictionary,D);if(!1===(0,c.Kg)(Le))throw new m.D$(P,m.TX.KeyMustBeString,D);let ze=Le.toString();const qe=ze.toLowerCase();ne.has(qe)?ze=ne.get(qe):ne.set(qe,ze),S[ze]=He===_.w?null:He}const ce=new d.A(S);return ce.immutable=!1,ce}(P,D);default:throw new m.D$(P,m.TX.Unrecognized,D)}}catch(S){throw(0,m.Nh)(P,D,S)}}function t(P,D){switch(D.type){case"EmptyStatement":return _.w;case"VariableDeclaration":return Re(P,D);case"ImportDeclaration":return function Te(P,D){const S=(0,G.X)(D.specifiers[0].local),ne=P.libraryResolver.loadLibrary(S);let ce;return P.libraryResolver._moduleSingletons?.has(ne.uri)?ce=P.libraryResolver._moduleSingletons.get(ne.uri):(ce=new e(ne),ce.loadModule(P),P.libraryResolver._moduleSingletons?.set(ne.uri,ce)),P.globalScope[S]={value:ce},_.w}(P,D);case"ExportNamedDeclaration":return function Xe(P,D){if(t(P,D.declaration),"FunctionDeclaration"===D.declaration.type)P.exports[(0,G.X)(D.declaration.id)]="function";else if("VariableDeclaration"===D.declaration.type)for(const S of D.declaration.declarations)P.exports[(0,G.X)(S.id)]="variable";return _.w}(P,D);case"BlockStatement":return De(P,D);case"FunctionDeclaration":return function Ie(P,D){const S=(0,G.X)(D.id);return P.globalScope[S]={value:new g(D,P)},_.w}(P,D);case"ReturnStatement":return function Ae(P,D){if(null===D.argument)return new _.R(_.w);const S=O(P,D.argument);return new _.R(S)}(P,D);case"IfStatement":return function _e(P,D){const S=O(P,D.test);if(!0===S)return t(P,D.consequent);if(!1===S)return null!==D.alternate?t(P,D.alternate):_.w;throw new m.D$(P,m.TX.BooleanConditionRequired,D)}(P,D);case"ExpressionStatement":return function re(P,D){const S=O(P,D.expression);return S===_.w?_.w:new _.I(S)}(P,D);case"BreakStatement":return _.x;case"ContinueStatement":return _.y;case"ForStatement":return function R(P,D){null!==D.init&&("VariableDeclaration"===D.init.type?t(P,D.init):O(P,D.init));const S={testResult:!0,lastAction:_.w};do{K(P,D,S)}while(!0===S.testResult);return S.lastAction instanceof _.R?S.lastAction:_.w}(P,D);case"ForInStatement":return function U(P,D){const S=O(P,D.right);"VariableDeclaration"===D.left.type&&Re(P,D.left);const ne=(0,G.X)("VariableDeclaration"===D.left.type?D.left.declarations[0].id:D.left);let ce=null;if(null!=P.localScope&&void 0!==P.localScope[ne]&&(ce=P.localScope[ne]),null===ce&&void 0!==P.globalScope[ne]&&(ce=P.globalScope[ne]),null===ce)throw new m.D$(P,m.TX.InvalidIdentifier,D);if((0,c.cy)(S)||(0,c.Kg)(S)){const he=S.length;for(let xe=0;xe<he;xe++){ce.value=xe;const Le=t(P,D.body);if(Le===_.x)break;if(Le instanceof _.R)return Le}return _.w}if((0,_.m)(S)){for(let he=0;he<S.length();he++){ce.value=he;const xe=t(P,D.body);if(xe===_.x)break;if(xe instanceof _.R)return xe}return _.w}if(S instanceof d.A||(0,_.z)(S)){const he=S.keys();for(let xe=0;xe<he.length;xe++){ce.value=he[xe];const Le=t(P,D.body);if(Le===_.x)break;if(Le instanceof _.R)return Le}return _.w}if((0,_.l)(S)){for(const he of(0,T.T)(S)){ce.value=he;const xe=t(P,D.body);if(xe===_.x)break;if(xe instanceof _.R)return xe}return _.w}return _.w}(P,D);case"ForOfStatement":return function H(P,D){const S=O(P,D.right);"VariableDeclaration"===D.left.type&&t(P,D.left);const ne=(0,G.X)("VariableDeclaration"===D.left.type?D.left.declarations[0].id:D.left);let ce=null;if(null!=P.localScope&&void 0!==P.localScope[ne]&&(ce=P.localScope[ne]),null===ce&&void 0!==P.globalScope[ne]&&(ce=P.globalScope[ne]),null===ce)throw new m.D$(P,m.TX.InvalidIdentifier,D);if((0,c.cy)(S)||(0,c.Kg)(S)){const he=S.length;for(let xe=0;xe<he;xe++){if(xe>=S.length)throw new m.D$(P,m.TX.OutOfBounds,D);ce.value=S[xe];const Le=t(P,D.body);if(Le===_.x)break;if(Le instanceof _.R)return Le}return _.w}if((0,_.m)(S)){for(let he=0;he<S.length();he++){ce.value=S.get(he);const xe=t(P,D.body);if(xe===_.x)break;if(xe instanceof _.R)return xe}return _.w}if(S instanceof d.A||(0,_.z)(S)){for(const he of S.keys()){const xe=S.field(he);ce.value=new d.A({key:he,value:xe});const Le=t(P,D.body);if(Le===_.x)break;if(Le instanceof _.R)return Le}return _.w}if((0,_.l)(S)){for(const he of(0,T.T)(S)){const xe=(0,T.Bl)(S,he,P,D,1);ce.value=new d.A({key:he,value:xe});const Le=t(P,D.body);if(Le===_.x)break;if(Le instanceof _.R)return Le}return _.w}return _.w}(P,D);case"WhileStatement":return function ue(P,D){const S={testResult:!0,lastAction:_.w};if(S.testResult=O(P,D.test),!1===S.testResult)return _.w;if(!0!==S.testResult)throw new m.D$(P,m.TX.BooleanConditionRequired,D);for(;!0===S.testResult&&(S.lastAction=t(P,D.body),S.lastAction!==_.x)&&!(S.lastAction instanceof _.R);)if(S.testResult=O(P,D.test),!0!==S.testResult&&!1!==S.testResult)throw new m.D$(P,m.TX.BooleanConditionRequired,D);return S.lastAction instanceof _.R?S.lastAction:_.w}(P,D);default:throw new m.D$(P,m.TX.Unrecognized,D)}}function K(P,D,S){if(null!==D.test){if(S.testResult=O(P,D.test),!1===S.testResult)return;if(!0!==S.testResult)throw new m.D$(P,m.TX.BooleanConditionRequired,D)}S.lastAction=t(P,D.body),S.lastAction!==_.x?S.lastAction instanceof _.R?S.testResult=!1:null!==D.update&&O(P,D.update):S.testResult=!1}function ee(P,D,S,ne,ce){switch(D){case"=":return P===_.w?null:P;case"/=":return(0,_.t)(S)/(0,_.t)(P);case"*=":return(0,_.t)(S)*(0,_.t)(P);case"-=":return(0,_.t)(S)-(0,_.t)(P);case"+=":return(0,c.Kg)(S)||(0,c.Kg)(P)?(0,_.f)(S)+(0,_.f)(P):(0,_.t)(S)+(0,_.t)(P);case"%=":return(0,_.t)(S)%(0,_.t)(P);default:throw new m.D$(ce,m.TX.UnsupportedOperator,ne)}}function De(P,D){let S=_.w;for(let ne=0;ne<D.body.length;ne++)if(S=t(P,D.body[ne]),S instanceof _.R||S===_.x||S===_.y)return S;return S}function Re(P,D){for(let S=0;S<D.declarations.length;S++)u(P,D.declarations[S]);return _.w}function u(P,D){let S=null===D.init?null:O(P,D.init);if(S===_.w&&(S=null),"Identifier"!==D.id.type)throw new m.D$(P,m.TX.InvalidIdentifier,D);const ne=(0,G.X)(D.id);null!=P.localScope?P.localScope[ne]={value:S}:P.globalScope[ne]={value:S}}function ve(P,D,S){if((0,_.i)(P))throw new m.D$(D,m.TX.NoFunctionInTemplateLiteral,S);return P}function Ke(P,D){try{const S=(0,G.X)(D);if(null!=P.localScope&&void 0!==P.localScope[S])return P.localScope[S].value;if(void 0!==P.globalScope[S])return P.globalScope[S].value;throw new m.D$(P,m.TX.InvalidIdentifier,D)}catch(S){throw S}}const Me={};function ye(P,D,S,ne){try{const ce=D.arguments,he=O(P,ce[S]);if((0,_.B)(he,ne))return O(P,ce[S+1]);{const xe=ce.length-S;return 1===xe?O(P,ce[S]):2===xe?null:3===xe?O(P,ce[S+2]):ye(P,D,S+2,ne)}}catch(ce){throw ce}}function pe(P,D,S,ne){try{const ce=D.arguments;if(!0===ne)return O(P,ce[S+1]);if(ce.length-S==3)return O(P,ce[S+2]);{const he=O(P,ce[S+2]);if(!1===(0,c.Lm)(he))throw new m.D$(P,m.TX.BooleanConditionRequired,ce[S+2]);return pe(P,D,S+2,he)}}catch(ce){throw ce}}function Ee(P,D,S,ne){try{const ce=P.body;if(S.length!==P.params.length)throw new m.D$(D,m.TX.WrongNumberOfParameters,ne);if(null!=D.localScope)for(let xe=0;xe<S.length;xe++)D.localScope[(0,G.X)(P.params[xe])]={value:S[xe]};const he=t(D,ce);if(he instanceof _.R)return he.value;if(he===_.x)throw new m.D$(D,m.TX.UnexpectedToken,ne);if(he===_.y)throw new m.D$(D,m.TX.UnexpectedToken,ne);return he instanceof _.I?he.value:he}catch(ce){throw ce}}(0,z.d)(Me,l),(0,j.d)(Me,l),(0,C.d)(Me,l,Ke),(0,X.d)(Me,l),(0,Y.d)(Me,l),(0,x.d)(Me,l),(0,se.d)(Me,l),Me.iif=function(P,D){try{if(!0===D.preparsed)throw new m.D$(P,m.TX.NeverReach,D);const S=D.arguments;(0,_.D)(null===S?[]:S,3,3,P,D);const ne=O(P,S[0]);if(!1===(0,c.Lm)(ne))throw new m.D$(P,m.TX.BooleanConditionRequired,D);return O(P,!0===ne?S[1]:S[2])}catch(S){throw S}},Me.defaultvalue=function(P,D){try{if(!0===D.preparsed)throw new m.D$(P,m.TX.NeverReach,D);const S=D.arguments;(0,_.D)(null===S?[]:S,2,3,P,D);const ne=O(P,S[0]);if(3===S.length){const ce=O(P,S[1]),he=(0,T.jd)(ne,ce);return null!=he&&""!==he?he:O(P,S[2])}return null===ne||""===ne||void 0===ne?O(P,S[1]):ne}catch(S){throw S}},Me.decode=function(P,D){try{if(!0===D.preparsed)throw new m.D$(P,m.TX.NeverReach,D);const S=D.arguments;if(S.length<2)throw new m.D$(P,m.TX.WrongNumberOfParameters,D);if(2===S.length)return O(P,S[1]);if((S.length-1)%2==0)throw new m.D$(P,m.TX.WrongNumberOfParameters,D);return ye(P,D,1,O(P,S[0]))}catch(S){throw S}},Me.when=function(P,D){try{if(!0===D.preparsed)throw new m.D$(P,m.TX.NeverReach,D);const S=D.arguments;if(S.length<3)throw new m.D$(P,m.TX.WrongNumberOfParameters,D);if(S.length%2==0)throw new m.D$(P,m.TX.WrongNumberOfParameters,D);const ne=O(P,S[0]);if(!1===(0,c.Lm)(ne))throw new m.D$(P,m.TX.BooleanConditionRequired,S[0]);return pe(P,D,0,ne)}catch(S){throw S}};for(const P in Me)Me[P]={value:new oe.UQ(Me[P])};const Se=function(){};function Pe(P,D,S){const ne=new Se;P||(P={}),D||(D={});const ce=new d.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});ce.immutable=!1,ne.textformatting={value:ce};for(const he in D)ne[he]={value:new oe.UQ(D[he])};for(const he in P)ne[he]={value:(0,c.DU)(P[he])?E.A.createFromGraphic(P[he],S):P[he]};return ne}function be(P){console.log(P)}function ke(P){const D={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:l,evaluateIdentifier:Ke};for(let S=0;S<P.length;S++)P[S].registerFunctions(D);for(const S in D.functions)Me[S]={value:new oe.UQ(D.functions[S])},Se.prototype[S]=Me[S];for(let S=0;S<D.signatures.length;S++)(0,F.WC)(D.signatures[S],"sync")}function Fe(P,D){let S=D.spatialReference;null==S&&(S=new p.A({wkid:102100}));let ne=null;P.usesModules&&(ne=new a.a(new Map,P.loadedModules));const ce={spatialReference:S,globalScope:Pe(D.vars,D.customfunctions,D.timeZone),localScope:null,services:D.services,exports:{},libraryResolver:ne,console:D.console??be,timeZone:D.timeZone??null,lrucache:D.lrucache,interceptor:D.interceptor,depthCounter:{depth:1}},he=De(ce,P);if(he instanceof _.R||he instanceof _.I){const xe=he.value;if(xe===_.w)return null;if((0,_.i)(xe))throw new m.D$(ce,m.TX.IllegalResult,null);return xe}if(he===_.w)return null;throw new m.D$(ce,he===_.x||he===_.y?m.TX.IllegalResult:m.TX.NeverReach,null)}Se.prototype=Me,Se.prototype.infinity={value:Number.POSITIVE_INFINITY},Se.prototype.pi={value:Math.PI},ke([I.A])},56847:(Ue,we,w)=>{w.d(we,{Bl:()=>I,T:()=>_,jd:()=>z});var G=w(53787),Z=w(55279),a=w(61223),T=w(40056),d=w(42686),m=w(98877),E=w(68778);const oe={point:["hasZ","hasM","spatialReference","type","x","y","z","m"],multipoint:["hasZ","hasM","spatialReference","type","points"],polyline:["hasZ","hasM","spatialReference","type","paths"],polygon:["hasZ","hasM","spatialReference","type","rings"],extent:["hasZ","hasM","spatialReference","type","xmin","xmax","ymin","ymax","zmin","zmax","mmin","mmax"]};function _(C){return oe[C.type]}let F=0;function I(C,Y,se,X,x=1){let j;switch(Y=Y.toLowerCase()){case"hasz":{const o=C.hasZ;return void 0!==o&&o}case"hasm":{const o=C.hasM;return void 0!==o&&o}case"spatialreference":{let o=C.spatialReference._arcadeCacheId;if(void 0===o){let c=!0;m.A.isFrozen(C.spatialReference)&&(c=!1),c&&(F++,C.spatialReference._arcadeCacheId=F,o=F)}const p=new G.A({wkt:C.spatialReference.wkt,wkid:C.spatialReference.wkid});return void 0!==o&&(p._arcadeCacheId="SPREF"+o.toString()),p}}switch(C.type){case"extent":switch(Y){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const o=C[Y];return void 0!==o?o:null}case"type":return"Extent"}break;case"polygon":switch(Y){case"rings":return j=C.cache._arcadeCacheId,void 0===j&&(F++,j=F,C.cache._arcadeCacheId=j),new a.A(C.rings,C.spatialReference,!0===C.hasZ,!0===C.hasM,j);case"type":return"Polygon"}break;case"point":switch(Y){case"x":case"y":case"z":case"m":return C[Y]??null;case"type":return"Point"}break;case"polyline":switch(Y){case"paths":return j=C.cache._arcadeCacheId,void 0===j&&(F++,j=F,C.cache._arcadeCacheId=j),new a.A(C.paths,C.spatialReference,!0===C.hasZ,!0===C.hasM,j);case"type":return"Polyline"}break;case"multipoint":switch(Y){case"points":return j=C.cache._arcadeCacheId,void 0===j&&(F++,j=F,C.cache._arcadeCacheId=j),new T.A(C.points,C.spatialReference,!0===C.hasZ,!0===C.hasM,j,1);case"type":return"Multipoint"}}if(1===x)throw new Z.D$(se,Z.TX.InvalidIdentifier,X);return 2===x?{keystate:"notfound"}:null}function z(C,Y){let se,X=C;if(null==X)return null;if((0,E.cy)(Y))se=Y;else if((0,d.m)(Y))se=Y.toArray();else{if(null==Y)return null;se=[Y]}for(const x of se){if((0,d.z)(X)){if(!1===(0,E.Kg)(x)||!X.hasField(x))return null;X=X.field(x)}else if((0,d.l)(X)){if(!1===(0,E.Kg)(x))return null;X=I(X,x,null,null,0)}else if((0,E.cy)(X)){if(!1===(0,E.Et)(x))return null;X=x>=0?X[x]:X[X.length+x]}else{if(!(0,d.m)(X)||!1===(0,E.Et)(x))return null;X=X.get(x>=0?x:X.length()+x)}if(null==X)return null}return X}},59312:(Ue,we,w)=>{w.d(we,{G:()=>m,y:()=>T});var G=w(50279),Z=w(42686),a=w(68778);function T(E){d=E}let d;function m(E){return null===E?null:(0,Z.g)(E)?E.clone():(0,Z.d)(E)?E:(0,Z.l)(E)?E.clone():(0,Z.m)(E)?E.toArray().map(oe=>m(oe)):(0,a.cy)(E)?E.map(oe=>m(oe)):(0,Z.n)(E)?d.createFromArcadeFeature(E):(0,Z.o)(E)||(0,Z.p)(E)?E:(0,Z.q)(E)||"esri.arcade.Attachment"===E?.declaredClass?E.deepClone():("esri.arcade.Portal"===E?.declaredClass||(0,Z.r)(E)||E instanceof G.x||(0,Z.i)(E),E)}},29417:(Ue,we,w)=>{w.d(we,{BM:()=>T,E8:()=>z,G9:()=>oe,L5:()=>l,UX:()=>C,Uc:()=>h,Ws:()=>R,_j:()=>t,eb:()=>c,ln:()=>g,ux:()=>ue,x6:()=>d});var G=w(69287),a=(w(1749),w(62928));function T(K,J,ee){return Math.sqrt((K[0]-J[0])**2+(K[1]-J[1])**2+(void 0!==K[2]&&void 0!==J[2]?(K[2]*ee-J[2]*ee)**2:0))}function d(K,J,ee){return(K[0]-J[0])**2+(K[1]-J[1])**2+(void 0!==K[2]&&void 0!==J[2]?(K[2]*ee-J[2]*ee)**2:0)}const m=[];for(const K of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const J=K[0];for(let ee=1;ee<K.length;ee++)m[K[ee]]=J}const E=[];function oe(K){return K.vcsWkid&&void 0!==m[K.vcsWkid]?E[m[K.vcsWkid]]:K.latestVcsWkid&&void 0!==m[K.latestVcsWkid]?E[m[K.latestVcsWkid]]:1}function z(K,J,ee){const N=J[0]-K[0],re=J[1]-K[1];if(ee){const _e=J[2]-J[2];return Math.sqrt(N*N+re*re+_e*_e)}return Math.sqrt(N*N+re*re)}function C(K,J,ee){const N=J[0]-K[0],re=J[1]-K[1];if(ee){const _e=J[2]-J[2];return N*N+re*re+_e*_e}return N*N+re*re}function o(K,J,ee=0){for(;K<ee;)K+=J;const N=ee+J;for(;K>=N;)K-=J;return K}function p(K,J){return Math.atan2(J.y-K.y,J.x-K.x)}function c(K,J){return o(p(K,J),2*Math.PI)*(180/Math.PI)}function g(K,J){return o(Math.PI/2-p(K,J),2*Math.PI)*(180/Math.PI)}function e(K,J,ee){const N={x:K.x-J.x,y:K.y-J.y},re={x:ee.x-J.x,y:ee.y-J.y};return Math.atan2(function j(K,J){return K.x*J.y-J.x*K.y}(N,re),function x(K,J){return K.x*J.x+K.y*J.y}(N,re))}function h(K,J,ee){return(0,G.KJ)(o(e(K,J,ee),2*Math.PI))}function l(K,J,ee){return(0,G.KJ)(o(-1*e(K,J,ee),2*Math.PI))}E[9002]=.3048,E[9003]=.3048006096012192,E[9095]=.3048007491;const O=[0,0];function t(K){for(let J=0;J<K.length;J++){const ee=K[J];for(let re=0;re<ee.length-1;re++){const _e=ee[re],De=ee[re+1];for(let Ae=J+1;Ae<K.length;Ae++)for(let Ie=0;Ie<K[Ae].length-1;Ie++){const Te=K[Ae][Ie],Xe=K[Ae][Ie+1];if((0,a.Ql)(_e,De,Te,Xe,O)&&!(O[0]===_e[0]&&O[1]===_e[1]||O[0]===Te[0]&&O[1]===Te[1]||O[0]===De[0]&&O[1]===De[1]||O[0]===Xe[0]&&O[1]===Xe[1]))return!0}}const N=ee.length;if(!(N<3))for(let re=0;re<=N-2;re++){const _e=ee[re],De=ee[re+1];for(let Ae=re+2;Ae<=N-2;Ae++){const Ie=ee[Ae],Te=ee[Ae+1];if((0,a.Ql)(_e,De,Ie,Te,O)&&!(O[0]===_e[0]&&O[1]===_e[1]||O[0]===Ie[0]&&O[1]===Ie[1]||O[0]===De[0]&&O[1]===De[1]||O[0]===Te[0]&&O[1]===Te[1]))return!0}}}return!1}function R(K,J,ee){const N=[ee[0]-J[0],ee[1]-J[1],ee[2]-J[2]],re=function f(K,J,ee){return Math.max(J,Math.min(ee,K))}(function U(K,J){return K[0]*J[0]+K[1]*J[1]+K[2]*J[2]}(N,[K[0]-J[0],K[1]-J[1],K[2]-J[2]])/function H(K){return K[0]*K[0]+K[1]*K[1]+K[2]*K[2]}(N),0,1);return[J[0]+(ee[0]-J[0])*re,J[1]+(ee[1]-J[1])*re,J[2]+(ee[2]-J[2])*re]}function ue(K,J,ee){let N=0;const re=ee[0]-J[0],_e=ee[1]-J[1],De=re*re+_e*_e;return 0===De?N=.5:(N=((K[0]-J[0])*re+(K[1]-J[1])*_e)/De,N<0?N=0:N>1&&(N=1)),N<=.5?[J[0]+(ee[0]-J[0])*N,J[1]+(ee[1]-J[1])*N]:[ee[0]-(ee[0]-J[0])*(1-N),ee[1]-(ee[1]-J[1])*(1-N)]}},98745:(Ue,we,w)=>{w.d(we,{d:()=>X});var G=w(61299),Z=w(55279),a=w(42686),T=w(87257),d=w(29752),m=w(88996),E=w(44549),oe=w(68778);const I=[0,31,59,90,120,151,181,212,243,273,304,334],z=[0,31,60,91,121,152,182,213,244,274,305,335];function C(x){return null===x?x:!1===x.isValid?null:x}function Y(x,j){return""===x||"default"===x.toLowerCase().trim()?(0,a.K)(j):"z"===x||"Z"===x?"UTC":x}function se(x,j){return(0,a.j)(x)?x.toArcadeDate():(0,a.h)(x,(0,a.K)(j))}function X(x,j){x.today=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,0,0,o,p);const h=new Date;return h.setHours(0,0,0,0),G.lY.dateJSAndZoneToArcadeDate(h,(0,a.K)(o))})},x.time=function(o,p){return j(o,p,(c,g,e)=>{switch((0,a.D)(e,0,4,o,p),e.length){case 0:{const h=G.lY.nowToArcadeDate((0,a.K)(o));return new d.k(h.hour,h.minute,h.second,h.millisecond)}case 1:{if((0,a.k)(e[0]))return e[0].clone();if((0,a.g)(e[0]))return new d.k(e[0].hour,e[0].minute,e[0].second,e[0].millisecond);if((0,a.j)(e[0]))return new d.k(0,0,0,0);if((0,oe.Kg)(e[0]))return d.k.fromString(e[0]);const h=(0,a.t)(e[0]);return!1===isNaN(h)?d.k.fromMilliseconds(h):null}case 2:return(0,oe.Kg)(e[0])&&(0,oe.Kg)(e[1])?d.k.fromString(e[0],e[1]):d.k.fromParts((0,a.t)(e[0]),(0,a.t)(e[1]),0,0);case 3:return d.k.fromParts((0,a.t)(e[0]),(0,a.t)(e[1]),(0,a.t)(e[2]),0);case 4:return d.k.fromParts((0,a.t)(e[0]),(0,a.t)(e[1]),(0,a.t)(e[2]),(0,a.t)(e[3]))}throw new Z.D$(o,Z.TX.InvalidParameter,p)})},x.dateonly=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,0,3,o,p),3===e.length)return T.n.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]));if(2===e.length){const h=(0,a.f)(e[1]);return""===h?null:"X"===h?T.n.fromSeconds((0,a.t)(e[0])):"x"===h?T.n.fromMilliseconds((0,a.t)(e[0])):T.n.fromString((0,a.f)(e[0]),h)}if(1===e.length){if((0,oe.Kg)(e[0])){if(""===e[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(e[0]))return T.n.fromString(e[0]+"-01-01")}if((0,a.j)(e[0]))return e[0].clone();if((0,a.g)(e[0]))return T.n.fromParts(e[0].year,e[0].monthJS+1,e[0].day);const h=(0,a.t)(e[0]);return!1===isNaN(h)?T.n.fromMilliseconds(h):(0,oe.Kg)(e[0])?T.n.fromString(e[0]):null}if(0===e.length){const h=G.lY.nowToArcadeDate((0,a.K)(o));return!1===h.isValid?null:T.n.fromParts(h.year,h.monthJS+1,h.day)}return null})},x.changetimezone=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,2,2,o,p),null===e[0])return null;if((0,a.j)(e[0]))throw new Z.D$(o,Z.TX.CannotChangeTimeZoneDateOnly,p);if((0,a.j)(e[0]))throw new Z.D$(o,Z.TX.CannotChangeTimeZoneTime,p);const h=(0,a.h)(e[0],(0,a.K)(o));if(null===h)throw new Z.D$(o,Z.TX.InvalidParameter,p);const l=(0,G.mT)(Y((0,a.f)(e[1]),o),!1);if(null===l)return null;const O=G.lY.arcadeDateAndZoneToArcadeDate(h,l);return!1===O.isValid?null:O})},x.timezone=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,1,2,o,p),(0,a.k)(e[0])||(0,a.j)(e[0]))return"Unknown";const h=(0,a.h)(e[0],(0,a.K)(o));if(null===h)return null;const l=h.timeZone;return"system"===l?G.lY.systemTimeZoneCanonicalName:"utc"===l.toLowerCase()?"UTC":"unknown"===l.toLowerCase()?"Unknown":l})},x.timezoneoffset=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?null:60*h.timeZoneOffset*1e3})},x.now=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,0,0,o,p);const h=G.lY.nowToArcadeDate((0,a.K)(o));return!1===h.isValid?null:h})},x.timestamp=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,0,0,o,p);const h=G.lY.nowUTCToArcadeDate();return!1===h.isValid?null:h})},x.toutc=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?null:h.toUTC()})},x.tolocal=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?null:h.toLocal()})},x.day=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.day})},x.month=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.monthJS})},x.year=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.year})},x.hour=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,1,1,o,p),(0,a.k)(e[0]))return e[0].hour;const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?NaN:h.hour})},x.second=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,1,1,o,p),(0,a.k)(e[0]))return e[0].second;const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?NaN:h.second})},x.millisecond=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,1,1,o,p),(0,a.k)(e[0]))return e[0].millisecond;const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?NaN:h.millisecond})},x.minute=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,1,1,o,p),(0,a.k)(e[0]))return e[0].minute;const h=(0,a.h)(e[0],(0,a.K)(o));return null===h?NaN:h.minute})},x.week=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,2,o,p);const h=se(e[0],(0,a.K)(o));if(null===h)return NaN;const l=(0,a.t)((0,a.J)(e[1],0));if(l<0||l>6)throw new Z.D$(o,Z.TX.InvalidParameter,p);const U=h.dayOfWeekJS,H=function _(x,j,o){return x+(function F(x){return x%4==0&&(x%100!=0||x%400==0)}(o)?z:I)[j]}(h.day,h.monthJS,h.year)-1,R=Math.floor(H/7);return U-l+(U-l<0?7:0)<H-7*R?R+1:R})},x.weekday=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.dayOfWeekJS})},x.isoweekday=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.dayOfWeekISO})},x.isomonth=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.monthISO})},x.isoweek=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.weekISO})},x.isoyear=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,1,1,o,p);const h=se(e[0],(0,a.K)(o));return null===h?NaN:h.yearISO})},x.date=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,0,8,o,p),3===e.length){if((0,a.j)(e[0])&&(0,a.k)(e[1])&&(0,oe.Kg)(e[2])){const h=(0,G.mT)(Y((0,a.f)(e[2])??"unknown",o),!1);return null===h?null:C(G.lY.fromParts(e[0].year,e[0].month,e[0].day,e[1].hour,e[1].minute,e[1].second,e[1].millisecond,h))}return C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),0,0,0,0,(0,a.K)(o)))}if(4===e.length)return C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),(0,a.t)(e[3]),0,0,0,(0,a.K)(o)));if(5===e.length)return C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),(0,a.t)(e[3]),(0,a.t)(e[4]),0,0,(0,a.K)(o)));if(6===e.length)return C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),(0,a.t)(e[3]),(0,a.t)(e[4]),(0,a.t)(e[5]),0,(0,a.K)(o)));if(7===e.length)return C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),(0,a.t)(e[3]),(0,a.t)(e[4]),(0,a.t)(e[5]),(0,a.t)(e[6]),(0,a.K)(o)));if(8===e.length){const h=(0,G.mT)(Y((0,a.f)(e[7])??"unknown",o),!1);return null===h?null:C(G.lY.fromParts((0,a.t)(e[0]),(0,a.t)(e[1])+1,(0,a.t)(e[2]),(0,a.t)(e[3]),(0,a.t)(e[4]),(0,a.t)(e[5]),(0,a.t)(e[6]),h))}if(2===e.length){if((0,a.j)(e[0])&&(0,oe.Kg)(e[1])){const O=(0,G.mT)(Y((0,a.f)(e[1])??"unknown",o),!1);return null===O?null:C(G.lY.fromParts(e[0].year,e[0].month,e[0].day,0,0,0,0,O))}if((0,a.j)(e[0])&&(0,a.k)(e[1]))return C(G.lY.fromParts(e[0].year,e[0].month,e[0].day,e[1].hour,e[1].minute,e[1].second,e[1].millisecond,"unknown"));let h,l=(0,a.f)(e[1]);return""===l?null:(l=(0,a.M)(l,!0),h="X"===l?E.c9.fromSeconds((0,a.t)(e[0])):"x"===l?E.c9.fromMillis((0,a.t)(e[0])):E.c9.fromFormat((0,a.f)(e[0]),l,{locale:(0,m.JK)(),numberingSystem:"latn"}),h.isValid?G.lY.dateTimeToArcadeDate(h):null)}if(1===e.length){if((0,a.j)(e[0]))return C(G.lY.fromParts(e[0].year,e[0].month,e[0].day,0,0,0,0,"unknown"));if((0,oe.Kg)(e[0])){if(""===e[0].replaceAll(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(e[0]))return(0,a.h)(e[0]+"-01-01",(0,a.K)(o))}const h=(0,a.t)(e[0]);if(!1===isNaN(h)){const l=E.c9.fromMillis(h);return l.isValid?G.lY.dateTimeAndZoneToArcadeDate(l,(0,a.K)(o)):null}return(0,a.h)(e[0],(0,a.K)(o))}return 0===e.length?G.lY.nowToArcadeDate((0,a.K)(o)):null})},x.datediff=function(o,p){return j(o,p,(c,g,e)=>{if((0,a.D)(e,2,4,o,p),(0,a.k)(e[0]))return(0,a.k)(e[1])?e[0].difference(e[1],(0,a.f)(e[2])):NaN;if((0,a.k)(e[1]))return NaN;if((0,a.j)(e[0]))return(0,a.j)(e[1])?e[0].difference(e[1],(0,a.f)(e[2])):NaN;if((0,a.j)(e[1]))return NaN;let h=(0,a.h)(e[0],(0,a.K)(o)),l=(0,a.h)(e[1],(0,a.K)(o));if(null===h||null===l)return NaN;let O=(0,a.J)(e[3],"");switch(""!==O&&null!==O?(O=Y((0,a.f)(O),o),h=G.lY.arcadeDateAndZoneToArcadeDate(h,O),l=G.lY.arcadeDateAndZoneToArcadeDate(l,O)):h.timeZone!==l.timeZone&&(h.isUnknownTimeZone?h=G.lY.arcadeDateAndZoneToArcadeDate(h,l.timeZone):l=G.lY.arcadeDateAndZoneToArcadeDate(l,h.timeZone)),(0,a.f)(e[2]).toLowerCase()){case"days":case"day":case"d":return h.diff(l,"days");case"months":case"month":return h.diff(l,"months");case"minutes":case"minute":case"m":return h.diff(l,"M"===e[2]?"months":"minutes");case"seconds":case"second":case"s":return h.diff(l,"seconds");case"milliseconds":case"millisecond":case"ms":default:return h.diff(l);case"hours":case"hour":case"h":return h.diff(l,"hours");case"years":case"year":case"y":return h.diff(l,"years")}})},x.dateadd=function(o,p){return j(o,p,(c,g,e)=>{(0,a.D)(e,2,3,o,p);let h=(0,a.t)(e[1]);if(isNaN(h)||h===1/0||h===-1/0)return(0,a.k)(e[0])||(0,a.j)(e[0])?e[0].clone():(0,a.h)(e[0],(0,a.K)(o));let l="milliseconds";switch((0,a.f)(e[2]).toLowerCase()){case"days":case"day":case"d":l="days",h=(0,a.j)(e[0])?h:(0,a.N)(h);break;case"months":case"month":l="months",h=(0,a.j)(e[0])?h:(0,a.N)(h);break;case"minutes":case"minute":case"m":l="M"===e[2]?"months":"minutes";break;case"seconds":case"second":case"s":l="seconds";break;case"milliseconds":case"millisecond":case"ms":l="milliseconds";break;case"hours":case"hour":case"h":l="hours";break;case"years":case"year":case"y":l="years"}if((0,a.k)(e[0])||(0,a.j)(e[0]))return e[0].plus(l,h);const O=(0,a.h)(e[0],(0,a.K)(o));return null===O?null:O.plus({[l]:h})})}}},15099:(Ue,we,w)=>{w.d(we,{d:()=>z});var G=w(53787),Z=w(55279),a=w(63145),T=w(42686),d=w(7981),m=w(16924),E=w(1329),oe=w(68778);function _(C){const Y=C?.fullSchema();return Y?.datesInUnknownTimezone?"unknown":Y?.dateFieldsTimeZone||"UTC"}function F(C){const Y=C.fullSchema()?.fieldsIndex;return null==Y&&C instanceof a.A?C.fieldsIndex:Y}const I={getAttributeSQL(C,Y){const se=C.field(Y);if(null==se)return se;if((0,T.g)(se)){const X=se.toDateTime(),x=F(C)?.get(Y)?.type;return"esriFieldTypeTimestampOffset"===x||"timestamp-offset"===x?m.g.fromDateTime(X):X}return se}};function z(C,Y,se){C.domain=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,2,3,X,x),(0,T.n)(p[0])){const c=(0,T.O)(p[0],(0,T.f)(p[1]),void 0===p[2]?void 0:p[2]);return c&&c.domain?G.A.convertObjectToArcadeDictionary("coded-value"===c.domain.type||"codedValue"===c.domain.type?{type:"codedValue",name:c.domain.name,dataType:d.At[c.field.type],codedValues:c.domain.codedValues.map(g=>({name:g.name,code:g.code}))}:{type:"range",name:c.domain.name,dataType:d.At[c.field.type],min:c.domain.minValue,max:c.domain.maxValue},(0,T.K)(X)):null}throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.domaincode=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,2,4,X,x),(0,T.n)(p[0]))return(0,T.P)(p[0],(0,T.f)(p[1]),p[2],void 0===p[3]?void 0:p[3]);throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.domainname=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,2,4,X,x),(0,T.n)(p[0]))return(0,T.Q)(p[0],(0,T.f)(p[1]),p[2],void 0===p[3]?void 0:p[3]);throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.expects=function(X,x){return Y(X,x,(j,o,p)=>{if(p.length<1)throw new Z.D$(X,Z.TX.WrongNumberOfParameters,x);return T.w})},C.featureinfilter=function(X,x){return Y(X,x,(j,o,p)=>{(0,T.D)(p,2,2,j,o);const[c,g]=p;if(null==c)return!1;if(""===g||null==g)return!0;if(!(0,T.n)(c)||!(0,oe.Kg)(g))throw new Z.D$(j,Z.TX.InvalidParameter,o);const e=E.default.create(g,{fieldsIndex:F(c),timeZone:_(c)}),h=e.getVariables();for(const l of h)e.parameters[l]=se(j,{name:l});return e.testFeature(c,I)})},C.gdbversion=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,1,1,X,x),(0,T.n)(p[0]))return p[0].gdbVersion();throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.schema=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.n)(p[0])){const c=(0,T.S)(p[0]);return c?G.A.convertObjectToArcadeDictionary(c,(0,T.K)(X)):null}throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.subtypecode=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,1,1,X,x),(0,T.n)(p[0])){const c=(0,T.T)(p[0]);if(!c)return null;if(c.subtypeField&&p[0].hasField(c.subtypeField)){const g=p[0].field(c.subtypeField);for(const e of c.subtypes)if(e.code===g)return e.code;return null}return null}throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.subtypename=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,1,1,X,x),(0,T.n)(p[0])){const c=(0,T.T)(p[0]);if(!c)return"";if(c.subtypeField&&p[0].hasField(c.subtypeField)){const g=p[0].field(c.subtypeField);for(const e of c.subtypes)if(e.code===g)return e.name;return""}return""}throw new Z.D$(X,Z.TX.InvalidParameter,x)})},C.subtypes=function(X,x){return Y(X,x,(j,o,p)=>{if((0,T.D)(p,1,1,X,x),(0,T.n)(p[0])){const c=(0,T.T)(p[0]);return c?G.A.convertObjectToArcadeDictionary(c,(0,T.K)(X)):null}throw new Z.D$(X,Z.TX.InvalidParameter,x)})}}},59118:(Ue,we,w)=>{w.d(we,{t:()=>oe});var G=w(42686),Z=w(68778);function a(_){let F=0;for(let I=0;I<_.length;I++)F+=_[I];return F/_.length}function T(_){const F=a(_);let I=0;for(let z=0;z<_.length;z++)I+=(F-_[z])**2;return I/_.length}function oe(_,F,I=1e3){switch(_.toLowerCase()){case"distinct":return function m(_,F){const I=[],z={},C=[];for(let Y=0;Y<_.length;Y++){if(null!=_[Y]&&_[Y]!==G.w){const se=_[Y];if((0,Z.Et)(se)||(0,Z.Kg)(se))void 0===z[se]&&(I.push(se),z[se]=1);else{let X=!1;for(let x=0;x<C.length;x++)!0===(0,G.B)(C[x],se)&&(X=!0);!1===X&&(C.push(se),I.push(se))}}if(I.length>=F&&-1!==F)return I}return I}(F,I);case"avg":case"mean":return a((0,G.Y)(F));case"min":return Math.min.apply(Math,(0,G.Y)(F));case"sum":return function d(_){let F=0;for(let I=0;I<_.length;I++)F+=_[I];return F}((0,G.Y)(F));case"max":return Math.max.apply(Math,(0,G.Y)(F));case"stdev":case"stddev":return Math.sqrt(T((0,G.Y)(F)));case"var":case"variance":return T((0,G.Y)(F));case"count":return F.length}return 0}},39521:(Ue,we,w)=>{w.d(we,{d:()=>j});var G=w(56847),Z=w(53787),a=w(55279),T=w(63145),d=w(40056),m=w(42686),E=w(29417),oe=w(87875),_=w(28067),F=w(68643),I=w(21870),z=w(1749),C=w(55861),Y=w(93615),se=w(15268),X=w(61320),x=w(68778);function j(o,p){o.ringisclockwise=function(c,g){return p(c,g,(e,h,l)=>{(0,m.D)(l,1,1,c,g);let O=[];if(null===l[0])return!1;if((0,x.cy)(l[0]))for(const t of l[0]){if(!(t instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);O.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}else if(l[0]instanceof d.A)O=l[0]._elements;else{if(!(0,m.m)(l[0]))throw new a.D$(c,a.TX.InvalidParameter,g);for(const t of l[0].toArray()){if(!(t instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);O.push(t.hasZ?t.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])}}return!(O.length<3)&&(0,se.$3)(O)})},o.polygon=function(c,g){return p(c,g,(e,h,l)=>{let O;if((0,m.D)(l,1,1,c,g),l[0]instanceof Z.A){const t=(0,m.u)((0,oe.E)(l[0],c.spatialReference,"polygon"),c.spatialReference);if(null==t)return null;O=t}else if(l[0]instanceof C.A)O=(0,X.rS)(l[0].toJSON());else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)(new C.A(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.polyline=function(c,g){return p(c,g,(e,h,l)=>{let O;if((0,m.D)(l,1,1,c,g),l[0]instanceof Z.A){const t=(0,m.u)((0,oe.E)(l[0],c.spatialReference,"polyline"),c.spatialReference);if(null==t)return null;O=t}else if(l[0]instanceof Y.A)O=(0,X.rS)(l[0].toJSON());else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)(new Y.A(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.point=function(c,g){return p(c,g,(e,h,l)=>{let O;if((0,m.D)(l,1,1,c,g),l[0]instanceof Z.A){const t=(0,m.u)((0,oe.E)(l[0],c.spatialReference,"point"),c.spatialReference);if(null==t)return null;O=t}else if(l[0]instanceof z.A)O=(0,X.rS)(l[0].toJSON());else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)(new z.A(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.multipoint=function(c,g){return p(c,g,(e,h,l)=>{let O;if((0,m.D)(l,1,1,c,g),l[0]instanceof Z.A){const t=(0,m.u)((0,oe.E)(l[0],c.spatialReference,"multipoint"),c.spatialReference);if(null==t)return null;O=t}else if(l[0]instanceof I.A)O=(0,X.rS)(l[0].toJSON());else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)(new I.A(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.extent=function(c,g){return p(c,g,(e,h,l)=>{l=(0,m.E)(l),(0,m.D)(l,1,1,c,g);let O=null;if(l[0]instanceof Z.A)O=(0,m.u)((0,oe.E)(l[0],c.spatialReference),c.spatialReference);else if(l[0]instanceof z.A){const t={xmin:l[0].x,ymin:l[0].y,xmax:l[0].x,ymax:l[0].y,spatialReference:l[0].spatialReference.toJSON()},f=l[0];f.hasZ&&(t.zmin=f.z,t.zmax=f.z),f.hasM&&(t.mmin=f.m,t.mmax=f.m),O=(0,X.rS)(t)}else if(l[0]instanceof C.A)O=(0,X.rS)(l[0].extent?.toJSON());else if(l[0]instanceof Y.A)O=(0,X.rS)(l[0].extent?.toJSON());else if(l[0]instanceof I.A)O=(0,X.rS)(l[0].extent?.toJSON());else if(l[0]instanceof _.A)O=(0,X.rS)(l[0].toJSON());else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)(new _.A(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.geometry=function(c,g){return p(c,g,(e,h,l)=>{(0,m.D)(l,1,1,c,g);let O=null;if(null===l[0])return null;if((0,m.n)(l[0]))O=(0,m.u)(l[0].geometry(),c.spatialReference);else if(l[0]instanceof Z.A)O=(0,m.u)((0,oe.E)(l[0],c.spatialReference),c.spatialReference);else{const t=JSON.parse(l[0]);t&&!t.spatialReference&&(t.spatialReference=c.spatialReference),O=(0,m.u)((0,X.rS)(t),c.spatialReference)}if(null!==O&&!1===O.spatialReference.equals(c.spatialReference))throw new a.D$(c,a.TX.WrongSpatialReference,g);return(0,m.U)(O)})},o.setgeometry=function(c,g){return p(c,g,(e,h,l)=>{if((0,m.D)(l,2,2,c,g),!(0,m.n)(l[0]))throw new a.D$(c,a.TX.InvalidParameter,g);if(!0===l[0].immutable)throw new a.D$(c,a.TX.Immutable,g);if(!(l[1]instanceof F.A||null===l[1]))throw new a.D$(c,a.TX.InvalidParameter,g);return l[0]._geometry=l[1],m.w})},o.feature=function(c,g){return p(c,g,(e,h,l)=>{if(0===l.length)throw new a.D$(c,a.TX.WrongNumberOfParameters,g);let O;if(1===l.length)if((0,x.Kg)(l[0]))O=T.A.fromJson(JSON.parse(l[0]),c.timeZone);else if((0,m.n)(l[0]))O=T.A.createFromArcadeFeature(l[0]);else if(l[0]instanceof F.A)O=T.A.createFromGraphicLikeObject(l[0],null,null,c.timeZone);else{if(!(l[0]instanceof Z.A))throw new a.D$(c,a.TX.InvalidParameter,g);{const t=l[0].hasField("geometry")?l[0].field("geometry"):null,f=l[0].hasField("attributes")?l[0].field("attributes"):null;let U,H;if((0,m.q)(t))U=(0,oe.E)(t,c.spatialReference);else{if(null!=t&&!(0,m.l)(t))throw new a.D$(c,a.TX.InvalidParameter,g);U=t}if((0,m.q)(f))H=T.A.parseAttributesFromDictionary(f);else{if(null!=f)throw new a.D$(c,a.TX.InvalidParameter,g);H=null}O=T.A.createFromGraphicLikeObject(U,H,null,c.timeZone)}}else if(2===l.length){let t=null,f=null;if(null!==l[0])if(l[0]instanceof F.A)t=l[0];else{if(!(l[0]instanceof Z.A))throw new a.D$(c,a.TX.InvalidParameter,g);t=(0,oe.E)(l[0],c.spatialReference)}if(null!==l[1]){if(!(l[1]instanceof Z.A))throw new a.D$(c,a.TX.InvalidParameter,g);f=T.A.parseAttributesFromDictionary(l[1])}O=T.A.createFromGraphicLikeObject(t,f,null,c.timeZone)}else{let t=null;const f={};if(null!==l[0])if(l[0]instanceof F.A)t=l[0];else{if(!(l[0]instanceof Z.A))throw new a.D$(c,a.TX.InvalidParameter,g);t=(0,oe.E)(l[0],c.spatialReference)}for(let U=1;U<l.length;U+=2){const H=(0,m.f)(l[U]),R=l[U+1];if(!(null==R||(0,x.Kg)(R)||isNaN(R)||(0,m.g)(R)||(0,x.Et)(R)||(0,m.k)(R)||(0,m.j)(R)||(0,x.Lm)(R)))throw new a.D$(c,a.TX.InvalidParameter,g);if((0,m.i)(R)||!1===(0,m.d)(R))throw new a.D$(c,a.TX.InvalidParameter,g);f[H]=R===m.w?null:R}O=T.A.createFromGraphicLikeObject(t,f,null,c.timeZone)}return O._geometry=(0,m.u)(O.geometry(),c.spatialReference),O.immutable=!1,O})},o.dictionary=function(c,g){return p(c,g,(e,h,l)=>{if(0===l.length||1===l.length&&null===l[0]){const f=new Z.A;return f.immutable=!1,f}if(1===l.length&&(0,x.Kg)(l[0]))try{const f=JSON.parse(l[0]),U=Z.A.convertObjectToArcadeDictionary(f,(0,m.K)(c),!1);return U.immutable=!1,U}catch{throw new a.D$(c,a.TX.InvalidParameter,g)}if(1===l.length&&l[0]instanceof F.A)try{const f=l[0].toJSON();f.hasZ=!0===l[0].hasZ,f.hasM=!0===l[0].hasM;const U=Z.A.convertObjectToArcadeDictionary(f,(0,m.K)(c),!1);return U.immutable=!1,U}catch{throw new a.D$(c,a.TX.InvalidParameter,g)}if(1===l.length&&(0,m.n)(l[0]))try{const f=new Z.A;f.immutable=!1,f.setField("geometry",l[0].geometry());const U=new Z.A;U.immutable=!1,f.setField("attributes",U);for(const H of l[0].keys())U.setField(H,l[0].field(H));return f}catch{throw new a.D$(c,a.TX.InvalidParameter,g)}if(1===l.length&&((0,m.q)(l[0])||(0,m.V)(l[0])))try{const f=new Z.A;f.immutable=!1;for(const U of l[0].keys())f.setField(U,l[0].field(U));return f}catch{throw new a.D$(c,a.TX.InvalidParameter,g)}if(2===l.length&&l[0]instanceof Z.A&&(0,x.Lm)(l[1]))try{if(!0!==l[1]){const f=new Z.A;f.immutable=!1;for(const U of l[0].keys())f.setField(U,l[0].field(U));return f}return l[0].deepClone()}catch{throw new a.D$(c,a.TX.InvalidParameter,g)}if(l.length%2!=0)throw new a.D$(c,a.TX.WrongNumberOfParameters,g);const O={};for(let f=0;f<l.length;f+=2){const U=(0,m.f)(l[f]),H=l[f+1];if(!(null==H||(0,x.Kg)(H)||isNaN(H)||(0,m.g)(H)||(0,x.Et)(H)||(0,x.Lm)(H)||(0,m.j)(H)||(0,m.k)(H)||(0,x.cy)(H)||(0,m.m)(H)))throw new a.D$(c,a.TX.InvalidParameter,g);if((0,m.i)(H))throw new a.D$(c,a.TX.InvalidParameter,g);O[U]=H===m.w?null:H}const t=new Z.A(O);return t.immutable=!1,t})},o.haskey=function(c,g){return p(c,g,(e,h,l)=>{(0,m.D)(l,2,2,c,g);const O=(0,m.f)(l[1]);if((0,m.z)(l[0])||l[0]instanceof Z.A)return l[0].hasField(O);if(l[0]instanceof F.A){const t=(0,G.Bl)(l[0],O,null,null,2);return!t||"notfound"!==t.keystate}throw new a.D$(c,a.TX.InvalidParameter,g)})},o.hasvalue=function(c,g){return p(c,g,(e,h,l)=>((0,m.D)(l,2,2,c,g),null!=(0,G.jd)(l[0],l[1])))},o.indexof=function(c,g){return p(c,g,(e,h,l)=>{(0,m.D)(l,2,2,c,g);const O=l[1];if((0,x.cy)(l[0])){for(let t=0;t<l[0].length;t++)if((0,m.B)(O,l[0][t]))return t;return-1}if((0,m.m)(l[0])){const t=l[0].length();for(let f=0;f<t;f++)if((0,m.B)(O,l[0].get(f)))return f;return-1}throw new a.D$(c,a.TX.InvalidParameter,g)})},o.angle=function(c,g){return p(c,g,(e,h,l)=>{if(l=(0,m.E)(l),(0,m.D)(l,2,3,c,g),!(l[0]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);if(!(l[1]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);if(l.length>2&&!(l[2]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);return 2===l.length?(0,E.eb)(l[0],l[1]):(0,E.Uc)(l[0],l[1],l[2])})},o.bearing=function(c,g){return p(c,g,(e,h,l)=>{if(l=(0,m.E)(l),(0,m.D)(l,2,3,c,g),!(l[0]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);if(!(l[1]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);if(l.length>2&&!(l[2]instanceof z.A))throw new a.D$(c,a.TX.InvalidParameter,g);return 2===l.length?(0,E.ln)(l[0],l[1]):(0,E.L5)(l[0],l[1],l[2])})},o.isselfintersecting=function(c,g){return p(c,g,(e,h,l)=>{l=(0,m.E)(l),(0,m.D)(l,1,1,c,g);let O=l[0];if(O instanceof C.A)return O.isSelfIntersecting;if(O instanceof Y.A)return(0,E._j)(O.paths);if(O instanceof I.A){const t=O.points;for(let f=0;f<t.length;f++)for(let U=0;U<t.length;U++)if(U!==f){let H=!0;for(let R=0;R<t[f].length;R++)if(t[f][R]!==t[U][R]){H=!1;break}if(!0===H)return!0}}if((0,x.cy)(O)||(0,m.m)(O)){const t=(0,m.G)(O,c.spatialReference);return null!==t&&(O=t.paths),(0,E._j)(O)}return!1})}}},65266:(Ue,we,w)=>{w.d(we,{d:()=>p,k:()=>j});var G=w(10467),Z=w(53787),a=w(55279),T=w(73446),d=w(42686),m=w(65933),E=w(79324),oe=w(28067),_=w(68643),F=w(21870),I=w(1749),z=w(55861),C=w(93615),Y=w(61320),se=w(83025),X=w(68778);let x;function j(){return o.apply(this,arguments)}function o(){return(o=(0,G.A)(function*(){null==x&&(x=yield Promise.all([w.e(3558),w.e(3037),w.e(4931),w.e(579),w.e(9961),w.e(2076),w.e(5934)]).then(w.bind(w,45934)),yield x.loadAll())})).apply(this,arguments)}function p(c,g){c.disjoint=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null===t[0]||null===t[1]||x.disjoint.execute(t[0],t[1])))},c.intersects=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.intersects.execute(t[0],t[1])))},c.touches=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.touches.execute(t[0],t[1])))},c.crosses=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.crosses.execute(t[0],t[1])))},c.within=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.within.execute(t[0],t[1])))},c.contains=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.contains.execute(t[0],t[1])))},c.overlaps=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null!==t[0]&&null!==t[1]&&x.overlaps.execute(t[0],t[1])))},c.equals=function(e,h){return g(e,h,(l,O,t)=>((0,d.D)(t,2,2,e,h),t[0]===t[1]||(t[0]instanceof _.A&&t[1]instanceof _.A?x.equals.execute(t[0],t[1]):((0,d.g)(t[0])&&(0,d.g)(t[1])||(0,d.k)(t[0])&&(0,d.k)(t[1])||!(!(0,d.j)(t[0])||!(0,d.j)(t[1])))&&t[0].equals(t[1]))))},c.relate=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,3,3,e,h),t[0]instanceof _.A&&t[1]instanceof _.A)return x.relate.execute(t[0],t[1],(0,d.f)(t[2]));if(t[0]instanceof _.A&&null===t[1]||t[1]instanceof _.A&&null===t[0]||null===t[0]&&null===t[1])return!1;throw new a.D$(e,a.TX.InvalidParameter,h)})},c.intersection=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null===t[0]||null===t[1]?null:x.intersection.execute(t[0],t[1])))},c.union=function(e,h){return g(e,h,(l,O,t)=>{if(0===(t=(0,d.E)(t)).length)throw new a.D$(e,a.TX.WrongNumberOfParameters,h);const f=[];if(1===t.length)if((0,X.cy)(t[0])){for(const U of(0,d.E)(t[0]))if(null!==U){if(!(U instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);f.push(U)}}else{if(!(0,d.m)(t[0])){if(t[0]instanceof _.A)return(0,d.u)((0,T.Yq)(t[0]),e.spatialReference);if(null===t[0])return null;throw new a.D$(e,a.TX.InvalidParameter,h)}for(const U of(0,d.E)(t[0].toArray()))if(null!==U){if(!(U instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);f.push(U)}}else for(const U of t)if(null!==U){if(!(U instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);f.push(U)}return 0===f.length?null:x.union.executeMany(f)})},c.difference=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null===t[0]?null:null===t[1]?(0,T.Yq)(t[0]):x.difference.execute(t[0],t[1])))},c.symmetricdifference=function(e,h){return g(e,h,(l,O,t)=>(t=(0,d.E)(t),(0,m.ZL)(t,e,h),null===t[0]&&null===t[1]?null:null===t[0]?(0,T.Yq)(t[1]):null===t[1]?(0,T.Yq)(t[0]):x.symmetricDifference.execute(t[0],t[1])))},c.clip=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,2,e,h),!(t[1]instanceof oe.A)&&null!==t[1])throw new a.D$(e,a.TX.InvalidParameter,h);if(null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return null===t[1]?null:x.clip.execute(t[0],t[1])})},c.cut=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,2,e,h),!(t[1]instanceof C.A)&&null!==t[1])throw new a.D$(e,a.TX.InvalidParameter,h);if(null===t[0])return[];if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return null===t[1]?[(0,T.Yq)(t[0])]:x.cut.execute(t[0],t[1])})},c.area=function(e,h){return g(e,h,(l,O,t)=>{(0,d.D)(t,1,2,e,h);let f=(t=(0,d.E)(t))[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.F)(t[0],e.spatialReference)),null===f)return 0;if(!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convertFromSpatialReferenceUnit)(f.spatialReference,(0,E.toAreaUnit)(t[1]),x.area.execute(f))})},c.areageodetic=function(e,h){return g(e,h,(l,O,t)=>{(0,d.D)(t,1,2,e,h);let f=(t=(0,d.E)(t))[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.F)(t[0],e.spatialReference)),null===f)return 0;if(!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convert)(se.A7,(0,E.toAreaUnit)(t[1]),x.geodeticArea.execute(f))})},c.length=function(e,h){return g(e,h,(l,O,t)=>{(0,d.D)(t,1,2,e,h);let f=(t=(0,d.E)(t))[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.G)(t[0],e.spatialReference)),null===f)return 0;if(!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convertFromSpatialReferenceUnit)(f.spatialReference,(0,E.toLengthUnit)(t[1]),x.length.execute(f))})},c.length3d=function(e,h){return g(e,h,(l,O,t)=>{(0,d.D)(t,1,2,e,h);let f=(t=(0,d.E)(t))[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.G)(t[0],e.spatialReference)),null===f)return 0;if(!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convertFromSpatialReferenceUnit)(f.spatialReference,(0,E.toLengthUnit)(t[1]),!0===f.hasZ?(0,m.UI)(f):x.length.execute(f))})},c.lengthgeodetic=function(e,h){return g(e,h,(l,O,t)=>{(0,d.D)(t,1,2,e,h);let f=(t=(0,d.E)(t))[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.G)(t[0],e.spatialReference)),null===f)return 0;if(!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convert)(se.L2,(0,E.toLengthUnit)(t[1]),x.geodeticLength.execute(f))})},c.distance=function(e,h){return g(e,h,(l,O,t)=>{t=(0,d.E)(t),(0,d.D)(t,2,3,e,h);let f=t[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(f=(0,d.H)(t[0],e.spatialReference)),!(f instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);let U=t[1];if(((0,X.cy)(t[1])||(0,d.m)(t[1]))&&(U=(0,d.H)(t[1],e.spatialReference)),!(U instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return(0,E.convertFromSpatialReferenceUnit)(f.spatialReference,(0,E.toLengthUnit)(t[2]),x.distance.execute(f,U))})},c.distancegeodetic=function(e,h){return g(e,h,(l,O,t)=>{t=(0,d.E)(t),(0,d.D)(t,2,3,e,h);const f=t[0];if(!(f instanceof I.A))throw new a.D$(e,a.TX.InvalidParameter,h);const U=t[1];if(!(U instanceof I.A))throw new a.D$(e,a.TX.InvalidParameter,h);const H=new C.A({paths:[],spatialReference:f.spatialReference});return H.addPath([f,U]),(0,E.convert)(se.L2,(0,E.toLengthUnit)(t[2]),x.geodeticLength.execute(H))})},c.densify=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,3,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);if(f<=0)throw new a.D$(e,a.TX.InvalidParameter,h);const U=(0,E.convertToSpatialReferenceUnit)((0,E.toLengthUnit)(t[2]),t[0].spatialReference,f);switch(t[0].type){case"polygon":case"polyline":case"extent":return x.densify.execute(t[0],U);default:return t[0]}})},c.densifygeodetic=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,3,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);if(f<=0)throw new a.D$(e,a.TX.InvalidParameter,h);const U=(0,E.convert)((0,E.toLengthUnit)(t[2]),se.L2,f);switch(t[0].type){case"polygon":case"polyline":case"extent":return x.geodeticDensify.execute(t[0],U);default:return t[0]}})},c.generalize=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,4,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);const U=(0,E.convertToSpatialReferenceUnit)((0,E.toLengthUnit)(t[3]),t[0].spatialReference,f);return x.generalize.execute(t[0],U,{removeDegenerateParts:(0,d.e)((0,d.J)(t[2],!0))})})},c.buffer=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,3,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);return 0===f?(0,T.Yq)(t[0]):x.buffer.execute(t[0],(0,E.convertToSpatialReferenceUnit)((0,E.toLengthUnit)(t[2]),t[0].spatialReference,f))})},c.buffergeodetic=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,3,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);return 0===f?(0,T.Yq)(t[0]):x.geodesicBuffer.execute(t[0],(0,E.convert)((0,E.toLengthUnit)(t[2]),se.L2,f))})},c.offset=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,6,e,h),null===t[0])return null;if(!(t[0]instanceof z.A||t[0]instanceof C.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=(0,d.t)(t[1]);if(isNaN(f))throw new a.D$(e,a.TX.InvalidParameter,h);const U=(0,E.convertToSpatialReferenceUnit)((0,E.toLengthUnit)(t[2]),t[0].spatialReference,f),H=(0,d.f)(t[3]??"round").toLowerCase();let R;switch(H){case"round":case"bevel":case"miter":case"square":R=H;break;default:R="round"}const ue=(0,d.t)((0,d.J)(t[4],10));if(isNaN(ue))throw new a.D$(e,a.TX.InvalidParameter,h);const K=(0,d.t)((0,d.J)(t[5],0));if(isNaN(K))throw new a.D$(e,a.TX.InvalidParameter,h);return x.offset.execute(t[0],U,{joins:R,miterLimit:ue,flattenError:K})})},c.rotate=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,3,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);const f=t[0]instanceof oe.A?z.A.fromExtent(t[0]):t[0],U=(0,d.t)(t[1]);if(isNaN(U))throw new a.D$(e,a.TX.InvalidParameter,h);const H=(0,d.J)(t[2],null);if(null===H){const R="point"===f.type?f:f.extent?.center;return x.rotate(f,U,R?.x,R?.y)}if(H instanceof I.A)return x.rotate(f,U,H.x,H.y);throw new a.D$(e,a.TX.InvalidParameter,h)})},c.centroid=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,1,2,l,O),null===t[0])return null;const f=(0,d.f)(t[1]??"geometric").toLowerCase();if("geometric"!==f&&"labelpoint"!==f)throw new a.D$(l,a.TX.InvalidParameter,O);let U=t[0];if(((0,X.cy)(t[0])||(0,d.m)(t[0]))&&(U="geometric"===f?(0,d.H)(t[0],l.spatialReference):(0,d.F)(t[0],l.spatialReference),null===U))return null;if(!(U instanceof _.A))throw new a.D$(l,a.TX.InvalidParameter,O);return"geometric"===f?x.centroid.execute(U):x.labelPoint.execute(U)})},c.measuretocoordinate=function(e,h){return g(e,h,m.Cd)},c.pointtocoordinate=function(e,h){return g(e,h,m.kr)},c.distancetocoordinate=function(e,h){return g(e,h,m.Bn)},c.multiparttosinglepart=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,1,1,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);if(t[0]instanceof I.A)return[(0,d.u)((0,T.Yq)(t[0]),e.spatialReference)];if(t[0]instanceof oe.A)return[(0,d.u)((0,T.Yq)(t[0]),e.spatialReference)];const f=x.simplify.execute(t[0]);if(f instanceof z.A){const U=[],H=[];for(let R=0;R<f.rings.length;R++)if(f.isClockwise(f.rings[R])){const ue=(0,Y.rS)({rings:[f.rings[R]],hasZ:!0===f.hasZ,hasM:!0===f.hasM,spatialReference:f.spatialReference.toJSON()});U.push(ue)}else H.push({ring:f.rings[R],pt:f.getPoint(R,0)});for(let R=0;R<H.length;R++)for(let ue=0;ue<U.length;ue++)if(U[ue].contains(H[R].pt)){U[ue].addRing(H[R].ring);break}return U}if(f instanceof C.A){const U=[];for(let H=0;H<f.paths.length;H++){const R=(0,Y.rS)({paths:[f.paths[H]],hasZ:!0===f.hasZ,hasM:!0===f.hasM,spatialReference:f.spatialReference.toJSON()});U.push(R)}return U}if(t[0]instanceof F.A){const U=[],H=(0,d.u)((0,T.Yq)(t[0]),e.spatialReference);for(let R=0;R<H.points.length;R++)U.push(H.getPoint(R));return U}return null})},c.issimple=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,1,1,e,h),null===t[0])return!0;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return x.simplify.isSimple(t[0])})},c.simplify=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,1,1,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return x.simplify.execute(t[0])})},c.convexhull=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,1,1,e,h),null===t[0])return null;if(!(t[0]instanceof _.A))throw new a.D$(e,a.TX.InvalidParameter,h);return x.convexHull.execute(t[0])})},c.nearestcoordinate=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,2,e,h),!(t[0]instanceof _.A||null===t[0]))throw new a.D$(e,a.TX.InvalidParameter,h);if(!(t[1]instanceof I.A||null===t[1]))throw new a.D$(e,a.TX.InvalidParameter,h);if(null===t[0]||null===t[1])return null;const f=t[0]instanceof oe.A?z.A.fromExtent(t[0]):t[0],U=x.proximity.getNearestCoordinate(f,t[1],{calculateLeftRightSide:!0});return null===U||U.isEmpty?null:Z.A.convertObjectToArcadeDictionary({coordinate:U.coordinate,distance:U.distance,sideOfLine:0===U.distance?"straddle":U.rightSide?"right":"left"},(0,d.K)(e),!1,!0)})},c.nearestvertex=function(e,h){return g(e,h,(l,O,t)=>{if(t=(0,d.E)(t),(0,d.D)(t,2,2,e,h),!(t[0]instanceof _.A||null===t[0]))throw new a.D$(e,a.TX.InvalidParameter,h);if(!(t[1]instanceof I.A||null===t[1]))throw new a.D$(e,a.TX.InvalidParameter,h);if(null===t[0]||null===t[1])return null;const f=t[0]instanceof oe.A?z.A.fromExtent(t[0]):t[0],U=x.proximity.getNearestVertex(f,t[1]);return null===U||U.isEmpty?null:Z.A.convertObjectToArcadeDictionary({coordinate:U.coordinate,distance:U.distance,sideOfLine:0===U.distance?"straddle":U.rightSide?"right":"left"},(0,d.K)(e),!1,!0)})}}},82050:(Ue,we,w)=>{w.d(we,{d:()=>d});var G=w(42686),Z=w(69287),a=w(85775),T=w(68778);function d(m,E){function oe(_,F,I){const z=(0,G.t)(_);return isNaN(z)?z:isNaN(F)||isNaN(I)||F>I?NaN:z<F?F:z>I?I:z}m.number=function(_,F){return E(_,F,(I,z,C)=>{(0,G.D)(C,1,2,_,F);const Y=C[0];if((0,T.Et)(Y))return Y;if(null===Y)return 0;if((0,G.g)(Y)||(0,G.k)(Y)||(0,G.j)(Y))return Y.toNumber();if((0,T.Lm)(Y))return Number(Y);if((0,T.cy)(Y))return NaN;if(""===Y||void 0===Y)return Number(Y);if((0,T.Kg)(Y)){if(void 0!==C[1]){let se=(0,G.W)(C[1],"\u2030","");return se=(0,G.W)(se,"\xa4",""),(0,a.qg)(Y,{pattern:se})}return Number(Y.trim())}return Number(Y)})},m.abs=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.abs((0,G.t)(C[0]))))},m.acos=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.acos((0,G.t)(C[0]))))},m.asin=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.asin((0,G.t)(C[0]))))},m.atan=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.atan((0,G.t)(C[0]))))},m.atan2=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,2,2,_,F),Math.atan2((0,G.t)(C[0]),(0,G.t)(C[1]))))},m.ceil=function(_,F){return E(_,F,(I,z,C)=>{if((0,G.D)(C,1,2,_,F),2===C.length){let Y=(0,G.t)(C[1]);return isNaN(Y)&&(Y=0),(0,Z.pF)("ceil",(0,G.t)(C[0]),-1*Y)}return Math.ceil((0,G.t)(C[0]))})},m.round=function(_,F){return E(_,F,(I,z,C)=>{if((0,G.D)(C,1,2,_,F),2===C.length){let Y=(0,G.t)(C[1]);return isNaN(Y)&&(Y=0),(0,Z.pF)("round",(0,G.t)(C[0]),-1*Y)}return Math.round((0,G.t)(C[0]))})},m.floor=function(_,F){return E(_,F,(I,z,C)=>{if((0,G.D)(C,1,2,_,F),2===C.length){let Y=(0,G.t)(C[1]);return isNaN(Y)&&(Y=0),(0,Z.pF)("floor",(0,G.t)(C[0]),-1*Y)}return Math.floor((0,G.t)(C[0]))})},m.cos=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.cos((0,G.t)(C[0]))))},m.isnan=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),"number"==typeof C[0]&&isNaN(C[0])))},m.exp=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.exp((0,G.t)(C[0]))))},m.log=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.log((0,G.t)(C[0]))))},m.pow=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,2,2,_,F),(0,G.t)(C[0])**(0,G.t)(C[1])))},m.random=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,0,0,_,F),Math.random()))},m.sin=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.sin((0,G.t)(C[0]))))},m.sqrt=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.sqrt((0,G.t)(C[0]))))},m.tan=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),Math.tan((0,G.t)(C[0]))))},m.isempty=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),null===C[0]||""===C[0]||void 0===C[0]||C[0]===G.w))},m.boolean=function(_,F){return E(_,F,(I,z,C)=>((0,G.D)(C,1,1,_,F),(0,G.e)(C[0])))},m.constrain=function(_,F){return E(_,F,(I,z,C)=>{(0,G.D)(C,3,3,_,F);const Y=(0,G.t)(C[1]),se=(0,G.t)(C[2]);if((0,T.cy)(C[0])){const X=[];for(const x of C[0])X.push(oe(x,Y,se));return X}if((0,G.m)(C[0])){const X=[];for(let x=0;x<C[0].length();x++)X.push(oe(C[0].get(x),Y,se));return X}return oe(C[0],Y,se)})}}},35154:(Ue,we,w)=>{w.d(we,{d:()=>m});var G=w(55279),Z=w(42686),a=w(59118),T=w(68778);function d(E,oe){if(1===oe.length){if((0,T.cy)(oe[0]))return(0,a.t)(E,oe[0],-1);if((0,Z.m)(oe[0]))return(0,a.t)(E,oe[0].toArray(),-1)}return(0,a.t)(E,oe,-1)}function m(E,oe){E.stdev=function(_,F){return oe(_,F,(I,z,C)=>d("stdev",C))},E.variance=function(_,F){return oe(_,F,(I,z,C)=>d("variance",C))},E.average=function(_,F){return oe(_,F,(I,z,C)=>d("mean",C))},E.mean=function(_,F){return oe(_,F,(I,z,C)=>d("mean",C))},E.sum=function(_,F){return oe(_,F,(I,z,C)=>d("sum",C))},E.min=function(_,F){return oe(_,F,(I,z,C)=>d("min",C))},E.max=function(_,F){return oe(_,F,(I,z,C)=>d("max",C))},E.distinct=function(_,F){return oe(_,F,(I,z,C)=>d("distinct",C))},E.count=function(_,F){return oe(_,F,(I,z,C)=>{if((0,Z.D)(C,1,1,_,F),(0,T.cy)(C[0])||(0,T.Kg)(C[0]))return C[0].length;if((0,Z.m)(C[0]))return C[0].length();throw new G.D$(_,G.TX.InvalidParameter,F)})}}},61828:(Ue,we,w)=>{w.d(we,{d:()=>Q});var G=w(45369),Z=w(84462),a=w(53787),T=w(55279),d=w(42686),m=w(11432),E=w(68778);const oe=y=>(A,B,k=14)=>+y(A,B).toFixed(k),_=(y,A)=>y+A,I=(y,A)=>y*A,z=(y,A)=>y/A,C=(y,A,B)=>oe(_)(y,A,B),se=(y,A,B)=>oe(I)(y,A,B),X=(y,A,B)=>oe(z)(y,A,B),x=360,j=400,o=2*Math.PI,p=3600,g=60,e=60,h=180*p/Math.PI,l=x*g*e,O=90*p,t=180*p,U=String.fromCharCode(7501),H="\xb0";function R(y){if(!1===(0,E.Kg)(y))throw new T.D$(null,T.TX.InvalidParameter,null);return y}function ue(y,A){const B=10**A;return Math.round(y*B)/B}function J(y){const A=parseFloat(y.toString().replace(Math.trunc(y).toString(),"0"))*Math.sign(y);return y<0?{fraction:A,integer:Math.ceil(y)}:{fraction:A,integer:Math.floor(y)}}var ee,N,re,_e,y;function De(y,A){switch(y){case ee.north:return"SHORT"===A?"N":"North";case ee.east:return"SHORT"===A?"E":"East";case ee.south:return"SHORT"===A?"S":"South";case ee.west:return"SHORT"===A?"W":"West"}}function Ae(y,A){return y-Math.floor(y/A)*A}function Ie(y){switch(y){case N.truncated_degrees:case N.decimal_degrees:return x;case N.radians:return o;case N.gradians:return j;case N.seconds:return l;case N.fractional_degree_minutes:return g;case N.fractional_minute_seconds:return e;default:throw new T.D$(null,T.TX.LogicError,null,{reason:"unsupported evaluations"})}}function Te(y){switch(y.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return re.north_azimuth;case"POLAR":return re.polar;case"QUADRANT":return re.quadrant;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return re.south_azimuth}throw new T.D$(null,T.TX.LogicError,null,{reason:"unsupported directionType"})}function Xe(y){switch(y.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return N.decimal_degrees;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return N.degrees_minutes_seconds;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return N.radians;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return N.gradians}throw new T.D$(null,T.TX.LogicError,null,{reason:"unsupported units"})}(y=ee||(ee={}))[y.north=0]="north",y[y.east=1]="east",y[y.south=2]="south",y[y.west=3]="west",function(y){y[y.decimal_degrees=1]="decimal_degrees",y[y.seconds=2]="seconds",y[y.degrees_minutes_seconds=3]="degrees_minutes_seconds",y[y.radians=4]="radians",y[y.gradians=5]="gradians",y[y.truncated_degrees=6]="truncated_degrees",y[y.fractional_degree_minutes=7]="fractional_degree_minutes",y[y.fractional_minute_seconds=8]="fractional_minute_seconds"}(N||(N={})),function(y){y[y.north_azimuth=1]="north_azimuth",y[y.polar=2]="polar",y[y.quadrant=3]="quadrant",y[y.south_azimuth=4]="south_azimuth"}(re||(re={})),function(y){y[y.meridian=0]="meridian",y[y.direction=1]="direction"}(_e||(_e={}));class Re{constructor(A,B,k){this.m_degrees=A,this.m_minutes=B,this.m_seconds=k}getField(A){switch(A){case N.decimal_degrees:case N.truncated_degrees:return this.m_degrees;case N.fractional_degree_minutes:return this.m_minutes;case N.seconds:case N.fractional_minute_seconds:return this.m_seconds;default:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"})}}static secondsToDMS(A){const B=J(A).fraction;let k=J(A).integer;const V=Math.floor(k/p);k-=V*p;const de=Math.floor(k/e);return k-=de*e,new Re(V,de,k+B)}static numberToDms(A){const B=J(A).fraction,k=J(A).integer,V=se(J(100*B).fraction,100),de=J(100*B).integer;return new Re(k,de,V)}format(A,B){let k=ue(this.m_seconds,B),V=this.m_minutes,de=this.m_degrees;if(A===N.seconds||A===N.fractional_minute_seconds)e<=k&&(k-=e,++V),g<=V&&(V=0,++de),x<=de&&(de=0);else if(A===N.fractional_degree_minutes)k=0,V=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,de=this.m_degrees,g<=V&&(V=0,++de),x<=de&&(de=0);else if(A===N.decimal_degrees||A===N.truncated_degrees){const te=X(this.m_seconds,p),ie=X(this.m_minutes,g);de=Math.round(this.m_degrees+ie+te),V=0,k=0}return new Re(de,V,k)}static dmsToSeconds(A,B,k){return A*p+B*e+k}}class u{constructor(A,B,k){this.meridian=A,this.angle=B,this.direction=k}fetchAzimuth(A){return A===_e.meridian?this.meridian:this.direction}}class v{constructor(A){this._angle=A}static createFromAngleAndDirection(A,B){return new v(new q(v._convertDirectionFormat(A.extractAngularUnits(N.seconds),B,re.north_azimuth)))}getAngle(A){const B=this._angle.extractAngularUnits(N.seconds);switch(A){case re.north_azimuth:case re.south_azimuth:case re.polar:return new q(v._convertDirectionFormat(B,re.north_azimuth,A));case re.quadrant:{const k=v.secondsNorthAzimuthToQuadrant(B);return new q(k.angle)}}}getMeridian(A){const B=this._angle.extractAngularUnits(N.seconds);switch(A){case re.north_azimuth:return ee.north;case re.south_azimuth:return ee.south;case re.polar:return ee.east;case re.quadrant:return v.secondsNorthAzimuthToQuadrant(B).meridian}}getDirection(A){const B=this._angle.extractAngularUnits(N.seconds);switch(A){case re.north_azimuth:return ee.east;case re.south_azimuth:return ee.west;case re.polar:return ee.north;case re.quadrant:return v.secondsNorthAzimuthToQuadrant(B).direction}}static secondsNorthAzimuthToQuadrant(A){const B=A<=O||A>=972e3?ee.north:ee.south,k=B===ee.north?Math.min(l-A,A):Math.abs(A-t);return new u(B,k,A>t?ee.west:ee.east)}static createFromAngleMeridianAndDirection(A,B,k){return new v(new q(v.secondsQuadrantToNorthAzimuth(A.extractAngularUnits(N.seconds),B,k)))}static secondsQuadrantToNorthAzimuth(A,B,k){return B===ee.north?k===ee.east?A:l-A:k===ee.east?t-A:t+A}static _convertDirectionFormat(A,B,k){let V=0;switch(B){case re.north_azimuth:V=A;break;case re.polar:V=O-A;break;case re.quadrant:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"});case re.south_azimuth:V=A+t}let de=0;switch(k){case re.north_azimuth:de=V;break;case re.polar:de=O-V;break;case re.quadrant:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"});case re.south_azimuth:de=V-t}return de=function K(y,A){return y%A}(de,l),de<0?l+de:de}}function $(y,A,B){let k=null;switch(A){case N.decimal_degrees:k=se(y,p);break;case N.seconds:k=y;break;case N.gradians:k=se(y,3240);break;case N.radians:k=se(y,h);break;default:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"})}switch(B){case N.decimal_degrees:return X(k,p);case N.seconds:return k;case N.gradians:return X(k,3240);case N.radians:return k/h;default:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"})}}class q{constructor(A){this._seconds=A}static createFromAngleAndUnits(A,B){return new q($(A,B,N.seconds))}extractAngularUnits(A){return $(this._seconds,N.seconds,ae(A))}static createFromDegreesMinutesSeconds(A,B,k){return new q(C(C(se(A,p),se(B,e)),k))}}function ae(y){switch((0,m.Lw)(y),y){case N.decimal_degrees:case N.truncated_degrees:case N.degrees_minutes_seconds:return N.decimal_degrees;case N.gradians:return N.gradians;case N.fractional_degree_minutes:return N.fractional_degree_minutes;case N.radians:return N.radians;case N.seconds:case N.fractional_minute_seconds:return N.seconds}}class ge{constructor(A,B,k,V){this.view=A,this.angle=B,this.merdian=k,this.direction=V,this._dms=null,this._formattedDms=null}static createFromStringAndBearing(A,B,k){return new ge(A,B.getAngle(k),B.getMeridian(k),B.getDirection(k))}fetchAngle(){return this.angle}fetchMeridian(){return this.merdian}fetchDirection(){return this.direction}fetchView(){return this.view}fetchDms(){return null===this._dms&&this._calculateDms(),this._dms}fetchFormattedDms(){return null===this._formattedDms&&this._calculateDms(),this._formattedDms}_calculateDms(){let A=null,B=N.truncated_degrees,k=0;for(let V=0;V<this.view.length;V++){const de=this.view[V];switch(de){case"m":A=be(this.view,V,de),B=B===N.truncated_degrees?N.fractional_degree_minutes:B,V=A.newpos;continue;case"s":A=be(this.view,V,de),B=N.fractional_minute_seconds,k=k<A.rounding?A.rounding:k,V=A.newpos;continue;default:continue}}this._dms=Re.secondsToDMS(this.angle.extractAngularUnits(N.seconds)),this._formattedDms=Re.secondsToDMS(this.angle.extractAngularUnits(N.seconds)).format(B,k)}}function ve(y,A,B,k,V){let de=null;switch(A){case N.decimal_degrees:case N.radians:case N.gradians:return de=Ae(ue(y.extractAngularUnits(A),k),Ie(A)),de.toFixed(k).padStart(B+k+(k>0?1:0),"0");case N.truncated_degrees:case N.fractional_degree_minutes:return de=Ae(V.fetchFormattedDms().getField(A),Ie(A)),de.toFixed(k).padStart(B+k+(k>0?1:0),"0");case N.fractional_minute_seconds:return de=Ae(ue(V.fetchDms().getField(A),k),Ie(A)),de.toFixed(k).padStart(B+k+(k>0?1:0),"0");default:throw new T.D$(null,T.TX.LogicError,null,{reason:"unexpected evaluation"})}}function je(y){switch(y.toUpperCase().trim()){case"N":case"NORTH":return ee.north;case"E":case"EAST":return ee.east;case"S":case"SOUTH":return ee.south;case"W":case"WEST":return ee.west}return null}function Me(y){const A=parseFloat(y);if((0,E.Et)(A)){if(isNaN(A))throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid conversion"});return A}throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid conversion"})}function ye(y,A,B){const k=B===re.quadrant;let V=null,de=null,te=0,ie=0,le=0;if(k){if(y.length<2)throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"});le=1;const Ce=function Ke(y){switch((0,d.t)(y)){case 1:return{first:ee.north,second:ee.east};case 2:return{first:ee.south,second:ee.east};case 3:return{first:ee.south,second:ee.west};case 4:return{first:ee.north,second:ee.west}}return null}((0,d.f)(y[y.length-1]));if(Ce?(V=Ce.first,de=Ce.second):(te=1,V=je((0,d.f)(y[0])),de=je((0,d.f)(y[y.length-1]))),null===V||null===de)throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid conversion"})}switch(A){case N.decimal_degrees:case N.radians:case N.gradians:if(0===y.length)throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid conversion"});return k?v.createFromAngleMeridianAndDirection(q.createFromAngleAndUnits(Me(y[te]),ae(A)),V,de):v.createFromAngleAndDirection(q.createFromAngleAndUnits(Me(y[te]),ae(A)),B);case N.degrees_minutes_seconds:if(ie=y.length-le-te,3===ie){const Ce=q.createFromDegreesMinutesSeconds(Me(y[te]),Me(y[te+1]),Me(y[te+2]));return k?v.createFromAngleMeridianAndDirection(Ce,V,de):v.createFromAngleAndDirection(Ce,B)}if(1===ie){const Ce=Me(y[te]),Ne=Re.numberToDms(Ce),We=q.createFromDegreesMinutesSeconds(Ne.m_degrees,Ne.m_minutes,Ne.m_seconds);return k?v.createFromAngleMeridianAndDirection(We,V,de):v.createFromAngleAndDirection(We,B)}}throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid conversion"})}function be(y,A,B){const k={padding:0,rounding:0,newpos:A};let V=!1;for(;A<y.length;){const de=y[A];if(de===B)V?k.rounding++:k.padding++,A++;else{if("."!==de)break;V=!0,A++}}return k.newpos=A-1,k}function ke(y,A,B){const k={escaped:"",newpos:A};for(A++;A<y.length;){const V=y[A];if(A++,"]"===V)break;k.escaped+=V}return k.newpos=A-1,k}function P(y,A,B){if(!(A instanceof a.A))throw new T.D$(null,T.TX.InvalidParameter,null);if(!1===A.hasField("directionType"))throw new T.D$(null,T.TX.LogicError,null,{reason:"missing directionType"});if(!1===A.hasField("angleType"))throw new T.D$(null,T.TX.LogicError,null,{reason:"missing angleType"});const k=Te(R(A.field("directiontype"))),V=function Ee(y,A,B){if((0,E.Et)(y))return function Oe(y,A,B){if(B===re.quadrant)throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"});if(A===N.degrees_minutes_seconds){const k=Re.numberToDms(y);return v.createFromAngleAndDirection(q.createFromDegreesMinutesSeconds(k.m_degrees,k.m_minutes,k.m_seconds),B)}return v.createFromAngleAndDirection(q.createFromAngleAndUnits(y,ae(A)),B)}((0,d.t)(y),A,B);if((0,E.Kg)(y))return ye(function pe(y){const A=new Set([" ","-","/","'",'"',"\\","^",H,U,"\t","\r","\n","*"]);let B="";for(let k=0;k<y.length;k++){const V=y.charAt(k);A.has(V)?B+="RRSPLITRRSPLITRR":B+=V}return B.split("RRSPLITRRSPLITRR").filter(k=>""!==k)}(y),A,B);if((0,E.cy)(y))return ye(y,A,B);if((0,d.m)(y))return ye(y.toArray(),A,B);throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"})}(y,Xe(R(A.field("angletype"))),k);if(!(B instanceof a.A))throw new T.D$(null,T.TX.InvalidParameter,null);if(!1===B.hasField("directionType"))throw new T.D$(null,T.TX.LogicError,null,{reason:"missing directionType"});if(!1===B.hasField("outputType"))throw new T.D$(null,T.TX.LogicError,null,{reason:"missing angleType"});const de=Te(R(B.field("directiontype"))),te=B.hasField("angleType")?Xe(R(B.field("angletype"))):null,ie=R(B.field("outputType")).toUpperCase().trim();if(!de||!ie)throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"});if(!(te||"TEXT"===ie&&B.hasField("format")))throw new T.D$(null,T.TX.LogicError,null,{reason:"invalid unit"});switch(ie){case"VALUE":return de===re.quadrant||te===N.degrees_minutes_seconds?function Pe(y,A,B){const k=y.getAngle(A);if(A===re.quadrant&&B===N.degrees_minutes_seconds){const V=Re.secondsToDMS(k.extractAngularUnits(N.seconds));return[De(y.getMeridian(A),"SHORT"),V.m_degrees,V.m_minutes,V.m_seconds,De(y.getDirection(A),"SHORT")]}if(B===N.degrees_minutes_seconds){const V=Re.secondsToDMS(k.extractAngularUnits(N.seconds));return[V.m_degrees,V.m_minutes,V.m_seconds]}return A===re.quadrant?[De(y.getMeridian(A),"SHORT"),k.extractAngularUnits(B),De(y.getDirection(A),"SHORT")]:[k.extractAngularUnits(B)]}(V,de,te):function Se(y,A,B){const k=ae(B);if(k&&B!==N.degrees_minutes_seconds)return y.getAngle(A).extractAngularUnits(k);throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"})}(V,de,te);case"TEXT":{let le="";return B.hasField("format")&&(le=(0,d.f)(B.field("format"))),null!==le&&""!==le||(le=function Ge(y,A){let B="";switch(y){case N.decimal_degrees:B=A===re.quadrant?"DD.DD"+H:"DDD.DD"+H;break;case N.degrees_minutes_seconds:B=A===re.quadrant?"dd"+H+" mm' ss\"":"ddd"+H+" mm' ss.ss\"";break;case N.radians:B="R.RR";break;case N.gradians:B="GGG.GG"+U;break;default:throw new T.D$(null,T.TX.LogicError,null,{reason:"conversion error"})}return A===re.quadrant&&(B="p "+B+" b"),B}(te,de)),function Fe(y,A,B){let k="",V=null,de=null;const te=ge.createFromStringAndBearing(A,y,B),ie={D:N.decimal_degrees,d:N.truncated_degrees,m:N.fractional_degree_minutes,s:N.fractional_minute_seconds,R:N.radians,G:N.gradians};for(let le=0;le<A.length;le++){const Ce=A[le];switch(Ce){case"[":V=ke(A,le),k+=V.escaped,le=V.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":V=be(A,le,Ce),de=y.getAngle(B),k+=ve(de,ie[Ce],V.padding,V.rounding,te),le=V.newpos;continue;case"P":case"p":k+=De(te.fetchMeridian(),"p"===Ce?"SHORT":"LONG");continue;case"B":case"b":k+=De(te.fetchDirection(),"b"===Ce?"SHORT":"LONG");continue;default:k+=Ce}}return k}(V,le,de)}default:throw new T.D$(null,T.TX.InvalidParameter,null)}}const D=2654435761,S=2246822519,ne=3266489917,ce=668265263,he=374761393;function xe(y){const A=[];for(let B=0,k=y.length;B<k;B++){let V=y.charCodeAt(B);V<128?A.push(V):V<2048?A.push(192|V>>6,128|63&V):V<55296||V>=57344?A.push(224|V>>12,128|V>>6&63,128|63&V):(B++,V=65536+((1023&V)<<10|1023&y.charCodeAt(B)),A.push(240|V>>18,128|V>>12&63,128|V>>6&63,128|63&V))}return new Uint8Array(A)}class Le{constructor(A){this._seed=A,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(A){const B=[];for(const k of A)isNaN(k)?B.push("NaN"):B.push(k===1/0?"Infinity":k===-1/0?"-Infinity":0===k?"0":k.toString(16));this.update(xe(B.join("")))}updateIntArray(A){const B=Int32Array.from(A);this.update(new Uint8Array(B.buffer))}updateUint8Array(A){this.update(Uint8Array.from(A))}updateWithString(A){return this.update(xe(A))}update(A){return this._bufs.push(A),this._totallen+=A.length,this}digest(){const A=new Uint8Array(this._totallen);let B=0;for(const k of this._bufs)A.set(k,B),B+=k.length;return this.init(),this._xxHash32(A,this._seed)}_xxHash32(A,B=0){const k=A;let V=B+he&4294967295,de=0;if(k.length>=16){const ie=[B+D+S&4294967295,B+S&4294967295,B+0&4294967295,B-D&4294967295],le=A,Ce=le.length-16;let Ne=0;for(de=0;(4294967280&de)<=Ce;de+=4){let i=ie[Ne]+((le[de]+(le[de+1]<<8))*S+((le[de+2]+(le[de+3]<<8))*S<<16))&4294967295;i=i<<13|i>>>19,ie[Ne]=(65535&i)*D+((i>>>16)*D<<16)&4294967295,Ne=Ne+1&3}V=(ie[0]<<1|ie[0]>>>31)+(ie[1]<<7|ie[1]>>>25)+(ie[2]<<12|ie[2]>>>20)+(ie[3]<<18|ie[3]>>>14)&4294967295}V=V+A.length&4294967295;const te=A.length-4;for(;de<=te;de+=4)V=V+((k[de]+(k[de+1]<<8))*ne+((k[de+2]+(k[de+3]<<8))*ne<<16))&4294967295,V=V<<17|V>>>15,V=(65535&V)*ce+((V>>>16)*ce<<16)&4294967295;for(;de<k.length;++de)V+=k[de]*he,V=V<<11|V>>>21,V=(65535&V)*D+((V>>>16)*D<<16)&4294967295;return V^=V>>>15,V=((65535&V)*S&4294967295)+((V>>>16)*S<<16),V^=V>>>13,V=((65535&V)*ne&4294967295)+((V>>>16)*ne<<16),V^=V>>>16,V<0?V+4294967296:V}}var He=w(45272),ze=w(43085),qe=w(28067),rt=w(21870),et=w(1749),st=w(55861),it=w(93615),tt=w(32034),ot=w(73874);function b(y,A){if(!y||!A)return y===A;if(y.x===A.x&&y.y===A.y){if(y.hasZ){if(y.z!==A.z)return!1}else if(A.hasZ)return!1;if(y.hasM){if(y.m!==A.m)return!1}else if(A.hasM)return!1;return!0}return!1}function L(y,A,B){if(null!==y)if((0,E.cy)(y)){if(A.updateUint8Array([61]),B.map.has(y)){const k=B.map.get(y);A.updateIntArray([61237541^k])}else{B.map.set(y,B.currentLength++);for(const k of y)L(k,A,B);B.map.delete(y),B.currentLength--}A.updateUint8Array([199])}else if((0,d.m)(y)){if(A.updateUint8Array([61]),B.map.has(y)){const k=B.map.get(y);A.updateIntArray([61237541^k])}else{B.map.set(y,B.currentLength++);for(const k of y.toArray())L(k,A,B);B.map.delete(y),B.currentLength--}A.updateUint8Array([199])}else{if((0,d.g)(y))return A.updateIntArray([y.toNumber()]),void A.updateUint8Array([241]);if((0,d.j)(y))return A.updateIntArray([y.toNumber()]),void A.updateIntArray([257]);if((0,d.k)(y))return A.updateIntArray([y.toNumber()]),void A.updateIntArray([263]);if((0,E.Kg)(y))return A.updateIntArray([y.length]),A.updateWithString(y),void A.updateUint8Array([41]);if((0,E.Lm)(y))A.updateUint8Array([!0===y?1:0,113]);else{if((0,E.Et)(y))return A.updateFloatArray([y]),void A.updateUint8Array([173]);if(y instanceof Z.A)throw new T.D$(B.context,T.TX.UnsupportedHashType,B.node);if(y instanceof G.A)throw new T.D$(B.context,T.TX.UnsupportedHashType,B.node);if(!(y instanceof a.A)){if((0,d.n)(y))throw new T.D$(B.context,T.TX.UnsupportedHashType,B.node);if(y instanceof et.A)return A.updateIntArray([3833836621]),A.updateIntArray([0]),A.updateFloatArray([y.x]),A.updateIntArray([1]),A.updateFloatArray([y.y]),y.hasZ&&(A.updateIntArray([2]),A.updateFloatArray([y.z])),y.hasM&&(A.updateIntArray([3]),A.updateFloatArray([y.m])),A.updateIntArray([3765347959]),void L(y.spatialReference.wkid,A,B);if(y instanceof st.A){A.updateIntArray([1266616829]);for(let k=0;k<y.rings.length;k++){const V=y.rings[k],de=[];let te=null,ie=null;for(let le=0;le<V.length;le++){const Ce=y.getPoint(k,le);if(0===le)te=Ce;else if(b(ie,Ce))continue;ie=Ce,le===V.length-1&&b(te,Ce)||de.push(Ce)}A.updateIntArray([1397116793,de.length]);for(let le=0;le<de.length;le++){const Ce=de[le];A.updateIntArray([3962308117,le]),L(Ce,A,B),A.updateIntArray([2716288009])}A.updateIntArray([2278822459])}return A.updateIntArray([3878477243]),void L(y.spatialReference.wkid,A,B)}if(y instanceof it.A){A.updateIntArray([4106883559]);for(let k=0;k<y.paths.length;k++){const V=y.paths[k];A.updateIntArray([1397116793,V.length]);for(let de=0;de<V.length;de++)A.updateIntArray([3962308117,de]),L(y.getPoint(k,de),A,B),A.updateIntArray([2716288009]);A.updateIntArray([2278822459])}return A.updateIntArray([2568784753]),void L(y.spatialReference.wkid,A,B)}if(y instanceof rt.A){A.updateIntArray([588535921,y.points.length]);for(let k=0;k<y.points.length;k++){const V=y.getPoint(k);A.updateIntArray([k]),L(V,A,B)}return A.updateIntArray([1700171621]),void L(y.spatialReference.wkid,A,B)}if(y instanceof qe.A)return A.updateIntArray([3483648373]),A.updateIntArray([0]),A.updateFloatArray([y.xmax]),A.updateIntArray([1]),A.updateFloatArray([y.xmin]),A.updateIntArray([2]),A.updateFloatArray([y.ymax]),A.updateIntArray([3]),A.updateFloatArray([y.ymin]),y.hasZ&&(A.updateIntArray([4]),A.updateFloatArray([y.zmax]),A.updateIntArray([5]),A.updateFloatArray([y.zmin])),y.hasM&&(A.updateIntArray([6]),A.updateFloatArray([y.mmax]),A.updateIntArray([7]),A.updateFloatArray([y.mmin])),A.updateIntArray([3622027469]),void L(y.spatialReference.wkid,A,B);if(y instanceof tt.A)return A.updateIntArray([14]),null!=y.wkid&&A.updateIntArray([y.wkid]),y.wkt&&A.updateWithString(y.wkt),void(y.wkt2&&A.updateWithString(y.wkt2));throw(0,d.i)(y)||(0,d.p)(y)||(0,d.o)(y),new T.D$(B.context,T.TX.UnsupportedHashType,B.node)}if(A.updateUint8Array([223]),B.map.has(y)){const k=B.map.get(y);A.updateIntArray([61237541^k])}else{B.map.set(y,B.currentLength++);for(const k of y.keys())A.updateIntArray([k.length]),A.updateWithString(k),A.updateUint8Array([251]),L(y.field(k),A,B),A.updateUint8Array([239]);B.map.delete(y),B.currentLength--}A.updateUint8Array([73])}}else A.updateUint8Array([0,139])}function Q(y,A){y.portal=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,1,1,B,k),new G.A((0,d.f)(te[0]))))},y.typeof=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,1,B,k);const ie=(0,d.L)(te[0]);if("Unrecognized Type"===ie)throw new T.D$(B,T.TX.UnrecognizedType,k);return ie})},y.trim=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,1,1,B,k),(0,d.f)(te[0]).trim()))},y.tohex=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,1,B,k);const ie=(0,d.t)(te[0]);return isNaN(ie)?ie:ie.toString(16)})},y.upper=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,1,1,B,k),(0,d.f)(te[0]).toUpperCase()))},y.proper=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,2,B,k);let ie=1;2===te.length&&"firstword"===(0,d.f)(te[1]).toLowerCase()&&(ie=2);const le=/\s/,Ce=(0,d.f)(te[0]);let Ne="",We=!0;for(let at=0;at<Ce.length;at++){let Qe=Ce[at];le.test(Qe)?1===ie&&(We=!0):Qe.toUpperCase()!==Qe.toLowerCase()&&(We?(Qe=Qe.toUpperCase(),We=!1):Qe=Qe.toLowerCase()),Ne+=Qe}return Ne})},y.lower=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,1,1,B,k),(0,d.f)(te[0]).toLowerCase()))},y.guid=function(B,k){return A(B,k,(V,de,te)=>{if((0,d.D)(te,0,1,B,k),te.length>0)switch((0,d.f)(te[0]).toLowerCase()){case"digits":return(0,ze.lk)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,ze.lk)();case"digits-hyphen-braces":return"{"+(0,ze.lk)()+"}";case"digits-hyphen-parentheses":return"("+(0,ze.lk)()+")"}return"{"+(0,ze.lk)()+"}"})},y.standardizeguid=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,2,2,B,k);let ie=(0,d.f)(te[0]);if(""===ie||null===ie)return"";const le=/^(\{|\()?(?<partA>[0-9a-z]{8})(-?)(?<partB>[0-9a-z]{4})(-?)(?<partC>[0-9a-z]{4})(-?)(?<partD>[0-9a-z]{4})(-?)(?<partE>[0-9a-z]{12})(\}|\))?$/gim.exec(ie);if(!le)return"";const Ce=le.groups;switch(ie=Ce.partA+"-"+Ce.partB+"-"+Ce.partC+"-"+Ce.partD+"-"+Ce.partE,(0,d.f)(te[1]).toLowerCase()){case"digits":return ie.replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return ie;case"digits-hyphen-braces":return"{"+ie+"}";case"digits-hyphen-parentheses":return"("+ie+")"}return"{"+ie+"}"})},y.console=function(B,k){return A(B,k,(V,de,te)=>(0===te.length||B.console((0,d.f)(1===te.length?te[0]:te)),d.w))},y.mid=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,2,3,B,k);let ie=(0,d.t)(te[1]);if(isNaN(ie))return"";if(ie=Math.max(0,ie),2===te.length)return(0,d.f)(te[0]).slice(ie);let le=(0,d.t)(te[2]);return isNaN(le)?"":(le<0&&(le=0),(0,d.f)(te[0]).slice(ie,ie+le))})},y.find=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,2,3,B,k);let ie=0;if(te.length>2){if(ie=(0,d.t)((0,d.J)(te[2],0)),isNaN(ie))return-1;ie<0&&(ie=0)}return(0,d.f)(te[1]).indexOf((0,d.f)(te[0]),ie)})},y.left=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,2,2,B,k);let ie=(0,d.t)(te[1]);return isNaN(ie)?"":(ie<0&&(ie=0),(0,d.f)(te[0]).slice(0,ie))})},y.right=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,2,2,B,k);const ie=(0,d.t)(te[1]);return isNaN(ie)||ie<=0?"":(0,d.f)(te[0]).slice(-ie)})},y.split=function(B,k){return A(B,k,(V,de,te)=>{let ie;(0,d.D)(te,2,4,B,k);let le=(0,d.t)((0,d.J)(te[2],-1));const Ce=(0,d.e)((0,d.J)(te[3],!1));if(-1===le||null===le||!0===Ce?ie=(0,d.f)(te[0]).split((0,d.f)(te[1])):(isNaN(le)&&(le=-1),le<-1&&(le=-1),ie=(0,d.f)(te[0]).split((0,d.f)(te[1]),le)),!1===Ce)return ie;const Ne=[];for(let We=0;We<ie.length&&!(-1!==le&&Ne.length>=le);We++)""!==ie[We]&&void 0!==ie[We]&&Ne.push(ie[We]);return Ne})},y.text=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,1,2,B,k),(0,d.s)(te[0],te[1])))},y.concatenate=function(B,k){return A(B,k,(V,de,te)=>{const ie=[];if(te.length<1)return"";if((0,E.cy)(te[0])){const le=(0,d.J)(te[2],"");for(let Ce=0;Ce<te[0].length;Ce++)ie[Ce]=(0,d.s)(te[0][Ce],le);return ie.join(te.length>1?te[1]:"")}if((0,d.m)(te[0])){const le=(0,d.J)(te[2],"");for(let Ce=0;Ce<te[0].length();Ce++)ie[Ce]=(0,d.s)(te[0].get(Ce),le);return ie.join(te.length>1?te[1]:"")}for(let le=0;le<te.length;le++)ie[le]=(0,d.s)(te[le]);return ie.join("")})},y.reverse=function(B,k){return A(B,k,(V,de,te)=>{if((0,d.D)(te,1,1,B,k),(0,E.cy)(te[0])){const ie=te[0].slice();return ie.reverse(),ie}if((0,d.m)(te[0])){const ie=te[0].toArray().slice();return ie.reverse(),ie}throw new T.D$(B,T.TX.InvalidParameter,k)})},y.replace=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,3,4,B,k);const ie=(0,d.f)(te[0]),le=(0,d.f)(te[1]),Ce=(0,d.f)(te[2]);return 4!==te.length||(0,d.e)(te[3])?(0,d.W)(ie,le,Ce):ie.replace(le,Ce)})},y.urlencode=function(B,k){return A(B,k,(V,de,te)=>{if((0,d.D)(te,1,1,B,k),null===te[0])return"";if(te[0]instanceof a.A){let ie="";for(const le of te[0].keys()){const Ce=te[0].field(le);""!==ie&&(ie+="&"),ie+=null===Ce?encodeURIComponent(le)+"=":encodeURIComponent(le)+"="+encodeURIComponent(Ce)}return ie}return encodeURIComponent((0,d.f)(te[0]))})},y.hash=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,1,B,k);const ie=new Le(0);return L(te[0],ie,{context:B,node:k,map:new Map,currentLength:0}),ie.digest()})},y.convertdirection=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,3,3,B,k),P(te[0],te[1],te[2])))},y.fromjson=function(B,k){return A(B,k,(V,de,te)=>{if((0,d.D)(te,1,1,B,k),!1===(0,E.Kg)(te[0]))throw new T.D$(B,T.TX.InvalidParameter,k);return a.A.convertJsonToArcade(JSON.parse((0,d.f)(te[0])),(0,d.K)(B))})},y.tocharcode=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,2,B,k);const ie=(0,d.t)((0,d.J)(te[1],0)),le=(0,d.f)(te[0]);if(0===le.length&&1===te.length)return null;if(le.length<=ie||ie<0)throw new T.D$(B,T.TX.OutOfBounds,k);return le.charCodeAt(ie)})},y.tocodepoint=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,2,B,k);const ie=(0,d.t)((0,d.J)(te[1],0)),le=(0,d.f)(te[0]);if(0===le.length&&1===te.length)return null;if(le.length<=ie||ie<0)throw new T.D$(B,T.TX.OutOfBounds,k);return le.codePointAt(ie)})},y.fromcharcode=function(B,k){return A(B,k,(V,de,te)=>{if(te.length<1)throw new T.D$(B,T.TX.WrongNumberOfParameters,k);const ie=te.map(le=>Math.trunc((0,d.t)(le))).filter(le=>le>=0&&le<=65535);return 0===ie.length?null:String.fromCharCode.apply(null,ie)})},y.fromcodepoint=function(B,k){return A(B,k,(V,de,te)=>{if(te.length<1)throw new T.D$(B,T.TX.WrongNumberOfParameters,k);let ie;try{ie=te.map(le=>Math.trunc((0,d.t)(le))).filter(le=>le<=1114111&&le>>>0===le)}catch{return null}return 0===ie.length?null:String.fromCodePoint.apply(null,ie)})},y.getuser=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,0,2,B,k);let ie=(0,d.J)(te[1],"");if(ie=!0===ie||!1===ie?"":(0,d.f)(ie),null!==ie&&""!==ie)return null;if(0===te.length||te[0]instanceof G.A){let le=null;if(le=B.services?.portal?B.services.portal:ot.A.getDefault(),te.length>0&&!function s(y,A){return!!y&&(0,He.ut)(y,A?.restUrl||"")}(te[0].field("url"),le)||!le)return null;if(""===ie){const Ce=function r(y){return"loaded"===y.loadStatus&&y.user?.sourceJSON?y.user.sourceJSON:null}(le);if(Ce){const Ne=JSON.parse(JSON.stringify(Ce));for(const We of["lastLogin","created","modified"])null!=Ne[We]&&(Ne[We]=new Date(Ne[We]));return a.A.convertObjectToArcadeDictionary(Ne,(0,d.K)(B))}}return null}throw new T.D$(B,T.TX.InvalidParameter,k)})},y.getenvironment=function(B,k){return A(B,k,(V,de,te)=>((0,d.D)(te,0,0,B,k),a.A.convertObjectToArcadeDictionary((0,d.X)((0,d.K)(B),B.spatialReference),(0,d.K)(B),!0)))},y.standardizefilename=function(B,k){return A(B,k,(V,de,te)=>{(0,d.D)(te,1,1,V,de);const[ie]=te;if(null==ie)return"";if(!(0,E.Kg)(ie))throw new T.D$(V,T.TX.InvalidParameter,de);return ie.replaceAll(/[<>"?*]/g,"_").replaceAll(/[/\\|]/g,"-").replaceAll(":",", ")})}}},87875:(Ue,we,w)=>{w.d(we,{E:()=>E});var G=w(55279),Z=w(42970),a=w(42686),T=w(55739),d=w(1749),m=w(61320);function E(R,ue,K=null){const J=oe(R,!0);if(void 0!==J.hasm&&(J.hasM=J.hasm,delete J.hasm),void 0!==J.hasz&&(J.hasZ=J.hasz,delete J.hasz),void 0!==J.spatialreference&&(J.spatialReference=J.spatialreference,delete J.spatialreference),J.spatialReference||(J.spatialReference=ue),void 0!==J.rings){const N=H(I(J.rings),J.hasZ,J.hasM);if(null==N)return null;J.rings=N.arrays,J.hasZ=N.hasZ,J.hasM=N.hasM}if(void 0!==J.paths){const N=H(I(J.paths),J.hasZ,J.hasM);if(null==N)return null;J.paths=N.arrays,J.hasZ=N.hasZ,J.hasM=N.hasM}if(void 0!==J.points){const N=function U(R,ue,K){const J=F(R);if(J===_)return null;const{hasZ:ee,hasM:N}=t(ue,K,J);return{array:f(R,h(ee,N),e(ee,N)),hasZ:ee,hasM:N}}(J.points,J.hasZ,J.hasM);if(null==N)return null;J.points=N.array,J.hasZ=N.hasZ,J.hasM=N.hasM}const ee=(0,m.rS)(J);if(null!=K&&ee?.type!==K)throw new G.D$(null,G.TX.InvalidParameter,null);return ee}function oe(R,ue=!1){const K={};for(const J of R.keys()){const ee=ue?J.toLowerCase():J,N=R.attributes[J];K[ee]=(0,a.q)(N)?oe(N):N}return K}const _=Symbol("NoValue");function F(R){return Array.isArray(R)&&R.length>0?R[0]:R instanceof Z.A&&R.length()>0?R.get(0):_}function I(R){const ue=F(F(R));return ue===_||Array.isArray(ue)||ue instanceof Z.A||ue instanceof d.A?R:[R]}const z=0;function C(R){return(0,T.GB)(R,z)??z}function Y(R){return"number"==typeof R&&!Number.isNaN(R)}const se=null;function X(R){return(0,T.GB)(R,se)??se}function x(R){return"number"==typeof R&&!Number.isNaN(R)||null===R}function j(R){return!(R.length<2||"number"!=typeof R[0]||Number.isNaN(R[0])||"number"!=typeof R[1]||Number.isNaN(R[1]))}function o(R){return j(R)?R.length>2?R.slice(0,2):R:null}function p(R){return j(R)?Y(R[2])?R.length>3?R.slice(0,3):R:[R[0],R[1],C(R[2])]:null}function c(R){return j(R)?R.length>=3&&!x(R[2])?[R[0],R[1],X(R[2])]:R.length>3?R.slice(0,3):R:null}function g(R){return j(R)?Y(R[2])&&x(R[3])?R.length>4?R.slice(0,4):R:[R[0],R[1],C(R[2]),X(R[3])]:null}function e(R,ue){return R?ue?g:p:ue?c:o}function h(R,ue){return R?ue?K=>[K.x,K.y,K.z??z,K.m??se]:K=>[K.x,K.y,K.z??z]:ue?K=>[K.x,K.y,K.m??se]:K=>[K.x,K.y]}function l(R,ue,K){return Array.isArray(R)?K(R):R instanceof d.A?ue(R):R instanceof Z.A?K(R.toArray()):null}function O(R,ue,K){return Array.isArray(R)?R.length>=ue:R instanceof Z.A?R.length()>=ue:R instanceof d.A&&R[K]}function t(R,ue,K){return void 0===R&&void 0===ue?{hasZ:O(K,3,"hasZ"),hasM:O(K,4,"hasM")}:void 0===R?!0===ue?{hasZ:O(K,4,"hasZ"),hasM:!0}:{hasZ:O(K,3,"hasZ"),hasM:!1}:void 0===ue?!0===R?{hasZ:!0,hasM:O(K,4,"hasM")}:{hasZ:!1,hasM:O(K,3,"hasM")}:{hasZ:!0===R,hasM:!0===ue}}function f(R,ue,K){const J=[];if(Array.isArray(R))for(let ee=0;ee<R.length;ee++){const N=l(R[ee],ue,K);null!=N&&J.push(N)}else if(R instanceof Z.A)for(let ee=0;ee<R.length();ee++){const N=l(R.get(ee),ue,K);null!=N&&J.push(N)}return J}function H(R,ue,K){const J=F(F(R));if(J===_)return null;const{hasZ:ee,hasM:N}=t(ue,K,J),re=h(ee,N),_e=e(ee,N),De=[];if(Array.isArray(R))for(let Ae=0;Ae<R.length;Ae++)De.push(f(R[Ae],re,_e));else if(R instanceof Z.A)for(let Ae=0;Ae<R.length();Ae++)De.push(f(R.get(Ae),re,_e));return{arrays:De,hasZ:ee,hasM:N}}},65933:(Ue,we,w)=>{w.d(we,{ZL:()=>e,Bn:()=>t,Cd:()=>l,UI:()=>h,kr:()=>O});var G=w(53787),Z=w(55279),a=w(42686),T=w(29417),d=w(82663),m=w(1749),E=w(55861);function oe(f,U,H){const R=U[0]-f[0],ue=U[1]-f[1];return Math.sqrt(R*R+ue*ue)}function I(f,U,H,R){const ue=function F(f){const U=function _(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])}(f);return[f[0]/U,f[1]/U,f[2]/U]}([U[0]-f[0],U[1]-f[1],U[2]*R-f[2]*R]);return[f[0]+ue[0]*H,f[1]+ue[1]*H,f[2]+ue[2]*H]}function z(f,U,H,R){return f+(U-f)/H*R}function C(f,U,H){let R=U[0]-f[0],ue=U[1]-f[1];const K=Math.sqrt(R*R+ue*ue);return R/=K,ue/=K,R*=H,ue*=H,[f[0]+R,f[1]+ue]}var p=w(68643),c=w(93615),g=w(68778);function e(f,U,H){if((0,a.D)(f,2,2,U,H),!(f[0]instanceof p.A&&f[1]instanceof p.A||f[0]instanceof p.A&&null===f[1]||f[1]instanceof p.A&&null===f[0]||null===f[0]&&null===f[1]))throw new Z.D$(U,Z.TX.InvalidParameter,H)}function h(f){if("polygon"!==f.type&&"polyline"!==f.type&&"extent"!==f.type)return 0;let U=1;(f.spatialReference.vcsWkid||f.spatialReference.latestVcsWkid)&&(U=(0,T.G9)(f.spatialReference)/(0,d.GA)(f.spatialReference));let H=0;if("polyline"===f.type)for(const R of f.paths)for(let ue=1;ue<R.length;ue++)H+=(0,T.BM)(R[ue],R[ue-1],U);else if("polygon"===f.type)for(const R of f.rings){for(let ue=1;ue<R.length;ue++)H+=(0,T.BM)(R[ue],R[ue-1],U);(R[0][0]!==R[R.length-1][0]||R[0][1]!==R[R.length-1][1]||void 0!==R[0][2]&&R[0][2]!==R[R.length-1][2])&&(H+=(0,T.BM)(R[0],R[R.length-1],U))}else"extent"===f.type&&(H+=2*(0,T.BM)([f.xmin,f.ymin,0],[f.xmax,f.ymin,0],U),H+=2*(0,T.BM)([f.xmin,f.ymin,0],[f.xmin,f.ymax,0],U),H*=2,H+=4*Math.abs((0,a.J)(f.zmax,0)*U-(0,a.J)(f.zmin,0)*U));return H}const l=(f,U,H)=>{if(H=(0,a.E)(H),(0,a.D)(H,2,2,f,U),null===H[0])return null;let R=H[0];if(((0,g.cy)(H[0])||(0,a.m)(H[0]))&&(R=(0,a.G)(H[0],f.spatialReference)),null===R)return null;if(!(R instanceof p.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);if(!(R instanceof c.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);if(!(0,g.Et)(H[1]))throw new Z.D$(f,Z.TX.InvalidParameter,U);const ue=function Y(f,U){if(!f)return null;switch(f.type){case"extent":case"multipoint":case"mesh":case"point":return null}const H="polygon"===f.type?f.rings:f.paths;let R=1;if((f.spatialReference.vcsWkid||f.spatialReference.latestVcsWkid)&&(R=(0,T.G9)(f.spatialReference)/(0,d.GA)(f.spatialReference)),0===H.length||0===H[0].length||!1===f.hasM)return null;let ue=-1,K=0;const J=f.hasZ?T.BM:oe,ee=f.hasZ?3:2;for(const re of H){if(ue++,re.length>0&&re[0][ee]===U)return{partId:ue,distanceAlong:K,coordinate:new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:re[0][0],y:re[0][1],...f.hasZ?{z:re[0][2]}:{},...f.hasM?{m:re[0][ee]}:{}}),segmentId:0};let _e=-1;for(let De=1;De<re.length;De++){const Ae=J(re[De-1],re[De],R);_e++;const Ie=re[De][ee]-re[De-1][ee],Te=re[De][ee];if(Te===U)return{partId:ue,distanceAlong:Ae+K,coordinate:new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:re[De][0],y:re[De][1],...f.hasZ?{z:re[De][2]}:{},...f.hasM?{m:re[De][ee]}:{}}),segmentId:_e};if(Te>U&&U>re[De-1][ee]){const Xe=(U-re[De-1][ee])/Ie*Ae;let Re=f.hasZ?I(re[De-1],re[De],Xe,R):C(re[De-1],re[De],Xe);Re=[...Re,U];const u=new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:Re[0],y:Re[1],...f.hasZ?{z:Re[2]}:{},...f.hasM?{m:Re[ee]}:{}});return{partId:ue,distanceAlong:K+J(re[De-1],[u.x,u.y,...u.hasZ?[u.z]:[],...u.hasM?[u.m]:[]],R),coordinate:u,segmentId:_e}}K+=Ae}}return null}(R,H[1]);return ue?G.A.convertObjectToArcadeDictionary(ue,(0,a.K)(f),!1,!0):null},O=(f,U,H)=>{if(H=(0,a.E)(H),(0,a.D)(H,2,2,f,U),null===H[0])return null;let R=H[0];if(((0,g.cy)(H[0])||(0,a.m)(H[0]))&&(R=(0,a.G)(H[0],f.spatialReference)),null===R)return null;if(!(R instanceof p.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);if(!(R instanceof c.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);const ue=H[1];if(null===ue)return null;if(!(ue instanceof m.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);const K=function o(f,U){if(!f||!U)return null;switch("extent"===f.type&&(f=new E.A({spatialReference:f.spatialReference,rings:[[[f.xmin,f.ymin],[f.xmin,f.ymax],[f.xmax,f.ymax],[f.xmax,f.ymin],[f.xmin,f.ymin]]]})),f.type){case"point":return function X(f,U){if(!f||!U)return null;let H=1;(U.spatialReference.vcsWkid||U.spatialReference.latestVcsWkid)&&(H=(0,T.G9)(U.spatialReference)/(0,d.GA)(U.spatialReference));let R=null,ue=0;return R=f,ue=f.hasZ&&U.hasZ?(0,T.BM)([U.x,U.y,U.z],[f.x,f.y,f.z],H):(0,T.E8)([U.x,U.y],[f.x,f.y],!1),{coordinate:R,distance:ue}}(f,U)??null;case"multipoint":return function x(f,U){if(!f||!U)return null;let H=1;(U.spatialReference.vcsWkid||U.spatialReference.latestVcsWkid)&&(H=(0,T.G9)(U.spatialReference)/(0,d.GA)(U.spatialReference));let R=null,ue=0,K=Number.MAX_VALUE,J=-1,ee=-1;for(const N of f.points||[]){ee++;const re=f.hasZ&&U.hasZ?(0,T.x6)([N[0],N[1],N[2]],[U.x,U.y,U.z],H):(0,T.UX)([N[0],N[1]],[U.x,U.y],!1);re<K&&(K=re,J=ee)}return J<0?null:(ue=K,R=f.getPoint(J),{coordinate:R,distance:Math.sqrt(ue)})}(f,U)??null;case"polygon":case"polyline":return function j(f,U){if(!f||!U)return null;const H="polygon"===f.type?f.rings:f.paths;let R=1;(U.spatialReference.vcsWkid||U.spatialReference.latestVcsWkid)&&(R=(0,T.G9)(U.spatialReference)/(0,d.GA)(U.spatialReference));let ue=Number.MAX_VALUE,K=-1,J=-1,ee=-1;const N=f.hasZ&&U.hasZ;let re=null;const _e=N?[U.x,U.y,U.z]:[U.x,U.y];for(const $ of H){J++;for(let q=1;q<$.length;q++){const ae=N?(0,T.Ws)(_e,$[q-1],$[q]):(0,T.ux)(_e,$[q-1],$[q]),ge=N?(0,T.x6)(ae,_e,R):(0,T.UX)(ae,_e,!1);ge<ue&&(ue=ge,re=ae,ee=J,K=q-1)}}if(K<0)return null;const De=f.hasM&&f.hasZ?3:2,Ie=H[ee][K],Te=H[ee][K+1];let Xe=null,Re=null,u=N?re[2]:null;f.hasM&&(Re=z(Ie[De],Te[De],N?(0,T.BM)(Ie,Te,R):(0,T.E8)(Ie,Te,!1),N?(0,T.BM)(Ie,re,R):(0,T.E8)(Ie,re,!1))),f.hasZ&&!1===U.hasZ&&(u=z(Ie[2],Te[2],N?(0,T.BM)(Ie,Te,R):(0,T.E8)(Ie,Te,!1),N?(0,T.BM)(Ie,re,R):(0,T.E8)(Ie,re,!1))),Xe=new m.A({hasZ:N,hasM:f.hasM,spatialReference:U.spatialReference,x:re[0],y:re[1],...f.hasZ?{z:u}:{},...f.hasM?{m:Re}:{}});let v=0;for(let $=0;$<=ee;$++){const q=H[$],ae=$===ee?K:q.length-1;for(let ge=1;ge<=ae;ge++)v+=f.hasZ?(0,T.BM)(q[ge-1],q[ge],R):(0,T.E8)([q[ge-1][0],q[ge-1][1]],[q[ge][0],q[ge][1]],!1)}return v+=f.hasZ?(0,T.BM)(Ie,[Xe.x,Xe.y,Xe.z],R):(0,T.E8)(Ie,[Xe.x,Xe.y],!1),{partId:ee,segmentId:K,coordinate:Xe,distance:Math.sqrt(ue),distanceAlong:v}}(f,U)??null;default:return null}}(R,ue);return K?G.A.convertObjectToArcadeDictionary(K,(0,a.K)(f),!1,!0):null},t=(f,U,H)=>{if(H=(0,a.E)(H),(0,a.D)(H,2,2,f,U),null===H[0])return null;let R=H[0];if(((0,g.cy)(H[0])||(0,a.m)(H[0]))&&(R=(0,a.G)(H[0],f.spatialReference)),null===R)return null;if(!(R instanceof p.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);if(!(R instanceof c.A))throw new Z.D$(f,Z.TX.InvalidParameter,U);if(!(0,g.Et)(H[1]))throw new Z.D$(f,Z.TX.InvalidParameter,U);const ue=function se(f,U){if(!f)return null;switch(f.type){case"extent":case"multipoint":case"mesh":case"point":return null}const H="polygon"===f.type?f.rings:f.paths;if(U<0)return null;let R=1;(f.spatialReference.vcsWkid||f.spatialReference.latestVcsWkid)&&(R=(0,T.G9)(f.spatialReference)/(0,d.GA)(f.spatialReference));let ue=0;const K=f.hasZ?3:2,ee=f.hasZ?T.BM:oe;let N=-1;if(0===U)return 0===H.length||0===H[0].length?null:{partId:0,coordinate:new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:H[0][0][0],y:H[0][0][1],...f.hasZ?{z:H[0][0][2]}:{},...f.hasM?{m:H[0][0][K]}:{}}),segmentId:0};for(const re of H){N++;let _e=-1;for(let De=1;De<re.length;De++){_e++;const Ae=ee(re[De-1],re[De],R),Ie=ue+Ae;if(Ie===U)return{partId:N,coordinate:new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:re[De][0],y:re[De][1],...f.hasZ?{z:re[De][2]}:{},...f.hasM?{m:re[De][K]}:{}}),segmentId:_e};if(Ie>U){let Te=f.hasZ?I(re[De-1],re[De],U-ue,R):C(re[De-1],re[De],U-ue);return Te=[...Te,z(re[De-1][K],re[De][K],Ae,U-ue)],{partId:N,coordinate:new m.A({hasZ:f.hasZ,hasM:f.hasM,spatialReference:f.spatialReference,x:Te[0],y:Te[1],...f.hasZ?{z:Te[2]}:{},...f.hasM?{m:Te[K]}:{}}),segmentId:_e}}ue=Ie}}return null}(R,H[1]);return ue?G.A.convertObjectToArcadeDictionary(ue,(0,a.K)(f),!1,!0):null}},3108:(Ue,we,w)=>{w.d(we,{t:()=>Re});var d=["++","--"],m=["-","+","!","~"],E=["=","/=","*=","%=","+=","-="],oe=["||","&&"],F={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},z=["Unknown","Boolean","<end>","Identifier","Keyword","Null","Numeric","Punctuator","String","RegularExpression","Template"],C={InvalidModuleUri:"InvalidModuleUri",ForInOfLoopInitializer:"ForInOfLoopInitializer",IdentifierExpected:"IdentifierExpected",InvalidEscapedReservedWord:"InvalidEscapedReservedWord",InvalidExpression:"InvalidExpression",InvalidFunctionIdentifier:"InvalidFunctionIdentifier",InvalidHexEscapeSequence:"InvalidHexEscapeSequence",InvalidLeftHandSideInAssignment:"InvalidLeftHandSideInAssignment",InvalidLeftHandSideInForIn:"InvalidLeftHandSideInForIn",InvalidTemplateHead:"InvalidTemplateHead",InvalidVariableAssignment:"InvalidVariableAssignment",KeyMustBeString:"KeyMustBeString",NoFunctionInsideBlock:"NoFunctionInsideBlock",NoFunctionInsideFunction:"NoFunctionInsideFunction",ModuleExportRootOnly:"ModuleExportRootOnly",ModuleImportRootOnly:"ModuleImportRootOnly",PunctuatorExpected:"PunctuatorExpected",TemplateOctalLiteral:"TemplateOctalLiteral",UnexpectedBoolean:"UnexpectedBoolean",UnexpectedEndOfScript:"UnexpectedEndOfScript",UnexpectedIdentifier:"UnexpectedIdentifier",UnexpectedKeyword:"UnexpectedKeyword",UnexpectedNull:"UnexpectedNull",UnexpectedNumber:"UnexpectedNumber",UnexpectedPunctuator:"UnexpectedPunctuator",UnexpectedString:"UnexpectedString",UnexpectedTemplate:"UnexpectedTemplate",UnexpectedToken:"UnexpectedToken"},Y={[C.InvalidModuleUri]:"Module uri must be a text literal.",[C.ForInOfLoopInitializer]:"for-in loop variable declaration may not have an initializer.",[C.IdentifierExpected]:"'${value}' is an invalid identifier.",[C.InvalidEscapedReservedWord]:"Keyword cannot contain escaped characters.",[C.InvalidExpression]:"Invalid expression.",[C.InvalidFunctionIdentifier]:"'${value}' is an invalid function identifier.",[C.InvalidHexEscapeSequence]:"Invalid hexadecimal escape sequence.",[C.InvalidLeftHandSideInAssignment]:"Invalid left-hand side in assignment.",[C.InvalidLeftHandSideInForIn]:"Invalid left-hand side in for-in.",[C.InvalidTemplateHead]:"Invalid template structure.",[C.InvalidVariableAssignment]:"Invalid variable assignment.",[C.KeyMustBeString]:"Object property keys must be a word starting with a letter.",[C.NoFunctionInsideBlock]:"Functions cannot be declared inside of code blocks.",[C.NoFunctionInsideFunction]:"Functions cannot be declared inside another function.",[C.ModuleExportRootOnly]:"Module exports cannot be declared inside of code blocks.",[C.ModuleImportRootOnly]:"Module import cannot be declared inside of code blocks.",[C.PunctuatorExpected]:"'${value}' expected.",[C.TemplateOctalLiteral]:"Octal literals are not allowed in template literals.",[C.UnexpectedBoolean]:"Unexpected boolean literal.",[C.UnexpectedEndOfScript]:"Unexpected end of Arcade expression.",[C.UnexpectedIdentifier]:"Unexpected identifier.",[C.UnexpectedKeyword]:"Unexpected keyword.",[C.UnexpectedNull]:"Unexpected null literal.",[C.UnexpectedNumber]:"Unexpected number.",[C.UnexpectedPunctuator]:"Unexpected punctuator.",[C.UnexpectedString]:"Unexpected text literal.",[C.UnexpectedTemplate]:"Unexpected quasi '${value}'.",[C.UnexpectedToken]:"Unexpected token '${value}'."},se=class ht extends Error{constructor({code:v,index:$,line:q,column:ae,len:ge=0,description:ve,data:Oe}){super(ve??v),this.declaredRootClass="esri.arcade.lib.diagnostic",this.name="ParsingError",this.code=v,this.index=$,this.line=q,this.column=ae,this.len=ge,this.data=Oe,this.description=ve,this.range={start:{line:q,column:ae-1},end:{line:q,column:ae+ge}},Error.captureStackTrace?.(this,ht)}};function x(u){return!!u&&"object"==typeof u&&"type"in u&&"BlockStatement"===u.type}function j(u){return!!u&&"object"==typeof u&&"type"in u&&"BlockComment"===u.type}function o(u){return!!u&&"object"==typeof u&&"type"in u&&"EmptyStatement"===u.type}function g(u){return!!u&&"object"==typeof u&&"type"in u&&"VariableDeclarator"===u.type}function e(u,v){return v.loc.end.line===u.loc.start.line&&v.loc.end.column<=u.loc.start.column}function h(u,v){return u.range[0]>=v.range[0]&&u.range[1]<=v.range[1]}var O=/\$\{(.*?)\}/gu;function t(u,v){let $=Y[u];return v?$.replace(O,(q,ae)=>v[ae]?.toString()??""):$}function U(u,v){if(!u)throw new Error(`ASSERT: ${v}`)}var H={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/u,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/u},R={fromCodePoint:u=>u<65536?String.fromCharCode(u):String.fromCharCode(55296+(u-65536>>10))+String.fromCharCode(56320+(u-65536&1023)),isWhiteSpace:u=>32===u||9===u||11===u||12===u||160===u||u>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(u),isLineTerminator:u=>10===u||13===u||8232===u||8233===u,isIdentifierStart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||92===u||u>=128&&H.NonAsciiIdentifierStart.test(R.fromCodePoint(u)),isIdentifierPart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||u>=48&&u<=57||92===u||u>=128&&H.NonAsciiIdentifierPart.test(R.fromCodePoint(u)),isDecimalDigit:u=>u>=48&&u<=57,isHexDigit:u=>u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102,isOctalDigit:u=>u>=48&&u<=55};function ue(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function K(u){return"01234567".indexOf(u)}var J=[[],[],[]];d.forEach(u=>J[u.length-1]?.push(u)),m.forEach(u=>J[u.length-1]?.push(u)),oe.forEach(u=>J[u.length-1]?.push(u)),E.forEach(u=>J[u.length-1]?.push(u)),["|","&",">>","<<",">>>","^","==","!=","<","<=",">",">=","+","-","*","/","%"].forEach(u=>J[u.length-1]?.push(u));function _e(u,v=0){let $=u.start-u.lineStart,q=u.lineNumber;return $<0&&($+=v,q-=1),{index:u.start,line:q,column:$}}function De(u){return[{index:u.range[0],...u.loc.start},{index:u.range[1],...u.loc.end}]}function Ae(u){return u in F?F[u]:0}var Ie=class{constructor(u,v={},$){this.delegate=$,this.hasLineTerminator=!1,this.options={tokens:"boolean"==typeof v.tokens&&v.tokens,comments:"boolean"==typeof v.comments&&v.comments,tolerant:"boolean"==typeof v.tolerant&&v.tolerant},this.options.comments&&(this.commentHandler=new class{constructor(){this.comments=[],this._nodeStack=[],this._newComments=[]}insertInnerComments(u){if(!x(u)||0!==u.body.length)return;let v=[];for(let $=this._newComments.length-1;$>=0;$--){let q=this._newComments[$];u.range[1]>=q.range[0]&&(v.unshift(q),this._newComments.splice($,1))}v.length&&(u.innerComments=v)}attachTrailingComments(u){let v=this._nodeStack.at(-1);if(!v)return;if(x(u)&&h(v,u))for(let q=this._newComments.length-1;q>=0;q--){let ae=this._newComments[q];h(ae,u)&&(v.trailingComments=[...v.trailingComments??[],ae],this._newComments.splice(q,1))}let $=[];if(this._newComments.length>0)for(let q=this._newComments.length-1;q>=0;q--){let ae=this._newComments[q];e(ae,v)?(v.trailingComments=[...v.trailingComments??[],ae],this._newComments.splice(q,1)):e(ae,u)&&($.unshift(ae),this._newComments.splice(q,1))}v.trailingComments&&e(v.trailingComments[0],u)&&($=[...$,...v.trailingComments],delete v.trailingComments),$.length>0&&(u.trailingComments=$)}attachLeadingComments(u){let v;for(;this._nodeStack.length>0;){let ae=this._nodeStack[this._nodeStack.length-1];if(!(u.range[0]<=ae.range[0]))break;v=ae,this._nodeStack.pop()}let $=[],q=[];if(null!=v){if(!v.leadingComments)return;for(let ae=v.leadingComments.length-1;ae>=0;ae--){let ge=v.leadingComments[ae];u.range[0]>=ge.range[1]?($.unshift(ge),v.leadingComments.splice(ae,1)):g(u)&&!j(ge)&&(q.unshift(ge),v.leadingComments.splice(ae,1))}return 0===v.leadingComments.length&&delete v.leadingComments,$.length&&(u.leadingComments=$),void(q.length&&(u.trailingComments=[...q,...u.trailingComments??[]]))}for(let ae=this._newComments.length-1;ae>=0;ae--){let ge=this._newComments[ae];u.range[0]>=ge.range[0]&&($.unshift(ge),this._newComments.splice(ae,1))}$.length&&(u.leadingComments=$)}attachComments(u){if(function X(u){return!!u&&"object"==typeof u&&"type"in u&&"Program"===u.type}(u)&&u.body.length>0){let v=this._nodeStack.at(-1);return v?(v.trailingComments=[...v.trailingComments??[],...this._newComments],this._newComments.length=0,void this._nodeStack.pop()):(u.trailingComments=[...this._newComments],void(this._newComments.length=0))}this.attachTrailingComments(u),this.attachLeadingComments(u),this.insertInnerComments(u),this._nodeStack.push(u)}collectComment(u){this.comments.push(u),this._newComments.push(u)}}),this.errorHandler=new class{constructor(u=!1){this.tolerant=u,this.errors=[]}recordError(u){this.errors.push(u)}tolerate(u){if(!this.tolerant)throw u;this.recordError(u)}throwError(u){throw u.description??(u.description=t(u.code,u.data)),new se(u)}tolerateError(u){u.description??(u.description=t(u.code,u.data));let v=new se(u);if(!this.tolerant)throw v;this.recordError(v)}}(this.options.tolerant),this.scanner=new class{constructor(u,v){this.source=u,this.errorHandler=v,this._length=u.length,this.index=0,this.lineNumber=1,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(u){this.index=u.index,this.lineNumber=u.lineNumber,this.lineStart=u.lineStart,this.curlyStack=u.curlyStack}eof(){return this.index>=this._length}throwUnexpectedToken(u=C.UnexpectedToken){this.errorHandler.throwError({code:u,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1,data:{value:this.source.charAt(this.index)}})}tolerateUnexpectedToken(u=C.UnexpectedToken){this.errorHandler.tolerateError({code:u,index:this.index,line:this.lineNumber,column:this.index-this.lineStart+1})}skipSingleLineComment(u){let v=[],$=this.index-u,q={start:{line:this.lineNumber,column:this.index-this.lineStart-u},end:{line:0,column:0}};for(;!this.eof();){let ge=this.source.charCodeAt(this.index);if(this.index+=1,R.isLineTerminator(ge))return q.end={line:this.lineNumber,column:this.index-this.lineStart-1},v.push({multiLine:!1,start:$+u,end:this.index-1,range:[$,this.index-1],loc:q}),13===ge&&10===this.source.charCodeAt(this.index)&&(this.index+=1),this.lineNumber+=1,this.lineStart=this.index,v}return q.end={line:this.lineNumber,column:this.index-this.lineStart},v.push({multiLine:!1,start:$+u,end:this.index,range:[$,this.index],loc:q}),v}skipMultiLineComment(){let u=[],v=this.index-2,$={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}};for(;!this.eof();){let ae=this.source.charCodeAt(this.index);if(R.isLineTerminator(ae))13===ae&&10===this.source.charCodeAt(this.index+1)&&(this.index+=1),this.lineNumber+=1,this.index+=1,this.lineStart=this.index;else if(42===ae){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,$.end={line:this.lineNumber,column:this.index-this.lineStart},u.push({multiLine:!0,start:v+2,end:this.index-2,range:[v,this.index],loc:$}),u;this.index+=1}else this.index+=1}return $.end={line:this.lineNumber,column:this.index-this.lineStart},u.push({multiLine:!0,start:v+2,end:this.index,range:[v,this.index],loc:$}),this.tolerateUnexpectedToken(),u}scanComments(){let u=[];for(;!this.eof();){let v=this.source.charCodeAt(this.index);if(R.isWhiteSpace(v))this.index+=1;else if(R.isLineTerminator(v))this.index+=1,13===v&&10===this.source.charCodeAt(this.index)&&(this.index+=1),this.lineNumber+=1,this.lineStart=this.index;else{if(47!==v)break;if(v=this.source.charCodeAt(this.index+1),47===v){this.index+=2;let $=this.skipSingleLineComment(2);u=[...u,...$]}else{if(42!==v)break;{this.index+=2;let $=this.skipMultiLineComment();u=[...u,...$]}}}}return u}isKeyword(u){switch((u=u.toLowerCase()).length){case 2:return"if"===u||"in"===u;case 3:return"var"===u||"for"===u;case 4:return"else"===u;case 5:return"break"===u||"while"===u;case 6:return"return"===u||"import"===u||"export"===u;case 8:return"function"===u||"continue"===u;default:return!1}}codePointAt(u){let v=this.source.charCodeAt(u);if(v>=55296&&v<=56319){let $=this.source.charCodeAt(u+1);$>=56320&&$<=57343&&(v=1024*(v-55296)+$-56320+65536)}return v}scanHexEscape(u){let v="u"===u?4:2,$=0;for(let q=0;q<v;q++){if(this.eof()||!R.isHexDigit(this.source.charCodeAt(this.index)))return null;$=16*$+ue(this.source[this.index]??""),this.index+=1}return String.fromCharCode($)}scanUnicodeCodePointEscape(){let u=this.source[this.index],v=0;for("}"===u&&this.throwUnexpectedToken();!this.eof()&&(u=this.source[this.index]??"",this.index+=1,R.isHexDigit(u.charCodeAt(0)));)v=16*v+ue(u);return(v>1114111||"}"!==u)&&this.throwUnexpectedToken(),R.fromCodePoint(v)}getIdentifier(){let u=this.index;for(this.index+=1;!this.eof();){let v=this.source.charCodeAt(this.index);if(92===v)return this.index=u,this.getComplexIdentifier();if(v>=55296&&v<57343)return this.index=u,this.getComplexIdentifier();if(!R.isIdentifierPart(v))break;this.index+=1}return this.source.slice(u,this.index)}getComplexIdentifier(){let u,v=this.codePointAt(this.index),$=R.fromCodePoint(v);for(this.index+=$.length,92===v&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),this.index+=1,"{"===this.source[this.index]?(this.index+=1,u=this.scanUnicodeCodePointEscape()):(u=this.scanHexEscape("u"),(null===u||"\\"===u||!R.isIdentifierStart(u.charCodeAt(0)))&&this.throwUnexpectedToken()),$=u);!this.eof()&&(v=this.codePointAt(this.index),R.isIdentifierPart(v));)u=R.fromCodePoint(v),$+=u,this.index+=u.length,92===v&&($=$.substring(0,$.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),this.index+=1,"{"===this.source[this.index]?(this.index+=1,u=this.scanUnicodeCodePointEscape()):(u=this.scanHexEscape("u"),(null===u||"\\"===u||!R.isIdentifierPart(u.charCodeAt(0)))&&this.throwUnexpectedToken()),$+=u);return $}octalToDecimal(u){let v="0"!==u,$=K(u);return!this.eof()&&R.isOctalDigit(this.source.charCodeAt(this.index))&&(v=!0,$=8*$+K(this.source[this.index]??""),this.index+=1,"0123".includes(u)&&!this.eof()&&R.isOctalDigit(this.source.charCodeAt(this.index))&&($=8*$+K(this.source[this.index]??""),this.index+=1)),{code:$,octal:v}}scanIdentifier(){let u,v=this.index,$=92===this.source.charCodeAt(v)?this.getComplexIdentifier():this.getIdentifier();if(u=1===$.length?3:this.isKeyword($)?4:"null"===$.toLowerCase()?5:"true"===$.toLowerCase()||"false"===$.toLowerCase()?1:3,3!==u&&v+$.length!==this.index){let q=this.index;this.index=v,this.tolerateUnexpectedToken(C.InvalidEscapedReservedWord),this.index=q}return{type:u,value:$,lineNumber:this.lineNumber,lineStart:this.lineStart,start:v,end:this.index}}scanPunctuator(){let u=this.index,v=this.source[this.index]??"";switch(v){case"(":case"{":"{"===v&&this.curlyStack.push("{"),this.index+=1;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":this.index+=1;break;case"}":this.index+=1,this.curlyStack.pop();break;default:for(let $=J.length;$>0;$--)if(v=this.source.substring(this.index,this.index+$),J[$-1]?.includes(v)){this.index+=$;break}}return this.index===u&&this.throwUnexpectedToken(),{type:7,value:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:u,end:this.index}}scanHexLiteral(u){let v="";for(;!this.eof()&&R.isHexDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index],this.index+=1;return 0===v.length&&this.throwUnexpectedToken(),R.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:Number.parseInt(`0x${v}`,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:u,end:this.index}}scanBinaryLiteral(u){let v="";for(;!this.eof();){let $=this.source[this.index];if("0"!==$&&"1"!==$)break;v+=this.source[this.index],this.index+=1}if(0===v.length&&this.throwUnexpectedToken(),!this.eof()){let $=this.source.charCodeAt(this.index);(R.isIdentifierStart($)||R.isDecimalDigit($))&&this.throwUnexpectedToken()}return{type:6,value:Number.parseInt(v,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:u,end:this.index}}scanOctalLiteral(u,v){let $="",q=!1;for(R.isOctalDigit(u.charCodeAt(0))&&(q=!0,$=`0${this.source[this.index]}`),this.index+=1;!this.eof()&&R.isOctalDigit(this.source.charCodeAt(this.index));)$+=this.source[this.index],this.index+=1;return!q&&0===$.length&&this.throwUnexpectedToken(),(R.isIdentifierStart(this.source.charCodeAt(this.index))||R.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:Number.parseInt($,8),lineNumber:this.lineNumber,lineStart:this.lineStart,start:v,end:this.index}}scanNumericLiteral(){let u=this.index,v=this.source[u]??"";U(R.isDecimalDigit(v.charCodeAt(0))||"."===v,"Numeric literal must start with a decimal digit or a decimal point");let $="";if("."!==v){if($=this.source[this.index]??"",this.index+=1,v=this.source[this.index]??"","0"===$){if("x"===v||"X"===v)return this.index+=1,this.scanHexLiteral(u);if("b"===v||"B"===v)return this.index+=1,this.scanBinaryLiteral(u);if("o"===v||"O"===v)return this.scanOctalLiteral(v,u)}for(;R.isDecimalDigit(this.source.charCodeAt(this.index));)$+=this.source[this.index],this.index+=1;v=this.source[this.index]??""}if("."===v){for($+=this.source[this.index],this.index+=1;R.isDecimalDigit(this.source.charCodeAt(this.index));)$+=this.source[this.index],this.index+=1;v=this.source[this.index]??""}if("e"===v||"E"===v)if($+=this.source[this.index],this.index+=1,v=this.source[this.index]??"",("+"===v||"-"===v)&&($+=this.source[this.index],this.index+=1),R.isDecimalDigit(this.source.charCodeAt(this.index)))for(;R.isDecimalDigit(this.source.charCodeAt(this.index));)$+=this.source[this.index],this.index+=1;else this.throwUnexpectedToken();return R.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:Number.parseFloat($),lineNumber:this.lineNumber,lineStart:this.lineStart,start:u,end:this.index}}scanStringLiteral(){let u=this.index,v=this.source[u];U("'"===v||'"'===v,"String literal must starts with a quote"),this.index+=1;let $=!1,q="";for(;!this.eof();){let ae=this.source[this.index]??"";if(this.index+=1,ae===v){v="";break}if("\\"===ae)if(ae=this.source[this.index]??"",this.index+=1,ae&&R.isLineTerminator(ae.charCodeAt(0)))this.lineNumber+=1,"\r"===ae&&"\n"===this.source[this.index]&&(this.index+=1),this.lineStart=this.index;else switch(ae){case"u":if("{"===this.source[this.index])this.index+=1,q+=this.scanUnicodeCodePointEscape();else{let ge=this.scanHexEscape(ae);null===ge&&this.throwUnexpectedToken(),q+=ge}break;case"x":{let ge=this.scanHexEscape(ae);null===ge&&this.throwUnexpectedToken(C.InvalidHexEscapeSequence),q+=ge;break}case"n":q+="\n";break;case"r":q+="\r";break;case"t":q+="\t";break;case"b":q+="\b";break;case"f":q+="\f";break;case"v":q+="\v";break;case"8":case"9":q+=ae,this.tolerateUnexpectedToken();break;default:if(ae&&R.isOctalDigit(ae.charCodeAt(0))){let ge=this.octalToDecimal(ae);$=ge.octal||$,q+=String.fromCharCode(ge.code)}else q+=ae}else{if(R.isLineTerminator(ae.charCodeAt(0)))break;q+=ae}}return""!==v&&(this.index=u,this.throwUnexpectedToken()),{type:8,value:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:u,end:this.index}}scanTemplate(){let u="",v=!1,$=this.index,q="`"===this.source[$],ae=!1,ge=2;for(this.index+=1;!this.eof();){let ve=this.source[this.index]??"";if(this.index+=1,"`"===ve){ge=1,ae=!0,v=!0;break}if("$"!==ve)if("\\"!==ve)R.isLineTerminator(ve.charCodeAt(0))?(this.lineNumber+=1,"\r"===ve&&"\n"===this.source[this.index]&&(this.index+=1),this.lineStart=this.index,u+="\n"):u+=ve;else if(ve=this.source[this.index]??"",this.index+=1,R.isLineTerminator(ve.charCodeAt(0)))this.lineNumber+=1,"\r"===ve&&"\n"===this.source[this.index]&&(this.index+=1),this.lineStart=this.index;else switch(ve){case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="\t";break;case"u":if("{"===this.source[this.index])this.index+=1,u+=this.scanUnicodeCodePointEscape();else{let Oe=this.index,Ke=this.scanHexEscape(ve);null!==Ke?u+=Ke:(this.index=Oe,u+=ve)}break;case"x":{let Oe=this.scanHexEscape(ve);null===Oe&&this.throwUnexpectedToken(C.InvalidHexEscapeSequence),u+=Oe;break}case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;default:"0"===ve?(R.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(C.TemplateOctalLiteral),u+="\0"):R.isOctalDigit(ve.charCodeAt(0))?this.throwUnexpectedToken(C.TemplateOctalLiteral):u+=ve}else{if("{"===this.source[this.index]){this.curlyStack.push("${"),this.index+=1,v=!0;break}u+=ve}}return v||this.throwUnexpectedToken(),q||this.curlyStack.pop(),{type:10,value:this.source.slice($+1,this.index-ge),cooked:u,head:q,tail:ae,lineNumber:this.lineNumber,lineStart:this.lineStart,start:$,end:this.index}}lex(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};let u=this.source.charCodeAt(this.index);return R.isIdentifierStart(u)?this.scanIdentifier():40===u||41===u||59===u?this.scanPunctuator():39===u||34===u?this.scanStringLiteral():46===u?R.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():R.isDecimalDigit(u)?this.scanNumericLiteral():96===u||125===u&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():u>=55296&&u<57343&&R.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}}(u,this.errorHandler),this.context={isAssignmentTarget:!1,blockContext:0,curlyParsingType:0},this.rawToken={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.endMarker={index:0,line:this.scanner.lineNumber,column:0},this.readNextRawToken(),this.endMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}throwIfInvalidType(u,v,{validTypes:$,invalidTypes:q}){$?.some(ae=>u.type===ae)||q?.some(ae=>u.type===ae)&&this.throwError(C.InvalidExpression,v)}throwError(u,v,$=this.endMarker){let{index:q,line:ae,column:ge}=v;this.errorHandler.throwError({code:u,index:q,line:ae,column:ge+1,len:$.index-q-1})}tolerateError(u,v){throw new Error("######################################### !!!")}unexpectedTokenError(u={}){let v,{rawToken:$}=u,{code:q,data:ae}=u;if($){if(!q)switch($.type){case 2:q=C.UnexpectedEndOfScript;break;case 3:q=C.UnexpectedIdentifier;break;case 6:q=C.UnexpectedNumber;break;case 8:q=C.UnexpectedString;break;case 10:q=C.UnexpectedTemplate}v=$.value.toString()}else v="ILLEGAL";q??(q=C.UnexpectedToken),ae??(ae={value:v});let ge=t(q,ae);if($)return new se({code:q,index:$.start,line:$.lineNumber,column:$.start-$.lineStart+1,len:$.end-$.start-1,data:ae,description:ge});let{index:ve,line:Oe}=this.endMarker;return new se({code:q,index:ve,line:Oe,column:this.endMarker.column+1,data:ae,description:ge})}throwUnexpectedToken(u={}){throw u.rawToken??(u.rawToken=this.rawToken),this.unexpectedTokenError(u)}collectComments(u){let{commentHandler:v}=this;!v||!u.length||u.forEach($=>{let q={type:$.multiLine?"BlockComment":"LineComment",value:this.getSourceValue($),range:$.range,loc:$.loc};v.collectComment(q)})}peekAhead(u){let $=this.scanner.saveState(),q=u.call(this,()=>(this.scanner.scanComments(),this.scanner.lex()));return this.scanner.restoreState($),q}getSourceValue(u){return this.scanner.source.slice(u.start,u.end)}convertToToken(u){return{type:z[u.type],value:this.getSourceValue(u),range:[u.start,u.end],loc:{start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}}}readNextRawToken(){this.endMarker.index=this.scanner.index,this.endMarker.line=this.scanner.lineNumber,this.endMarker.column=this.scanner.index-this.scanner.lineStart;let u=this.rawToken;this.collectComments(this.scanner.scanComments()),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart),this.rawToken=this.scanner.lex(),this.hasLineTerminator=u.lineNumber!==this.rawToken.lineNumber,this.options.tokens&&2!==this.rawToken.type&&this.tokens.push(this.convertToToken(this.rawToken))}captureStartMarker(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}getItemLocation(u){return{range:[u.index,this.endMarker.index],loc:{start:{line:u.line,column:u.column},end:{line:this.endMarker.line,column:this.endMarker.column}}}}finalize(u){return(this.delegate??this.commentHandler)&&(this.commentHandler?.attachComments(u),this.delegate?.(u)),u}expectPunctuator(u){let v=this.rawToken;this.matchPunctuator(u)?this.readNextRawToken():this.throwUnexpectedToken({rawToken:v,code:C.PunctuatorExpected,data:{value:u}})}expectKeyword(u){4!==this.rawToken.type||this.rawToken.value.toLowerCase()!==u.toString()?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}expectContextualKeyword(u){3!==this.rawToken.type||this.rawToken.value.toLowerCase()!==u?this.throwUnexpectedToken({rawToken:this.rawToken}):this.readNextRawToken()}matchKeyword(u){return 4===this.rawToken.type&&this.rawToken.value.toLowerCase()===u}matchContextualKeyword(u){return 3===this.rawToken.type&&this.rawToken.value===u}matchPunctuator(u){return 7===this.rawToken.type&&this.rawToken.value===u}getMatchingPunctuator(u){if("string"==typeof u&&(u=u.split("")),7===this.rawToken.type&&u.length)return u.find(this.matchPunctuator.bind(this))}isolateCoverGrammar(u){let v=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;let $=u.call(this);return this.context.isAssignmentTarget=v,$}inheritCoverGrammar(u){var v;let $=this.context.isAssignmentTarget;this.context.isAssignmentTarget=!0;let q=u.call(this);return(v=this.context).isAssignmentTarget&&(v.isAssignmentTarget=$),q}withBlockContext(u,v){let $=this.context.blockContext;this.context.blockContext|=u;let q=this.context.curlyParsingType;this.context.curlyParsingType=1;let ae=v.call(this);return this.context.blockContext=$,this.context.curlyParsingType=q,ae}consumeSemicolon(){if(this.matchPunctuator(";"))this.readNextRawToken();else if(!this.hasLineTerminator){if(2===this.rawToken.type||this.matchPunctuator("}"))return this.endMarker.index=this.startMarker.index,this.endMarker.line=this.startMarker.line,void(this.endMarker.column=this.startMarker.column);this.throwUnexpectedToken({rawToken:this.rawToken})}}parsePrimaryExpression(){let u=this.captureStartMarker(),v=this.rawToken;switch(v.type){case 3:return this.readNextRawToken(),this.finalize({type:"Identifier",name:v.value,...this.getItemLocation(u)});case 6:case 8:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:"Literal",value:v.value,raw:this.getSourceValue(v),isString:"string"==typeof v.value,...this.getItemLocation(u)});case 1:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:"Literal",value:"true"===v.value.toLowerCase(),raw:this.getSourceValue(v),isString:!1,...this.getItemLocation(u)});case 5:return this.context.isAssignmentTarget=!1,this.readNextRawToken(),this.finalize({type:"Literal",value:null,raw:this.getSourceValue(v),isString:!1,...this.getItemLocation(u)});case 10:return this.parseTemplateLiteral();case 7:switch(v.value){case"(":return this.inheritCoverGrammar(this.parseGroupExpression.bind(this));case"[":return this.inheritCoverGrammar(this.parseArrayInitializer.bind(this));case"{":return this.inheritCoverGrammar(this.parseObjectExpression.bind(this));default:return this.throwUnexpectedToken({rawToken:this.rawToken})}case 4:return this.context.isAssignmentTarget=!1,this.throwUnexpectedToken({rawToken:this.rawToken});default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseArrayInitializer(){let u=this.captureStartMarker();this.expectPunctuator("[");let v=[];for(;!this.matchPunctuator("]");){let $=this.captureStartMarker();this.matchPunctuator(",")?(this.readNextRawToken(),this.throwError(C.InvalidExpression,$)):(v.push(this.inheritCoverGrammar(this.parseAssignmentExpression.bind(this))),this.matchPunctuator("]")||this.expectPunctuator(","))}return this.expectPunctuator("]"),this.finalize({type:"ArrayExpression",elements:v,...this.getItemLocation(u)})}parseObjectPropertyKey(){let u=this.captureStartMarker(),v=this.rawToken;switch(v.type){case 8:return this.readNextRawToken(),this.finalize({type:"Literal",value:v.value,raw:this.getSourceValue(v),isString:!0,...this.getItemLocation(u)});case 3:case 1:case 5:case 4:return this.readNextRawToken(),this.finalize({type:"Identifier",name:v.value,...this.getItemLocation(u)});default:this.throwError(C.KeyMustBeString,u)}}parseObjectProperty(){let u=this.rawToken,v=this.captureStartMarker(),$=this.parseObjectPropertyKey(),q=!1,ae=null;return this.matchPunctuator(":")?(this.readNextRawToken(),ae=this.inheritCoverGrammar(this.parseAssignmentExpression.bind(this))):3===u.type?(q=!0,ae=this.finalize({type:"Identifier",name:u.value,...this.getItemLocation(v)})):this.throwUnexpectedToken({rawToken:this.rawToken}),this.finalize({type:"Property",kind:"init",key:$,value:ae,shorthand:q,...this.getItemLocation(v)})}parseObjectExpression(){let u=this.captureStartMarker();this.expectPunctuator("{");let v=[];for(;!this.matchPunctuator("}");)v.push(this.parseObjectProperty()),this.matchPunctuator("}")||this.expectPunctuator(",");return this.expectPunctuator("}"),this.finalize({type:"ObjectExpression",properties:v,...this.getItemLocation(u)})}parseTemplateElement(u=!1){let v=this.rawToken;10!==v.type&&this.throwUnexpectedToken({rawToken:v}),u&&!v.head&&this.throwUnexpectedToken({code:C.InvalidTemplateHead,rawToken:v});let $=this.captureStartMarker();this.readNextRawToken();let{value:q,cooked:ae,tail:ge}=v,ve=this.finalize({type:"TemplateElement",value:{raw:q,cooked:ae},tail:ge,...this.getItemLocation($)});return ve.loc.start.column+=1,ve.loc.end.column-=ge?1:2,ve}parseTemplateLiteral(){let u=this.captureStartMarker(),v=[],$=[],q=this.parseTemplateElement(!0);for($.push(q);!q.tail;)v.push(this.parseExpression()),q=this.parseTemplateElement(),$.push(q);return this.finalize({type:"TemplateLiteral",quasis:$,expressions:v,...this.getItemLocation(u)})}parseGroupExpression(){this.expectPunctuator("(");let u=this.inheritCoverGrammar(this.parseAssignmentExpression.bind(this));return this.expectPunctuator(")"),u}parseArguments(){this.expectPunctuator("(");let u=[];if(!this.matchPunctuator(")"))for(;;){let v=this.isolateCoverGrammar(this.parseAssignmentExpression.bind(this));if(u.push(v),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),u}parseMemberName(){let u=this.rawToken,v=this.captureStartMarker();return this.readNextRawToken(),5!==u.type&&3!==u.type&&4!==u.type&&1!==u.type&&this.throwUnexpectedToken({rawToken:u}),this.finalize({type:"Identifier",name:u.value,...this.getItemLocation(v)})}parseLeftHandSideExpression(){let u,v=this.captureStartMarker(),$=this.inheritCoverGrammar(this.parsePrimaryExpression.bind(this)),q=this.captureStartMarker();for(;u=this.getMatchingPunctuator("([.");)switch(u){case"(":{this.context.isAssignmentTarget=!1,"Identifier"!==$.type&&"MemberExpression"!==$.type&&this.throwError(C.IdentifierExpected,v,q);let ae=this.parseArguments();$=this.finalize({type:"CallExpression",callee:$,arguments:ae,...this.getItemLocation(v)});continue}case"[":{this.context.isAssignmentTarget=!0,this.expectPunctuator("[");let ae=this.isolateCoverGrammar(()=>this.parseExpression());this.expectPunctuator("]"),$=this.finalize({type:"MemberExpression",computed:!0,object:$,property:ae,...this.getItemLocation(v)});continue}case".":{this.context.isAssignmentTarget=!0,this.expectPunctuator(".");let ae=this.parseMemberName();$=this.finalize({type:"MemberExpression",computed:!1,object:$,property:ae,...this.getItemLocation(v)});continue}}return $}parseUpdateExpression(){let u=this.captureStartMarker(),v=this.getMatchingPunctuator(d);if(v){this.readNextRawToken();let ge=this.captureStartMarker(),ve=this.inheritCoverGrammar(this.parseUnaryExpression.bind(this));return"Identifier"!==ve.type&&"MemberExpression"!==ve.type&&"CallExpression"!==ve.type&&this.throwError(C.InvalidExpression,ge),this.context.isAssignmentTarget||this.tolerateError(C.InvalidLeftHandSideInAssignment,u),this.context.isAssignmentTarget=!1,this.finalize({type:"UpdateExpression",operator:v,argument:ve,prefix:!0,...this.getItemLocation(u)})}let $=this.captureStartMarker(),q=this.inheritCoverGrammar(this.parseLeftHandSideExpression.bind(this)),ae=this.captureStartMarker();return this.hasLineTerminator||(v=this.getMatchingPunctuator(d),!v)?q:("Identifier"!==q.type&&"MemberExpression"!==q.type&&this.throwError(C.InvalidExpression,$,ae),this.context.isAssignmentTarget||this.tolerateError(C.InvalidLeftHandSideInAssignment,u),this.readNextRawToken(),this.context.isAssignmentTarget=!1,this.finalize({type:"UpdateExpression",operator:v,argument:q,prefix:!1,...this.getItemLocation(u)}))}parseUnaryExpression(){let u=this.getMatchingPunctuator(m);if(u){let v=this.captureStartMarker();this.readNextRawToken();let $=this.inheritCoverGrammar(this.parseUnaryExpression.bind(this));return this.context.isAssignmentTarget=!1,this.finalize({type:"UnaryExpression",operator:u,argument:$,prefix:!0,...this.getItemLocation(v)})}return this.parseUpdateExpression()}parseBinaryExpression(){let u=this.rawToken,v=this.inheritCoverGrammar(this.parseUnaryExpression.bind(this));if(7!==this.rawToken.type)return v;let $=this.rawToken.value,q=Ae($);if(0===q)return v;this.readNextRawToken(),this.context.isAssignmentTarget=!1;let ae=[u,this.rawToken],ge=v,ve=this.inheritCoverGrammar(this.parseUnaryExpression.bind(this)),Oe=[ge,$,ve],Ke=[q];for(;7===this.rawToken.type&&(q=Ae(this.rawToken.value))>0;){for(;Oe.length>2&&q<=Ke[Ke.length-1];){ve=Oe.pop();let ye=Oe.pop();Ke.pop(),ge=Oe.pop(),ae.pop();let pe=ae[ae.length-1],Ee=_e(pe,pe.lineStart);Oe.push(this.finalize(this.createBinaryOrLogicalExpression(Ee,ye,ge,ve)))}Oe.push(this.rawToken.value),Ke.push(q),ae.push(this.rawToken),this.readNextRawToken(),Oe.push(this.inheritCoverGrammar(this.parseUnaryExpression.bind(this)))}let je=Oe.length-1;v=Oe[je];let Me=ae.pop();for(;je>1;){let ye=ae.pop();if(!ye)break;let pe=Me?.lineStart,Ee=_e(ye,pe);v=this.finalize(this.createBinaryOrLogicalExpression(Ee,Oe[je-1],Oe[je-2],v)),je-=2,Me=ye}return v}createBinaryOrLogicalExpression(u,v,$,q){let ae=oe.includes(v)?"LogicalExpression":"BinaryExpression";return"BinaryExpression"===ae||(("AssignmentExpression"===$.type||"UpdateExpression"===$.type)&&this.throwError(C.InvalidExpression,...De($)),("AssignmentExpression"===q.type||"UpdateExpression"===q.type)&&this.throwError(C.InvalidExpression,...De($))),{type:ae,operator:v,left:$,right:q,...this.getItemLocation(u)}}parseAssignmentExpression(){let u=this.captureStartMarker(),v=this.inheritCoverGrammar(this.parseBinaryExpression.bind(this)),$=this.captureStartMarker(),q=this.getMatchingPunctuator(E);if(!q)return v;"Identifier"!==v.type&&"MemberExpression"!==v.type&&this.throwError(C.InvalidExpression,u,$),this.context.isAssignmentTarget||this.tolerateError(C.InvalidLeftHandSideInAssignment,u),this.matchPunctuator("=")||(this.context.isAssignmentTarget=!1),this.readNextRawToken();let ae=this.isolateCoverGrammar(this.parseAssignmentExpression.bind(this));return this.finalize({type:"AssignmentExpression",left:v,operator:q,right:ae,...this.getItemLocation(u)})}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression.bind(this))}parseStatements(u){let v=[];for(;2!==this.rawToken.type&&!this.matchPunctuator(u);){let $=this.parseStatementListItem();o($)||v.push($)}return v}parseStatementListItem(){return this.context.isAssignmentTarget=!0,this.matchKeyword("function")?this.parseFunctionDeclaration():this.matchKeyword("export")?this.parseExportDeclaration():this.matchKeyword("import")?this.parseImportDeclaration():this.parseStatement()}parseBlock(){let u=this.captureStartMarker();this.expectPunctuator("{");let v=this.parseStatements("}");return this.expectPunctuator("}"),this.finalize({type:"BlockStatement",body:v,...this.getItemLocation(u)})}parseObjectStatement(){let u=this.captureStartMarker(),v=this.parseObjectExpression();return this.finalize({type:"ExpressionStatement",expression:v,...this.getItemLocation(u)})}parseBlockOrObjectStatement(){return 0===this.context.curlyParsingType||this.peekAhead(u=>{let v=u();return!(3!==v.type&&8!==v.type||(v=u(),7!==v.type||":"!==v.value))})?this.parseObjectStatement():this.parseBlock()}parseIdentifier(){let u=this.rawToken;if(3!==u.type)return null;let v=this.captureStartMarker();return this.readNextRawToken(),this.finalize({type:"Identifier",name:u.value,...this.getItemLocation(v)})}parseVariableDeclarator(){let u=this.captureStartMarker(),v=this.parseIdentifier();v||this.throwUnexpectedToken({code:C.IdentifierExpected});let $=null;if(this.matchPunctuator("=")){this.readNextRawToken();let q=this.rawToken;try{$=this.isolateCoverGrammar(this.parseAssignmentExpression.bind(this))}catch{this.throwUnexpectedToken({rawToken:q,code:C.InvalidVariableAssignment})}}return this.finalize({type:"VariableDeclarator",id:v,init:$,...this.getItemLocation(u)})}parseVariableDeclarators(){let u=[this.parseVariableDeclarator()];for(;this.matchPunctuator(",");)this.readNextRawToken(),u.push(this.parseVariableDeclarator());return u}parseVariableDeclaration(){let u=this.captureStartMarker();this.expectKeyword("var");let v=this.parseVariableDeclarators();return this.consumeSemicolon(),this.finalize({type:"VariableDeclaration",declarations:v,kind:"var",...this.getItemLocation(u)})}parseEmptyStatement(){let u=this.captureStartMarker();return this.expectPunctuator(";"),this.finalize({type:"EmptyStatement",...this.getItemLocation(u)})}parseExpressionStatement(){let u=this.captureStartMarker(),v=this.parseExpression();return this.consumeSemicolon(),this.finalize({type:"ExpressionStatement",expression:v,...this.getItemLocation(u)})}parseIfClause(){return this.withBlockContext(2,this.parseStatement.bind(this))}parseIfStatement(){let u=this.captureStartMarker();this.expectKeyword("if"),this.expectPunctuator("(");let v=this.captureStartMarker(),$=this.parseExpression(),q=this.captureStartMarker();this.expectPunctuator(")"),("AssignmentExpression"===$.type||"UpdateExpression"===$.type)&&this.throwError(C.InvalidExpression,v,q);let ae=this.parseIfClause(),ge=null;return this.matchKeyword("else")&&(this.readNextRawToken(),ge=this.parseIfClause()),this.finalize({type:"IfStatement",test:$,consequent:ae,alternate:ge,...this.getItemLocation(u)})}parseWhileStatement(){let u=this.captureStartMarker();this.expectKeyword("while"),this.expectPunctuator("(");let v=this.captureStartMarker(),$=this.parseExpression(),q=this.captureStartMarker();this.expectPunctuator(")"),("AssignmentExpression"===$.type||"UpdateExpression"===$.type)&&this.throwError(C.InvalidExpression,v,q);let ae=this.withBlockContext(16,this.parseStatement.bind(this));return this.finalize({type:"WhileStatement",test:$,body:ae,...this.getItemLocation(u)})}parseForStatement(){let u="ForStatement",v=null,$=null,q=null,ae=null,ge=null,ve=this.captureStartMarker();if(this.expectKeyword("for"),this.expectPunctuator("("),this.matchKeyword("var")){let Ke=this.captureStartMarker();this.readNextRawToken();let je=this.parseVariableDeclarators();v=this.finalize({type:"VariableDeclaration",declarations:je,kind:"var",...this.getItemLocation(Ke)});let Me=this.matchKeyword("in"),ye=this.matchContextualKeyword("of");1===je.length&&(Me||ye)&&(je[0].init&&this.throwError(C.ForInOfLoopInitializer,Ke),u=Me?"ForInStatement":"ForOfStatement",ae=v)}else if(!this.matchPunctuator(";")){let Ke=this.context.isAssignmentTarget,je=this.captureStartMarker();v=this.inheritCoverGrammar(this.parseAssignmentExpression.bind(this));let Me=this.matchKeyword("in"),ye=this.matchContextualKeyword("of");Me||ye?(this.context.isAssignmentTarget||this.tolerateError(C.InvalidLeftHandSideInForIn,je),"Identifier"!==v.type&&this.throwError(C.InvalidLeftHandSideInForIn,je),u=Me?"ForInStatement":"ForOfStatement",ae=v):this.context.isAssignmentTarget=Ke}"ForStatement"===u?(this.expectPunctuator(";"),$=this.matchPunctuator(";")?null:this.isolateCoverGrammar(this.parseExpression.bind(this)),this.expectPunctuator(";"),q=this.matchPunctuator(")")?null:this.isolateCoverGrammar(this.parseExpression.bind(this))):(this.readNextRawToken(),ge=this.parseExpression()),this.expectPunctuator(")");let Oe=this.withBlockContext("ForOfStatement"===u?8:4,()=>this.isolateCoverGrammar(this.parseStatement.bind(this)));return this.finalize("ForInStatement"===u||"ForOfStatement"===u?{type:u,left:ae,right:ge,body:Oe,...this.getItemLocation(ve)}:{type:u,init:v,test:$,update:q,body:Oe,...this.getItemLocation(ve)})}parseContinueStatement(){let u=this.captureStartMarker();return this.expectKeyword("continue"),this.consumeSemicolon(),this.finalize({type:"ContinueStatement",...this.getItemLocation(u)})}parseBreakStatement(){let u=this.captureStartMarker();return this.expectKeyword("break"),this.consumeSemicolon(),this.finalize({type:"BreakStatement",...this.getItemLocation(u)})}parseReturnStatement(){let u=this.captureStartMarker();this.expectKeyword("return");let v=(this.matchPunctuator(";")||this.matchPunctuator("}")||this.hasLineTerminator||2===this.rawToken.type)&&8!==this.rawToken.type&&10!==this.rawToken.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize({type:"ReturnStatement",argument:v,...this.getItemLocation(u)})}parseStatement(){switch(this.rawToken.type){case 1:case 5:case 6:case 8:case 10:case 3:return this.parseExpressionStatement();case 7:return"{"===this.rawToken.value?this.parseBlockOrObjectStatement():"("===this.rawToken.value?this.parseExpressionStatement():";"===this.rawToken.value?this.parseEmptyStatement():this.parseExpressionStatement();case 4:switch(this.rawToken.value.toLowerCase()){case"break":return this.parseBreakStatement();case"continue":return this.parseContinueStatement();case"for":return this.parseForStatement();case"function":return this.parseFunctionDeclaration();case"if":return this.parseIfStatement();case"return":return this.parseReturnStatement();case"var":return this.parseVariableDeclaration();case"while":return this.parseWhileStatement();default:return this.parseExpressionStatement()}default:return this.throwUnexpectedToken({rawToken:this.rawToken})}}parseFormalParameters(){let u=[];if(this.expectPunctuator("("),!this.matchPunctuator(")"))for(;2!==this.rawToken.type;){let v=this.parseIdentifier();if(v||this.throwUnexpectedToken({rawToken:this.rawToken,code:C.IdentifierExpected}),u.push(v),this.matchPunctuator(")")||(this.expectPunctuator(","),this.matchPunctuator(")")))break}return this.expectPunctuator(")"),u}parseFunctionDeclaration(){1==(1&this.context.blockContext)&&this.throwUnexpectedToken({code:C.NoFunctionInsideFunction}),(16==(16&this.context.blockContext)||8==(8&this.context.blockContext)||2==(2&this.context.blockContext))&&this.throwUnexpectedToken({code:C.NoFunctionInsideBlock});let u=this.captureStartMarker();this.expectKeyword("function");let v=this.parseIdentifier();v||this.throwUnexpectedToken({code:C.InvalidFunctionIdentifier});let $=this.parseFormalParameters(),q=this.context.blockContext;this.context.blockContext|=1;let ae=this.parseBlock();return this.context.blockContext=q,this.finalize({type:"FunctionDeclaration",id:v,params:$,body:ae,...this.getItemLocation(u)})}parseScript(){let u=this.captureStartMarker(),v=this.parseStatements(),$=this.finalize({type:"Program",body:v,...this.getItemLocation(u)});return this.options.tokens&&($.tokens=this.tokens),this.options.tolerant&&($.errors=this.errorHandler.errors),$}parseExportDeclaration(){0!==this.context.blockContext&&this.throwUnexpectedToken({code:C.ModuleExportRootOnly});let u=null,v=this.captureStartMarker();return this.expectKeyword("export"),this.matchKeyword("var")?u=this.parseVariableDeclaration():this.matchKeyword("function")?u=this.parseFunctionDeclaration():this.throwUnexpectedToken({code:C.InvalidExpression}),this.finalize({type:"ExportNamedDeclaration",declaration:u,specifiers:[],source:null,...this.getItemLocation(v)})}parseModuleSpecifier(){let u=this.captureStartMarker(),v=this.rawToken;if(8===v.type)return this.readNextRawToken(),this.finalize({type:"Literal",value:v.value,raw:this.getSourceValue(v),isString:!0,...this.getItemLocation(u)});this.throwError(C.InvalidModuleUri,u)}parseDefaultSpecifier(){let u=this.captureStartMarker(),v=this.parseIdentifier();return v||this.throwUnexpectedToken({code:C.IdentifierExpected}),this.finalize({type:"ImportDefaultSpecifier",local:v,...this.getItemLocation(u)})}parseImportDeclaration(){0!==this.context.blockContext&&this.throwUnexpectedToken({code:C.ModuleImportRootOnly});let u=this.captureStartMarker();this.expectKeyword("import");let v=this.parseDefaultSpecifier();this.expectContextualKeyword("from");let $=this.parseModuleSpecifier();return this.finalize({type:"ImportDeclaration",specifiers:[v],source:$,...this.getItemLocation(u)})}},Xe=w(63829);function Re(u,v=[]){const $=function Te(u,v,$){return new Ie(u,v,$).parseScript()}(u);if(null==$.body)throw new se({index:0,line:0,column:0,data:null,description:"",code:C.InvalidExpression});return $.loadedModules={},(0,Xe.C0)($,v),$}},63829:(Ue,we,w)=>{w.d(we,{$w:()=>j,C0:()=>o,WC:()=>oe,cj:()=>C,cm:()=>X,jR:()=>z,je:()=>Y,tm:()=>se});var G=w(48234);w(3248);const a={all:{min:2,max:2},time:{min:0,max:4},dateonly:{min:0,max:3},getenvironment:{min:0,max:0},none:{min:2,max:2},any:{min:2,max:2},reduce:{min:2,max:3},map:{min:2,max:2},filter:{min:2,max:2},fromcodepoint:{min:1,max:-1},fromcharcode:{min:1,max:-1},tocodepoint:{min:1,max:2},tocharcode:{min:1,max:2},concatenate:{min:0,max:-1},expects:{min:1,max:-1},getfeatureset:{min:1,max:2},week:{min:1,max:2},fromjson:{min:1,max:1},length3d:{min:1,max:2},tohex:{min:1,max:1},hash:{min:1,max:1},timezone:{min:1,max:1},timezoneoffset:{min:1,max:1},changetimezone:{min:2,max:2},isoweek:{min:1,max:1},isoweekday:{min:1,max:1},hasvalue:{min:2,max:2},isomonth:{min:1,max:1},isoyear:{min:1,max:1},resize:{min:2,max:3},slice:{min:0,max:-1},splice:{min:0,max:-1},push:{min:2,max:2},pop:{min:1,max:1},includes:{min:2,max:2},array:{min:0,max:2},front:{min:1,max:1},back:{min:1,max:1},insert:{min:3,max:3},erase:{min:2,max:2},split:{min:2,max:4},guid:{min:0,max:1},standardizeguid:{min:2,max:2},today:{min:0,max:0},angle:{min:2,max:3},bearing:{min:2,max:3},urlencode:{min:1,max:1},now:{min:0,max:0},timestamp:{min:0,max:0},day:{min:1,max:1},month:{min:1,max:1},year:{min:1,max:1},hour:{min:1,max:1},second:{min:1,max:1},millisecond:{min:1,max:1},minute:{min:1,max:1},weekday:{min:1,max:1},toutc:{min:1,max:1},tolocal:{min:1,max:1},date:{min:0,max:8},datediff:{min:2,max:4},dateadd:{min:2,max:3},trim:{min:1,max:1},text:{min:1,max:2},left:{min:2,max:2},right:{min:2,max:2},mid:{min:2,max:3},upper:{min:1,max:1},proper:{min:1,max:2},lower:{min:1,max:1},find:{min:2,max:3},iif:{min:3,max:3},decode:{min:2,max:-1},when:{min:2,max:-1},defaultvalue:{min:2,max:3},isempty:{min:1,max:1},domaincode:{min:2,max:4},domainname:{min:2,max:4},polygon:{min:1,max:1},point:{min:1,max:1},polyline:{min:1,max:1},extent:{min:1,max:1},multipoint:{min:1,max:1},ringisclockwise:{min:1,max:1},geometry:{min:1,max:1},count:{min:0,max:-1},number:{min:1,max:2},acos:{min:1,max:1},asin:{min:1,max:1},atan:{min:1,max:1},atan2:{min:2,max:2},ceil:{min:1,max:2},floor:{min:1,max:2},round:{min:1,max:2},cos:{min:1,max:1},exp:{min:1,max:1},log:{min:1,max:1},min:{min:0,max:-1},constrain:{min:3,max:3},console:{min:0,max:-1},max:{min:0,max:-1},pow:{min:2,max:2},random:{min:0,max:0},sqrt:{min:1,max:1},sin:{min:1,max:1},tan:{min:1,max:1},abs:{min:1,max:1},isnan:{min:1,max:1},stdev:{min:0,max:-1},average:{min:0,max:-1},mean:{min:0,max:-1},sum:{min:0,max:-1},variance:{min:0,max:-1},distinct:{min:0,max:-1},first:{min:1,max:1},top:{min:2,max:2},boolean:{min:1,max:1},dictionary:{min:0,max:-1},typeof:{min:1,max:1},reverse:{min:1,max:1},replace:{min:3,max:4},sort:{min:1,max:2},feature:{min:1,max:-1},haskey:{min:2,max:2},indexof:{min:2,max:2},disjoint:{min:2,max:2},intersects:{min:2,max:2},touches:{min:2,max:2},crosses:{min:2,max:2},within:{min:2,max:2},contains:{min:2,max:2},overlaps:{min:2,max:2},equals:{min:2,max:2},relate:{min:3,max:3},intersection:{min:2,max:2},union:{min:1,max:2},difference:{min:2,max:2},symmetricdifference:{min:2,max:2},clip:{min:2,max:2},cut:{min:2,max:2},area:{min:1,max:2},areageodetic:{min:1,max:2},length:{min:1,max:2},lengthgeodetic:{min:1,max:2},distancegeodetic:{min:2,max:3},distance:{min:2,max:3},densify:{min:2,max:3},densifygeodetic:{min:2,max:3},generalize:{min:2,max:4},buffer:{min:2,max:3},buffergeodetic:{min:2,max:3},offset:{min:2,max:6},rotate:{min:2,max:3},issimple:{min:1,max:1},simplify:{min:1,max:1},convexhull:{min:1,max:1},centroid:{min:1,max:1},nearestcoordinate:{min:2,max:2},nearestvertex:{min:2,max:2},isselfintersecting:{min:1,max:1},multiparttosinglepart:{min:1,max:1},setgeometry:{min:2,max:2},portal:{min:1,max:1},getuser:{min:0,max:2},subtypes:{min:1,max:1},subtypecode:{min:1,max:1},subtypename:{min:1,max:1},domain:{min:2,max:3},convertdirection:{min:3,max:3},sqltimestamp:{min:1,max:3},schema:{min:1,max:1},measuretocoordinate:{min:2,max:2},distancetocoordinate:{min:2,max:2},pointtocoordinate:{min:2,max:2}},T={functionDefinitions:new Map,constantDefinitions:new Map},d={functionDefinitions:new Map,constantDefinitions:new Map};for(const c of["pi","infinity"])d.constantDefinitions.set(c,{type:"constant"}),T.constantDefinitions.set(c,{type:"constant"});d.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"newline",type:"constant"}]}),T.constantDefinitions.set("textformatting",{type:"namespace",key:"textformatting",members:[{key:"backwardslash",type:"constant"},{key:"tab",type:"constant"},{key:"singlequote",type:"constant"},{key:"doublequote",type:"constant"},{key:"forwardslash",type:"constant"},{key:"newline",type:"constant"}]});for(const c in a){const g=a[c];d.functionDefinitions.set(c,{overloads:[{type:"function",parametersInfo:{min:g.min,max:g.max}}]}),T.functionDefinitions.set(c,{overloads:[{type:"function",parametersInfo:{min:g.min,max:g.max}}]})}const m=new Set(["attachments","featureset","featuresetbyassociation","featuresetbyid","featuresetbyname","featuresetbyportalitem","featuresetbyrelationshipname","featuresetbyurl","filterbysubtypecode","getfeatureset","getfeaturesetinfo","getuser","knowledgegraphbyportalitem","querygraph"]),E=new Set(["area","areageodetic","buffer","buffergeodetic","centroid","clip","contains","convexhull","crosses","cut","densify","densifygeodetic","difference","disjoint","distance","distancegeodetic","distancetocoordinate","equals","generalize","intersection","intersects","issimple","length","length3d","lengthgeodetic","measuretocoordinate","multiparttosinglepart","nearestcoordinate","nearestvertex","offset","overlaps","pointtocoordinate","relate","rotate","simplify","symmetricdifference","touches","union","within"]);function oe(c,g){const e="sync"===g?T:d;e.functionDefinitions.has(c.name.toLowerCase())?e.functionDefinitions.get(c.name.toLowerCase())?.overloads.push({type:"function",parametersInfo:{min:c.min,max:c.max}}):e.functionDefinitions.set(c.name.toLowerCase(),{overloads:[{type:"function",parametersInfo:{min:c.min,max:c.max}}]})}function _(c,g){if(c)for(const e of c)F(e,g)}function F(c,g){if(c&&!1!==g(c))switch(c.type){case"ImportDeclaration":_(c.specifiers,g),F(c.source,g);break;case"ExportNamedDeclaration":F(c.declaration,g);break;case"ArrayExpression":_(c.elements,g);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":F(c.left,g),F(c.right,g);break;case"BlockStatement":case"Program":_(c.body,g);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":F(c.callee,g),_(c.arguments,g);break;case"ExpressionStatement":F(c.expression,g);break;case"ForInStatement":case"ForOfStatement":F(c.left,g),F(c.right,g),F(c.body,g);break;case"ForStatement":F(c.init,g),F(c.test,g),F(c.update,g),F(c.body,g);break;case"WhileStatement":F(c.test,g),F(c.body,g);break;case"FunctionDeclaration":F(c.id,g),_(c.params,g),F(c.body,g);break;case"IfStatement":F(c.test,g),F(c.consequent,g),F(c.alternate,g);break;case"MemberExpression":F(c.object,g),F(c.property,g);break;case"ObjectExpression":_(c.properties,g);break;case"Property":F(c.key,g),F(c.value,g);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":F(c.argument,g);break;case"VariableDeclaration":_(c.declarations,g);break;case"VariableDeclarator":F(c.id,g),F(c.init,g);break;case"TemplateLiteral":_(c.expressions,g),_(c.quasis,g)}}function I(c){return"Literal"===c?.type&&"string"==typeof c.value}function z(c,g){let e=!1;const h=g.toLowerCase();return F(c,l=>!e&&("Identifier"===l.type&&l.name&&l.name.toLowerCase()===h&&(e=!0),!0)),e}function C(c){const g=[];return F(c,e=>("ImportDeclaration"===e.type&&e.source&&e.source.value&&g.push({libname:(0,G.X)(e.specifiers[0].local),source:e.source.value}),!0)),g}function Y(c,g){let e=!1;const h=g.toLowerCase();return F(c,l=>!(e||"CallExpression"===l.type&&"Identifier"===l.callee.type&&l.callee.name&&l.callee.name.toLowerCase()===h&&(e=!0,1))),e}function se(c){const g=[];return F(c,e=>"MemberExpression"!==e.type||"Identifier"!==e.object.type||(("Identifier"===e.property.type||"Literal"===e.property.type&&"string"==typeof e.property.value)&&g.push({varId:(0,G.X)(e.object),memberId:(0,G.X)(e.property)}),!1)),g}function X(c){const g=[];return F(c,e=>{if("CallExpression"===e.type&&"Identifier"===e.callee.type)switch((0,G.X)(e.callee)){case"expects":if(e.arguments.length>1){const[h,...l]=e.arguments;if("Identifier"===h?.type){const O=(0,G.X)(h);for(const t of l)I(t)&&g.push({varId:O,memberNamePattern:t.value})}}return!1;case"domainname":case"domaincode":case"domain":case"haskey":case"hasvalue":if(e.arguments.length>=2){const[h,l]=e.arguments;"Identifier"===h?.type&&I(l)&&g.push({varId:(0,G.X)(h),memberNamePattern:l.value})}return!0;case"defaultvalue":if(e.arguments.length>2){const[h,l]=e.arguments;"Identifier"===h?.type&&I(l)&&g.push({varId:(0,G.X)(h),memberNamePattern:l.value})}return!0;default:return!0}return"MemberExpression"!==e.type||"Identifier"!==e.object.type||(e.computed?!!I(e.property)&&(g.push({varId:(0,G.X)(e.object),memberNamePattern:e.property.value}),!1):(g.push({varId:(0,G.X)(e.object),memberNamePattern:e.property.name}),!1))}),g}function j(c){const g=[];return F(c,e=>("CallExpression"===e.type&&"Identifier"===e.callee.type&&g.push(e.callee.name.toLowerCase()),!0)),g}function o(c,g=[]){let e=null;if(void 0===c.usesFeatureSet){null===e&&(e=j(c)),c.usesFeatureSet=!1;for(let h=0;h<e.length;h++)m.has(e[h])&&(c.usesFeatureSet=!0,c.isAsync=!0);if(!1===c.usesFeatureSet&&g&&g.length>0)for(const h of g)if(z(c,h)){c.usesFeatureSet=!0,c.isAsync=!0;break}}if(void 0===c.usesModules&&(c.usesModules=!1,C(c).length>0&&(c.usesModules=!0)),void 0===c.usesGeometry){c.usesGeometry=!1,null===e&&(e=j(c));for(let h=0;h<e.length;h++)E.has(e[h])&&(c.usesGeometry=!0)}}},12933:(Ue,we,w)=>{w.d(we,{A:()=>ge,B:()=>Ke,_:()=>$,a:()=>l,b:()=>f,c:()=>X,d:()=>De,e:()=>c,f:()=>Me,g:()=>O,h:()=>ye,i:()=>j,j:()=>p,k:()=>e,l:()=>u,m:()=>h,n:()=>U,o:()=>ue,p:()=>o,q:()=>K,r:()=>g,s:()=>Oe,t:()=>ee,u:()=>N,v:()=>re,w:()=>Ae,x:()=>Te,y:()=>Xe,z:()=>ae});var G=w(10467),Z=w(73238),a=w(85925),T=w(64939),d=w(55279),m=w(3108),E=w(63829),oe=w(65266),_=w(3248),F=w(11432);const I=new Set(["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"]);let z=!1,C=!1,Y=null,se=[];function X(pe,Ee){if(!0===Ee.useAsync||!0===pe.isAsync)return function x(pe,Ee){if(null===Y)throw new d.D$(null,d.TX.AsyncNotEnabled,null);if((0,_.A)("esri-csp-restrictions"))return function(Se){return Y.executeScript(pe,Se)};try{return(0,Z.V0)(pe,Ee,!0)}catch(Se){if("esri.arcade.arcadeuncompilableerror"===Se.declaredRootClass)return function(Pe){return Y.executeScript(pe,Pe)};throw Se}}(pe,Ee);if((0,_.A)("esri-csp-restrictions"))return function(Se){return(0,T.HG)(pe,Se)};try{return(0,Z.V0)(pe,Ee)}catch(Se){if("esri.arcade.arcadeuncompilableerror"===Se.declaredRootClass)return function(Pe){return(0,T.HG)(pe,Pe)};throw Se}}function j(pe){(0,T.X$)(pe),(0,Z.X$)(pe,"sync"),null===Y?se.push(pe):((0,Z.X$)(pe,"async"),Y.extend(pe))}function o(pe,Ee=[]){return(0,m.t)(pe,Ee)}function p(pe,Ee,Se=[]){return c((0,m.t)(pe,Se),Ee)}function c(pe,Ee){if(!0===Ee.useAsync||!0===pe.isAsync){if(null===Y)throw new d.D$(null,d.TX.AsyncNotEnabled,null);return Y.executeScript(pe,Ee)}return(0,T.HG)(pe,Ee)}function g(pe,Ee){return(0,E.jR)(pe,Ee)}function e(pe,Ee){return(0,E.je)(pe,Ee)}function h(pe,Ee=!1){return void 0===Ee&&(Ee=!1),(0,E.tm)(pe).map(({varId:Se,memberId:Pe})=>`${Se}.${Pe}`)}function l(pe){return(0,E.cm)(pe)}function O(pe,Ee=[]){return void 0===pe.usesGeometry&&(0,E.C0)(pe,Ee),!0===pe.usesGeometry}let t=null;function f(){return t||(t=U(),t)}function U(){return H.apply(this,arguments)}function H(){return(H=(0,G.A)(function*(){return yield(0,oe.k)(),C=!0,!0})).apply(this,arguments)}let R=null;function ue(){return null!==R||(R=K()),R}function K(){return J.apply(this,arguments)}function J(){return(J=(0,G.A)(function*(){yield(0,Z.Lf)(),Y=yield Promise.all([w.e(1501),w.e(2471)]).then(w.bind(w,82471));for(const pe of se)Y.extend(pe),(0,Z.X$)(pe,"async");return se=null,!0})).apply(this,arguments)}function ee(){return z}function N(){return!!Y}function re(){return C}let _e=null;function De(){return _e||(_e=Ae(),_e)}function Ae(){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,G.A)(function*(){yield ue();const[pe,Ee,Se,Pe,Ge,be]=yield Promise.all([Promise.all([w.e(9845),w.e(3325),w.e(6160),w.e(2253),w.e(3318),w.e(1595),w.e(1196),w.e(9750),w.e(4792),w.e(4057),w.e(680),w.e(5940),w.e(7120),w.e(3909)]).then(w.bind(w,99893)),Promise.all([w.e(9845),w.e(3325),w.e(6160),w.e(2253),w.e(3318),w.e(1595),w.e(1196),w.e(9750),w.e(4792),w.e(4057),w.e(680),w.e(5940),w.e(7120),w.e(3909),w.e(2076),w.e(2708)]).then(w.bind(w,52708)),Promise.all([w.e(7120),w.e(3611)]).then(w.bind(w,43611)),w.e(8535).then(w.bind(w,30916)),w.e(6798).then(w.bind(w,16798)),Promise.all([w.e(2076),w.e(4753)]).then(w.bind(w,44753))]);return je=pe,Y.extend([Ee,Se,Pe,Ge,be]),(0,Z.X$)([Ee,Se,Pe,Ge,be],"async"),z=!0,!0})).apply(this,arguments)}function Te(pe,Ee=[]){return void 0===pe.usesFeatureSet&&(0,E.C0)(pe,Ee),!0===pe.usesFeatureSet}function Xe(pe,Ee=[]){return void 0===pe.isAsync&&(0,E.C0)(pe,Ee),!0===pe.isAsync}function u(pe,Ee){return v.apply(this,arguments)}function v(){return(v=(0,G.A)(function*(pe,Ee,Se=[],Pe=!1,Ge=null){return $(new Set,pe,Ee,Se,Pe,Ge)})).apply(this,arguments)}function $(pe,Ee,Se){return q.apply(this,arguments)}function q(){return(q=(0,G.A)(function*(pe,Ee,Se,Pe=[],Ge=!1,be=null){const ke="string"==typeof Ee?o(Ee):Ee,Fe=[];return ke&&(!1===re()&&(O(ke)||Ge)&&Fe.push(f()),!1===N()&&(!0===ke.isAsync||Se)&&Fe.push(ue()),!1===ee()&&(Te(ke)||function Re(pe,Ee){if(Ee){for(const Se of Ee)if(g(pe,Se))return!0;return!1}return!1}(ke,Pe))&&Fe.push(De())),Fe.length&&(yield Promise.all(Fe)),yield ge(pe,ke,be,Se,Ge),!0})).apply(this,arguments)}function ae(pe,Ee=[]){return void 0===pe.usesModules&&(0,E.C0)(pe,Ee),!0===pe.usesModules}function ge(pe,Ee){return ve.apply(this,arguments)}function ve(){return(ve=(0,G.A)(function*(pe,Ee,Se=null,Pe=!1,Ge=!1){const be=(0,E.cj)(Ee);null===Se&&be.length>0&&(Se=a.j.getDefault()),Ee.loadedModules={};for(const ke of be){(0,F.Lw)(Se);const Fe=Se.normalizeModuleUri(ke.source);if(pe.has(Fe.uri))throw new d.D$(null,d.TX.CircularModules,null);pe.add(Fe.uri);const P=yield Se.fetchModule(Fe);yield $(pe,P,Pe,[],Ge,Se),pe.delete(Fe.uri),P.isAsync&&(Ee.isAsync=!0),P.usesFeatureSet&&(Ee.usesFeatureSet=!0),P.usesGeometry&&(Ee.usesGeometry=!0),Ee.loadedModules[ke.libname]={uri:Fe.uri,script:P}}})).apply(this,arguments)}function Oe(pe){if(O(pe))return!0;const Ee=(0,E.$w)(pe);let Se=!1;for(let Pe=0;Pe<Ee.length;Pe++)if(I.has(Ee[Pe])){Se=!0;break}return Se}function Ke(pe,Ee){const Se=null==Ee?null:new Set(Ee.map(Pe=>Pe.toLowerCase()));return(0,E.tm)(pe).some(({varId:Pe,memberId:Ge})=>"$view"===Pe&&(null==Se||Se.has(Ge)))}let je=null;function Me(){return je}const ye=Object.freeze(Object.defineProperty({__proto__:null,_loadScriptDependenciesImpl:$,compileScript:X,enableAsyncSupport:ue,enableAsyncSupportImpl:K,enableFeatureSetSupport:De,enableFeatureSetSupportImpl:Ae,enableGeometrySupport:f,enableGeometrySupportImpl:U,executeScript:c,extend:j,extractExpectedFieldLiterals:l,extractFieldLiterals:h,featureSetUtils:Me,isAsyncEnabled:N,isFeatureSetSupportEnabled:ee,isGeometryEnabled:re,loadDependentModules:ge,loadScriptDependencies:u,parseAndExecuteScript:p,parseScript:o,referencesFunction:e,referencesMember:g,scriptIsAsync:Xe,scriptTouchesGeometry:Oe,scriptUsesFeatureSet:Te,scriptUsesGeometryEngine:O,scriptUsesModules:ae,scriptUsesViewProperties:Ke},Symbol.toStringTag,{value:"Module"}))},78464:(Ue,we,w)=>{w.d(we,{A:()=>_});var G=w(10467),Z=w(59312),a=w(55279),T=w(42970),d=w(42686),m=w(56492),E=w(68778);const _=Object.freeze(Object.defineProperty({__proto__:null,registerFunctions:function oe(F){function I(o,p,c){if(o instanceof T.A)return o.toArray();if((0,E.cy)(o))return o;throw new a.D$(p,a.TX.InvalidParameter,c)}function z(o,p){const c=o.length,g=Math.floor(c/2);return 0===c?[]:1===c?[o[0]]:function C(o,p,c){const g=[];for(;o.length>0||p.length>0;)if(o.length>0&&p.length>0){let e=c(o[0],p[0]);isNaN(e)&&(e=0),e<=0?(g.push(o[0]),o=o.slice(1)):(g.push(p[0]),p=p.slice(1))}else o.length>0?(g.push(o[0]),o=o.slice(1)):p.length>0&&(g.push(p[0]),p=p.slice(1));return g}(z(o.slice(0,g),p),z(o.slice(g,c),p),p)}function Y(o,p){return se.apply(this,arguments)}function se(){return(se=(0,G.A)(function*(o,p){const c=o.length,g=Math.floor(c/2);if(0===c)return[];if(1===c)return[o[0]];const e=[yield Y(o.slice(0,g),p),yield Y(o.slice(g,c),p)];return X(e[0],e[1],p,[])})).apply(this,arguments)}function X(o,p,c,g){return x.apply(this,arguments)}function x(){return(x=(0,G.A)(function*(o,p,c,g){const e=g;if(o.length>0||p.length>0){if(o.length>0&&p.length>0){let h=yield c(o[0],p[0]);return isNaN(h)&&(h=1),h<=0?(e.push(o[0]),o=o.slice(1)):(e.push(p[0]),p=p.slice(1)),X(o,p,c,g)}return o.length>0?(e.push(o[0]),X(o=o.slice(1),p,c,g)):(e.push(p[0]),X(o,p=p.slice(1),c,g))}return g})).apply(this,arguments)}function j(o,p,c,g){(0,d.D)(c,1,2,o,p);let e=c[0];if((0,d.m)(e)&&(e=e.toArray()),!1===(0,E.cy)(e))throw new a.D$(o,a.TX.InvalidParameter,p);if(c.length>1){if(!1===(0,d.i)(c[1]))throw new a.D$(o,a.TX.InvalidParameter,p);let f=e;const U=c[1].createFunction(o);return g?Y(f,U):(f=z(f,(H,R)=>U(H,R)),f)}let h=e;if(0===h.length)return[];const l={};for(let f=0;f<h.length;f++){const U=(0,d.L)(h[f]);""!==U&&(l[U]=!0)}if(!0===l.Array||!0===l.Dictionary||!0===l.Feature||!0===l.Voxel||!0===l.Point||!0===l.Polygon||!0===l.Polyline||!0===l.Multipoint||!0===l.Extent||!0===l.Function)return h.slice();let O=0,t="";for(const f in l)O++,t=f;return h=O>1||"String"===t?z(h,(f,U)=>{if(null==f||f===d.w)return null==U||U===d.w?0:1;if(null==U||U===d.w)return-1;const H=(0,d.f)(f),R=(0,d.f)(U);return H<R?-1:H===R?0:1}):"Number"===t?z(h,(f,U)=>f-U):"Boolean"===t?z(h,(f,U)=>f===U?0:U?-1:1):"Date"===t?z(h,(f,U)=>f.toNumber()-U.toNumber()):h.slice(),h}F.functions.array=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,0,2,o,p),0===e.length)return[];if(1===e.length&&null===e[0])return[];if((0,E.cy)(e[0])){if(2===e.length&&!1===(0,E.Lm)(e[1]))throw new a.D$(o,a.TX.InvalidParameter,p);return!0===(0,d.J)(e[1],!1)?(0,Z.G)(e[0]):e[0].slice()}if((0,d.m)(e[0])){if(2===e.length&&!1===(0,E.Lm)(e[1]))throw new a.D$(o,a.TX.InvalidParameter,p);return!0===(0,d.J)(e[1],!1)?(0,Z.G)(e[0]):e[0].toArray().slice()}const h=(0,d.t)(e[0]);if(isNaN(h)||!1===(0,E.Fq)(h))throw new a.D$(o,a.TX.InvalidParameter,p);const l=(0,d.J)(e[1],null),O=new Array(h);return O.fill(l),O})},F.functions.front=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,1,1,o,p),(0,d.m)(e[0])){if(e[0].length()<=0)throw new a.D$(o,a.TX.OutOfBounds,p);return e[0].get(0)}if((0,E.cy)(e[0])){if(e[0].length<=0)throw new a.D$(o,a.TX.OutOfBounds,p);return e[0][0]}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.back=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,1,1,o,p),(0,d.m)(e[0])){if(e[0].length()<=0)throw new a.D$(o,a.TX.OutOfBounds,p);return e[0].get(e[0].length()-1)}if((0,E.cy)(e[0])){if(e[0].length<=0)throw new a.D$(o,a.TX.OutOfBounds,p);return e[0][e[0].length-1]}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.push=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,1,2,o,p),(0,E.cy)(e[0]))return e[0][e[0].length]=e[1],e[0].length;throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.pop=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,1,1,o,p),(0,E.cy)(e[0])){if(e[0].length<=0)throw new a.D$(o,a.TX.OutOfBounds,p);const h=e[0][e[0].length-1];return e[0].length=e[0].length-1,h}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.erase=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,2,2,o,p),(0,E.cy)(e[0])){let h=(0,d.t)(e[1]);if(isNaN(h)||!1===(0,E.Fq)(h))throw new a.D$(o,a.TX.InvalidParameter,p);const l=e[0];if(l.length<=0)throw new a.D$(o,a.TX.OutOfBounds,p);if(h<0&&(h=l.length+h),h<0)throw new a.D$(o,a.TX.OutOfBounds,p);if(h>=l.length)throw new a.D$(o,a.TX.OutOfBounds,p);return l.splice(h,1),d.w}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.insert=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,3,3,o,p),(0,E.cy)(e[0])){const h=(0,d.t)(e[1]);if(isNaN(h)||!1===(0,E.Fq)(h))throw new a.D$(o,a.TX.InvalidParameter,p);const l=e[2],O=e[0];if(h>O.length)throw new a.D$(o,a.TX.OutOfBounds,p);if(h<0&&h<-1*O.length)throw new a.D$(o,a.TX.OutOfBounds,p);return h===O.length?(O[h]=l,d.w):(O.splice(h,0,l),d.w)}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.resize=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,2,3,o,p),(0,E.cy)(e[0])){const h=(0,d.t)(e[1]);if(isNaN(h)||!1===(0,E.Fq)(h))throw new a.D$(o,a.TX.InvalidParameter,p);if(h<0)throw new a.D$(o,a.TX.InvalidParameter,p);const l=(0,d.J)(e[2],null),O=e[0];if(O.length>=h)return O.length=h,d.w;const t=O.length;O.length=h;for(let f=t;f<O.length;f++)O[f]=l;return d.w}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.includes=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,2,2,o,p),(0,E.cy)(e[0])){const h=e[1];return!!e[0].some(l=>(0,d.B)(l,h))}if((0,d.m)(e[0])){const h=e[1];return!!e[0].toArray().some(l=>(0,d.B)(l,h))}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.slice=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,1,3,o,p),(0,E.cy)(e[0])){const h=(0,d.t)((0,d.J)(e[1],0)),l=(0,d.t)((0,d.J)(e[2],e[0].length));if(isNaN(h)||!1===(0,E.Fq)(h))throw new a.D$(o,a.TX.InvalidParameter,p);if(isNaN(l)||!1===(0,E.Fq)(l))throw new a.D$(o,a.TX.InvalidParameter,p);return e[0].slice(h,l)}if((0,d.m)(e[0])){const h=e[0],l=(0,d.t)((0,d.J)(e[1],0)),O=(0,d.t)((0,d.J)(e[2],h.length()));if(isNaN(l)||!1===(0,E.Fq)(l))throw new a.D$(o,a.TX.InvalidParameter,p);if(isNaN(O)||!1===(0,E.Fq)(O))throw new a.D$(o,a.TX.InvalidParameter,p);return h.toArray().slice(l,O)}throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.splice=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{const h=[];for(let l=0;l<e.length;l++)(0,E.cy)(e[l])?h.push(...e[l]):(0,d.m)(e[l])?h.push(...e[l].toArray()):h.push(e[l]);return h})},F.functions.top=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{if((0,d.D)(e,2,2,o,p),(0,E.cy)(e[0]))return(0,d.t)(e[1])>=e[0].length?e[0].slice():e[0].slice(0,(0,d.t)(e[1]));if((0,d.m)(e[0]))return(0,d.t)(e[1])>=e[0].length()?e[0].slice():e[0].slice(0,(0,d.t)(e[1]));throw new a.D$(o,a.TX.InvalidParameter,p)})},F.functions.first=function(o,p){return F.standardFunction(o,p,(c,g,e)=>((0,d.D)(e,1,1,o,p),(0,E.cy)(e[0])?0===e[0].length?null:e[0][0]:(0,d.m)(e[0])?0===e[0].length()?null:e[0].get(0):null))},"sync"===F.mode&&(F.functions.sort=function(o,p){return F.standardFunction(o,p,(c,g,e)=>j(o,g,e,!1))},F.functions.any=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,2,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g);for(const O of l){const t=h(O);if((0,E.Lm)(t)&&!0===t)return!0}return!1})},F.functions.all=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,2,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g);for(const O of l)if(!0!==h(O))return!1;return!0})},F.functions.none=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,2,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g);for(const O of l)if(!0===h(O))return!1;return!0})},F.functions.reduce=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,3,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g);return 2===e.length?0===l.length?null:l.reduce((O,t)=>{const f=h(O,t);return void 0!==f&&f!==d.w?f:null}):l.reduce((O,t)=>{const f=h(O,t);return void 0!==f&&f!==d.w?f:null},e[2])})},F.functions.map=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,2,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g),O=[];for(const t of l){const f=h(t);O.push(void 0!==f&&f!==d.w?f:null)}return O})},F.functions.filter=function(o,p){return F.standardFunction(o,p,(c,g,e)=>{(0,d.D)(e,2,2,o,g);const h=e[1].createFunction(o),l=I(e[0],o,g),O=[];for(const t of l)!0===h(t)&&O.push(t);return O})}),"async"===F.mode&&(F.functions.sort=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){return j(o,e,h,!0)});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.any=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,2,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e);for(const t of O){const f=yield l(t);let U=null;if(U=(0,m.$X)(U)?yield f:f,(0,E.Lm)(U)&&!0===U)return!0}return!1});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.all=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,2,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e);for(const t of O){const f=yield l(t);let U=null;if(U=(0,m.$X)(U)?yield f:f,!0!==U)return!1}return!0});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.none=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,2,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e);for(const t of O){const f=yield l(t);let U=null;if(U=(0,m.$X)(U)?yield f:f,!0===U)return!1}return!0});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.filter=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,2,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e),t=[];for(const f of O){const U=yield l(f);let H=null;H=(0,m.$X)(H)?yield U:U,!0===H&&t.push(f)}return t});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.reduce=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,3,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e);let t;if(h.length>2){const f=(0,d.J)(h[2],null);t=O.reduce(function(){var U=(0,G.A)(function*(H,R){let ue=yield H;return void 0!==ue&&ue!==d.w||(ue=null),l(ue,R)});return function(H,R){return U.apply(this,arguments)}}(),Promise.resolve(f))}else{if(0===O.length)return null;t=O.reduce(function(){var f=(0,G.A)(function*(U,H,R){if(R<=1)return l(U,H);let ue=yield U;return void 0!==ue&&ue!==d.w||(ue=null),l(ue,H)});return function(U,H,R){return f.apply(this,arguments)}}())}return t.then(f=>void 0!==f&&f!==d.w?f:null)});return function(g,e,h){return c.apply(this,arguments)}}())},F.functions.map=function(o,p){return F.standardFunctionAsync(o,p,function(){var c=(0,G.A)(function*(g,e,h){(0,d.D)(h,2,2,o,e);const l=h[1].createFunction(o),O=I(h[0],o,e),t=[];for(const f of O){const U=yield l(f);let H=null;H=(0,m.$X)(H)?yield U:U,t.push(void 0!==H&&H!==d.w?H:null)}return t});return function(g,e,h){return c.apply(this,arguments)}}())})}},Symbol.toStringTag,{value:"Module"}))},42686:(Ue,we,w)=>{w.d(we,{$:()=>ot,A:()=>pe,B:()=>Ee,C:()=>b,D:()=>ve,E:()=>rt,F:()=>st,G:()=>it,H:()=>tt,I:()=>f,J:()=>N,K:()=>Ne,L:()=>re,M:()=>Me,N:()=>Oe,O:()=>te,P:()=>Ce,Q:()=>le,R:()=>t,S:()=>We,T:()=>ie,U:()=>he,V:()=>Ae,W:()=>ue,X:()=>at,Y:()=>Ge,Z:()=>V,_:()=>s,a:()=>L,a0:()=>He,a1:()=>xe,a2:()=>Le,b:()=>A,c:()=>Se,d:()=>ee,e:()=>S,f:()=>Pe,g:()=>$,h:()=>P,i:()=>K,j:()=>q,k:()=>ae,l:()=>_e,m:()=>v,n:()=>De,o:()=>Re,p:()=>Ie,q:()=>Te,r:()=>u,s:()=>be,t:()=>Fe,u:()=>ce,v:()=>ut,w:()=>U,x:()=>H,y:()=>R,z:()=>Xe});var G=w(10467),Z=w(23098),a=w(77469),T=w(61299),d=w(50279),m=w(55279),E=w(61552),oe=w(42970),_=w(61223),F=w(40056),I=w(7981),z=w(85775),C=w(87257),Y=w(29752),se=w(28067),X=w(68643),x=w(21870),j=w(1749),o=w(55861),p=w(93615),c=w(32034),g=w(15268),e=w(61320),h=w(88996),l=w(68778),O=w(44549);class t{constructor(M){this.value=M}}class f{constructor(M){this.value=M}}const U={type:"VOID"},H=Symbol("BREAK"),R=Symbol("CONTINUE");function ue(i,M,W){return""===M||null==M||M===W||M===W?i:i=i.split(M).join(W)}function K(i){return i instanceof E.fF}function J(i){return i instanceof d.x}function ee(i){return!!((0,l.Kg)(i)||(0,l.Et)(i)||$(i)||q(i)||ae(i)||(0,l.Lm)(i)||null===i||i===U||"number"==typeof i)}function N(i,M){return void 0===i?M:i}function re(i){return null==i?"":(0,l.cy)(i)||v(i)?"Array":$(i)?"Date":ae(i)?"Time":q(i)?"DateOnly":(0,l.Kg)(i)?"String":(0,l.Lm)(i)?"Boolean":(0,l.Et)(i)?"Number":"esri.arcade.Attachment"===i?.declaredClass?"Attachment":"esri.arcade.Portal"===i?.declaredClass?"Portal":"esri.arcade.Dictionary"===i?.declaredClass?"Dictionary":u(i)?"KnowledgeGraph":i instanceof d.x?"Module":De(i)?"Feature":i instanceof j.A?"Point":i instanceof o.A?"Polygon":i instanceof p.A?"Polyline":i instanceof x.A?"Multipoint":i instanceof se.A?"Extent":K(i)?"Function":Ie(i)?"FeatureSet":Re(i)?"FeatureSetCollection":Ae(i)?"Voxel":i===U?"":"number"==typeof i&&isNaN(i)?"Number":"Unrecognized Type"}function _e(i){return i instanceof X.A}function De(i){return"esri.arcade.Feature"===i?.arcadeDeclaredClass}function Ae(i){return"esri.arcade.Voxel"===i?.arcadeDeclaredClass}function Ie(i){return"esri.arcade.featureset.support.FeatureSet"===i?.declaredRootClass}function Te(i){return"esri.arcade.Dictionary"===i?.declaredClass}function Xe(i){return Te(i)||De(i)||Ae(i)}function Re(i){return"esri.arcade.featureSetCollection"===i?.declaredRootClass}function u(i){return"esri.rest.knowledgeGraph.KnowledgeGraph"===i?.declaredClass}function v(i){return i instanceof oe.A}function $(i){return i instanceof T.lY}function q(i){return i instanceof C.n}function ae(i){return i instanceof Y.k}function ge(i){return null!=i&&"object"==typeof i}function ve(i,M,W,me,fe){if(i.length<M||i.length>W)throw new m.D$(me,m.TX.WrongNumberOfParameters,fe)}function Oe(i){return i<0?-Math.round(-i):Math.round(i)}function Ke(i,M){return isNaN(i)||null==M||""===M?i.toString():(M=ue(M,"\u2030",""),M=ue(M,"\xa4",""),(0,z.GP)(i,{pattern:M}))}function je(i,M){return null==M||""===M?i.toISOString(!0):i.toFormat(Me(M),{locale:(0,h.JK)(),numberingSystem:"latn"})}function Me(i,M=!1){i=i.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let W="";const me=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;for(const fe of i.match(me)||[])switch(fe){case"D":W+="d";break;case"DD":W+="dd";break;case"DDD":W+="o";break;case"d":W+="c";break;case"ddd":W+="ccc";break;case"dddd":W+="cccc";break;case"M":W+="L";break;case"MM":W+="LL";break;case"MMM":W+="LLL";break;case"MMMM":W+="LLLL";break;case"YY":W+="yy";break;case"Y":case"YYYY":W+="yyyy";break;case"Q":W+="q";break;case"Z":W+="Z";break;case"ZZ":W+="ZZ";break;case"ZZZ":W+="ZZZ";break;case"ZZZZ":W+=M?"[ZZZZ]":"ZZZZ";break;case"ZZZZZ":W+=M?"[ZZZZZ]":"ZZZZZ";break;case"S":W+="'S'";break;case"SS":W+="'SS'";break;case"SSS":W+="u";break;case"A":case"a":W+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":W+=fe;break;default:fe.length>=2&&"["===fe.slice(0,1)&&"]"===fe.slice(-1)?W+=`'${fe.slice(1,-1)}'`:W+=`'${fe}'`}return W}function ye(i,M,W){switch(W){case">":return i>M;case"<":return i<M;case">=":return i>=M;case"<=":return i<=M}return!1}function pe(i,M,W){if(null===i){if(null===M||M===U)return ye(null,null,W);if((0,l.Et)(M))return ye(0,M,W);if((0,l.Kg)(M)||(0,l.Lm)(M))return ye(0,Fe(M),W);if($(M))return ye(0,M.toNumber(),W);if(ae(M)||q(M))return ye(i,M.toNumber(),W)}if(i===U){if(null===M||M===U)return ye(null,null,W);if((0,l.Et)(M))return ye(0,M,W);if((0,l.Kg)(M)||(0,l.Lm)(M))return ye(0,Fe(M),W);if($(M))return ye(0,M.toNumber(),W);if(ae(M)||q(M))return ye(i,M.toNumber(),W)}else if((0,l.Et)(i)){if((0,l.Et)(M))return ye(i,M,W);if((0,l.Lm)(M))return ye(i,Fe(M),W);if(null===M||M===U)return ye(i,0,W);if((0,l.Kg)(M))return ye(i,Fe(M),W);if($(M)||ae(M)||q(M))return ye(i,M.toNumber(),W)}else if((0,l.Kg)(i)){if((0,l.Kg)(M))return ye(Pe(i),Pe(M),W);if($(M)||ae(M)||q(M))return ye(Fe(i),M.toNumber(),W);if((0,l.Et)(M))return ye(Fe(i),M,W);if(null===M||M===U)return ye(Fe(i),0,W);if((0,l.Lm)(M))return ye(Fe(i),Fe(M),W)}else if($(i)){if($(M))return i.timeZone!==M.timeZone&&(i.isUnknownTimeZone?i=T.lY.arcadeDateAndZoneToArcadeDate(i,M.timeZone):M.isUnknownTimeZone&&(M=T.lY.arcadeDateAndZoneToArcadeDate(M,i.timeZone))),ye(i.toNumber(),M.toNumber(),W);if(null===M||M===U)return ye(i.toNumber(),0,W);if((0,l.Et)(M))return ye(i.toNumber(),M,W);if((0,l.Lm)(M)||(0,l.Kg)(M))return ye(i.toNumber(),Fe(M),W);if(ae(M))throw new m.D$(null,m.TX.CannotCompareDateAndTime,null);if(q(M))return ye(i.toNumber(),M.toNumber(),W)}else if((0,l.Lm)(i)){if((0,l.Lm)(M))return ye(i,M,W);if((0,l.Et)(M))return ye(Fe(i),Fe(M),W);if($(M)||ae(M)||q(M))return ye(Fe(i),M.toNumber(),W);if(null===M||M===U)return ye(Fe(i),0,W);if((0,l.Kg)(M))return ye(Fe(i),Fe(M),W)}else if(q(i)){if($(M))return ye(i.toNumber(),M.toNumber(),W);if(null===M||M===U)return ye(i.toNumber(),0,W);if((0,l.Et)(M))return ye(i.toNumber(),M,W);if((0,l.Lm)(M)||(0,l.Kg)(M))return ye(i.toNumber(),Fe(M),W);if(ae(M))throw new m.D$(null,m.TX.CannotCompareDateAndTime,null);if(q(M))return ye(i.toNumber(),M.toNumber(),W)}else if(ae(i)){if($(M))throw new m.D$(null,m.TX.CannotCompareDateAndTime,null);if(null===M||M===U)return ye(i.toNumber(),0,W);if((0,l.Et)(M))return ye(i.toNumber(),M,W);if((0,l.Lm)(M)||(0,l.Kg)(M))return ye(i.toNumber(),Fe(M),W);if(ae(M))return ye(i.toNumber(),M.toNumber(),W);if(q(M))throw new m.D$(null,m.TX.CannotCompareDateAndTime,null)}return!!Ee(i,M)&&("<="===W||">="===W)}function Ee(i,M){if(i===M||null===i&&M===U||null===M&&i===U)return!0;if($(i)&&$(M)||ae(i)&&ae(M)||q(i)&&q(M))return i.equals(M);if(i instanceof _.A||i instanceof F.A)return i.equalityTest(M);if(i instanceof j.A&&M instanceof j.A){const W=i.cache._arcadeCacheId;if(null!=W)return W===M.cache._arcadeCacheId}return!!(ge(i)&&ge(M)&&(i._arcadeCacheId===M._arcadeCacheId&&null!=i._arcadeCacheId||i._underlyingGraphic===M._underlyingGraphic&&null!=i._underlyingGraphic))}function Se(i,{useNumbersForDates:M}){let W="";for(const me in i){""!==W&&(W+=",");const fe=i[me];null==fe?W+=JSON.stringify(me)+":null":(0,l.Lm)(fe)||(0,l.Et)(fe)||(0,l.Kg)(fe)?W+=JSON.stringify(me)+":"+JSON.stringify(fe):_e(fe)?W+=JSON.stringify(me)+":"+be(fe):ae(fe)||q(fe)?W+=`${JSON.stringify(me)}:${JSON.stringify(fe.toString())}`:v(fe)||Array.isArray(fe)?W+=JSON.stringify(me)+":"+be(fe,null,M):$(fe)?W+=M?JSON.stringify(me)+":"+JSON.stringify(fe.getTime()):JSON.stringify(me)+":"+fe.stringify():null!==fe&&"object"==typeof fe&&"castToText"in fe&&(W+=JSON.stringify(me)+":"+fe.castToText(M))}return"{"+W+"}"}function Pe(i,M){if((0,l.Kg)(i))return i;if(null===i)return"";if((0,l.Et)(i))return Ke(i,M);if((0,l.Lm)(i))return i.toString();if($(i))return je(i,M);if(ae(i)||q(i))return i.toFormat(M);if(i instanceof X.A)return JSON.stringify(i.toJSON());if((0,l.cy)(i)){const W=[];for(let me=0;me<i.length;me++)W[me]=ke(i[me]);return"["+W.join(",")+"]"}if(i instanceof oe.A){const W=[];for(let me=0;me<i.length();me++)W[me]=ke(i.get(me));return"["+W.join(",")+"]"}return null!==i&&"object"==typeof i&&"castToText"in i?i.castToText():K(i)?"object, Function":i===U?"":J(i)?"object, Module":""}function Ge(i){const M=[];if(i instanceof oe.A){for(let W=0;W<i.length();W++)M[W]=Fe(i.get(W));return M}if(!(0,l.cy)(i))return null;for(let W=0;W<i.length;W++)M[W]=Fe(i[W]);return M}function be(i,M,W=!1){if((0,l.Kg)(i))return i;if(null===i)return"";if((0,l.Et)(i))return Ke(i,M);if((0,l.Lm)(i))return i.toString();if($(i))return je(i,M);if(ae(i)||q(i))return i.toFormat(M);if(i instanceof X.A)return i instanceof se.A?'{"xmin":'+i.xmin.toString()+',"ymin":'+i.ymin.toString()+","+(i.hasZ?'"zmin":'+i.zmin.toString()+",":"")+(i.hasM?'"mmin":'+i.mmin.toString()+",":"")+'"xmax":'+i.xmax.toString()+',"ymax":'+i.ymax.toString()+","+(i.hasZ?'"zmax":'+i.zmax.toString()+",":"")+(i.hasM?'"mmax":'+i.mmax.toString()+",":"")+'"spatialReference":'+qe(i.spatialReference)+"}":qe(i.toJSON(),(me,fe)=>me.key===fe.key?0:"spatialReference"===me.key?1:"spatialReference"===fe.key||me.key<fe.key?-1:me.key>fe.key?1:0);if((0,l.cy)(i)){const me=[];for(let fe=0;fe<i.length;fe++)me[fe]=ke(i[fe],W);return"["+me.join(",")+"]"}if(i instanceof oe.A){const me=[];for(let fe=0;fe<i.length();fe++)me[fe]=ke(i.get(fe),W);return"["+me.join(",")+"]"}return null!==i&&"object"==typeof i&&"castToText"in i?i.castToText(W):K(i)?"object, Function":i===U?"":J(i)?"object, Module":""}function ke(i,M=!1){if(null===i)return"null";if((0,l.Lm)(i)||(0,l.Et)(i)||(0,l.Kg)(i))return JSON.stringify(i);if(i instanceof X.A||i instanceof oe.A||Array.isArray(i))return be(i,null,M);if($(i))return JSON.stringify(M?i.getTime():je(i,""));if(ae(i)||q(i))return JSON.stringify(i.toString());if(null!==i&&"object"==typeof i){if("castToText"in i)return i.castToText(M)}else if(i===U)return"null";return"null"}function Fe(i,M){return(0,l.Et)(i)?i:null===i||""===i?0:$(i)||q(i)||ae(i)?NaN:(0,l.Lm)(i)?i?1:0:(0,l.cy)(i)||""===i||void 0===i?NaN:void 0!==M&&(0,l.Kg)(i)?(M=ue(M,"\u2030",""),M=ue(M,"\xa4",""),(0,z.qg)(i,{pattern:M})):i===U?0:Number(i)}function P(i,M){if($(i))return i;if((0,l.Kg)(i)){const W=function D(i,M){const W=/ (\d\d)/,me=(0,T.mT)(M);let fe=O.c9.fromISO(i,{zone:me});return fe.isValid||W.test(i)&&(i=i.replace(W,"T$1"),fe=O.c9.fromISO(i,{zone:M}),fe.isValid)?fe:null}(i,M);if(W)return T.lY.dateTimeToArcadeDate(W)}return null}function S(i){return(0,l.Lm)(i)?i:(0,l.Kg)(i)?"true"===(i=i.toLowerCase()):!!(0,l.Et)(i)&&0!==i&&!isNaN(i)}function ce(i,M){return null==i?null:(null!=i.spatialReference||(i.spatialReference=M),i)}function he(i){if(null===i)return null;if(i instanceof j.A)return"NaN"===i.x||null===i.x||isNaN(i.x)?null:i;if(i instanceof o.A){if(0===i.rings.length)return null;for(const M of i.rings)if(M.length>0)return i;return null}if(i instanceof p.A){if(0===i.paths.length)return null;for(const M of i.paths)if(M.length>0)return i;return null}return i instanceof x.A?0===i.points.length?null:i:i instanceof se.A?"NaN"===i.xmin||null===i.xmin||isNaN(i.xmin)?null:i:null}function xe(i,M){if(!i||!i.domain)return M;let W=null,me=null;if($(M))W=M.toNumber();else if(q(M))W=M.toString();else if(ae(M))W=M.toStorageString();else if("string"===i.field.type||"esriFieldTypeString"===i.field.type)W=Pe(M);else{if(null==M)return null;if(""===M)return M;W=Fe(M)}for(let fe=0;fe<i.domain.codedValues.length;fe++){const Be=i.domain.codedValues[fe];Be.code===W&&(me=Be)}return null===me?Pe(M):me.name}function Le(i,M){if(!i||!i.domain)return M;let W=null;const me=Pe(M);for(let fe=0;fe<i.domain.codedValues.length;fe++){const Be=i.domain.codedValues[fe];Be.name===me&&(W=Be)}return null===W?M:W.code}function He(i,M,W=null,me=null){if(!M||!M.fields)return null;let fe,Be,Ze=null;for(let Ye=0;Ye<M.fields.length;Ye++){const nt=M.fields[Ye];nt.name.toLowerCase()===i.toString().toLowerCase()&&(Ze=nt)}if(null===Ze)throw new m.D$(null,m.TX.FieldNotFound,null,{key:i});let $e=M.typeIdField,Je="id",Ve=M.types;if(M.subtypeField&&($e=M.subtypeField,Je="code",Ve=M.subtypes??[]),null===me&&W&&$e)me=W.hasField($e)?W.field($e):null;else if($e&&null!==me){let Ye=!1;for(const nt of Ve||[])if(me===nt[Je]){Ye=!0;break}if(!Ye)for(const nt of Ve||[])if(me===nt.name){me=nt[Je],Ye=!0;break}Ye||(me=null,W&&$e&&(me=W.hasField($e)?W.field($e):null))}return null!=me&&Ve.some(Ye=>Ye[Je]===me&&(fe=Ye.domains?.[Ze.name],fe&&"inherited"===fe.type&&(fe=ze(Ze.name,M),Be=!0),!0)),Be||fe||(fe=ze(i,M)),{field:Ze,domain:fe}}function ze(i,M){let W;return M.fields.some(me=>(me.name.toLowerCase()===i.toLowerCase()&&(W=me.domain),!!W)),W}function qe(i,M){M||(M={}),"function"==typeof M&&(M={cmp:M});const W="boolean"==typeof M.cycles&&M.cycles,me=M.cmp&&(fe=M.cmp,function(Ze){return function($e,Je){return fe({key:$e,value:Ze[$e]},{key:Je,value:Ze[Je]})}});var fe;const Be=[];return function Ze($e){if($e?.toJSON&&"function"==typeof $e.toJSON&&($e=$e.toJSON()),void 0===$e)return;if("number"==typeof $e)return isFinite($e)?""+$e:"null";if("object"!=typeof $e)return JSON.stringify($e);let Je,Ve;if(Array.isArray($e)){for(Ve="[",Je=0;Je<$e.length;Je++)Je&&(Ve+=","),Ve+=Ze($e[Je])||"null";return Ve+"]"}if(null===$e)return"null";if(Be.includes($e)){if(W)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Ye=Be.push($e)-1,nt=Object.keys($e).sort(me?.($e));for(Ve="",Je=0;Je<nt.length;Je++){const lt=nt[Je],ct=Ze($e[lt]);ct&&(Ve&&(Ve+=","),Ve+=JSON.stringify(lt)+":"+ct)}return Be.splice(Ye,1),"{"+Ve+"}"}(i)}function rt(i){if(null===i)return null;const M=[];for(const W of i)De(W)?M.push(W.geometry()):M.push(W);return M}function et(i,M){if(!(M instanceof j.A))throw new m.D$(null,m.TX.InvalidParameter,null);i.push(M.hasZ?M.hasM?[M.x,M.y,M.z,M.m]:[M.x,M.y,M.z]:[M.x,M.y])}function st(i,M){if((0,l.cy)(i)||v(i)){let W=!1,me=!1,fe=[],Be=M;if((0,l.cy)(i)){for(const Ze of i)et(fe,Ze);fe.length>0&&(Be=i[0].spatialReference,W=i[0].hasZ,me=i[0].hasM)}else if(i instanceof F.A)fe=i._elements,fe.length>0&&(W=i._hasZ,me=i._hasM,Be=i.get(0).spatialReference);else{if(!v(i))throw new m.D$(null,m.TX.InvalidParameter,null);for(const Ze of i.toArray())et(fe,Ze);fe.length>0&&(Be=i.get(0).spatialReference,W=!0===i.get(0).hasZ,me=!0===i.get(0).hasM)}return 0===fe.length?null:((0,g.$3)(fe)||(fe=fe.slice().reverse()),new o.A({rings:[fe],spatialReference:Be,hasZ:W,hasM:me}))}return i}function it(i,M){if((0,l.cy)(i)||v(i)){let W=!1,me=!1,fe=[],Be=M;if((0,l.cy)(i)){for(const Ze of i)et(fe,Ze);fe.length>0&&(Be=i[0].spatialReference,W=!0===i[0].hasZ,me=!0===i[0].hasM)}else if(i instanceof F.A)fe=i._elements,fe.length>0&&(W=i._hasZ,me=i._hasM,Be=i.get(0).spatialReference);else if(v(i)){for(const Ze of i.toArray())et(fe,Ze);fe.length>0&&(Be=i.get(0).spatialReference,W=!0===i.get(0).hasZ,me=!0===i.get(0).hasM)}return 0===fe.length?null:new p.A({paths:[fe],spatialReference:Be,hasZ:W,hasM:me})}return i}function tt(i,M){if((0,l.cy)(i)||v(i)){let W=!1,me=!1,fe=[],Be=M;if((0,l.cy)(i)){for(const Ze of i)et(fe,Ze);fe.length>0&&(Be=i[0].spatialReference,W=!0===i[0].hasZ,me=!0===i[0].hasM)}else if(i instanceof F.A)fe=i._elements,fe.length>0&&(W=i._hasZ,me=i._hasM,Be=i.get(0).spatialReference);else if(v(i)){for(const Ze of i.toArray())et(fe,Ze);fe.length>0&&(Be=i.get(0).spatialReference,W=!0===i.get(0).hasZ,me=!0===i.get(0).hasM)}return 0===fe.length?null:new x.A({points:fe,spatialReference:Be,hasZ:W,hasM:me})}return i}function ot(i,M=!1){const W=[];if(null===i)return W;if(!0===(0,l.cy)(i)){for(let me=0;me<i.length;me++){const fe=Pe(i[me]);""===fe&&!0!==M||W.push(fe)}return W}if(i instanceof oe.A){for(let me=0;me<i.length();me++){const fe=Pe(i.get(me));""===fe&&!0!==M||W.push(fe)}return W}if(ee(i)){const me=Pe(i);return""===me&&!0!==M||W.push(me),W}return[]}let r=0;function s(i){return r++,r%100==0?(r=0,new Promise(M=>{setTimeout(()=>{M(i)},0)})):i}function b(i,M,W){switch(W){case"&":return i&M;case"|":return i|M;case"^":return i^M;case"<<":return i<<M;case">>":return i>>M;case">>>":return i>>>M}}function L(i,M=null){return null==i?null:(0,l.Lm)(i)||(0,l.Et)(i)||(0,l.Kg)(i)?i:i instanceof X.A?!0===M?.keepGeometryType?i:i.toJSON():i instanceof oe.A?i.toArray().map(W=>L(W,M)):Array.isArray(i)?i.map(W=>L(W,M)):(0,l.$P)(i)?i:$(i)?i.toJSDate():ae(i)?i.toString():q(i)?i.toJSDate():null!==i&&"object"==typeof i&&void 0!==i.castAsJson?i.castAsJson(M):null}function Q(i,M,W,me,fe){return y.apply(this,arguments)}function y(){return(y=(0,G.A)(function*(i,M,W,me,fe){const Be=yield A(i,M,W);fe[me]=Be})).apply(this,arguments)}function A(i){return B.apply(this,arguments)}function B(){return(B=(0,G.A)(function*(i,M=null,W=null){if(i instanceof oe.A&&(i=i.toArray()),null==i)return null;if(ee(i)||i instanceof X.A||(0,l.$P)(i)||$(i))return L(i,W);if(Array.isArray(i)){const me=[],fe=[];for(const Be of i)null===Be||ee(Be)||Be instanceof X.A||(0,l.$P)(Be)||$(Be)?fe.push(L(Be,W)):(fe.push(null),me.push(Q(Be,M,W,fe.length-1,fe)));return me.length>0&&(yield Promise.all(me)),fe}return null!==i&&"object"==typeof i&&void 0!==i.castAsJsonAsync?i.castAsJsonAsync(M,W):null})).apply(this,arguments)}function k(i){return V(i)?i.parent:i}function V(i){return i&&"declaredClass"in i&&"esri.layers.support.SubtypeSublayer"===i.declaredClass}function te(i,M,W){const me=k(i.fullSchema());return null!==me&&me.fields?He(M,me,i,W):null}function ie(i){const M=k(i.fullSchema());return null===M?null:M.fields?M.subtypeField?{subtypeField:M.subtypeField,subtypes:M.subtypes?M.subtypes.map(W=>({name:W.name,code:W.code})):[]}:M.typeIdField?{subtypeField:M.typeIdField,subtypes:M.types?M.types.map(W=>({name:W.name,code:W.id})):[]}:null:null}function le(i,M,W,me){const fe=k(i.fullSchema());if(null===fe||!fe.fields)return null;const Be=He(M,fe,i,me);if(void 0===W)try{W=i.field(M)}catch{return null}return xe(Be,W)}function Ce(i,M,W,me){const fe=k(i.fullSchema());if(null===fe||!fe.fields)return null;if(void 0===W){try{W=i.field(M)}catch{return null}return W}return Le(He(M,fe,i,me),W)}function Ne(i){return i?.timeZone??"system"}function We(i){const M=k(i.fullSchema());if(null===M||!M.fields)return null;const W=[];for(const me of M.fields)W.push((0,I.nE)(me));return{objectIdField:M.objectIdField,globalIdField:M.globalIdField??"",geometryType:void 0===I.yT[M.geometryType]?"":I.yT[M.geometryType],fields:W}}function at(i,M){const W=T.lY.systemTimeZoneCanonicalName;return"system"===i&&(i=W),{version:Qe,engineVersion:a.rE,timeZone:i,userTimeZone:W,spatialReference:M instanceof c.A?M.toJSON():M,application:Z.A.applicationName??"",engine:"web",locale:(0,h.JK)()}}const Qe="1.30",ut=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResult:f,ReturnResult:t,absRound:Oe,arcadeVersion:Qe,autoCastArrayOfPointsToMultiPoint:tt,autoCastArrayOfPointsToPolygon:st,autoCastArrayOfPointsToPolyline:it,autoCastFeatureToGeometry:rt,binaryOperator:b,breakResult:H,castAsJson:L,castAsJsonAsync:A,castRecordToText:Se,continueResult:R,defaultExecutingContext:at,defaultTimeZone:Ne,defaultUndefined:N,equalityTest:Ee,featureDomainCodeLookup:Ce,featureDomainValueLookup:le,featureFullDomain:te,featureSchema:We,featureSubtypes:ie,fixNullGeometry:he,fixSpatialReference:ce,formatDate:je,formatNumber:Ke,getDomain:He,getDomainCode:Le,getDomainValue:xe,getType:re,greaterThanLessThan:pe,isArray:l.cy,isBoolean:l.Lm,isDate:$,isDateOnly:q,isDictionary:Te,isDictionaryLike:Xe,isFeature:De,isFeatureSet:Ie,isFeatureSetCollection:Re,isFunctionParameter:K,isGeometry:_e,isGraphic:l.DU,isImmutableArray:v,isInteger:l.Fq,isJsDate:l.$P,isKnowledgeGraph:u,isModule:J,isNumber:l.Et,isObject:ge,isSimpleType:ee,isString:l.Kg,isSubtypeGrouplayer:function de(i){return i&&"declaredClass"in i&&"esri.layers.SubtypeGroupLayer"===i.declaredClass},isSubtypeSublayer:V,isTime:ae,isVoxel:Ae,multiReplace:ue,parseGeometryFromJson:function ne(i,M){const W=JSON.parse(i);return W&&!W.spatialReference&&(W.spatialReference=M),(0,e.rS)(W)},pcCheck:ve,stableStringify:qe,standardiseDateFormat:Me,tick:s,toBoolean:S,toDate:P,toNumber:Fe,toNumberArray:Ge,toString:Pe,toStringArray:ot,toStringExplicit:be,voidOperation:U},Symbol.toStringTag,{value:"Module"}))},85775:(Ue,we,w)=>{w.d(we,{B:()=>F,GP:()=>d,qg:()=>I});var G=w(1119),Z=w(88996);const a={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],no:[",","\xa0"],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function T(X=(0,Z.JK)()){let x=(X=X.toLowerCase())in a;if(!x){const c=X.split("-");c.length>1&&c[0]in a&&(X=c[0],x=!0),x||(X="en")}const[j,o,p="#,##0.###"]=a[X];return{decimal:j,group:o,pattern:p}}function d(X,x){const j=T((x={...x}).locale);x.customs=j;const o=x.pattern||j.pattern;return isNaN(X)||Math.abs(X)===1/0?null:function E(X,x,j){const o=(j=j||{}).customs.group,p=j.customs.decimal,c=x.split(";"),g=c[0];if((x=c[X<0?1:0]||"-"+g).includes("%"))X*=100;else if(x.includes("\u2030"))X*=1e3;else{if(x.includes("\xa4"))throw new Error("currency notation not supported");if(x.includes("E"))throw new Error("exponential notation not supported")}const e=m,h=g.match(e);if(!h)throw new Error("unable to find a number expression in pattern: "+x);return!1===j.fractional&&(j.places=0),x.replace(e,function oe(X,x,j){!0===(j=j||{}).places&&(j.places=0),j.places===1/0&&(j.places=6);const o=x.split("."),p="string"==typeof j.places&&j.places.indexOf(",");let c=j.places;p?c=j.places.slice(p+1):+c>=0||(c=(o[1]||[]).length),j.round<0||(X=Number(X.toFixed(Number(c))));const g=String(Math.abs(X)).split("."),e=g[1]||"";if(o[1]||j.places){p&&(j.places=j.places.slice(0,Math.max(0,p)));const H=void 0!==j.places?j.places:o[1]&&o[1].lastIndexOf("0")+1;+H>e.length&&(g[1]=e.padEnd(Number(H),"0")),+c<e.length&&(g[1]=e.slice(0,Math.max(0,Number(c))))}else g[1]&&g.pop();const h=o[0].replace(",","");let l=h.indexOf("0");-1!==l&&(l=h.length-l,l>g[0].length&&(g[0]=g[0].padStart(l,"0")),h.includes("#")||(g[0]=g[0].slice(-l)));let O,t,f=o[0].lastIndexOf(",");if(-1!==f){O=o[0].length-f-1;const H=o[0].slice(0,f);f=H.lastIndexOf(","),-1!==f&&(t=H.length-f-1)}const U=[];for(let H=g[0];H;){const R=H.length-O;U.push(R>0?H.slice(Math.max(0,R)):H),H=R>0?H.slice(0,R):"",t&&(O=t,t=void 0)}return g[0]=U.reverse().join(j.group||","),g.join(j.decimal||".")}(X,h[0],{decimal:p,group:o,places:j.places,round:j.round}))}(X,o,x)}const m=/[#0,]*[#0](?:\.0*#*)?/;function F(X){const x=T((X=X||{}).locale),j=X.pattern||x.pattern,o=x.group,p=x.decimal;let c=1;if(j.includes("%"))c/=100;else if(j.includes("\u2030"))c/=1e3;else if(j.includes("\xa4"))throw new Error("currency notation not supported");const g=j.split(";");return 1===g.length&&g.push("-"+g[0]),{regexp:Y(g,h=>(h="(?:"+(0,G.Cj)(h,".")+")").replace(m,l=>{const O={signed:!1,separator:X.strict?o:[o,""],fractional:X.fractional,decimal:p,exponent:!1},t=l.split(".");let f=X.places;1===t.length&&1!==c&&(t[1]="###"),1===t.length||0===f?O.fractional=!1:(void 0===f&&(f=X.pattern?t[1].lastIndexOf("0")+1:1/0),f&&null==X.fractional&&(O.fractional=!0),!X.places&&+f<t[1].length&&(f+=","+t[1].length),O.places=f);const U=t[0].split(",");return U.length>1&&(O.groupSize=U.pop().length,U.length>1&&(O.groupSize2=U.pop().length)),"("+function z(X){"places"in(X=X||{})||(X.places=1/0),"string"!=typeof X.decimal&&(X.decimal="."),"fractional"in X&&!String(X.places).startsWith("0")||(X.fractional=[!0,!1]),"exponent"in X||(X.exponent=[!0,!1]),"eSigned"in X||(X.eSigned=[!0,!1]);const x=C(X),j=Y(X.fractional,p=>{let c="";return p&&0!==X.places&&(c="\\"+X.decimal,X.places===1/0?c="(?:"+c+"\\d+)?":c+="\\d{"+X.places+"}"),c},!0);let o=x+j;return j&&(o="(?:(?:"+o+")|(?:"+j+"))"),o+Y(X.exponent,p=>p?"([eE]"+C({signed:X.eSigned})+")":"")}(O)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:o,decimal:p,factor:c}}function I(X,x){const j=F(x),o=new RegExp("^"+j.regexp+"$").exec(X);if(!o)return NaN;let p=o[1];if(!o[1]){if(!o[2])return NaN;p=o[2],j.factor*=-1}return p=p.replaceAll(new RegExp("["+j.group+"\\s\\xa0]","g"),"").replace(j.decimal,"."),Number(p)*j.factor}function C(X){return"signed"in(X=X||{})||(X.signed=[!0,!1]),"separator"in X?"groupSize"in X||(X.groupSize=3):X.separator="",Y(X.signed,x=>x?"[-+]":"",!0)+Y(X.separator,x=>{if(!x)return"(?:\\d+)";" "===(x=(0,G.Cj)(x))?x="\\s":"\xa0"===x&&(x="\\s\\xa0");const j=X.groupSize,o=X.groupSize2;if(o){const p="(?:0|[1-9]\\d{0,"+(o-1)+"}(?:["+x+"]\\d{"+o+"})*["+x+"]\\d{"+j+"})";return j-o>0?"(?:"+p+"|(?:0|[1-9]\\d{0,"+(j-1)+"}))":p}return"(?:0|[1-9]\\d{0,"+(j-1)+"}(?:["+x+"]\\d{"+j+"})*)"},!0)}const Y=(X,x,j)=>{if(!Array.isArray(X))return x(X);const o=[];for(let p=0;p<X.length;p++)o.push(x(X[p]));return se(o.join("|"),!!j)},se=(X,x)=>"("+(x?"?:":"")+X+")"}}]);