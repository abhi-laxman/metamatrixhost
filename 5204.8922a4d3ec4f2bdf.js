"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[5204,8860,6598],{33087:(j,b,n)=>{n.d(b,{q:()=>A});var y=n(60611);class A{constructor(s,T){this._storage=new y.F,this.id="",this.name="",this.size=0,this._storage.maxSize=s,this._storage.register(this),T&&this._storage.registerRemoveFunc("",T)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(s,T,C=1){this._storage.put(this,s,T,C,1)}pop(s){return this._storage.pop(this,s)}get(s){return this._storage.get(this,s)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(s){this._storage.maxSize=s}resetHitRate(){}}},60611:(j,b,n)=>{n.d(b,{F:()=>C,Ti:()=>A});var y=n(12438);const A=-3,L=A-1;var s,O;(O=s||(s={}))[O.ALL=0]="ALL",O[O.SOME=1]="SOME";class C{get size(){return this._size}constructor(o=10485760){this._maxSize=o,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new y.A,this._users=new y.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear()}register(o){this._users.push(o)}deregister(o){this._users.removeUnordered(o)}registerRemoveFunc(o,r){this._removeFuncs.push([o,r])}deregisterRemoveFunc(o){this._removeFuncs.filterInPlace(r=>r[0]!==o)}get maxSize(){return this._maxSize}set maxSize(o){this._maxSize=Math.max(o,-1),this._checkSize()}getSize(o,r){return this._db.get(o.id+r)?.size??0}put(o,r,c,l,h){const a=this._db.get(r=o.id+r);if(a&&(this._size-=a.size,o.size-=a.size,this._db.delete(r),a.entry!==c&&this._notifyRemove(r,a.entry,a.size,s.ALL)),l>this._maxSize)return void this._notifyRemove(r,c,l,s.ALL);if(void 0===c)return void console.warn("Refusing to cache undefined entry ");if(!l||l<0)return console.warn(`Refusing to cache entry with size ${l} for key ${r}`),void this._notifyRemove(r,c,0,s.ALL);const v=1+Math.max(h,L)-A;this._db.set(r,new x(c,l,v)),this._size+=l,o.size+=l,this._checkSize()}updateSize(o,r,c,l){const h=this._db.get(r=o.id+r);if(h&&h.entry===c){for(this._size-=h.size,o.size-=h.size;l>this._maxSize;){const a=this._notifyRemove(r,c,l,s.SOME);if(!(null!=a&&a>0))return void this._db.delete(r);l=a}h.size=l,this._size+=l,o.size+=l,this._checkSize()}}pop(o,r){const c=this._db.get(r=o.id+r);if(c)return this._size-=c.size,o.size-=c.size,this._db.delete(r),++this._hit,c.entry;++this._miss}get(o,r){const c=this._db.get(r=o.id+r);if(void 0!==c)return this._db.delete(r),c.lives=c.lifetime,this._db.set(r,c),++this._hit,c.entry;++this._miss}peek(o,r){const c=this._db.get(o.id+r);return c?++this._hit:++this._miss,c?.entry}get performanceInfo(){const o={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},c=new Array;this._db.forEach((a,v)=>{const _=a.lifetime;c[_]=(c[_]||0)+a.size,this._users.forAll(I=>{const{id:S,name:p}=I;v.startsWith(S)&&(r[p]=(r[p]||0)+a.size)})});const l={};this._users.forAll(a=>{const v=a.name;"hitRate"in a&&"number"==typeof a.hitRate&&!isNaN(a.hitRate)&&a.hitRate>0?(r[v]=r[v]||0,l[v]=Math.round(100*a.hitRate)+"%"):l[v]="0%"});const h=Object.keys(r);h.sort((a,v)=>r[v]-r[a]),h.forEach(a=>o[a]=Math.round(r[a]/2**20)+"MB / "+l[a]);for(let a=c.length-1;a>=0;--a){const v=c[a];v&&(o["Priority "+(a+A-1)]=Math.round(v/this._size*100)+"%")}return o}resetStats(){this._hit=this._miss=0,this._users.forAll(o=>o.resetHitRate())}clear(o){const r=o.id;this._db.forEach((c,l)=>{l.startsWith(r)&&(this._size-=c.size,this._db.delete(l),this._notifyRemove(l,c.entry,c.size,s.ALL))}),o.size=0}clearAll(){this._db.forEach((o,r)=>this._notifyRemove(r,o.entry,o.size,s.ALL)),this._users.forAll(o=>o.size=0),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(o,r,c,l){let h;return this._removeFuncs.some(a=>{if(o.startsWith(a[0])){const v=a[1](r,l,c);return"number"==typeof v&&(h=v),!0}return!1}),h}_checkSize(){this._users.forAll(o=>this._checkSizeLimits(o)),this._checkSizeLimits()}_checkSizeLimits(o){const r=o??this;if(r.maxSize<0||r.size<=r.maxSize)return;const c=o?.id;let l=!0;for(;l;){l=!1;for(const[h,a]of this._db)if(0===a.lifetime&&(!c||h.startsWith(c))){if(this._purgeItem(h,a,o),r.size<=.9*r.maxSize)return;l||=this._db.has(h)}}for(const[h,a]of this._db)if((!c||h.startsWith(c))&&(this._purgeItem(h,a,o),r.size<=.9*r.maxSize))return}_purgeItem(o,r,c=this._users.find(l=>o.startsWith(l.id))){if(this._db.delete(o),r.lives<=1){this._size-=r.size,c&&(c.size-=r.size);const l=this._notifyRemove(o,r.entry,r.size,s.SOME);null!=l&&l>0&&(this._size+=l,c&&(c.size+=l),r.lives=r.lifetime,r.size=l,this._db.set(o,r))}else--r.lives,this._db.set(o,r)}}class x{constructor(o,r,c){this.entry=o,this.size=r,this.lifetime=c,this.lives=c}}},94376:(j,b,n)=>{n.d(b,{p:()=>x});var y=n(8189),A=n(85211),C=(n(3248),n(35150),n(40707),n(76576));const x=O=>{let o=class extends O{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function R(O){return"portalItem"in O}(this)?this.portalItem?.apiKey:null}set apiKey(r){null!=r?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,y._)([(0,A.MZ)({type:String})],o.prototype,"apiKey",null),o=(0,y._)([(0,C.$)("esri.layers.mixins.APIKeyMixin")],o),o}},73258:(j,b,n)=>{n.d(b,{A:()=>h});var y=n(5922),A=n(71065),L=n(35150),s=n(60797),T=n(24098),C=n(86300),R=n(20543),x=n(22639),O=n(44549);const l=new Map;class h{static fromJSON(p){return new h(p.fields,p.timeZoneByFieldName)}static fromLayer(p){return new h(p.fields??[],I(p))}static fromLayerJSON(p){return new h(p.fields??[],I(p))}constructor(p=[],P){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=p||[],this._timeZoneByFieldName=P?new Map(P):null;const D=[];for(const m of this.fields){const t=m?.name,d=v(t);if(t&&d){const i=a(t);this._fieldsMap.set(t,m),this._fieldsMap.set(i,m),this._normalizedFieldsMap.set(d,m),D.push(`${i}:${m.type}:${this._timeZoneByFieldName?.get(t)}`),(0,C.vE)(m)?(this.dateFields.push(m),this._dateFieldsSet.add(m)):(0,C.WA)(m)&&(this._numericFieldsSet.add(m),this.numericFields.push(m)),(0,C.te)(m)||(0,C.Xz)(m)||(m.editable=null==m.editable||!!m.editable,m.nullable=null==m.nullable||!!m.nullable)}}D.sort(),this.uid=D.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const p of this.fields)(0,C.te)(p)||(0,C.Xz)(p)||p.nullable||void 0!==(0,C.lD)(p)||this._requiredFields.push(p)}return this._requiredFields}equals(p){return this.uid===p?.uid}has(p){return null!=this.get(p)}get(p){if(!p)return;let P=this._fieldsMap.get(p);return P||(P=this._fieldsMap.get(a(p))??this._normalizedFieldsMap.get(v(p)),P&&this._fieldsMap.set(p,P),P)}getTimeZone(p){const P=this.get(p&&"string"!=typeof p?p.name:p);return P?this._timeZoneByFieldName?this._timeZoneByFieldName.get(P.name):"date"===P.type||"esriFieldTypeDate"===P.type?(L.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new y.A("getTimeZone:no-timezone-information",`no time zone information for field '${P.name}'`)),R.n$):_.has(P.type)?R.L5:null:null}getLuxonTimeZone(p){const P=this.getTimeZone(p);return P?P===R.L5?T.GB.instance:P===R.n$?O.mQ.utcInstance:(0,s.tE)(l,P,()=>O.oh.create(P)):null}isDateField(p){return this._dateFieldsSet.has(this.get(p))}isTimeOnlyField(p){return(0,C.OH)(this.get(p))}isNumericField(p){return this._numericFieldsSet.has(this.get(p))}normalizeFieldName(p){return this.get(p)?.name??void 0}toJSON(){return{fields:this.fields.map(p=>A.A.isSerializable(p)?p.toJSON():p),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function a(S){return S.trim().toLowerCase()}function v(S){return(0,C.rS)(S)?.toLowerCase()??""}const _=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function I(S){const p=new Map;if(!S.fields)return p;const P=!0===S.datesInUnknownTimezone,{timeInfo:D,editFieldsInfo:m}=S,t=(D?"startField"in D?D.startField:D.startTimeField:"")??"",d=(D?"endField"in D?D.endField:D.endTimeField:"")??"",i=function c(S){return"dateFieldsTimeZone"in S}(S)?S.dateFieldsTimeZone??null:S.dateFieldsTimeReference?(0,x.ZS)(S.dateFieldsTimeReference):null,E=m?function o(S){return"timeZone"in S}(m)?m.timeZone??i:m.dateFieldsTimeReference?(0,x.ZS)(m.dateFieldsTimeReference):i??R.n$:null,z=D?function r(S){return"timeZone"in S}(D)?D.timeZone??i:D.timeReference?(0,x.ZS)(D.timeReference):i:null,U=new Map([[a(m?.creationDateField??""),E],[a(m?.editDateField??""),E],[a(t),z],[a(d),z]]);for(const{name:B,type:W}of S.fields)if(_.has(W))p.set(B,R.L5);else if("date"!==W&&"esriFieldTypeDate"!==W)p.set(B,null);else if(P)p.set(B,R.L5);else{const Z=U.get(a(B??""))??i;p.set(B,Z)}return p}},64584:(j,b,n)=>{n.d(b,{A:()=>r});var O,y=n(8189),A=n(31178),L=n(71065),s=n(85211),x=(n(3248),n(35150),n(40707),n(76576));let o=O=class extends L.A{constructor(c){super(c),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new A.A}clone(){return new O({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,y._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],o.prototype,"floorField",void 0),(0,y._)([(0,s.MZ)({json:{read:!1,write:!1}})],o.prototype,"viewAllMode",void 0),(0,y._)([(0,s.MZ)({json:{read:!1,write:!1}})],o.prototype,"viewAllLevelIds",void 0),o=O=(0,y._)([(0,x.$)("esri.layers.support.LayerFloorInfo")],o);const r=o},36267:(j,b,n)=>{n.d(b,{A:()=>l});var y=n(8189),A=n(90660),L=n(49976),s=n(71065),T=n(85211),O=(n(3248),n(35150),n(40707),n(76576));const o=new L.J({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),r=new L.J({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let c=class extends(A.A.ClonableMixin(s.A)){constructor(h){super(h),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,y._)([(0,T.MZ)({json:{read:o.read,write:o.write}})],c.prototype,"cardinality",void 0),(0,y._)([(0,T.MZ)({json:{name:"catalogID"}})],c.prototype,"catalogId",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"composite",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"id",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"keyField",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"keyFieldInRelationshipTable",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"name",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"relatedTableId",void 0),(0,y._)([(0,T.MZ)({json:{read:!0,write:!0}})],c.prototype,"relationshipTableId",void 0),(0,y._)([(0,T.MZ)({json:{read:r.read,write:r.write}})],c.prototype,"role",void 0),c=(0,y._)([(0,O.$)("esri.layers.support.Relationship")],c);const l=c},85791:(j,b,n)=>{n.d(b,{A:()=>v});var y=n(10467),A=n(8189),L=n(98877),s=n(89447),T=n(31178),C=n(85211),o=(n(3248),n(35150),n(40707),n(76576)),r=n(86300),c=n(48218);let a=class extends L.A{constructor(_){super(_),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,s.UT)(()=>(0,c.lw)()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??n.e(3958).then(n.bind(n,93958)).then(_=>this._featureUtils=_)}get calculatedExpressions(){const _=new T.A;if(!this.expressionsUsedInTitle.length)return _;if(!this._arcadeTask?.value){for(const I of this.expressionsUsedInTitle??[])_.push({name:I.name,invalid:!0});return _}for(const I of this.expressionsUsedInTitle)try{const S=this._arcadeTask.value.arcade.parseScript(I.expression,["$layer","$map","$datastore"]);if(S.isAsync){_.push({name:I.name,invalid:!0});break}_.push({name:I.name,syntax:S,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(S,{vars:{$feature:"any"}})})}catch{_.push({name:I.name,invalid:!0});break}return _}get expressionsUsedInTitle(){let _=this.effectivePopupTemplate?.title??"";return"string"!=typeof _?[]:(_=_.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(I=>_.includes(`{expression/${I.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(_=>!0===_.invalid)}get requiredFields(){const _=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const S of this.calculatedExpressions?.toArray()??[])try{const p=this._arcadeTask.value.arcade.extractFieldLiterals(S.syntax);for(const P of p){const D=P.split("."),m=this.fieldsIndex.get(D.at(-1)??"");m&&_.add(m.name)}}catch{}const I=this._extractFieldNames(this.workingTitle);for(const S of I){const p=this.fieldsIndex.get(S);p&&_.add(p.name)}return _}get titleFromDisplayField(){let _="";return this.displayField&&(_=this.fieldsIndex.get(this.displayField)?.name??""),_||(_=this.fieldsIndex.get(this.objectIdField)?.name??""),_?`{${_}}`:""}get workingTitle(){const _=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===_||null==_||this.hasBadExpressions||"string"!=typeof _?this.titleFromDisplayField:_}getTitle(_,I,S){var p=this;return(0,y.A)(function*(){try{const{attributes:P}=I,D=S?.timeZone??"system",[{substituteFieldsInLinksAndAttributes:m}]=yield Promise.all([p.featureUtilsPromise,p._arcadeTask?.promise]);if(S.fetchMissingFields&&(I=yield p._checkAndReQueryGraphic(_,I)),p.workingTitle&&p.fieldInfoMap){const t=p._createFormattedAttributes(_,I,D).global;return m({attributes:P,expressionAttributes:null,fieldInfoMap:p.fieldInfoMap,globalAttributes:t,layer:_,text:p.workingTitle})}return""}catch{}return""})()}_checkAndReQueryGraphic(_,I){var S=this;return(0,y.A)(function*(){const p=I.getObjectId();if(null==p)return I;if(!(0,r.Kl)(S.requiredFields,I)){const P=_.createQuery();P.where="1=1",P.outFields=[...S.requiredFields],P.objectIds=[p];const D=yield _.queryFeatures(P);if(1===D?.features.length)return D.features[0]}return I})()}_createFieldInfoMap(_){const I=new Map;if(!_)return I;for(const S of _){if(!S.fieldName)continue;const p=this.fieldsIndex.get(S.fieldName),P=p?.name??S.fieldName;S.fieldName=P,I.set(P.toLowerCase(),S)}return I}_createFormattedAttributes(_,I,S="system"){const p=this.effectivePopupTemplate?.fieldInfos??[],P={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const m=this._arcadeTask.value.Feature.createFromGraphicLikeObject(I.geometry,I.attributes,_,null);for(const t of this.calculatedExpressions)try{P[`expression/${t.name}`]=t.func({vars:{$feature:m}})}catch{}}const D={...I.attributes,...P};return{global:this._featureUtils.formatAttributes({fieldInfos:p,attributes:D,graphic:I,timeZone:S,layer:_,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(_){return(0,r.nw)(_).filter(I=>!(0===I.indexOf("relationships/")||0===I.indexOf("expression/")))}};(0,A._)([(0,C.MZ)({readOnly:!0})],a.prototype,"_arcadeTask",null),(0,A._)([(0,C.MZ)()],a.prototype,"_featureUtils",void 0),(0,A._)([(0,C.MZ)({readOnly:!0})],a.prototype,"featureUtilsPromise",null),(0,A._)([(0,C.MZ)({readOnly:!0})],a.prototype,"calculatedExpressions",null),(0,A._)([(0,C.MZ)()],a.prototype,"displayField",void 0),(0,A._)([(0,C.MZ)()],a.prototype,"effectivePopupTemplate",void 0),(0,A._)([(0,C.MZ)()],a.prototype,"expressionsUsedInTitle",null),(0,A._)([(0,C.MZ)()],a.prototype,"fieldsIndex",void 0),(0,A._)([(0,C.MZ)()],a.prototype,"fieldInfoMap",null),(0,A._)([(0,C.MZ)()],a.prototype,"fields",void 0),(0,A._)([(0,C.MZ)()],a.prototype,"objectIdField",void 0),(0,A._)([(0,C.MZ)()],a.prototype,"requiredFields",null),a=(0,A._)([(0,o.$)("esri.layers.support.TitleCreator")],a);const v=a},27960:(j,b,n)=>{n.d(b,{Ch:()=>T,mW:()=>L,u2:()=>s});var y=n(69287),A=n(63484);function L(l,h){return{...h,filterMode:l.mode}}function s(l,h){return R(l,h).next().value??null}function T(l,h,a){const v=function C(l){if("manual"===o(l))return null;const h=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:a,maxScale:v}of l.filters)h[0]=Math.max(h[0],r(a)),h[1]=Math.min(h[1],c(v));return h}(l);if(v&&((0,y.gg)(h,v[0])||(0,y.ZH)(a,v[1])))return"";const _=Array.from(R(l,h,a)),I=function x(l,h,a){if(0===l.length)return!0;const v=r(l.at(0)?.minScale),_=c(l.at(-1)?.maxScale);if((0,y.ZH)(v,h)||(0,y.gg)(_,a))return!0;for(let I=0;I<l.length-1;I++){const S=l[I];if((0,y.ZH)(r(l[I+1].minScale),c(S.maxScale)))return!0}return!1}(_,h,a)?"1=1":_.map(S=>S.where||"1=1").reduce((S,p)=>(0,A.IW)(S,p),"");return I&&"1=1"!==I?I:""}function*R(l,h,a){if("manual"===o(l)){const v=l.filters.find(_=>_.id===l.activeFilterId);v&&(yield v)}else{"object"==typeof h&&(h=h.scale);for(const v of l.filters)O(v.minScale,v.maxScale,h,a)&&(yield v)}}function O(l,h,a,v){return l=r(l),a=r(a),h=c(h),!(!(0,y.Sp)(a,l)&&(v??a)>l||(0,y.Hx)(h,a)||void 0!==v&&(0,y.Sp)(v,l))}function o(l){return"mode"in l?l.mode:l.filterMode}function r(l){return l||Number.POSITIVE_INFINITY}function c(l){return l||0}},6829:(j,b,n)=>{n.d(b,{CW:()=>l,Fm:()=>x,Hz:()=>h,JQ:()=>c,JZ:()=>d,ND:()=>v,R_:()=>C,U9:()=>r,fu:()=>A,nr:()=>a,oF:()=>L,rq:()=>O,z$:()=>o});const y=[["binary","application/octet-stream","bin",""]];function A(i,E){return null!=p(E.name,i?.supportedFormats??[])}function L(i,E){if(!i)return!1;const z=O(E,i.supportedFormats??[]);return null!=z&&i.editFormats.includes(z)}function C(i,E){return P(function S(i,E){const z=i.toLowerCase();return _(E).find(U=>D(U)===z)}(i,E))}function R(i,E){return P(p(i,E))}function x(i,E){return D(function I(i,E){return _(E).find(z=>P(z)===i)}(i,E))}function O(i,E){return R(i.name,E)??C(i.type,E)}function o(i,E,z){return C(i,z)??R(E,z)}function r({supportedFormats:i}){return o("model/gltf-binary","glb",i)}function c(i){const E=r(i);return null!=E&&i.editFormats.includes(E)}function l({supportedFormats:i}){return o("model/gltf+json","gltf",i)}function h(i){if(!i)return null;const E=r(i),z=l(i);let U=null;for(const B of i.queryFormats){if(B===E)return B;B===z&&(U=B)}return U}function a({supportedFormats:i}){return o("application/esri3do-SR_world","wld",i)}function v({supportedFormats:i}){return o("application/esri3do-SR_prj","prj",i)}function _(i){return[...y,...i]}function p(i,E){const z=i.toLowerCase();return _(E).find(U=>function m(i){return i?.[2].split(",").map(E=>E.toLowerCase())??[]}(U).some(B=>z.endsWith(B)))}function P(i){return i?.[0]}function D(i){return i?.[1].toLowerCase()}function d(i){return i.tables?.find(E=>"assetMaps"===E.role)}},4858:(j,b,n)=>{n.d(b,{BI:()=>h,D3:()=>c,XJ:()=>l,lc:()=>r,mX:()=>v,rU:()=>a,tH:()=>D});var y=n(1119);const A="__begin__",L="__end__",s=new RegExp(A,"ig"),T=new RegExp(L,"ig"),C=new RegExp("^"+A,"i"),R=new RegExp(L+"$","i"),x='"',O=x+" + ",o=" + "+x;function r(m){return m.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function c(m){return m.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function l(m){const t={expression:"",type:"none"};return m.labelExpressionInfo?m.labelExpressionInfo.value?(t.expression=m.labelExpressionInfo.value,t.type="conventional"):m.labelExpressionInfo.expression&&(t.expression=m.labelExpressionInfo.expression,t.type="arcade"):null!=m.labelExpression&&(t.expression=r(m.labelExpression),t.type="conventional"),t}function h(m){const t=l(m);switch(t.type){case"conventional":return v(t.expression);case"arcade":return t.expression}return null}function a(m){const t=l(m);switch(t.type){case"conventional":return function I(m){return m?.match(_)?.[1].trim()||null}(t.expression);case"arcade":return D(t.expression)}return null}function v(m){let t;return m?(t=(0,y.HC)(m,d=>A+'$feature["'+d+'"]'+L),t=C.test(t)?t.replace(C,""):x+t,t=R.test(t)?t.replace(R,""):t+x,t=t.replaceAll(s,O).replaceAll(T,o)):t='""',t}const _=/^\s*\{([^}]+)\}\s*$/i,S=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,p=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,P=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function D(m){if(!m)return null;let t=S.exec(m)||p.exec(m);return t?t[1]||t[3]:(t=P.exec(m),t?t[2]:null)}},90543:(j,b,n)=>{n.d(b,{S:()=>c,d:()=>m});var y=n(3248),A=n(68438),L=n(6829);function s(t,d,i){return!!C(t,d,i)}function T(t,d,i){return C(t,d,i)}function C(t,d,i){return t&&t.hasOwnProperty(d)?t[d]:i}const R={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function x(t){const d=t?.supportedSpatialAggregationStatistics?.map(i=>i.toLowerCase());return{envelope:!!d?.includes("envelopeaggregate"),centroid:!!d?.includes("centroidaggregate"),convexHull:!!d?.includes("convexhullaggregate")}}function O(t,d){return!!t?.supportedOperationsWithCacheHint?.map(E=>E.toLowerCase())?.includes(d.toLowerCase())}function o(t){const d=t?.supportedStatisticTypes?.map(i=>i.toLowerCase());return{count:!!d?.includes("count"),sum:!!d?.includes("sum"),min:!!d?.includes("min"),max:!!d?.includes("max"),avg:!!d?.includes("avg"),var:!!d?.includes("var"),stddev:!!d?.includes("stddev"),percentileContinuous:!!d?.includes("percentile_continuous"),percentileDiscrete:!!d?.includes("percentile_discrete"),envelope:!!d?.includes("envelopeaggregate"),centroid:!!d?.includes("centroidaggregate"),convexHull:!!d?.includes("convexhullaggregate")}}function r(t){const d=t?.supportedNormalizationTypes?.map(i=>i.toLowerCase());return{field:!!d?.includes("field"),log:!!d?.includes("log"),naturalLog:!!d?.includes("naturallog"),percentOfTotal:!!d?.includes("percentoftotal"),squareRoot:!!d?.includes("squareroot")}}function c(t,d){return{analytics:l(t),attachment:h(t),data:a(t),metadata:v(t),operations:_(t.capabilities,t,d),query:I(t,d),queryAttributeBins:P(t),queryRelated:S(t),queryTopFeatures:p(t),editing:D(t)}}function l(t){return{supportsCacheHint:O(t.advancedQueryCapabilities,"queryAnalytics")}}function h(t){const d=t.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:O(t.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:s(t.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:s(t,"supportsAttachmentsResizing",!1)};return d&&Array.isArray(d)&&d.forEach(E=>{const z=R[E.name];z&&(i[z]=!!E.isEnabled)}),i}function a(t){return{isVersioned:s(t,"isDataVersioned",!1),isBranchVersioned:s(t,"isDataBranchVersioned",!1),supportsAttachment:s(t,"hasAttachments",!1),supportsM:s(t,"hasM",!1),supportsZ:s(t,"hasZ",!1)}}function v(t){return{supportsAdvancedFieldProperties:s(t,"supportsFieldDescriptionProperty",!1)}}function _(t,d,i){const E=t?t.toLowerCase().split(",").map(ue=>ue.trim()):[],z=i?(0,A.qg)(i):null,U=E.includes(null!=z&&"MapServer"===z.serverType?"data":"query"),B=E.includes("editing")&&!d.datesInUnknownTimezone;let W=B&&E.includes("create"),Z=B&&E.includes("delete"),G=B&&E.includes("update");const se=E.includes("changetracking"),V=d.advancedQueryCapabilities;return B&&!(W||Z||G)&&(W=Z=G=!0),{supportsCalculate:s(d,"supportsCalculate",!1),supportsTruncate:s(d,"supportsTruncate",!1),supportsValidateSql:s(d,"supportsValidateSql",!1),supportsAdd:W,supportsDelete:Z,supportsEditing:B,supportsChangeTracking:se,supportsQuery:U,supportsQueryAnalytics:s(V,"supportsQueryAnalytic",!1),supportsQueryAttachments:s(V,"supportsQueryAttachments",!1),supportsQueryBins:s(V,"supportsQueryBins",!1),supportsQueryTopFeatures:s(V,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:s(d,"supportsAttachmentsResizing",!1),supportsSync:E.includes("sync"),supportsUpdate:G,supportsExceedsLimitStatistics:s(d,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:s(d,"supportsAsyncConvert3D",!1)}}function I(t,d){const i=t.advancedQueryCapabilities,E=t.ownershipBasedAccessControlForFeatures,z=t.archivingInfo,U=t.currentVersion,B=d?.includes("MapServer"),W=!B||U>=(0,y.A)("mapserver-pbf-version-support"),Z=(0,A.Wo)(d),G=new Set((t.supportedQueryFormats??"").split(",").map(se=>se.toLowerCase().trim()));return{maxRecordCount:T(t,"maxRecordCount",void 0),maxRecordCountFactor:T(t,"maxRecordCountFactor",void 0),standardMaxRecordCount:T(t,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:x(i),supportsCacheHint:s(i,"supportsQueryWithCacheHint",!1)||O(i,"query"),supportsCentroid:s(i,"supportsReturningGeometryCentroid",!1),supportsCompactGeometry:Z,supportsCurrentUser:s(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:s(i,"supportsDefaultSR",!1),supportsDisjointSpatialRelationship:s(i,"supportsDisjointSpatialRel",!1),supportsDistance:s(i,"supportsQueryWithDistance",!1),supportsDistinct:s(i,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:s(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:W&&G.has("pbf"),supportsFullTextSearch:s(i,"supportsFullTextSearch",!1),supportsGeometryProperties:s(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:s(i,"supportsHavingClause",!1),supportsHistoricMoment:s(z,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:s(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:s(i,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:s(i,"supportsPagination",!1),supportsPercentileStatistics:s(i,"supportsPercentileStatistics",!1),supportsQuantization:s(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:s(t,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:s(E,"allowAnonymousToQuery",!0),supportsQueryByOthers:s(E,"allowOthersToQuery",!0),supportsQueryGeometry:s(t,"supportsReturningQueryGeometry",!1),supportsResultType:s(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!(0,L.Hz)(t.infoFor3D),supportsSpatialAggregationStatistics:s(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:s(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:s(t,"useStandardizedQueries",!1),supportsStatistics:s(i,"supportsStatistics",t.supportsStatistics),supportsTopFeaturesQuery:s(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:s(i,"supportsTrueCurve",!1),tileMaxRecordCount:T(t,"tileMaxRecordCount",void 0)}}function S(t){const d=t.advancedQueryCapabilities,i=s(d,"supportsAdvancedQueryRelated",!1);return{supportsPagination:s(d,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:O(d,"queryRelated")}}function p(t){return{supportsCacheHint:O(t.advancedQueryCapabilities,"queryTopFilter")}}function P(t){const d=t?t.queryBinsCapabilities:void 0;return{supportsDate:s(d,"supportsDateBin",!1),supportsFixedInterval:s(d,"supportsFixedIntervalBin",!1),supportsAutoInterval:s(d,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:s(d,"supportsFixedBoundariesBin",!1),supportsStackBy:s(d,"supportsStackBy",!1),supportsSplitBy:s(d,"supportsSplitBy",!1),supportsSnapToData:s(d,"supportsSnapToData",!1),supportsReturnFullIntervalBin:s(d,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:s(d,"supportsFirstDayOfWeek",!1),supportsNormalization:s(d,"supportsNormalization",!1),supportedStatistics:o(d),supportedNormalizationTypes:r(d)}}function D(t){const d=t.ownershipBasedAccessControlForFeatures,i=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:s(t,"allowGeometryUpdates",!0),supportsGlobalId:s(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:s(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:s(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:s(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:s(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:s(d,"allowAnonymousToDelete",!0),supportsDeleteByOthers:s(d,"allowOthersToDelete",!0),supportsUpdateByAnonymous:s(d,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:s(d,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:s(i,"supportsAsyncApplyEdits",!1),zDefault:T(t,"zDefault",void 0)}}function m(t){return{operations:{supportsAppend:s(t,"supportsAppend",!1),supportsCoverageQuery:t?.playbackInfo?.klv["0601"]??!1,supportsExportClip:s(t,"supportsExportClip",!1),supportsExportFrameset:s(t,"supportsExportFrameset",!1),supportsMensuration:s(t,"supportsMensuration",!1),supportsUpdate:s(t,"supportsUpdate",!1)}}}},68470:(j,b,n)=>{n.d(b,{K:()=>c,Q:()=>O});var y=n(8189),A=n(49976),L=n(35150),s=n(85211),R=(n(3248),n(40707),n(15463)),x=n(76576);const O=(0,A.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),o="percent-of-total",r="field",c=l=>{let h=class extends l{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let a=this._get("normalizationType");const v=!!this.normalizationField,_=null!=this.normalizationTotal;return v||_?(a=v&&r||_&&o||null,v&&_&&L.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):a!==r&&a!==o||(a=null),a}set normalizationType(a){this._set("normalizationType",a)}};return(0,y._)([(0,s.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],h.prototype,"normalizationField",void 0),(0,y._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],h.prototype,"normalizationMaxValue",void 0),(0,y._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],h.prototype,"normalizationMinValue",void 0),(0,y._)([(0,s.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],h.prototype,"normalizationTotal",void 0),(0,y._)([(0,R.e)(O,{name:"parameters.normalizationType"})],h.prototype,"normalizationType",null),h=(0,y._)([(0,x.$)("esri.rest.support.NormalizationBinParametersMixin")],h),h}},32117:(j,b,n)=>{n.d(b,{$w:()=>_,Bu:()=>B,DW:()=>i,FH:()=>Ce,FM:()=>x,G9:()=>s,GV:()=>S,Go:()=>o,K3:()=>he,Kn:()=>t,MM:()=>l,MO:()=>fe,Nl:()=>W,Ny:()=>p,O2:()=>Z,UE:()=>G,YC:()=>Se,YF:()=>V,ZO:()=>de,_1:()=>z,_H:()=>D,_W:()=>I,_d:()=>d,bs:()=>ce,dI:()=>Ae,e6:()=>r,gQ:()=>R,iA:()=>_e,jn:()=>a,lW:()=>c,mA:()=>h,n5:()=>se,pM:()=>E,pV:()=>m,pk:()=>ve,rB:()=>Ie,s4:()=>L,xo:()=>U,yH:()=>P,yX:()=>Pe,zb:()=>ue,zr:()=>v});var y=n(46988);function L(e,u,f,g){return function A(e){return"function"==typeof e}(e)?e(u,f,g):e}function s(e){return[e.r,e.g,e.b,e.a]}const T=" /-,\n";function C(e){let u=e.length;for(;u--;)if(!T.includes(e.charAt(u)))return!1;return!0}function R(e,u){const f=[];let g=0,F=-1;do{if(F=e.indexOf("[",g),F>=g){if(F>g){const M=e.slice(g,F);f.push([M,null,C(M)])}if(g=F+1,F=e.indexOf("]",g),F>=g){if(F>g){const M=u[e.slice(g,F)];M&&f.push([null,M,!1])}g=F+1}}}while(-1!==F);if(g<e.length){const M=e.slice(g);f.push([M,null,C(M)])}return f}function x(e,u,f,g){let F="",M=null;for(const H of u){const[w,Q,$]=H;if(w)$?M=w:(M&&(F+=M,M=null),F+=w);else{let X=Q;null!=f&&(X=fe(Q,f));const K=e.attributes[X];K&&(M&&(F+=M,M=null),F+=K)}}return function O(e,u){switch("string"!=typeof e&&(e=String(e)),u){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}(F,g)}function o(e,u,f,g,F,M,H=!0){const w=u/F,Q=f/M,$=Math.ceil(w/2),X=Math.ceil(Q/2);for(let K=0;K<M;K++)for(let k=0;k<F;k++){const q=4*(k+(H?M-K-1:K)*F);let N=0,ee=0,re=0,ie=0,ne=0,ae=0,oe=0;const pe=(K+.5)*Q;for(let te=Math.floor(K*Q);te<(K+1)*Q;te++){const ge=Math.abs(pe-(te+.5))/X,Oe=(k+.5)*w,Te=ge*ge;for(let le=Math.floor(k*w);le<(k+1)*w;le++){let J=Math.abs(Oe-(le+.5))/$;const Y=Math.sqrt(Te+J*J);Y>=-1&&Y<=1&&(N=2*Y*Y*Y-3*Y*Y+1,N>0&&(J=4*(le+te*u),oe+=N*e[J+3],re+=N,e[J+3]<255&&(N=N*e[J+3]/250),ie+=N*e[J],ne+=N*e[J+1],ae+=N*e[J+2],ee+=N))}}g[q]=ie/ee,g[q+1]=ne/ee,g[q+2]=ae/ee,g[q+3]=oe/re}}function r(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function c(e){return e.data?.symbol??null}function l(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function h(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function a(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function v(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const _=(e,u=0)=>null==e||isNaN(e)?u:e,I=(e,u)=>e??u,S=(e,u)=>e??u,p=e=>e.tintColor?r(e.tintColor):[255,255,255,1],P=e=>{if(!e)return!1;for(const u of e)switch(u.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function D(){return Promise.all([n.e(3930),n.e(2076),n.e(4108)]).then(n.bind(n,27815))}function m(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function t(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function d(e){let u="normal",f="normal";if(e){const g=e.toLowerCase();g.includes("italic")?u="italic":g.includes("oblique")&&(u="oblique"),g.includes("bold")?f="bold":g.includes("light")&&(f="lighter")}return{style:u,weight:f}}function i(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function E(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const u of e.symbolLayers){const f=E(u);if(null!=f)return f}break;case"CIMTextSymbol":return E(e.symbol);case"CIMSolidFill":return e.color}return null}function z(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const u=e.symbolLayers;if(u)for(const f of u){const g=z(f);if(null!=g)return g}break}case"CIMTextSymbol":return z(e.symbol);case"CIMSolidStroke":return e.color}}function U(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const u of e.symbolLayers){const f=U(u);if(void 0!==f)return f}break;case"CIMTextSymbol":return U(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function B(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function W(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function Z(e){return(e?Object.keys(e):[]).map(u=>({name:u,alias:u,type:"string"==typeof e[u]?"esriFieldTypeString":"esriFieldTypeDouble"}))}const G=e=>e.includes("data:image/svg+xml");function se(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function V(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function ue(e,u,f,g,F,M,H=!0){const{infos:w}=M;let Q=1,$=0,X=0,K=0,k=1;for(const{absoluteAnchorPoint:ee,offsetX:re,offsetY:ie,rotation:ne,size:ae,frameHeight:oe,rotateClockWise:pe,scaleSymbolsProportionally:te}of w)k=ee?1:Q,X=ye(re,ie,$,k,X),K=me(re,ie,$,k,K),oe&&(te||H)&&(Q*=ae/oe),$=Me(ne,pe,$);const q=ye(g,F,$,k,X),N=me(g,F,$,k,K);return{size:e*Q,rotation:Me(u,f,$),offsetX:q,offsetY:N}}function de(e){if(null==e)return!1;if(Array.isArray(e))return e.every(u=>de(u));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function _e(e,u){if("color"===u||"outlinecolor"===u||"backgroundcolor"===u||"borderlinecolor"===u||"tintcolor"===u)return[...y.K[u]];const f=y.D[e];if(!f)throw new Error(`InternalError: default value for type ${e}.`);return f[u]}function he(e){return"string"==typeof e?function Ee(e){return e.split(" ").map(u=>Number(u))}(e):e}function Ce(e){return e?.dashTemplate&&(e.dashTemplate=he(e.dashTemplate)),e}function ce(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const u=e.symbolLayers;if(!u)return"Normal";for(const f of u)if("CIMVectorMarker"===f.type)return ce(f)}break;case"CIMVectorMarker":{const u=e.markerGraphics;if(!u)return"Normal";for(const f of u)if(f.symbol)return ce(f.symbol)}}return"Normal"}function Se(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let u=0;if(e.symbolLayers)for(const f of e.symbolLayers)if(f)switch(f.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const g=f.size??y.D.CIMVectorMarker.size;g>u&&(u=g);break}}return u}case"CIMLineSymbol":case"CIMPolygonSymbol":{let u=0;if(e.symbolLayers)for(const f of e.symbolLayers)if(f)switch(f.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const g=f.width;null!=g&&g>u&&(u=g);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(f.markerPlacement&&v(f.markerPlacement)){const g=f.size??y.D.CIMVectorMarker.size;g>u&&(u=g)}break;case"CIMPictureFill":{const g=f.height;null!=g&&g>u&&(u=g)}}return u}}}function fe(e,u){if(null!==u){const f=u.get(e);return f?f.name:e}return e}function ve(e){return e.map(u=>({...u,propertyName:V(u.propertyName)}))}function Ie(e){const u={};for(const f in e){const g=e[f];u[V(f)]=g}return u}function me(e,u,f,g,F){const M=f*Math.PI/180;if(M){const H=Math.cos(M);return(Math.sin(M)*e+H*u)*g+F}return u*g+F}function ye(e,u,f,g,F){const M=f*Math.PI/180;return M?(Math.cos(M)*e-Math.sin(M)*u)*g+F:e*g+F}function Me(e,u,f){return u?f-e:f+e}function Ae(e,u,f){const g="Color"===f||"TintColor"===f||"ToColor"===f,F="Rotation"===f||"Angle"===f||"ToRotation"===f;let M=u[V(f)];if(null!=M&&(g?M=[M[0]/255,M[1]/255,M[2]/255,M[3]/255]:F&&(M*=Math.PI/180)),null==M&&(M=_e(u.type,f.toLowerCase()),null!=M&&(g?M=[M[0]/255,M[1]/255,M[2]/255,M[3]]:F&&(M*=Math.PI/180))),null!=u.primitiveName){const H=e[u.primitiveName];if(null!=H){const w=H[f];null==w||("string"==typeof w||"number"==typeof w||Array.isArray(w)?(M=w,null!=M&&(g?M=[M[0]/255,M[1]/255,M[2]/255,M[3]/255]:F&&(M*=Math.PI/180))):(M={valueExpressionInfo:w,defaultValue:M},null!=M&&(g?M={type:"Process",op:"ArcadeColor",value:M}:F&&(M={type:"Process",op:"Divide",left:M,right:180/Math.PI}))))}}if(null==M)throw new Error(`Failed to derive a value or an expression for "${f}".`);return M}function Pe(e,u){return Math.max(Math.min((e??u)/100,1),0)}},91644:(j,b,n)=>{n.d(b,{A7:()=>x,Cx:()=>O,Hk:()=>o,JJ:()=>h,SF:()=>r,UK:()=>R,jM:()=>c,x3:()=>l}),n(3248);var A=n(88521),L=n(55417),s=n(46602),T=n(47705),C=n(48254);const R=s.A.fromJSON(C.Cb),x=L.A.fromJSON(C.yM),O=A.A.fromJSON(C.WR),o=T.A.fromJSON(C.JZ);function r(a){if(null==a)return null;switch(a.type){case"mesh":return null;case"point":case"multipoint":return R;case"polyline":return x;case"polygon":case"extent":return O}return null}const c=s.A.fromJSON(C.nC),l=L.A.fromJSON(C.HW),h=A.A.fromJSON(C.b6)},48254:(j,b,n)=>{n.d(b,{Cb:()=>L,HW:()=>x,JR:()=>A,JZ:()=>C,WR:()=>T,b6:()=>O,fT:()=>y,nC:()=>R,yM:()=>s});const y=[252,146,31,255],A=[153,153,153,255],L={type:"esriSMS",style:"esriSMSCircle",size:6,color:y,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:y},T={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},C={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},R={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},x={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},O={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},71655:(j,b,n)=>{var y,A;n.d(b,{X:()=>y}),(A=y||(y={}))[A.SAVE=0]="SAVE",A[A.SAVE_AS=1]="SAVE_AS"}}]);