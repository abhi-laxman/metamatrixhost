"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[4057],{72211:(b,B,s)=>{s.d(B,{LF:()=>P,M9:()=>g,zu:()=>m});var E=s(5922),d=s(89221),T=s(79845),A=s(26073);function P(u,c,f){try{return function j(u){if(!u||0===u.length)return null;if(function y(u){const c=u[0];return!!c&&"scale"in c}(u)){const c=[];for(const f of u)c.push({scale:f.scale,value:m(f.value)});return c}return m(u)}(u)}catch(O){f?.messages?.push(O)}return null}function g(u,c,f,O){try{const L=function C(u){const c=(0,T.q)(u);return c?(0,A.dw)(c)?c.map(f=>f.toJSON()):c.map(({scale:f,effects:O})=>({scale:f,value:O.map(L=>L.toJSON())})):null}(u);(0,d.sM)(f,L,c)}catch(L){O.messages&&O.messages.push(L)}}function m(u){if(!u?.length)return"";const c=[];for(const f of u){let O=[];switch(f.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":O=[M(f,"amount")];break;case"blur":O=[M(f,"radius","pt")];break;case"hue-rotate":O=[M(f,"angle","deg")];break;case"drop-shadow":O=[M(f,"xoffset","pt"),M(f,"yoffset","pt"),M(f,"blurRadius","pt"),D(f,"color")];break;case"bloom":O=[M(f,"strength"),M(f,"radius","pt"),M(f,"threshold")]}const L=`${f.type}(${O.filter(Boolean).join(" ")})`;(0,T.q)(L),c.push(L)}return c.join(" ")}function M(u,c,f){if(null==u[c])throw new E.A("effect:missing-parameter",`Missing parameter '${c}' in ${u.type} effect`,{effect:u});return f?u[c]+f:""+u[c]}function D(u,c){if(null==u[c])throw new E.A("effect:missing-parameter",`Missing parameter '${c}' in ${u.type} effect`,{effect:u});const f=u[c];return`rgba(${f[0]||0}, ${f[1]||0}, ${f[2]||0}, ${f[3]/255||0})`}},93410:(b,B,s)=>{s.d(B,{LF:()=>M,dM:()=>D,sU:()=>y});var E=s(8189),d=s(85211),g=(s(3248),s(35150),s(40707),s(76576)),C=s(50501),j=s(72211);const y={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:C.K}},"portal-item":{read:!0,write:{layerContainerTypes:C.K}}}}},m={read:{reader:j.LF},write:{allowNull:!0,writer:j.M9,layerContainerTypes:C.K}},M={json:{read:!1,write:!1,origins:{"web-map":m,"portal-item":m}}},D=u=>{let c=class extends u{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,E._)([(0,d.MZ)(y)],c.prototype,"blendMode",void 0),(0,E._)([(0,d.MZ)(M)],c.prototype,"effect",void 0),c=(0,E._)([(0,g.$)("esri.layers.mixins.BlendLayer")],c),c}},23e3:(b,B,s)=>{s.d(B,{d:()=>C});var E=s(8189),d=s(85211),g=(s(3248),s(35150),s(40707),s(76576));const C=j=>{let y=class extends j{constructor(){super(...arguments),this.customParameters=null}};return(0,E._)([(0,d.MZ)({type:Object,json:{write:{overridePolicy:m=>({enabled:!!(m&&Object.keys(m).length>0)})}}})],y.prototype,"customParameters",void 0),y=(0,E._)([(0,g.$)("esri.layers.mixins.CustomParametersMixin")],y),y}},1151:(b,B,s)=>{s.d(B,{J:()=>z});var E=s(10467),d=s(8189),A=(s(3248),s(35150)),P=s(56492),g=s(85211),C=s(48669),y=(s(40707),s(76576)),m=s(50501),M=s(31178),D=s(48900),u=s(34703);const c=new M.A,f=new WeakMap;function W(_,v){return Number.isFinite(_)&&Number.isFinite(v)?v<=0?_:W(v,_%v):0}let V=0,x=0;function N(){const _=Date.now();let v=!1;for(const o of c){const t=o.deref();t?t.refreshInterval&&_-(f.get(t)??0)+5>=6e4*t.refreshInterval&&(f.set(t,_),t.refresh(_)):v=!0}if(v)for(let o=c.length-1;o>=0;o--)c.at(o).deref()||c.removeAt(o)}(0,u.fm)(()=>{const _=Date.now();let v=0;for(const o of c){const t=o.deref();t&&(v=W(Math.round(6e4*t.refreshInterval),v),t.refreshInterval?f.get(t)||f.set(t,_):f.delete(t))}if(v!==x){if(x=v,clearInterval(V),0===x)return void(V=0);V=setInterval(N,x)}},D.OH);const z=_=>{let v=class extends _{constructor(...o){super(...o),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,P.sg)(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||function O(_){(function Z(_){return null!=_&&"object"==typeof _&&"refreshInterval"in _&&"refresh"in _})(_)&&c.push(new WeakRef(_))}(this)},()=>{})}destroy(){!function L(_){const v=c.find(o=>o.deref()===_);v&&c.remove(v)}(this)}castRefreshInterval(o){return o>=.1?o:o<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(o=Date.now()){(0,P.QZ)(this._debounceHasDataChanged()).then(t=>{t&&this._set("refreshTimestamp",o),this.emit("refresh",{dataChanged:t})},t=>{A.A.getLogger(this).error(t),this.emit("refresh",{dataChanged:!1,error:t})})}hasDataChanged(){return(0,E.A)(function*(){return!0})()}get test(){}};return(0,d._)([(0,g.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:m.K}}}}})],v.prototype,"refreshInterval",void 0),(0,d._)([(0,C.w)("refreshInterval")],v.prototype,"castRefreshInterval",null),(0,d._)([(0,g.MZ)({readOnly:!0})],v.prototype,"refreshTimestamp",void 0),(0,d._)([(0,g.MZ)({readOnly:!0})],v.prototype,"refreshParameters",null),v=(0,d._)([(0,y.$)("esri.layers.mixins.RefreshableLayer")],v),v}},33036:(b,B,s)=>{s.d(B,{j:()=>C});var E=s(8189),d=s(85211),g=(s(3248),s(35150),s(40707),s(76576));const C=y=>{let m=class extends y{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const M={minScale:this.minScale,maxScale:this.maxScale},D=this.parent;D&&"effectiveScaleRange"in D&&function j(y,m){y.minScale=y.minScale>0?m.minScale>0?Math.min(y.minScale,m.minScale):y.minScale:m.minScale,y.maxScale=y.maxScale>0?m.maxScale>0?Math.max(y.maxScale,m.maxScale):y.maxScale:m.maxScale}(M,D.effectiveScaleRange);const u=this._get("effectiveScaleRange");return u&&u.minScale===M.minScale&&u.maxScale===M.maxScale?u:M}};return(0,E._)([(0,d.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"minScale",void 0),(0,E._)([(0,d.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"maxScale",void 0),(0,E._)([(0,d.MZ)({readOnly:!0})],m.prototype,"effectiveScaleRange",null),m=(0,E._)([(0,g.$)("esri.layers.mixins.ScaleRangeLayer")],m),m}},69741:(b,B,s)=>{s.d(B,{A:()=>D});var E=s(8189),d=s(90660),T=s(49976),A=s(71065),P=s(85211),y=(s(3248),s(35150),s(40707),s(76576));const m=new T.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let M=class extends(d.A.ClonableMixin(A.A)){constructor(u){super(u),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,E._)([(0,P.MZ)({json:{write:!0}})],M.prototype,"name",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],M.prototype,"description",void 0),(0,E._)([(0,P.MZ)({json:{read:m.read,write:m.write}})],M.prototype,"drawingTool",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],M.prototype,"prototype",void 0),(0,E._)([(0,P.MZ)({json:{write:!0}})],M.prototype,"thumbnail",void 0),M=(0,E._)([(0,y.$)("esri.layers.support.FeatureTemplate")],M);const D=M},79122:(b,B,s)=>{s.d(B,{A:()=>v});var x,E=s(10467),d=s(8189),T=s(49976),A=s(77806),P=s(35150),g=s(85211),C=s(48669),j=s(15463),y=s(17221),m=s(76576),M=s(50305),D=s(55739),u=s(86300),c=s(38582),f=s(18550),O=s(19390),L=s(36345),Z=s(23005),W=s(48218),V=s(94048);const w="percent-of-total",F="field",S=new T.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:w,esriNormalizeByField:F}),z=(0,D.dp)(O.A);let _=x=class extends((0,f.h)(c.A)){constructor(o){super(o),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(o,t,n){if(!Array.isArray(o))return;let i=t.minValue;return o.map(p=>{const h=new O.A;return h.read(p,n),null==h.minValue&&(h.minValue=i),null==h.maxValue&&(h.maxValue=h.minValue),i=h.maxValue,h})}writeClassBreakInfos(o,t,n,i){const p=o.map(h=>h.write({},i));this._areClassBreaksConsecutive()&&p.forEach(h=>delete h.classMinValue),t[n]=p}castField(o){return null==o?o:"function"==typeof o?(P.A.getLogger(this).error(".field: field must be a string value"),null):(0,D.GX)(o)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let o=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(o=t&&F||n&&w||null,t&&n&&P.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):o!==F&&o!==w||(o=null),o}set normalizationType(o){this._set("normalizationType",o)}addClassBreakInfo(o,t,n){let i=null;i="number"==typeof o?new O.A({minValue:o,maxValue:t,symbol:(0,V.dp)(n)}):z((0,A.o8)(o)),this.classBreakInfos.push(i),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(o,t){const n=this.classBreakInfos.length;for(let i=0;i<n;i++){const p=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(p[0]===o&&p[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(o,t){return this.valueExpression&&null==t?.arcade&&P.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(o,t):this._getBreakIndexForField(o)}getClassBreakInfo(o,t){var n=this;return(0,E.A)(function*(){let i=t;n.valueExpression&&null==t?.arcade&&(i={...i,arcade:yield(0,W.lw)()});const p=n.getBreakIndex(o,i);return-1!==p?n.classBreakInfos[p]:null})()}getSymbol(o,t){if(this.valueExpression&&null==t?.arcade)return void P.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const n=this.getBreakIndex(o,t);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbolAsync(o,t){var n=this;return(0,E.A)(function*(){let i=t;if(n.valueExpression&&null==t?.arcade){const h=yield(0,W.lw)(),{arcadeUtils:I}=h;I.hasGeometryOperations(n.valueExpression)&&(yield I.enableGeometryOperations()),i={...i,arcade:h}}const p=n.getBreakIndex(o,i);return p>-1?n.classBreakInfos[p].symbol:n.defaultSymbol})()}get symbols(){const o=[];return this.classBreakInfos.forEach(t=>{t.symbol&&o.push(t.symbol)}),this.defaultSymbol&&o.push(this.defaultSymbol),o}getAttributeHash(){return this.visualVariables?.reduce((o,t)=>o+t.getAttributeHash(),"")??""}getMeshHash(){const o=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),n=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${o}.${t}.${this.classBreakInfos.reduce((i,p)=>i+p.getMeshHash(),"")}.${n}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new x({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,A.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,A.o8)(this.visualVariables),legendOptions:(0,A.o8)(this.legendOptions),authoringInfo:(0,A.o8)(this.authoringInfo)})}collectRequiredFields(o,t){var n=this;return(0,E.A)(function*(){const i=[n.collectVVRequiredFields(o,t),n.collectSymbolFields(o,t)];yield Promise.all(i)})()}collectSymbolFields(o,t){var n=this;return(0,E.A)(function*(){const i=[...n.symbols.map(p=>p.collectRequiredFields(o,t)),(0,u.Dx)(o,t,n.valueExpression)];(0,u.rq)(o,t,n.field),(0,u.rq)(o,t,n.normalizationField),yield Promise.all(i)})()}_getBreakIndexForExpression(o,t){const{viewingMode:n,scale:i,spatialReference:p,arcade:h,timeZone:I}=t??{},{valueExpression:R}=this;let K=this._compiledValueExpression.valueExpression===R?this._compiledValueExpression.compiledFunction:null;const U=h.arcadeUtils;if(!K){const G=U.createSyntaxTree(R);K=U.createFunction(G),this._compiledValueExpression.compiledFunction=K}this._compiledValueExpression.valueExpression=R;const $=U.executeFunction(K,U.createExecContext(o,U.getViewInfo({viewingMode:n,scale:i,spatialReference:p}),I));return this._getBreakIndexfromInfos($)}_getBreakIndexForField(o){const n=o.attributes,i=this.normalizationType;let p=parseFloat(n[this.field]);if(i){const h=this.normalizationTotal,I=parseFloat(this.normalizationField?n[this.normalizationField]:void 0);if("log"===i)p=Math.log(p)*Math.LOG10E;else if(i!==w||null==h||isNaN(h)){if(i===F&&!isNaN(I)){if(isNaN(p)||isNaN(I))return-1;p/=I}}else p=p/h*100}return this._getBreakIndexfromInfos(p)}_getBreakIndexfromInfos(o){const t=this.isMaxInclusive;if(null!=o&&"number"==typeof o&&!isNaN(o))for(let n=0;n<this.classBreakInfos.length;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]<=o&&(t?o<=i[1]:o<i[1]))return n}return-1}_areClassBreaksConsecutive(){const o=this.classBreakInfos,t=o.length;for(let n=1;n<t;n++)if(o[n-1].maxValue!==o[n].minValue)return!1;return!0}};(0,d._)([(0,g.MZ)(L.As)],_.prototype,"backgroundFillSymbol",void 0),(0,d._)([(0,g.MZ)({type:[O.A],json:{write:{isRequired:!0}}})],_.prototype,"classBreakInfos",void 0),(0,d._)([(0,y.w)("classBreakInfos")],_.prototype,"readClassBreakInfos",null),(0,d._)([(0,M.K)("classBreakInfos")],_.prototype,"writeClassBreakInfos",null),(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],_.prototype,"defaultLabel",void 0),(0,d._)([(0,g.MZ)(L.z4)],_.prototype,"defaultSymbol",void 0),(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],_.prototype,"field",void 0),(0,d._)([(0,C.w)("field")],_.prototype,"castField",null),(0,d._)([(0,g.MZ)({type:Boolean})],_.prototype,"isMaxInclusive",void 0),(0,d._)([(0,g.MZ)({type:Z.A,json:{write:!0}})],_.prototype,"legendOptions",void 0),(0,d._)([(0,g.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],_.prototype,"minValue",null),(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],_.prototype,"normalizationField",void 0),(0,d._)([(0,g.MZ)({type:Number,json:{write:!0}})],_.prototype,"normalizationTotal",void 0),(0,d._)([(0,g.MZ)({type:S.apiValues,value:null,json:{type:S.jsonValues,read:S.read,write:S.write}})],_.prototype,"normalizationType",null),(0,d._)([(0,j.e)({classBreaks:"class-breaks"})],_.prototype,"type",void 0),(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],_.prototype,"valueExpression",void 0),(0,d._)([(0,g.MZ)({type:String,json:{write:!0}})],_.prototype,"valueExpressionTitle",void 0),_=x=(0,d._)([(0,m.$)("esri.renderers.ClassBreaksRenderer")],_);const v=_},19390:(b,B,s)=>{s.d(B,{A:()=>M});var y,E=s(8189),d=s(71065),T=s(85211),C=(s(3248),s(35150),s(40707),s(76576)),j=s(36345);let m=y=class extends d.A{constructor(D){super(D),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new y({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const D=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${D}`}};(0,E._)([(0,T.MZ)({type:String,json:{write:!0}})],m.prototype,"description",void 0),(0,E._)([(0,T.MZ)({type:String,json:{write:!0}})],m.prototype,"label",void 0),(0,E._)([(0,T.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],m.prototype,"minValue",void 0),(0,E._)([(0,T.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],m.prototype,"maxValue",void 0),(0,E._)([(0,T.MZ)(j.Wp)],m.prototype,"symbol",void 0),m=y=(0,E._)([(0,C.$)("esri.renderers.support.ClassBreakInfo")],m);const M=m},41843:(b,B,s)=>{s.d(B,{DQ:()=>O,tn:()=>c});var E=s(92165),d=s(86300),T=s(54042),C=(s(75432),s(65121),s(558),s(8975)),D=(s(90792),s(83902),s(98089),s(62270),s(61099)),u=s(17580);function c({displayField:t,editFieldsInfo:n,fields:i,objectIdField:p,title:h},I){if(!i)return null;const R=function x(t,n){const i=n?.visibleFieldNames;return function Z({fields:t,ignoreFieldTypes:n,sortDisabled:i}){const p=t;return n&&(t=t.filter(h=>!n.includes(h.type))),t===p&&(t=t.slice()),!0!==i&&t.sort(W),t}({fields:t.fields??[],ignoreFieldTypes:n?.ignoreFieldTypes||o,sortDisabled:n?.sortDisabled}).map(p=>new D.A({fieldName:p.name,isEditable:(0,d.R$)(p,t),label:p.alias,format:F(p),visible:L(p,{...t,visibleFieldNames:i})}))}({editFieldsInfo:n,fields:i,objectIdField:p},I);if(!R.length)return null;const K=function _(t){const n=(0,d.mB)(t),{titleBase:i}=t;return n?`${i}: {${n.trim()}}`:i??""}({titleBase:h,fields:i,displayField:t}),U=function S(){return[new C.A,new T.A]}();return new E.A({title:K,content:U,fieldInfos:R})}function O(t){const{title:n,graphic:i}=t??{},{attributes:p,sourceLayer:h}=i??{},I=h&&"displayField"in h?h.displayField:null,R=I?p?.[I]:null,K=null!=R?JSON.stringify(R):null,U=i?.getObjectId()?.toString();return n||K||U||""}const L=(t,n)=>n.visibleFieldNames?n.visibleFieldNames.has(t.name):(0,d.Bz)(t,n);function W(t,n){return"oid"===t.type?-1:"oid"===n.type?1:v(t)?-1:v(n)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((n.alias||n.name).toLocaleLowerCase())}function F(t){switch(t.type){case"small-integer":case"integer":case"single":return new u.A({digitSeparator:!0,places:0});case"double":return new u.A({digitSeparator:!0,places:2});case"string":return(0,d.JL)(t.name)?new u.A({digitSeparator:!0,places:0}):void 0;default:return}}function v(t){return"name"===(t.name&&t.name.toLowerCase())||"name"===t.alias?.toLowerCase()}const o=["geometry","blob","raster","guid","xml"]}}]);