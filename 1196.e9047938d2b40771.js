"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[1196],{54947:(K,D,o)=>{o.d(D,{A:()=>J});var U,s=o(8189),x=(o(3248),o(49976)),a=o(71065),j=o(77806),R=o(67685),m=o(85211),d=(o(35150),o(17221)),v=o(76576),l=o(50305),y=o(70489),c=o(4858),_=o(58443),f=o(91644),g=o(59787),w=o(94048);const Z=new x.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function N(u,M,A){return{enabled:!(0,_.TU)(A?.layer)}}function G(u){return!u||"service"!==u.origin&&"map-image"!==u.layer?.type}function V(u){return!!function z(u){return"map-image"===u?.type}(u)&&!!u.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let E=U=class extends a.A{static evaluateWhere(u,M){const A=(h,W,C)=>{switch(W){case"=":return h==C;case"<>":return h!=C;case">":return h>C;case">=":return h>=C;case"<":return h<C;case"<=":return h<=C}return!1};try{if(null==u)return!0;const h=u.split(" ");if(3===h.length)return A(M[h[0]],h[1],h[2]);if(7===h.length){const W=A(M[h[0]],h[1],h[2]),C=h[3],H=A(M[h[4]],h[5],h[6]);switch(C){case"AND":return W&&H;case"OR":return W||H}}return!1}catch{}}constructor(u){super(u),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=f.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(u,M){const A=M.labelExpressionInfo;if(!A||!A.value&&!A.expression)return u}writeLabelExpression(u,M,A){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)u=(0,c.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const h=(0,c.tH)(this.labelExpressionInfo.expression);h&&(u="["+h+"]")}null!=u&&(M[A]=u)}writeLabelExpressionInfo(u,M,A,h){if(null==u&&null!=this.labelExpression&&G(h))u=new y.A({expression:this.getLabelExpressionArcade()});else if(!u)return;const W=u.toJSON(h);W.expression&&(M[A]=W)}writeMaxScale(u,M){(u||this.minScale)&&(M.maxScale=u)}writeMinScale(u,M){(u||this.maxScale)&&(M.minScale=u)}getLabelExpression(){return(0,c.XJ)(this)}getLabelExpressionArcade(){return(0,c.BI)(this)}getLabelExpressionSingleField(){return(0,c.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new U({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,j.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,j.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,s._)([(0,m.MZ)({type:String,json:{write:!0}})],E.prototype,"name",void 0),(0,s._)([(0,m.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:N}}}}})],E.prototype,"allowOverrun",void 0),(0,s._)([(0,m.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:N}}}}})],E.prototype,"deconflictionStrategy",void 0),(0,s._)([(0,m.MZ)({type:String,json:{write:{overridePolicy(u,M,A){return this.labelExpressionInfo&&"service"===A?.origin&&V(A.layer)?{enabled:!1}:{allowNull:!0}}}}})],E.prototype,"labelExpression",void 0),(0,s._)([(0,d.w)("labelExpression")],E.prototype,"readLabelExpression",null),(0,s._)([(0,l.K)("labelExpression")],E.prototype,"writeLabelExpression",null),(0,s._)([(0,m.MZ)({type:y.A,json:{write:{overridePolicy:(u,M,A)=>function $(u){return G(u)||V(u?.layer)}(A)?{allowNull:!0}:{enabled:!1}}}})],E.prototype,"labelExpressionInfo",void 0),(0,s._)([(0,l.K)("labelExpressionInfo")],E.prototype,"writeLabelExpressionInfo",null),(0,s._)([(0,m.MZ)({type:Z.apiValues,json:{type:Z.jsonValues,read:Z.read,write:Z.write}})],E.prototype,"labelPlacement",void 0),(0,s._)([(0,m.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],E.prototype,"labelPosition",void 0),(0,s._)([(0,m.MZ)({type:Number})],E.prototype,"maxScale",void 0),(0,s._)([(0,l.K)("maxScale")],E.prototype,"writeMaxScale",null),(0,s._)([(0,m.MZ)({type:Number})],E.prototype,"minScale",void 0),(0,s._)([(0,l.K)("minScale")],E.prototype,"writeMinScale",null),(0,s._)([(0,m.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:N}}}}})],E.prototype,"repeatLabel",void 0),(0,s._)([(0,m.MZ)({type:Number,cast:R.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:N}}}}})],E.prototype,"repeatLabelDistance",void 0),(0,s._)([(0,m.MZ)({types:w.em,json:{origins:{"web-scene":{types:w.Rv,write:g.oO,default:null}},write:g.oO,default:null}})],E.prototype,"symbol",void 0),(0,s._)([(0,m.MZ)({type:Boolean,json:{write:!0}})],E.prototype,"useCodedValues",void 0),(0,s._)([(0,m.MZ)({type:String,json:{write:!0}})],E.prototype,"where",void 0),E=U=(0,s._)([(0,v.$)("esri.layers.support.LabelClass")],E);const J=E},70489:(K,D,o)=>{o.d(D,{A:()=>c});var l,s=o(8189),b=o(71065),x=o(85211),m=(o(3248),o(35150),o(40707),o(17221)),I=o(76576),d=o(50305),v=o(4858);let y=l=class extends b.A{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(_,f){return f.value?(0,v.mX)(f.value):_}writeExpression(_,f,g){null!=this.value&&(_=(0,v.mX)(this.value)),null!=_&&(f[g]=_)}clone(){return new l({expression:this.expression,title:this.title,value:this.value})}};(0,s._)([(0,x.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],y.prototype,"expression",void 0),(0,s._)([(0,m.w)("expression",["expression","value"])],y.prototype,"readExpression",null),(0,s._)([(0,d.K)("expression")],y.prototype,"writeExpression",null),(0,s._)([(0,x.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],y.prototype,"title",void 0),(0,s._)([(0,x.MZ)({json:{read:!1,write:!1}})],y.prototype,"value",void 0),y=l=(0,s._)([(0,I.$)("esri.layers.support.LabelExpressionInfo")],y);const c=y},47516:(K,D,o)=>{o.d(D,{Xl:()=>J,ct:()=>W,d$:()=>Fe,pc:()=>_e,C$:()=>Ne,PD:()=>Ve,VZ:()=>Le,mm:()=>Pe,VA:()=>We,WP:()=>Me,iX:()=>E,Nv:()=>ye,xd:()=>ve,Vq:()=>Be,GA:()=>fe,fE:()=>Ue,rQ:()=>ce,jp:()=>Se,tG:()=>Ge,lV:()=>Ae,B5:()=>Oe,Ye:()=>we,sg:()=>xe,hM:()=>De,S2:()=>Ie,jD:()=>je,Zm:()=>Ce,$4:()=>Re,Pt:()=>Ee,bt:()=>A,rn:()=>H,ZJ:()=>ze});var s=o(10467),b=o(77469),x=o(89447),a=o(5922),j=o(49976),R=o(63484),m=o(43085),I=o(71224),d=o(15421),v=o(59577),l=o(87086);function c(){return(c=(0,s.A)(function*(e,t,n){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=g(e));const r=function _(e){return g(e)*function f(e){return e.capabilities.query.maxRecordCount||2e3}(e)}(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=r;let p=null;for(;;){const P=yield e.source.queryFeaturesJSON(t,n);if(null==p?p=P:p.features=p.features.concat(P.features),p.exceededTransferLimit=P.exceededTransferLimit,!i||!P.exceededTransferLimit)break;t.start+=r}return p})).apply(this,arguments)}function g(e){return e.capabilities.query.supportsMaxRecordCountFactor?l.A.MAX_MAX_RECORD_COUNT_FACTOR:1}var w=o(86300),U=o(58443),Z=o(73747),N=o(13318),G=o(52466),z=o(68470),V=o(59487),$=o(94048);const E=new j.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function J(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(yield M(e,t,r),!i.addAttachment)throw new a.A(r,"Layer source does not support addAttachment capability");return i.addAttachment(t,n)})).apply(this,arguments)}function M(e,t,n){const{attributes:r}=t,{objectIdField:i}=e;return e.capabilities?.data?.supportsAttachment?t?r?i&&r[i]?Promise.resolve():Promise.reject(new a.A(n,`feature is missing the identifying attribute ${i}`)):Promise.reject(new a.A(n,"'attributes' are required on a feature to query attachments")):Promise.reject(new a.A(n,"A feature is required to add/delete/update attachments")):Promise.reject(new a.A(n,"this layer doesn't support attachments"))}function A(e,t,n,r,i){return h.apply(this,arguments)}function h(){return(h=(0,s.A)(function*(e,t,n,r,i){const p=yield F(e);if(yield M(e,t,i),!p.updateAttachment)throw new a.A(i,"Layer source does not support updateAttachment capability");return p.updateAttachment(t,n,r)})).apply(this,arguments)}function W(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,s.A)(function*(e,t,n){const{applyEdits:r}=yield o.e(3828).then(o.bind(o,13828)),i=yield e.load();let p=n;return"feature"===i.type&&i.infoFor3D&&null!=t.deleteFeatures&&null!=i.globalIdField&&(p={...p,globalIdToObjectId:yield fe(i,t.deleteFeatures,i.globalIdField)}),r(i,i.source,t,n)})).apply(this,arguments)}function H(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.A)(function*(e,t,n){const{uploadAssets:r}=yield o.e(3828).then(o.bind(o,13828)),i=yield e.load();return r(i,i.source,t,n)})).apply(this,arguments)}function Pe(e,t,n,r){return X.apply(this,arguments)}function X(){return(X=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(yield M(e,t,r),!i.deleteAttachments)throw new a.A(r,"Layer source does not support deleteAttachments capability");return i.deleteAttachments(t,n)})).apply(this,arguments)}function Me(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.A)(function*(e,t,n){const r=(yield e.load({signal:t?.signal})).source;if(!r.fetchRecomputedExtents)throw new a.A(n,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(t)})).apply(this,arguments)}function Ae(e,t,n,r){return k.apply(this,arguments)}function k(){return(k=(0,s.A)(function*(e,t,n,r){t=G.A.from(t),yield e.load();const i=e.source,p=e.capabilities;if(!p?.data?.supportsAttachment)throw new a.A(r,"this layer doesn't support attachments");const{attachmentTypes:P,objectIds:S,globalIds:O,num:L,size:B,start:T,where:ge}=t;if(!p?.operations?.supportsQueryAttachments&&(P?.length>0||O?.length>0||B?.length>0||L||T||ge))throw new a.A(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t);if(!(S?.length||O?.length||ge))throw new a.A(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!i.queryAttachments)throw new a.A(r,"Layer source does not support queryAttachments capability",t);return!p?.attachment?.supportsOrderByFields&&t.orderByFields?.length&&((t=t.clone()).orderByFields=null),i.queryAttachments(t)})).apply(this,arguments)}function xe(e,t,n,r){return q.apply(this,arguments)}function q(){return(q=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(!i.queryObjectIds)throw new a.A(r,"Layer source does not support queryObjectIds capability");return i.queryObjectIds(l.A.from(t)??e.createQuery(),n)})).apply(this,arguments)}function we(e,t,n,r){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(!i.queryFeatureCount)throw new a.A(r,"Layer source does not support queryFeatureCount capability");return i.queryFeatureCount(l.A.from(t)??e.createQuery(),n)})).apply(this,arguments)}function Oe(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(!i.queryExtent)throw new a.A(r,"Layer source does not support queryExtent capability");return i.queryExtent(l.A.from(t)??e.createQuery(),n)})).apply(this,arguments)}function De(e,t,n,r){return re.apply(this,arguments)}function re(){return(re=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(!i.queryRelatedFeatures)throw new a.A(r,"Layer source does not support queryRelatedFeatures capability");return i.queryRelatedFeatures(V.default.from(t),n)})).apply(this,arguments)}function Ie(e,t,n,r){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.A)(function*(e,t,n,r){const i=yield F(e);if(!i.queryRelatedFeaturesCount)throw new a.A(r,"Layer source does not support queryRelatedFeaturesCount capability");return i.queryRelatedFeaturesCount(V.default.from(t),n)})).apply(this,arguments)}function Se(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.A)(function*(e){const t=e.source;if(t?.refresh)try{const{dataChanged:n,updates:r}=yield t.refresh();if(null!=r&&(e.sourceJSON={...e.sourceJSON,...r},e.read(r,{origin:"service",url:e.parsedUrl})),n)return!0}catch{}if(e.definitionExpression)try{return(yield(0,R.GP)(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1})).apply(this,arguments)}function Le(e){const t=new l.A,n=e.capabilities?.data,r=e.capabilities?.query;t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,r&&(t.compactGeometryEnabled=r.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=r.supportsDefaultSpatialReference),n&&(n.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),n.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:i,timeExtent:p}=e;return t.timeExtent=null!=i&&null!=p?p.offset(-i.value,i.unit):p||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function je(e){const{globalIdField:t,fields:n}=e;if(t)return t;if(n)for(const r of n)if("esriFieldTypeGlobalID"===r.type)return r.name}function Ce(e){const{objectIdField:t,fields:n}=e;if(t)return t;if(n)for(const r of n)if("esriFieldTypeOID"===r.type)return r.name}function Re(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function Be(e,t,n,r){const i=n?.feature,p=!!e.subtypes?.length;if(p&&!n?.excludeImpliedDomains){const O=_e(e,t);if(O)return O}const P=p&&ye(e,i);if(P){const O=P?.domains?.[t];return"inherited"===O?.type?r:O}const S=ve(e.types,e.typeIdField,i);if(S){const O=S.domains&&S.domains[t];if(O&&"inherited"!==O?.type)return O}if(r)return r;if(!n?.excludeImpliedDomains){const O=function Te(e,t){const{fieldsIndex:n}=e,{name:r,type:i}=n.get(t)??{};if(!r)return null;if(("typeIdField"in e?n.get(e.typeIdField)?.name:null)===r&&"types"in e&&e.types?.length){const p=e.types.map(P=>new d.H({code:he(P.id,i),name:P.name}));return new v.A({codedValues:p})}return null}(e,t);if(O)return O}return null}function ye(e,t){const{subtypes:n,subtypeField:r}=e;if(!t?.attributes||!n?.length||!r)return null;const i=t.attributes[r];return null==i?null:n.find(p=>p.code===i)}function _e(e,t){const{fieldsIndex:n,subtypeField:r}=e,{name:i,type:p}=n.get(t)??{};if(!i)return null;if((r&&n.get(r)?.name)===i&&e.subtypes?.length){const P=e.subtypes.map(S=>new d.H({code:he(S.code,p),name:S.name}));if(P?.length)return new v.A({codedValues:P})}return null}function he(e,t){return t?(0,w.yM)({type:t})&&"number"==typeof e?`${e}`:(0,w.R3)({type:t})&&"string"==typeof e?Number.parseInt(e,10):e:e}function F(e){return se.apply(this,arguments)}function se(){return(se=(0,s.A)(function*(e){return(yield e.load()).source})).apply(this,arguments)}function Ue(e,t){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.A)(function*(e,t){if(!b.id)return;const n=b.id.findCredential(e);if(n)return n.userId;let r;try{const i=yield(0,U.wI)(e,t);i&&(r=yield b.id.checkSignInStatus(`${i}/sharing`))}catch{}return r?r.userId:null})).apply(this,arguments)}function me(e,t){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.A)(function*(e,t){if(!b.id||b.id.findCredential(e))return;let n;try{const r=yield(0,U.wI)(e,t);r&&(n=yield b.id.checkSignInStatus(`${r}/sharing`))}catch{}if(n)try{const r=null!=t?t.signal:null;yield b.id.getCredential(e,{signal:r})}catch{}})).apply(this,arguments)}function We(e,t,n){return le.apply(this,arguments)}function le(){return(le=(0,s.A)(function*(e,t,n){const r=e.parsedUrl?.path;r&&e.authenticationTriggerEvent===t&&(yield me(r,n))})).apply(this,arguments)}function Fe(e){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.A)(function*(e){const t=e.parsedUrl?.path;t&&function Ke(e){return function Ze(e){return!(!(0,U.CF)(e)||!e.capabilities?.query.supportsCurrentUser)}(e)&&("serviceDefinitionExpression"in e&&ce(e.serviceDefinitionExpression)||"definitionExpression"in e&&ce(e.definitionExpression))}(e)&&(yield me(t))})).apply(this,arguments)}function ce(e){return!!e?.toLowerCase().includes("current_user")}function Ne(e){return!Ee(e)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const pe=(0,I.C)({types:$.xK});function Ve(e,t){if(e.defaultSymbol)return e.types?.length?new N.A({defaultSymbol:pe(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map(n=>({id:n.id,symbol:pe(n.symbol,n,t)}))}):new Z.A({symbol:pe(e.defaultSymbol,e,t)})}function Ge(e){let t=e.sourceJSON?.cacheMaxAge;if(!t)return!1;const n=e.editingInfo?.lastEditDate?.getTime();return null==n||(t*=1e3,Date.now()-n<t)}function fe(e,t,n){return de.apply(this,arguments)}function de(){return de=(0,s.A)(function*(e,t,n){if(null==t)return null;const r=[],{objectIdField:i}=e;if(t.forEach(L=>{let B=null;if("attributes"in L){const{attributes:T}=L;B={globalId:T[n],objectId:null!=T[i]&&-1!==T[i]?T[i]:null}}else B={globalId:L.globalId,objectId:null!=L.objectId&&-1!==L.objectId?L.objectId:null};null!=B.globalId&&(null!=B.objectId&&-1!==B.objectId||r.push(B.globalId))}),0===r.length)return null;const p=e.createQuery();p.where=r.map(L=>`${n}='${L}'`).join(" OR "),p.returnGeometry=!1,p.outFields=[i,n],p.cacheHint=!1;const P=yield(0,x.DZ)(function y(e,t,n){return c.apply(this,arguments)}(e,p));if(!P.ok)return null;const S=new Map,O=P.value.features;for(const L of O){const B=L.attributes[n],T=L.attributes[i];null!=B&&null!=T&&-1!==T&&S.set((0,m.AG)(B),T)}return S}),de.apply(this,arguments)}function ve(e,t,n){if(!t||!n||!e)return null;const r=n.getAttribute(t);return null==r?null:e.find(i=>{const{id:p}=i;return null!=p&&p.toString()===r.toString()})??null}function Ee(e){return e.sourceJSON?.isMultiServicesView||function He(e){return!!e.sourceJSON?.capabilities?.toLowerCase().split(",").map(t=>t.trim()).includes("map")}(e)}function ze(e,t,n){const r=t?.queryAttributeBins;if(!r)throw new a.A(n,"Layer source does not support binning");switch(e.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new a.A(n,"Layer source does not support auto-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!be(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new a.A(n,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new a.A(n,"Layer source does not support date binning");if(e.binParameters.snapToData&&!r.supportsSnapToData)throw new a.A(n,"Layer source does not support snapToData binning");if(e.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new a.A(n,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new a.A(n,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new a.A(n,"Layer source does not support fixed-interval binning");if(e.binParameters.normalizationType&&(!r.supportsNormalization||!be(e.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new a.A(n,"Layer source does not support normalization binning")}if(e.binParameters.stackBy&&!r.supportsStackBy)throw new a.A(n,"Layer source does not support stackBy binning");if(e.binParameters.splitBy&&!r.supportsSplitBy)throw new a.A(n,"Layer source does not support splitBy binning");if(e.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new a.A(n,"Layer source does not support firstDayOfWeek binning");const i=r?.supportedStatistics;if(e.outStatistics&&i){const p=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:P}of e.outStatistics){const S=p.get(P);if(S&&!i[S])throw new a.A(n,`Layer source does not support ${P} statistic type`)}}}function be(e,t){return null!=e&&!!t?.[z.Q.toJSON(e)]}},73975:(K,D,o)=>{o.d(D,{w:()=>R,z:()=>d});var s=o(5922),b=o(35150),x=o(54947);const a=()=>b.A.getLogger("esri.layers.support.labelingInfo"),j=/\[([^[\]]+)\]/gi;function R(v,l,y){return v?v.map(c=>{const _=new x.A;if(_.read(c,y),_.labelExpression){const f=l.fields||l.layerDefinition?.fields||this.fields;_.labelExpression=_.labelExpression.replaceAll(j,(g,w)=>`[${function m(v,l){if(!l)return v;const y=v.toLowerCase();for(let c=0;c<l.length;c++){const _=l[c].name;if(_.toLowerCase()===y)return _}return v}(w,f)}]`)}return _}):null}const I={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};function d(v,l){const y=[];for(const c of v){const _=c.labelPlacement,f=I[l];if(!c.symbol)return a().warn("No ILabelClass symbol specified."),[];if(!f)return a().error(new s.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${l}' is not supported`)),[];if(f.includes(_))y.push(c);else{const g=f[0];_&&a().warn(`Found invalid label placement type ${_} for ${l}. Defaulting to ${g}`);const w=c.clone();w.labelPlacement=g,y.push(w)}}return y}},73747:(K,D,o)=>{o.d(D,{A:()=>_});var y,s=o(10467),b=o(8189),x=o(77806),a=o(85211),m=(o(3248),o(35150),o(15463)),I=o(76576),d=o(38582),v=o(18550),l=o(36345);let c=y=class extends((0,v.h)(d.A)){constructor(f){super(f),this.description=null,this.label=null,this.symbol=null,this.type="simple"}collectRequiredFields(f,g){var w=this;return(0,s.A)(function*(){yield Promise.all([w.collectSymbolFields(f,g),w.collectVVRequiredFields(f,g)])})()}collectSymbolFields(f,g){var w=this;return(0,s.A)(function*(){yield Promise.all(w.symbols.map(U=>U.collectRequiredFields(f,g)))})()}getSymbol(f,g){return this.symbol}getSymbolAsync(f,g){var w=this;return(0,s.A)(function*(){return w.symbol})()}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((f,g)=>f+g.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((f,g)=>f+JSON.stringify(g),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new y({description:this.description,label:this.label,symbol:(0,x.o8)(this.symbol),visualVariables:(0,x.o8)(this.visualVariables),authoringInfo:(0,x.o8)(this.authoringInfo)})}};(0,b._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,b._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,b._)([(0,a.MZ)(l.Wp)],c.prototype,"symbol",void 0),(0,b._)([(0,m.e)({simple:"simple"})],c.prototype,"type",void 0),c=y=(0,b._)([(0,I.$)("esri.renderers.SimpleRenderer")],c);const _=c},52466:(K,D,o)=>{o.d(D,{A:()=>v});var I,s=o(8189),b=o(71065),x=o(77806),a=o(85211),j=o(55739),R=o(76576),m=o(50305);let d=I=class extends b.A{constructor(l){super(l),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(l,y){y.resultOffset=this.start,y.resultRecordCount=this.num||10}clone(){return new I((0,x.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"attachmentTypes",void 0),(0,s._)([(0,a.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],d.prototype,"attachmentsWhere",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"cacheHint",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"keywords",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"globalIds",void 0),(0,s._)([(0,a.MZ)({json:{write:!0}})],d.prototype,"name",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],d.prototype,"num",void 0),(0,s._)([(0,a.MZ)({type:[Number],json:{write:!0}})],d.prototype,"objectIds",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],d.prototype,"orderByFields",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],d.prototype,"returnMetadata",void 0),(0,s._)([(0,a.MZ)({type:[Number],json:{write:!0}})],d.prototype,"size",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],d.prototype,"start",void 0),(0,s._)([(0,m.K)("start"),(0,m.K)("num")],d.prototype,"writeStart",null),(0,s._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],d.prototype,"where",void 0),d=I=(0,s._)([(0,R.$)("esri.rest.support.AttachmentQuery")],d),d.from=(0,j.dp)(d);const v=d},59487:(K,D,o)=>{o.r(D),o.d(D,{default:()=>y});var v,s=o(8189),b=o(71065),x=o(77806),a=o(85211),j=o(55739),R=o(76576),m=o(50305),I=o(32034),d=o(93164);let l=v=class extends b.A{constructor(c){super(c),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(c,_){_.historicMoment=c&&c.getTime()}writeStart(c,_){_.resultOffset=this.start,_.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(_.definitionExpression="1=1")}clone(){return new v((0,x.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,s._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],l.prototype,"cacheHint",void 0),(0,s._)([(0,a.MZ)({type:d.L,json:{write:!0}})],l.prototype,"dynamicDataSource",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],l.prototype,"gdbVersion",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],l.prototype,"geometryPrecision",void 0),(0,s._)([(0,a.MZ)({type:Date})],l.prototype,"historicMoment",void 0),(0,s._)([(0,m.K)("historicMoment")],l.prototype,"_writeHistoricMoment",null),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],l.prototype,"maxAllowableOffset",void 0),(0,s._)([(0,a.MZ)({json:{write:!0}})],l.prototype,"objectIds",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],l.prototype,"orderByFields",void 0),(0,s._)([(0,a.MZ)({type:[String],json:{write:!0}})],l.prototype,"outFields",void 0),(0,s._)([(0,a.MZ)({type:I.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],l.prototype,"outSpatialReference",void 0),(0,s._)([(0,a.MZ)({json:{write:!0}})],l.prototype,"relationshipId",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],l.prototype,"start",void 0),(0,s._)([(0,m.K)("start"),(0,m.K)("num")],l.prototype,"writeStart",null),(0,s._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],l.prototype,"num",void 0),(0,s._)([(0,a.MZ)({json:{write:!0}})],l.prototype,"returnGeometry",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],l.prototype,"returnM",void 0),(0,s._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:c=>({enabled:c})}}})],l.prototype,"returnZ",void 0),(0,s._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],l.prototype,"where",void 0),l=v=(0,s._)([(0,R.$)("esri.rest.support.RelationshipQuery")],l),l.from=(0,j.dp)(l);const y=l}}]);