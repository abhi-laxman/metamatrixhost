"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[2230],{81596:(Q,W,g)=>{g.d(W,{AK:()=>M,Wz:()=>I,oe:()=>b});var u=g(79139);function b(O,v=!1){return O<=u.y9?v?new Array(O).fill(0):new Array(O):new Float32Array(O)}function I(O){return(Array.isArray(O)?O.length:O.byteLength/8)<=u.y9?Array.from(O):new Float32Array(O)}function M(O,v,D){return Array.isArray(O)?O.slice(v,v+D):O.subarray(v,v+D)}},83034:(Q,W,g)=>{g.d(W,{Dg:()=>b,EH:()=>h,JH:()=>M,my:()=>I,tM:()=>R});var u=g(79139);function b(e){if(Array.isArray(e)){if(e.length<u.y9)return e}else if(e.length<u.y9)return Array.from(e);let c=!0,l=!0;return e.some((d,_)=>(c=c&&0===d,l=l&&d===_,!c&&!l)),c?h(e.length):l?R(e.length):(0,u.iu)(e)&&e.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT?e:function i(e){let c=!0;for(const l of e){if(l>=65536)return(0,u.iu)(e)?e:new Uint32Array(e);l>=256&&(c=!1)}return c?new Uint8Array(e):new Uint16Array(e)}(e)}function I(e){return e<=u.y9?new Array(e):e<=65536?new Uint16Array(e):new Uint32Array(e)}function M(e){return e<=u.y9?new Array(e):new Uint32Array(e)}let O=L(131072);const v=[0],D=(()=>{const e=new Uint16Array(65536);for(let c=0;c<e.length;++c)e[c]=c;return e})();function R(e){return 1===e?v:e<u.y9?Array.from(new Uint16Array(D.buffer,0,e)):e<D.length?new Uint16Array(D.buffer,0,e):(e>O.length&&(O=L(Math.max(2*O.length,e))),new Uint32Array(O.buffer,0,e))}function L(e){const c=new Uint32Array(e);for(let l=0;l<c.length;l++)c[l]=l;return c}let S=new Uint8Array(65536);function h(e){if(1===e)return v;if(e<u.y9)return new Array(e).fill(0);if(e>S.length){const c=Math.max(2*S.length,e);S=new Uint8Array(c)}return new Uint8Array(S.buffer,0,e)}},44703:(Q,W,g)=>{function u(M){switch(M){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}g.d(W,{GJ:()=>u})},38118:(Q,W,g)=>{g.d(W,{b:()=>i});var u=g(69287),b=g(83034);function i(D,R,L){const S=Array.isArray(D),h=S?D.length/R:D.byteLength/(4*R),s=S?D:new Uint32Array(D,0,h*R),e=L?.minReduction??0,c=L?.originalIndices||null,l=c?c.length:0,d=L?.componentOffsets||null;let _=0;if(d)for(let y=0;y<d.length-1;y++){const K=d[y+1]-d[y];K>_&&(_=K)}else _=h;const m=Math.floor(1.1*_)+1;(null==v||v.length<2*m)&&(v=new Uint32Array((0,u.cU)(2*m)));for(let y=0;y<2*m;y++)v[y]=0;let P=0;const x=!!d&&!!c,z=x?l:h;let V=(0,b.my)(h);const G=new Uint32Array(l);let F=0!==e?Math.ceil(7.84*1.96/(e*e)*e*(1-e)):z,H=1,$=d?d[1]:z;for(let y=0;y<z;y++){if(y===F){const E=1-P/y;if(E+1.96*Math.sqrt(E*(1-E)/y)<e)return null;F*=2}if(y===$){for(let E=0;E<2*m;E++)v[E]=0;if(c)for(let E=d[H-1];E<d[H];E++)G[E]=V[c[E]];$=d[++H]}const K=x?c[y]:y,k=K*R,p=O(s,k,R);let A=p%m,N=P;for(;0!==v[2*A+1];){if(v[2*A]===p){const E=v[2*A+1]-1;if(I(s,k,E*R,R)){N=V[E];break}}A++,A>=m&&(A-=m)}N===P&&(v[2*A]=p,v[2*A+1]=K+1,P++),V[K]=N}if(0!==e&&1-P/h<e)return null;if(x){for(let y=d[H-1];y<G.length;y++)G[y]=V[c[y]];V=(0,b.Dg)(G)}const Y=S?new Array(P):new Uint32Array(P*R);P=0;for(let y=0;y<z;y++)V[y]===P&&(M(s,(x?c[y]:y)*R,Y,P*R,R),P++);if(c&&!x){const y=new Uint32Array(l);for(let K=0;K<y.length;K++)y[K]=V[c[K]];V=(0,b.Dg)(y)}return{buffer:Array.isArray(Y)?Y:Y.buffer,indices:V,uniqueCount:P}}function I(D,R,L,S){for(let h=0;h<S;h++)if(D[R+h]!==D[L+h])return!1;return!0}function M(D,R,L,S,h){for(let s=0;s<h;s++)L[S+s]=D[R+s]}function O(D,R,L){let S=0;for(let h=0;h<L;h++)S=D[R+h]+S|0,S=S+(S<<11)+(S>>>2)|0;return S>>>0}let v=null},48499:(Q,W,g)=>{g.d(W,{BP:()=>O,l5:()=>v,q3:()=>M});var u=g(45434),b=g(44703),i=g(65388);class I{constructor(s,e){this.layout=s,this.buffer="number"==typeof e?new ArrayBuffer(e*s.stride):e;for(const c of s.fields.keys()){const l=s.fields.get(c);this[c]=new l.constructor(this.buffer,l.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(s,e){const c=this[s];return c&&c.elementCount===e.ElementCount&&c.elementType===e.ElementType?c:null}slice(s,e){return new I(this.layout,this.buffer.slice(s*this.stride,e*this.stride))}copyFrom(s,e=0,c=0,l=s.count){const d=this.stride;if(d%4==0){const _=new Uint32Array(s.buffer,e*d,l*d/4);new Uint32Array(this.buffer,c*d,l*d/4).set(_)}else{const _=new Uint8Array(s.buffer,e*d,l*d);new Uint8Array(this.buffer,c*d,l*d).set(_)}return this}get cachedMemory(){return this.byteLength}dispose(){}}class M{constructor(s){this._stride=0,this._lastAligned=0,this._fields=new Map,s&&(this._stride=s.stride,s.fields.forEach(e=>{return this._fields.set(e[0],{...e[1],constructor:(h=e[1].constructor,S.get(h))});var h}))}freeze(){return this}vec2f(s,e){return this._appendField(s,u.gH,e),this}vec2f64(s,e){return this._appendField(s,u.si,e),this}vec3f(s,e){return this._appendField(s,u.xs,e),this}vec3f64(s,e){return this._appendField(s,u.Xm,e),this}vec4f(s,e){return this._appendField(s,u.Eq,e),this}vec4f64(s,e){return this._appendField(s,u.Aj,e),this}mat3f(s,e){return this._appendField(s,u.jZ,e),this}mat3f64(s,e){return this._appendField(s,u.j0,e),this}mat4f(s,e){return this._appendField(s,u.Sx,e),this}mat4f64(s,e){return this._appendField(s,u.E$,e),this}vec4u8(s,e){return this._appendField(s,u.XP,e),this}f32(s,e){return this._appendField(s,u.Y$,e),this}f64(s,e){return this._appendField(s,u.qB,e),this}u8(s,e){return this._appendField(s,u.SL,e),this}u16(s,e){return this._appendField(s,u.h,e),this}i8(s,e){return this._appendField(s,u.bf,e),this}vec2i8(s,e){return this._appendField(s,u.D6,e),this}vec2i16(s,e){return this._appendField(s,u.mJ,e),this}vec2u8(s,e){return this._appendField(s,u.LC,e),this}vec4u16(s,e){return this._appendField(s,u.Uz,e),this}u32(s,e){return this._appendField(s,u.P,e),this}_appendField(s,e,c){if(this._fields.has(s))return void(0,i.vA)(!1,`${s} already added to vertex buffer layout`);const l=e.ElementCount*(0,b.GJ)(e.ElementType),d=this._stride;this._stride+=l,this._fields.set(s,{size:l,constructor:e,offset:d,optional:c})}createBuffer(s){return new I(this,s)}createView(s){return new I(this,s)}clone(){const s=new M;return s._stride=this._stride,s._fields=new Map,this._fields.forEach((e,c)=>s._fields.set(c,e)),s.BufferType=this.BufferType,s}get stride(){if(this._lastAligned!==this._fields.size){let s=1;this._fields.forEach(e=>s=Math.max(s,(0,b.GJ)(e.constructor.ElementType))),this._stride=Math.floor((this._stride+s-1)/s)*s,this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}function O(){return new M}class v{constructor(s){this.fields=new Array,s.fields.forEach((e,c)=>{const l={...e,constructor:R(e.constructor)};this.fields.push([c,l])}),this.stride=s.stride}}const D=[u.Y$,u.gH,u.xs,u.Eq,u.jZ,u.Sx,u.qB,u.si,u.Xm,u.Aj,u.j0,u.E$,u.SL,u.LC,u.eI,u.XP,u.h,u.Yi,u.nS,u.Uz,u.P,u.An,u.H$,u.ml,u.bf,u.D6,u.m8,u.TX,u.Qt,u.mJ,u.Vp,u.E7,u.My,u.UL,u.zD,u.Y4];function R(h){return`${h.ElementType}_${h.ElementCount}`}const S=new Map;D.forEach(h=>S.set(R(h),h))},79439:(Q,W,g)=>{g.d(W,{U:()=>i});var u=g(50915),b=g(30454);function i(O,v=0){const D=O.stride;return Array.from(O.fields.keys()).map(R=>{const L=O.fields.get(R),S=L.constructor.ElementCount,h=function I(O){const v=M[O];if(v)return v;throw new Error("BufferType not supported in WebGL")}(L.constructor.ElementType);return new b._(R,S,h,L.offset,D,L.optional?.glNormalized??!1,v)})}const M={u8:u.pe.UNSIGNED_BYTE,u16:u.pe.UNSIGNED_SHORT,u32:u.pe.UNSIGNED_INT,i8:u.pe.BYTE,i16:u.pe.SHORT,i32:u.pe.INT,f32:u.pe.FLOAT}},58390:(Q,W,g)=>{g.d(W,{aT:()=>M,fA:()=>O});var u=g(69287);function M(h,s,e,c,l,d=2){const _=1/(Math.abs(e)+Math.abs(c)+Math.abs(l)),m=e*_,P=c*_,x=l<=0?(m>=0?1:-1)*(1-Math.abs(P)):m,z=l<=0?(P>=0?1:-1)*(1-Math.abs(m)):P,V=s*d;h[V]=L(x),h[V+1]=L(z)}function O(h){const s=h.length/3,e=new Int16Array(2*s);let c=0;for(let l=0;l<s;++l)M(e,l,h[c++],h[c++],h[c++]);return e}function L(h){return(0,u.qE)(Math.round(32767*h),-32767,32767)}g(28714),g(25866),g(81596)},65388:(Q,W,g)=>{g.d(W,{L:()=>R,MX:()=>v,O_:()=>D,kL:()=>S,vA:()=>O,zH:()=>s});var u=g(45475);g(53781),(0,g(89141).vt)();class M{constructor(c){this.message=c}toString(){return`AssertException: ${this.message}`}}function O(e,c="Assertion"){if(!e){const l=new Error(c).stack;throw new M(`${c} at ${l}`)}}function v(e,c){e||(c=c||"",console.warn("Verify failed: "+c+"\n"+new Error("verify").stack))}function D(e,c,l,d){let _,m=(l[0]-e[0])/c[0],P=(d[0]-e[0])/c[0];m>P&&(_=m,m=P,P=_);let x=(l[1]-e[1])/c[1],z=(d[1]-e[1])/c[1];if(x>z&&(_=x,x=z,z=_),m>z||x>P)return!1;x>m&&(m=x),z<P&&(P=z);let V=(l[2]-e[2])/c[2],G=(d[2]-e[2])/c[2];return V>G&&(_=V,V=G,G=_),!(m>G||V>P||(G<P&&(P=G),P<0))}function R(e,c,l,d,_,m=(0,u.vt)()){const P=(d[_]-l[_])*(c[0]-e[0])-(d[0]-l[0])*(c[_]-e[_]);if(0===P)return!1;const z=((d[0]-l[0])*(e[_]-l[_])-(d[_]-l[_])*(e[0]-l[0]))/P;return m[0]=e[0]+z*(c[0]-e[0]),m[1]=e[_]+z*(c[_]-e[_]),!0}function S(e,c){return Math.log(e)/Math.log(c)}function s(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&1===e[15]}},40972:(Q,W,g)=>{var u,i;function b(i){return i===u.POSITION}g.d(W,{b:()=>b,r:()=>u}),(i=u||(u={})).POSITION="position",i.NORMAL="normal",i.NORMALCOMPRESSED="normalCompressed",i.UV0="uv0",i.COLOR="color",i.SYMBOLCOLOR="symbolColor",i.SIZE="size",i.ROTATION="rotation",i.TANGENT="tangent",i.OFFSET="offset",i.PERSPECTIVEDIVIDE="perspectiveDivide",i.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",i.LENGTH="length",i.PREVPOSITION="prevPosition",i.NEXTPOSITION="nextPosition",i.SUBDIVISIONFACTOR="subdivisionFactor",i.COLORFEATUREATTRIBUTE="colorFeatureAttribute",i.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",i.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",i.DISTANCETOSTART="distanceToStart",i.UVMAPSPACE="uvMapSpace",i.BOUNDINGRECT="boundingRect",i.UVREGION="uvRegion",i.PROFILERIGHT="profileRight",i.PROFILEUP="profileUp",i.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",i.FEATUREVALUE="featureValue",i.INSTANCEMODELORIGINHI="instanceModelOriginHi",i.INSTANCEMODELORIGINLO="instanceModelOriginLo",i.INSTANCEMODEL="instanceModel",i.INSTANCEMODELNORMAL="instanceModelNormal",i.INSTANCECOLOR="instanceColor",i.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",i.LOCALTRANSFORM="localTransform",i.GLOBALTRANSFORM="globalTransform",i.BOUNDINGSPHERE="boundingSphere",i.MODELORIGIN="modelOrigin",i.MODELSCALEFACTORS="modelScaleFactors",i.FEATUREATTRIBUTE="featureAttribute",i.STATE="state",i.LODLEVEL="lodLevel",i.POSITION0="position0",i.POSITION1="position1",i.NORMAL2COMPRESSED="normal2Compressed",i.COMPONENTINDEX="componentIndex",i.VARIANTOFFSET="variantOffset",i.VARIANTSTROKE="variantStroke",i.VARIANTEXTENSION="variantExtension",i.SIDENESS="sideness",i.START="start",i.END="end",i.UP="up",i.START_UP="startUp",i.END_UP="endUp",i.EXTRUDE="extrude",i.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",i.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"},62447:(Q,W,g)=>{g.d(W,{I$:()=>I,In:()=>D,gr:()=>v});var u=g(79439),b=g(48499),i=g(40972);const I=(0,b.BP)().vec3f(i.r.POSITION).u16(i.r.COMPONENTINDEX).freeze(),M=(0,b.BP)().vec2u8(i.r.SIDENESS).freeze(),v=((0,u.U)(M),(0,b.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1).vec2i16(i.r.NORMALCOMPRESSED).u16(i.r.COMPONENTINDEX).u8(i.r.VARIANTOFFSET,{glNormalized:!0}).u8(i.r.VARIANTSTROKE).u8(i.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()),D=(0,b.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1).vec2i16(i.r.NORMALCOMPRESSED).vec2i16(i.r.NORMAL2COMPRESSED).u16(i.r.COMPONENTINDEX).u8(i.r.VARIANTOFFSET,{glNormalized:!0}).u8(i.r.VARIANTSTROKE).u8(i.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()},66273:(Q,W,g)=>{g.d(W,{K:()=>v});var u=g(69287),b=g(12438),i=g(28714),I=g(25866);const O=-1;function v(F,H,$){const Y=F.vertices.position,y=F.vertices.componentIndex,K=l.position0,k=l.position1,p=l.faceNormal0,A=l.faceNormal1,{edges:N,normals:E}=function S(F){const H=F.faces.length/3,$=F.faces,Y=F.neighbors,y=F.vertices.position;e.length=c.length=0;for(let K=0;K<H;K++){const k=3*K,p=Y[k],A=Y[k+1],N=Y[k+2],E=$[k],U=$[k+1],B=$[k+2];y.getVec(E,m),y.getVec(U,P),y.getVec(B,x),(0,i.d)(P,P,m),(0,i.d)(x,x,m),(0,i.e)(m,P,x),(0,i.n)(m,m),c.pushArray(m),(p===O||E<U)&&(e.push(E),e.push(U),e.push(K),e.push(p)),(A===O||U<B)&&(e.push(U),e.push(B),e.push(K),e.push(A)),(N===O||B<E)&&(e.push(B),e.push(E),e.push(K),e.push(N))}return{edges:e,normals:c}}(F),U=N.length/4,B=H.allocate(U);let q=0;const it=U,rt=$?.allocate(it);let j=0,Z=0,ot=0;s.length=0;for(let f=0;f<U;++f){const T=4*f;Y.getVec(N.data[T],K),Y.getVec(N.data[T+1],k);const w=s.pushNew();w.index=4*f,w.length=(0,i.j)(K,k)}s.sort((f,T)=>T.length-f.length);const ct=new Array,st=new Array;s.forAll(({length:f,index:T})=>{const w=N.data[T],C=N.data[T+1],J=N.data[T+2],tt=N.data[T+3],et=tt===O;if(Y.getVec(w,K),Y.getVec(C,k),et){const X=3*J;(0,i.i)(p,E.data[X],E.data[X+1],E.data[X+2]),(0,i.c)(A,p),l.componentIndex=y.get(w),l.cosAngle=(0,i.f)(p,A)}else{let X=3*J;if((0,i.i)(p,E.data[X],E.data[X+1],E.data[X+2]),X=3*tt,(0,i.i)(A,E.data[X],E.data[X+1],E.data[X+2]),l.componentIndex=y.get(w),l.cosAngle=(0,i.f)(p,A),function R(F,H){return F.cosAngle>H}(l,V))return;l.cosAngle<-.9999&&(0,i.c)(A,p)}Z+=f,ot++,et||function D(F,H){return F.cosAngle<H}(l,nt)?(H.write(B,q++,l),ct.push(f)):function L(F,H){const $=(0,u.XM)(F.cosAngle);return(0,i.o)(_,F.position1,F.position0),$*((0,i.f)((0,i.e)(d,F.faceNormal0,F.faceNormal1),_)>0?-1:1)>H}(l,z)&&(rt&&$&&$.write(rt,j++,l),st.push(f))});const ut=new Float32Array(ct.reverse()),at=new Float32Array(st.reverse()),lt=rt&&$?{instancesData:rt.slice(0,j),lodInfo:{lengths:at}}:void 0;return{regular:{instancesData:B.slice(0,q),lodInfo:{lengths:ut}},silhouette:lt,averageEdgeLength:Z/ot}}class h{constructor(){this.index=0,this.length=0}}const s=new b.A({allocator:F=>F||new h,deallocator:null}),e=new b.A({deallocator:null}),c=new b.A({deallocator:null}),l=new class M{constructor(){this.position0=(0,I.vt)(),this.position1=(0,I.vt)(),this.faceNormal0=(0,I.vt)(),this.faceNormal1=(0,I.vt)(),this.componentIndex=0,this.cosAngle=0}},d=(0,I.vt)(),_=(0,I.vt)(),m=(0,I.vt)(),P=(0,I.vt)(),x=(0,I.vt)(),z=(0,u.kU)(4),V=Math.cos(z),G=(0,u.kU)(35),nt=Math.cos(G)},32230:(Q,W,g)=>{g.d(W,{o6:()=>F,HY:()=>k,hx:()=>H,Jb:()=>K});var u=g(38118);function b(p,A,N){const E=A/3,U=new Uint32Array(N+1),B=new Uint32Array(N+1),q=(f,T)=>{f<T?U[f+1]++:B[T+1]++};for(let f=0;f<E;f++){const T=p[3*f],w=p[3*f+1],C=p[3*f+2];q(T,w),q(w,C),q(C,T)}let it=0,rt=0;for(let f=0;f<N;f++){const T=U[f+1],w=B[f+1];U[f+1]=it,B[f+1]=rt,it+=T,rt+=w}const j=new Uint32Array(6*E),Z=U[N],ot=(f,T,w)=>{if(f<T){const C=U[f+1]++;j[2*C]=T,j[2*C+1]=w}else{const C=B[T+1]++;j[2*Z+2*C]=f,j[2*Z+2*C+1]=w}};for(let f=0;f<E;f++){const T=p[3*f],w=p[3*f+1],C=p[3*f+2];ot(T,w,f),ot(w,C,f),ot(C,T,f)}const ct=(f,T)=>{const w=2*f,C=T-f;for(let J=1;J<C;J++){const tt=j[w+2*J],et=j[w+2*J+1];let X=J-1;for(;X>=0&&j[w+2*X]>tt;X--)j[w+2*X+2]=j[w+2*X],j[w+2*X+3]=j[w+2*X+1];j[w+2*X+2]=tt,j[w+2*X+3]=et}};for(let f=0;f<N;f++)ct(U[f],U[f+1]),ct(Z+B[f],Z+B[f+1]);const st=new Int32Array(3*E),ut=(f,T)=>f===p[3*T]?0:f===p[3*T+1]?1:f===p[3*T+2]?2:-1,at=(f,T)=>{const w=ut(f,T);st[3*T+w]=-1},lt=(f,T,w,C)=>{const J=ut(f,T);st[3*T+J]=C;const tt=ut(w,C);st[3*C+tt]=T};for(let f=0;f<N;f++){let T=U[f];const w=U[f+1];let C=B[f];const J=B[f+1];for(;T<w&&C<J;){const tt=j[2*T],et=j[2*Z+2*C];tt===et?(lt(f,j[2*T+1],et,j[2*Z+2*C+1]),T++,C++):tt<et?(at(f,j[2*T+1]),T++):(at(et,j[2*Z+2*C+1]),C++)}for(;T<w;)at(f,j[2*T+1]),T++;for(;C<J;)at(j[2*Z+2*C],j[2*Z+2*C+1]),C++}return st}var i=g(48499),I=g(40972),M=g(62447),O=g(40707),v=g(28714),D=g(25866),R=g(79439),L=g(58390);class h{updateSettings(A){this.settings=A,this._edgeHashFunction=A.reducedPrecision?d:l}write(A,N,E){G.seed=this._edgeHashFunction(E);const U=G.getIntRange(0,255),B=G.getIntRange(0,this.settings.variants-1),q=G.getFloat(),it=255*(.5*function P(p,A){return Math.abs(p)**A*Math.sign(p)}(-(1-Math.min(q/.7,1))+Math.max(0,q-.7)/(1-.7),1.2)+.5);A.position0.setVec(N,E.position0),A.position1.setVec(N,E.position1),A.componentIndex.set(N,E.componentIndex),A.variantOffset.set(N,U),A.variantStroke.set(N,B),A.variantExtension.set(N,it)}}const s=new Float32Array(6),e=new Uint32Array(s.buffer),c=new Uint32Array(1);function l(p){return s[0]=p.position0[0],s[1]=p.position0[1],s[2]=p.position0[2],s[3]=p.position1[0],s[4]=p.position1[1],s[5]=p.position1[2],c[0]=31*(31*(31*(31*(31*(166811+e[0])+e[1])+e[2])+e[3])+e[4])+e[5],c[0]}function d(p){const A=s;A[0]=m(p.position0[0]),A[1]=m(p.position0[1]),A[2]=m(p.position0[2]),A[3]=m(p.position1[0]),A[4]=m(p.position1[1]),A[5]=m(p.position1[2]),c[0]=5381;for(let N=0;N<e.length;N++)c[0]=31*c[0]+e[N];return c[0]}const _=1e4;function m(p){return Math.round(p*_)/_}class x{constructor(){this._commonWriter=new h}updateSettings(A){this._commonWriter.updateSettings(A)}allocate(A){return M.gr.createBuffer(A)}write(A,N,E){this._commonWriter.write(A,N,E),(0,v.g)(V,E.faceNormal0,E.faceNormal1),(0,v.n)(V,V);const{typedBuffer:U,typedBufferStride:B}=A.normalCompressed;(0,L.aT)(U,N,V[0],V[1],V[2],B)}}x.Layout=M.gr,x.glLayout=(0,R.U)(M.gr,1);class z{constructor(){this._commonWriter=new h}updateSettings(A){this._commonWriter.updateSettings(A)}allocate(A){return M.In.createBuffer(A)}write(A,N,E){this._commonWriter.write(A,N,E);{const{typedBuffer:U,typedBufferStride:B}=A.normalCompressed;(0,L.aT)(U,N,E.faceNormal0[0],E.faceNormal0[1],E.faceNormal0[2],B)}{const{typedBuffer:U,typedBufferStride:B}=A.normal2Compressed;(0,L.aT)(U,N,E.faceNormal1[0],E.faceNormal1[1],E.faceNormal1[2],B)}}}z.Layout=M.In,z.glLayout=(0,R.U)(M.In,1);const V=(0,D.vt)(),G=new O.A;var nt=g(66273);function F(p){const A=H(p.data,p.skipDeduplicate,p.indices,p.indicesLength);return Y.updateSettings(p.writerSettings),y.updateSettings(p.writerSettings),(0,nt.K)(A,Y,y)}function H(p,A,N,E){if(A){const q=b(N,E,p.count);return new $(N,E,q,p)}const U=(0,u.b)(p.buffer,p.stride/4,{originalIndices:N,originalIndicesLength:E}),B=b(U.indices,E,U.uniqueCount);return{faces:U.indices,facesLength:U.indices.length,neighbors:B,vertices:M.I$.createView(U.buffer)}}class ${constructor(A,N,E,U){this.faces=A,this.facesLength=N,this.neighbors=E,this.vertices=U}}const Y=new x,y=new z,K=(0,i.BP)().vec3f(I.r.POSITION0).vec3f(I.r.POSITION1),k=(0,i.BP)().vec3f(I.r.POSITION0).vec3f(I.r.POSITION1).u16(I.r.COMPONENTINDEX)}}]);