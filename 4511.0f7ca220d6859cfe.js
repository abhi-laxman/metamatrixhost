"use strict";(self.webpackChunkAngularClient=self.webpackChunkAngularClient||[]).push([[4511],{31555:(W,G,e)=>{e.d(G,{A:()=>u});var s=e(8189),r=e(98877),P=e(89952),y=e(90660),E=e(3046),x=e(71065),A=e(85211),I=(e(3248),e(35150),e(76576));let b=0,c=class extends(x.A.JSONSupportMixin(y.A.ClonableMixin(E.A.IdentifiableMixin(r.A)))){constructor(h){super(h),this.id=`${Date.now().toString(16)}-analysis-${b++}`,this.title=null}get parent(){return this._get("parent")}set parent(h){const d=this.parent;if(null!=d)switch(d.type){case"line-of-sight":case"dimension":case"viewshed":d.releaseAnalysis(this);break;case"2d":case"3d":d.analyses.includes(this)&&d.analyses.remove(this)}this._set("parent",h)}get isEditable(){return this.requiredPropertiesForEditing.every(P.Ru)}};(0,s._)([(0,A.MZ)({type:String,constructOnly:!0,clonable:!1})],c.prototype,"id",void 0),(0,s._)([(0,A.MZ)({type:String})],c.prototype,"title",void 0),(0,s._)([(0,A.MZ)({clonable:!1,value:null})],c.prototype,"parent",null),(0,s._)([(0,A.MZ)({readOnly:!0})],c.prototype,"isEditable",null),c=(0,s._)([(0,I.$)("esri.analysis.Analysis")],c);const u=c},94511:(W,G,e)=>{e.r(G),e.d(G,{default:()=>z});var s=e(10467),r=e(8189),P=e(31555),y=e(68677),E=e(90660),x=e(71065),A=e(67685),i=e(85211),O=e(55739),c=(e(3248),e(40707),e(76576));let u=class extends(x.A.JSONSupportMixin(E.A)){constructor(t){super(t),this.type="simple",this.color=new y.A("black"),this.lineSize=2,this.fontSize=10,this.textColor=new y.A("black"),this.textBackgroundColor=new y.A([255,255,255,.6])}};(0,r._)([(0,i.MZ)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[O.jz],write:{isRequired:!0}}})],u.prototype,"color",void 0),(0,r._)([(0,i.MZ)({type:Number,cast:A.cr,nonNullable:!0,range:{min:(0,A.PN)(1)},json:{write:{isRequired:!0}}})],u.prototype,"lineSize",void 0),(0,r._)([(0,i.MZ)({type:Number,cast:A.cr,nonNullable:!0,json:{write:{isRequired:!0}}})],u.prototype,"fontSize",void 0),(0,r._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[O.jz],write:{isRequired:!0}}})],u.prototype,"textColor",void 0),(0,r._)([(0,i.MZ)({type:y.A,nonNullable:!0,json:{type:[O.jz],write:{isRequired:!0}}})],u.prototype,"textBackgroundColor",void 0),u=(0,r._)([(0,c.$)("esri.analysis.DimensionSimpleStyle")],u);const h=u;var d,t;(t=d||(d={})).Horizontal="horizontal",t.Vertical="vertical",t.Direct="direct";const D=[d.Horizontal,d.Vertical,d.Direct];var N=e(73596),Z=e(48669),R=e(1749);let S=class extends(x.A.JSONSupportMixin(E.A)){constructor(t){super(t),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=d.Direct,this.offset=0,this.orientation=0}};(0,r._)([(0,i.MZ)({type:["length"],json:{write:{isRequired:!0}}})],S.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:R.A,json:{write:{isRequired:!0}}})],S.prototype,"startPoint",void 0),(0,r._)([(0,i.MZ)({type:R.A,json:{write:{isRequired:!0}}})],S.prototype,"endPoint",void 0),(0,r._)([(0,i.MZ)({type:D,nonNullable:!0,json:{write:{isRequired:!0}}})],S.prototype,"measureType",void 0),(0,r._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],S.prototype,"offset",void 0),(0,r._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,Z.w)(t=>N.ie.normalize((0,O.GB)(t),0,!0))],S.prototype,"orientation",void 0),S=(0,r._)([(0,c.$)("esri.analysis.LengthDimension")],S);const B=S;var f=e(31178),a=e(5605),n=e(48900),p=(e(35150),e(28067)),L=e(13970);const g=f.A.ofType(B);let M=class extends P.A{constructor(t){super(t),this.type="dimension",this.style=new h,this.extent=null}initialize(){this.addHandles((0,n.wB)(()=>this._computeExtent(),t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)},n.pc))}get dimensions(){return this._get("dimensions")||new g}set dimensions(t){this._set("dimensions",(0,a.V)(t,this.dimensions,g))}get spatialReference(){for(const t of this.dimensions){if(null!=t.startPoint)return t.startPoint.spatialReference;if(null!=t.endPoint)return t.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce((t,l)=>(t.push(l.startPoint,l.endPoint),t),[])}waitComputeExtent(){var t=this;return(0,s.A)(function*(){const l=t._computeExtent();return null!=l?l.pending:Promise.resolve()})()}_computeExtent(){const t=this.spatialReference;if(null==t)return{pending:null,extent:null};const l=[];for(const m of this.dimensions)null!=m.startPoint&&l.push(m.startPoint),null!=m.endPoint&&l.push(m.endPoint);const T=(0,L.projectOrLoadMany)(l,t);if(null!=T.pending)return{pending:T.pending,extent:null};let j=null;return null!=T.geometries&&(j=T.geometries.reduce((m,w)=>null==m?null!=w?p.A.fromPoint(w):null:null!=w?m.union(p.A.fromPoint(w)):m,null)),{pending:null,extent:j}}clear(){this.dimensions.removeAll()}};(0,r._)([(0,i.MZ)({type:["dimension"]})],M.prototype,"type",void 0),(0,r._)([(0,i.MZ)({cast:a.H,type:g,nonNullable:!0})],M.prototype,"dimensions",null),(0,r._)([(0,i.MZ)({readOnly:!0})],M.prototype,"spatialReference",null),(0,r._)([(0,i.MZ)({types:{key:"type",base:null,typeMap:{simple:h}},nonNullable:!0})],M.prototype,"style",void 0),(0,r._)([(0,i.MZ)({value:null,readOnly:!0})],M.prototype,"extent",void 0),(0,r._)([(0,i.MZ)({readOnly:!0})],M.prototype,"requiredPropertiesForEditing",null),M=(0,r._)([(0,c.$)("esri.analysis.DimensionAnalysis")],M);const C=M;var K=e(39693),U=e(50305),V=e(95478),$=e(17049);let v=class extends((0,$.q)((0,K.P)(V.A))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new C,this.opacity=1,t){const{source:l,style:T}=t;l&&T&&(l.style=T)}}initialize(){this.addHandles([(0,n.wB)(()=>this.source,(t,l)=>{null!=l&&l.parent===this&&(l.parent=null),null!=t&&(t.parent=this)},n.pc)])}load(){var t=this;return(0,s.A)(function*(){return t.addResolvingPromise(t.source.waitComputeExtent()),t})()}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new C)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,l,T,j){l.dimensions=t.filter(({startPoint:m,endPoint:w})=>null!=m&&null!=w).map(m=>m.toJSON(j)).toJSON()}};(0,r._)([(0,i.MZ)({json:{read:!1},readOnly:!0})],v.prototype,"type",void 0),(0,r._)([(0,i.MZ)({type:["ArcGISDimensionLayer"]})],v.prototype,"operationalLayerType",void 0),(0,r._)([(0,i.MZ)({nonNullable:!0})],v.prototype,"source",void 0),(0,r._)([(0,i.MZ)({readOnly:!0})],v.prototype,"spatialReference",null),(0,r._)([(0,i.MZ)({types:{key:"type",base:null,typeMap:{simple:h}},json:{write:{ignoreOrigin:!0}}})],v.prototype,"style",null),(0,r._)([(0,i.MZ)({readOnly:!0})],v.prototype,"fullExtent",null),(0,r._)([(0,i.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],v.prototype,"opacity",void 0),(0,r._)([(0,i.MZ)({type:["show","hide"]})],v.prototype,"listMode",void 0),(0,r._)([(0,i.MZ)({type:f.A.ofType(B),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],v.prototype,"dimensions",null),(0,r._)([(0,U.K)("web-scene","dimensions")],v.prototype,"writeDimensions",null),v=(0,r._)([(0,c.$)("esri.layers.DimensionLayer")],v);const z=v},17049:(W,G,e)=>{e.d(G,{q:()=>S});var s=e(8189),r=e(5922),P=e(45272),y=e(85211),E=e(55739),i=(e(3248),e(40707),e(17221)),O=e(76576),I=e(50305),b=e(50501),c=e(34813),u=e(56558);const h={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},d={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},D={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},N={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":h,"web-map/basemap":d,"web-map/tables":D,"link-chart/operational-layers":{...h,LinkChartLayer:!0},"link-chart/basemap":d,"link-chart/tables":D,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}};var Z=e(22329),R=e(17181);const S=f=>{let a=class extends f{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(n,o,p){return"Group Layer"===p?.portalItem?.type?void 0:n}writeListMode(n,o,p,L){(L&&"ground"===L.layerContainerType||n&&(0,u.R)(this,p,{},L))&&(o[p]=n)}writeOperationalLayerType(n,o,p){n&&(o[p]=n)}writeTitle(n,o){o.title=n??"Layer"}readVisibilityTimeExtent(n){return n?R.A.fromArray(n):null}writeVisibilityTimeExtent(n,o,p,L){n&&"tables"!==L.layerContainerType&&(n.isEmpty?L?.messages&&L.messages.push(new r.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):o[p]=n.toArray())}read(n,o){o&&(o.layer=this),(0,c.t)(this,n,p=>super.read(n,p),o)}write(n,o){if(!this.persistenceEnabled&&!o?.ignorePersistenceEnabled)return null;if(o?.origin){const g=`${o.origin}/${o.layerContainerType||"operational-layers"}`;let C=!!N[g]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===g&&(C=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===g&&(C=!1),!C)return o.messages?.push(new r.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${g}'`,{layer:this})),null}const p=super.write(n,{...o,layer:this}),L=!!o&&!!o.messages&&!!o.messages.filter(g=>g instanceof r.A&&"web-document-write:property-required"===g.name).length;return(0,P.w8)(p?.url)?(o?.messages?.push(new r.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&L?null:p}beforeSave(){}};return(0,s._)([(0,y.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],a.prototype,"id",void 0),(0,s._)([(0,i.w)("id",["id"])],a.prototype,"readId",null),(0,s._)([(0,y.MZ)(Z.C1)],a.prototype,"listMode",void 0),(0,s._)([(0,I.K)("listMode")],a.prototype,"writeListMode",null),(0,s._)([(0,y.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:b.K,isRequired:!0}}}}})],a.prototype,"operationalLayerType",void 0),(0,s._)([(0,I.K)("operationalLayerType")],a.prototype,"writeOperationalLayerType",null),(0,s._)([(0,y.MZ)(Z.ke)],a.prototype,"opacity",void 0),(0,s._)([(0,y.MZ)({type:Boolean,readOnly:!1})],a.prototype,"persistenceEnabled",void 0),(0,s._)([(0,y.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],a.prototype,"title",void 0),(0,s._)([(0,I.K)("title"),(0,I.K)(["web-scene"],"title")],a.prototype,"writeTitle",null),(0,s._)([(0,y.MZ)({type:R.A,json:{origins:{"web-scene":{write:{layerContainerTypes:b.K}}}}})],a.prototype,"visibilityTimeExtent",void 0),(0,s._)([(0,i.w)("visibilityTimeExtent")],a.prototype,"readVisibilityTimeExtent",null),(0,s._)([(0,I.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[E.jz,E.Uv]]}})],a.prototype,"writeVisibilityTimeExtent",null),(0,s._)([(0,y.MZ)({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:b.K}}})],a.prototype,"visible",void 0),a=(0,s._)([(0,O.$)("esri.layers.mixins.OperationalLayer")],a),a}}}]);